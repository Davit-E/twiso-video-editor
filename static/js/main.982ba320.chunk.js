(this["webpackJsonptwiso-video-editor"]=this["webpackJsonptwiso-video-editor"]||[]).push([[0],{10:function(e,t,a){e.exports={LineDropdown:"StrokeWidthDropdown_LineDropdown__102cb",ShapeDropdown:"StrokeWidthDropdown_ShapeDropdown__y2mdf",StrokeOption:"StrokeWidthDropdown_StrokeOption__3PBYq"}},105:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1YXGU"}},11:function(e,t,a){e.exports={TextAlignDropdown:"TextAlignDropdown_TextAlignDropdown__PkoUd",TextAlignOption:"TextAlignDropdown_TextAlignOption__2NPzu",Current:"TextAlignDropdown_Current__2vk5u",TextAlignImage:"TextAlignDropdown_TextAlignImage__wtSLz",TextAlignText:"TextAlignDropdown_TextAlignText__nuEMl"}},115:function(e,t,a){},116:function(e,t,a){},12:function(e,t,a){e.exports={ShapeToolbar:"ShapeToolbar_ShapeToolbar__3ltKA",BorderDiv:"ShapeToolbar_BorderDiv__1MpYU",DownArrow:"ShapeToolbar_DownArrow__MgRL3",FillContainer:"ShapeToolbar_FillContainer__dFbZJ",StrokeContainer:"ShapeToolbar_StrokeContainer__21-kB",StrokeWidthContainer:"ShapeToolbar_StrokeWidthContainer__1IzFk",ColorPickerBorder:"ShapeToolbar_ColorPickerBorder__qXCuh",ColorPicker:"ShapeToolbar_ColorPicker__2vzHo",StrokeWidthInputContainer:"ShapeToolbar_StrokeWidthInputContainer__1ISoG",StrokeWidthInput:"ShapeToolbar_StrokeWidthInput__239HS",StrokeWidthArrowContainer:"ShapeToolbar_StrokeWidthArrowContainer__2MBk5"}},123:function(e,t){},124:function(e,t){},125:function(e,t){},14:function(e,t,a){e.exports={WordContainer:"Words_WordContainer__2MxYw",Word:"Words_Word__3b2m1",Pause:"Words_Pause__33kzp",Deleted:"Words_Deleted__3CMYk",DeletedText:"Words_DeletedText__1n8km",WordInput:"Words_WordInput__3lLIb",CurrentWord:"Words_CurrentWord__3w6qS",Highlight:"Words_Highlight__cba72",DeletedImgContainer:"Words_DeletedImgContainer__2Mj9-",DeletedImg:"Words_DeletedImg__2JxpA",InSelection:"Words_InSelection__33LHP"}},17:function(e,t,a){e.exports={FontSizeDropdown:"FontSizeDropdown_FontSizeDropdown__3vQgK",FontSizeOption:"FontSizeDropdown_FontSizeOption__5LIdC"}},18:function(e,t,a){e.exports={ImageToolbar:"ImageToolbar_ImageToolbar__1bSOG",BorderDiv:"ImageToolbar_BorderDiv__2L57I",ReaplaceContainer:"ImageToolbar_ReaplaceContainer__Bvs6n",RadiusContainer:"ImageToolbar_RadiusContainer__1809i",CropContainer:"ImageToolbar_CropContainer__3a9ik",DoneContainer:"ImageToolbar_DoneContainer__1sU7m",RadiusInput:"ImageToolbar_RadiusInput__3neeS",StrokeWidthArrowContainer:"ImageToolbar_StrokeWidthArrowContainer__2ZaEx",BorderStyle:"ImageToolbar_BorderStyle__2Np8t"}},20:function(e,t,a){e.exports={FontsDropdown:"FontsDropdown_FontsDropdown__2cMmK",SearchContainer:"FontsDropdown_SearchContainer__2xV2U",SearchSvg:"FontsDropdown_SearchSvg__2fL_Y",SearchInput:"FontsDropdown_SearchInput__1YJKM",FontOptionsContainer:"FontsDropdown_FontOptionsContainer__3NL_l",FontOption:"FontsDropdown_FontOption__YA26x",UploadFontContainer:"FontsDropdown_UploadFontContainer__BN5oN",UploadFontButton:"FontsDropdown_UploadFontButton__2fdT4",UploadFontFile:"FontsDropdown_UploadFontFile__17exH"}},21:function(e,t,a){e.exports={Transcription:"Transcription_Transcription__13teg",TextControls:"Transcription_TextControls__1U4fb",CutContainer:"Transcription_CutContainer__3Pv4S",SearchContainer:"Transcription_SearchContainer__3q-zR",SearchInput:"Transcription_SearchInput__3ojca",Text:"Transcription_Text__3pvrU"}},252:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(103),i=a.n(o),c=(a(115),a(5)),s=(a(116),a(27)),l=a.n(s),d=a(43),u=a(45),p=a.n(u),b=a(7),_=a.n(b),j=a.p+"static/media/backArrow.0fa2b863.svg",h=a.p+"static/media/addText.3a1cc6fe.svg",f=a.p+"static/media/addImage.5167341a.svg",O=a.p+"static/media/addShape.efc88c00.svg",g=a.p+"static/media/subtitles.7c1e1dd4.svg",x=a(1),S=function(e){var t=e.setVideoForUpload,a=e.isUploading,r=Object(n.useRef)(null);return Object(x.jsxs)("header",{className:_.a.Navigation,children:[Object(x.jsxs)("div",{className:_.a.BackFileInfoContainer,children:[Object(x.jsx)("img",{className:_.a.BackArrow,src:j,alt:"back"}),Object(x.jsxs)("div",{className:_.a.FileInfoContainer,children:[Object(x.jsx)("p",{className:_.a.FileName,children:"Untitled"}),Object(x.jsx)("p",{className:_.a.Creater,children:"Dmitry"})]}),Object(x.jsx)("button",{className:_.a.UploadVideo,onClick:function(){return r.current.click()},children:a?"Loading...":" Upload video"}),Object(x.jsx)("input",{ref:r,type:"file",accept:"video/mp4",style:{display:"none"},onChange:function(){t(r.current.files[0])}})]}),Object(x.jsxs)("div",{className:_.a.ControlsContainer,children:[Object(x.jsxs)("div",{className:_.a.AddTextContainer,id:"addText",children:[Object(x.jsx)("img",{src:h,alt:"add text"}),Object(x.jsxs)("div",{className:_.a.HoverContent,children:[Object(x.jsx)("div",{className:_.a.HoverTriangle}),Object(x.jsx)("p",{className:_.a.HoverText,children:"Add text"})]})]}),Object(x.jsx)("div",{className:_.a.DesignControl,children:Object(x.jsxs)("div",{className:_.a.AddImageContainer,id:"addImage",children:[Object(x.jsx)("img",{src:f,alt:"add image"}),Object(x.jsxs)("div",{className:_.a.HoverContent,children:[Object(x.jsx)("div",{className:_.a.HoverTriangle}),Object(x.jsx)("p",{className:_.a.HoverText,children:"Add image"})]})]})}),Object(x.jsx)("div",{className:_.a.DesignControl,children:Object(x.jsxs)("div",{id:"addShape",className:_.a.AddShapeContainer,children:[Object(x.jsx)("img",{src:O,alt:"add shape"}),Object(x.jsxs)("div",{className:_.a.HoverContent,children:[Object(x.jsx)("div",{className:_.a.HoverTriangle}),Object(x.jsx)("p",{className:_.a.HoverText,children:"Add shape"})]})]})}),Object(x.jsx)("div",{className:_.a.DesignControl,children:Object(x.jsxs)("div",{id:"subtitles",className:_.a.AddShapeContainer,children:[Object(x.jsx)("img",{src:g,alt:"subtitles"}),Object(x.jsxs)("div",{className:_.a.HoverContent,children:[Object(x.jsx)("div",{className:_.a.HoverTriangle}),Object(x.jsx)("p",{className:_.a.HoverText,children:"Subtitles"})]})]})})]}),Object(x.jsxs)("div",{className:_.a.DownloadUserInfoContainer,children:[Object(x.jsx)("button",{id:"downloadDesign",className:_.a.DownloadButton,children:"Download"}),Object(x.jsx)("div",{className:_.a.User,children:Object(x.jsx)("p",{className:_.a.UserInitials,children:"DE"})})]})]})},v=a(21),C=a.n(v),m=a.p+"static/media/cut.50fbea68.svg",T=a.p+"static/media/search.01416d75.svg",w=function(e,t,a,n,r,o){"delete"===e?function(e,t,a,n){for(var r=[],o=!1,i=0,c=0,s=0,l=0,d=0;d<e.length;d++){var u=e[d];!u.deleted&&o?(o=!1,e[c].next=d,r.push({start:i,end:l})):u.deleted&&!o?(o=!0,i=u.start,c=d,l=u.end):u.deleted&&o&&(l=u.end,s=d)}o&&r.push({start:i,end:l}),o&&c!==e.length-1?e[c].next=s:o&&(e[c].next=e.length-1),a(n),t([].concat(r))}(t,a,n,r):"restore"===e&&function(e,t,a,n){e((function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];i.start!==n&&r.push(i)}return t(a),[].concat(r)}))}(a,n,r,o)},N=function(e,t,a,n,r){for(var o=null,i=e;i>=0;i--){if(!t[i].deleted){o=i;break}}if(null===o)for(var c=e;c<t.length;c++){if(!t[c].deleted){o=c;break}}a(null!==o?o:null),w("delete",t,n,r,o)},D=a(14),I=a.n(D),k=a.p+"static/media/restoreText.63dbbf27.svg",y=function(e){var t=e.wordsArr,a=e.currentWordIndex,r=e.searchInput,o=e.wordClickHandler,i=e.inputIndex,s=e.setInputIndex,l=e.currentSelection,d=Object(n.useState)(""),u=Object(c.a)(d,2),p=u[0],b=u[1],_=Object(n.useRef)(null),j=function(){var e=p.trim().length>0?p:null;t[i]&&(e&&!t[i].silence?t[i].text=e:e?(t[i].text=e,t[i].silence=!1):t[i].silence=!0),b(""),s(null)},h=!1,f=!0,O=!1,g=!1;return Object(n.useEffect)((function(){null!==i&&(_.current.focus(),t[i]&&!t[i].silence&&b(t[i].text))}),[i,t]),t.map((function(e,t){f=!h||!e.deleted;var n=t===a&&!l&&!e.deleted,c=!e.silence&&!e.deleted&&r.trim().length>1&&e.text.trim().toLowerCase().includes(r.trim().toLowerCase());!h&&e.deleted&&(h=!0),h&&!e.deleted&&(h=!1),l&&l.start===t?O=!0:l&&l.end===t?g=!0:g&&(O=!1,g=!1);var s=null!==i&&n,d=s?Object(x.jsx)("input",{ref:_,className:I.a.WordInput,type:"text",value:p,onBlur:j,onChange:function(e){return b(e.target.value)}}):Object(x.jsx)("span",{className:e.silence?I.a.Pause:I.a.Word,children:e.silence?"\u2022\u2022\u2022\u2022 ":e.text+" "}),u=e.deleted?Object(x.jsxs)("span",{className:I.a.Deleted,children:[Object(x.jsx)("span",{className:I.a.DeletedImgContainer,children:Object(x.jsx)("img",{className:I.a.DeletedImg,src:k,alt:"restore text"})}),Object(x.jsx)("span",{className:I.a.DeletedText,children:"[...] "})]}):d,S={width:"auto"};return s&&(S.width=e.silence?"70px":1.5*e.text.length+"ch",S.marginRight="0.4rem"),f?Object(x.jsx)("span",{style:S,id:e.id,className:[I.a.WordContainer,n?I.a.CurrentWord:null,c?I.a.Highlight:null,O?I.a.InSelection:null].join(" "),onClick:function(t){return o(t,e.deleted)},children:u},e.id):null}))},A=function(e){var t=e.words,a=e.currentWordIndex,r=e.setCurrentWordIndex,o=e.isPlaying,i=e.videoRef,s=e.setCuts,l=e.currentSelection,d=e.setCurrentSelection,u=e.setPlayerTime,p=Object(n.useState)(""),b=Object(c.a)(p,2),_=b[0],j=b[1],h=Object(n.useState)(null),f=Object(c.a)(h,2),O=f[0],g=f[1],S=Object(n.useCallback)((function(e){for(var a=0;a<t.length;a++){if(t[a].id===e)return a}return null}),[t]),v=Object(n.useCallback)((function(e,t,a,n,o,i){var c="",s="";if(t.parentNode.id===a.parentNode.id){var l=S(t.parentNode.id);t.parentNode.id&&null!==l&&(u(l),r(l)),d(null)}else n&&o?4===i?(c=t.parentNode.id,s=a.parentNode.id):2===i&&(c=a.parentNode.id,s=t.parentNode.id):n?4===i?(c=t.parentNode.id,s=t.parentNode.parentNode.lastChild.id):2===i&&(c=t.parentNode.parentNode.firstChild.id,s=t.parentNode.id):o&&(4===i?(c=t.parentNode.parentNode.firstChild.parentNode.id,s=a.id):2===i&&(c=a.id,s=t.parentNode.parentNode.lastChild.parentNode.id));if(""!==c&&""!==s){var p=S(c),b=S(s);null!==p&&null!==b&&(d({start:p,end:b}),u(p),r(p))}e.removeAllRanges()}),[r,d,u,S]),D=Object(n.useCallback)((function(e){var t=document.getSelection();if(e.detail<2&&t.anchorNode&&t.focusNode){var a=t.anchorNode.parentNode,n=t.focusNode.parentNode,r="SPAN"===a.tagName,c="SPAN"===n.tagName,s=t.anchorNode.compareDocumentPosition(t.focusNode);!r&&!c||t.isCollapsed||(o&&i.current.pause(),v(t,a,n,r,c,s))}}),[v,o,i]);Object(n.useEffect)((function(){return document.addEventListener("mouseup",D),function(){return document.removeEventListener("mouseup",D)}}),[D]);return Object(x.jsxs)("div",{className:C.a.Transcription,children:[Object(x.jsxs)("div",{className:C.a.TextControls,children:[Object(x.jsxs)("div",{className:C.a.CutContainer,onClick:function(){o&&i.current.pause(),l||null===a?l&&function(e,t,a,n,r,o){for(var i=a.start,c=a.end,s=i;s<e.length&&(e[s].deleted=!0,s!==c);s++);N(i,e,t,r,o),n(null)}(t,r,l,d,s,u):function(e,t,a,n,r){e[t].deleted=!0,N(t,e,a,n,r)}(t,a,r,s,u)},children:[Object(x.jsx)("img",{src:m,alt:"cut"}),Object(x.jsx)("p",{children:"Cut"})]}),Object(x.jsxs)("div",{className:C.a.SearchContainer,children:[Object(x.jsx)("input",{value:_,onChange:function(e){return j(e.target.value)},className:C.a.SearchInput,placeholder:"Search",type:"text"}),Object(x.jsx)("img",{className:C.a.SearchSvg,src:T,alt:"search"})]})]}),Object(x.jsx)("div",{id:"textbox",className:C.a.Text,children:t?Object(x.jsx)(y,{wordsArr:t,currentWordIndex:a,searchInput:_,wordClickHandler:function(e,a){var n=e.currentTarget.id,c=S(n);o&&i.current.pause(),e.detail>1&&null===O&&g(c),a||null!==O||null===c?null===O&&function(e,t,a,n,r,o){for(var i=t;i<e.length;i++){var c=e[i];if(!c.deleted)break;c.deleted=!1,null!==c.next&&(c.next=null)}var s=e[t].start;w("restore",null,r,o,t,s),n(null),a(t)}(t,c,r,d,s,u):(d(null),u(c),r(c))},inputIndex:O,setInputIndex:g,currentSelection:l}):null})]})},F=a(67),U=a.n(F),H=(a(68),Object(n.createContext)(null)),W=a(6),z=a.p+"static/media/ctrlScale.3fdf1e45.svg",P=a.p+"static/media/ctrlStretch.018481ed.svg",B=a.p+"static/media/ctrlRotate.8ba52be7.svg",R=function(){W.fabric.Object.prototype.transparentCorners=!1,W.fabric.Object.prototype.cornerColor="white",W.fabric.Object.prototype.borderColor="#6F7BD0",W.fabric.Object.prototype.cornerStrokeColor="#6F7BD0",W.fabric.Object.prototype.cornerStyle="circle",W.fabric.Object.prototype.objectCaching=!1;var e=new Image;e.src=P;var t=new Image;t.src=z;var a=new Image;a.src=B;var n=W.fabric.controlsUtils,r=n.scaleSkewCursorStyleHandler,o=n.scaleCursorStyleHandler,i=n.scalingEqually,c=n.scalingYOrSkewingX,s=n.scalingXOrSkewingY,l=n.scaleOrSkewActionName,d=W.fabric.Object.prototype.controls,u=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(W.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/2,-i/2,i,i),t.restore()}},p=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(W.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}},b=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(W.fabric.util.degreesToRadians(o.angle+90)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}};if(d.ml=new W.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,render:p(e)}),d.mr=new W.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,offsetX:1,render:p(e)}),d.mt=new W.fabric.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:-1,render:b(e)}),d.mb=new W.fabric.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:1,render:b(e)}),d.tl=new W.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.tr=new W.fabric.Control({x:.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.bl=new W.fabric.Control({x:-.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.br=new W.fabric.Control({x:.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.mtr=new W.fabric.Control({x:0,y:.5,cornerSize:50,offsetY:30,actionHandler:n.rotationWithSnapping,cursorStyleHandler:n.rotationStyleHandler,withConnection:!1,actionName:"rotate",render:u(a)}),W.fabric.Textbox){var _=W.fabric.Textbox.prototype.controls={};_.mtr=d.mtr,_.mr=new W.fabric.Control({x:.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,offsetX:1,render:p(e)}),_.ml=new W.fabric.Control({x:-.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:p(e)})}var j=W.fabric.Line.prototype.controls={};j.mtr=d.mtr,j.ml=new W.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:11,render:u(t)}),j.mr=new W.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:-10,render:u(t)});var h=W.fabric.Image.prototype.controls={};h.mtr=d.mtr,h.tr=d.tr,h.br=d.br,h.tl=d.tl,h.bl=d.bl;var f=W.fabric.ActiveSelection.prototype.controls={};f.mtr=d.mtr,f.tr=d.tr,f.br=d.br,f.tl=d.tl,f.bl=d.bl;var O=W.fabric.Group.prototype.controls={};O.mtr=d.mtr,O.tr=d.tr,O.br=d.br,O.tl=d.tl,O.bl=d.bl},E=a(2),Y=Object(n.createContext)(null);a(25),a(104),a(105),a(8),a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(20),a(17),a(11),a(31),a(33),a(12),a(46),a(10),a(18),a.p,a.p,a.p;R();var M={isMoving:!1},L=function(e,t){switch(t.type){case"setIsMoving":return Object(E.a)(Object(E.a)({},e),{},{isMoving:t.data});default:return e}},V=function(){var e=Object(n.useReducer)(L,M),t=Object(c.a)(e,2);return[t[0],t[1]]},X=function(e){e.viedoForUpload;var t=e.videoRef,a=e.handleEnd,r=e.handlePause,o=e.handlePlay,i=(e.canvas,e.setCanvas,e.duration),s=V(),l=Object(c.a)(s,2),d=l[0],u=l[1],p=Object(n.useState)(null),b=Object(c.a)(p,2),_=b[0],j=b[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){}),[_]);return Object(x.jsxs)("div",{className:U.a.Player,ref:h,children:[Object(x.jsx)("video",{style:{display:i?"block":"none"},className:U.a.Video,ref:t,controls:!0,onPlay:o,onPause:r,onEnded:a,onLoadedMetadata:function(e){var a=t.current.videoWidth,n=t.current.videoHeight;j({width:a,height:n})}}),Object(x.jsx)(Y.Provider,{value:{eventState:d,eventDispatch:u}})]})},K=a(110),Z=a.n(K).a.create({baseURL:"".concat("https://speech.twiso.co","/api/v1")}),G=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(c.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(null),b=Object(c.a)(p,2),_=b[0],j=b[1],h=Object(n.useRef)(null),f=Object(n.useCallback)((function(e){return new Promise((function(t,a){Z.post("/upload",e,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]);return{isUploading:a,uploadVideo:Object(n.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,f(t);case 4:a=e.sent,console.log(a.data),u(a.data.duration),h.current=a.data.text_breakup,j(a.data.full_text),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error Uploading Video",e.t0);case 14:return e.prev=14,r(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,11,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[f]),words:h.current,duration:s,fullText:_}},J=function(){var e=Object(d.a)(l.a.mark((function e(t,a,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("video",t),e.prev=2,e.next=5,n(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,a(null),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Q=function(){var e=G(),t=e.isUploading,a=e.uploadVideo,r=e.words,o=e.duration,i=(e.fullText,Object(n.useState)(null)),s=Object(c.a)(i,2),l=s[0],d=s[1],u=Object(n.useState)(0),b=Object(c.a)(u,2),_=b[0],j=b[1],h=Object(n.useState)(null),f=Object(c.a)(h,2),O=f[0],g=f[1],v=Object(n.useState)(!1),C=Object(c.a)(v,2),m=C[0],T=C[1],w=Object(n.useState)(null),N=Object(c.a)(w,2),D=N[0],I=N[1],k=Object(n.useState)(null),y=Object(c.a)(k,2),F=y[0],U=y[1],H=Object(n.useState)([]),W=Object(c.a)(H,2),z=W[0],P=W[1],B=Object(n.useState)(null),R=Object(c.a)(B,2),E=R[0],Y=R[1],M=Object(n.useState)(null),L=Object(c.a)(M,2),V=L[0],K=L[1],Z=Object(n.useRef)(null);Object(n.useEffect)((function(){O&&(J(O,g,a),Z.current.src=URL.createObjectURL(O))}),[O,a]);var Q=Object(n.useCallback)((function(e){e=+e+.05,z.length>0&&null!==E&&z[E]&&e>=+z[E].start&&e<=+z[E].end&&(Z.current.currentTime=z[E].end,z[E+1]&&Y(E+1))}),[z,E]),q=Object(n.useCallback)((function(e,t){e=+e+.05;var a=r[t],n=r[t+1];if(null!==t&&n&&e>+a.end){var o=+a.end-a.start<=.05&&!m;!o&&n.deleted&&null!==n.next?(Z.current.currentTime=r[n.next].start,j(n.next)):o||j((function(e){return e+1}))}}),[r,m]);return Object(n.useEffect)((function(){null!==F&&q(F,_)}),[F,q,_]),Object(n.useEffect)((function(){null!==F&&Q(F)}),[F,Q]),Object(x.jsxs)("div",{className:p.a.VideoEditor,children:[Object(x.jsx)(S,{setVideoForUpload:g,isUploading:t}),Object(x.jsxs)("main",{className:p.a.Main,children:[Object(x.jsx)(A,{className:p.a.VideoEditor,words:r,currentWordIndex:_,setCurrentWordIndex:j,isPlaying:m,videoRef:Z,setCuts:P,currentSelection:l,setCurrentSelection:d,setPlayerTime:function(e){var t="0";if(null!==e){var a=r[e];t=a.end,Z.current.currentTime=a.start,U(+a.start)}for(var n=0,o=0;o<z.length;o++){+t>+z[o].end&&n++}Y(n)}}),Object(x.jsx)(X,{viedoForUpload:O,videoRef:Z,handleEnd:function(e){z.length>0&&Y(0);var t=r[0],a=0,n=t.start;t.deleted&&null!==t.next&&(a=t.next,n=r[a].start),j(a),U(+n)},handlePause:function(e){T(!1),clearInterval(D)},handlePlay:function(e){document.getSelection().removeAllRanges(),l&&d(null),T(!0);var t=setInterval((function(){U(Z.current.currentTime)}),10);I(t)},canvas:V,setCanvas:K,duration:o})]})]})},q={canvasState:{initialWidth:0,initialHeight:0,width:0,height:0,backgroundColor:"rgba(255,255,255,1)",backgroundImage:{type:"",src:null}},shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,shouldAddCanvasBgImage:!1,shapeToAdd:null,imageToAdd:null,currentCoords:null,showToolbar:!1,shapeState:{fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0},imageState:{cornerRadius:0,isSvg:!1},isCropMode:!1,shouldCropImage:!1,isImageDropdown:!1,isShapeDropdown:!1,isResizeDropdown:!1,isDownloadDropdown:!1,shouldAddText:!1,shouldUpdateText:!1,shouldUpdateShape:!1,shouldUpdateImage:!1,shouldReplaceImage:!1,currentObject:{type:"",object:null},textState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:30,fill:"rgba(0,0,0,1)",textAlign:"left"}},$=function(e,t){switch(t.type){case"setCanvasState":return Object(E.a)(Object(E.a)({},e),{},{canvasState:t.data});case"setIsDownloadDropdown":return Object(E.a)(Object(E.a)({},e),{},{isDownloadDropdown:t.data});case"setIsCropMode":return Object(E.a)(Object(E.a)({},e),{},{isCropMode:t.data});case"setShouldCropImage":return Object(E.a)(Object(E.a)({},e),{},{shouldCropImage:t.data});case"setIsImageDropdown":return Object(E.a)(Object(E.a)({},e),{},{isImageDropdown:t.data});case"setIsShapeDropdown":return Object(E.a)(Object(E.a)({},e),{},{isShapeDropdown:t.data});case"setIsResizeDropdown":return Object(E.a)(Object(E.a)({},e),{},{isResizeDropdown:t.data});case"setCurrentCoords":return Object(E.a)(Object(E.a)({},e),{},{currentCoords:t.data});case"setShowToolbar":return Object(E.a)(Object(E.a)({},e),{},{showToolbar:t.data});case"setShowCanvasToolbar":return Object(E.a)(Object(E.a)({},e),{},{showCanvasToolbar:t.data});case"setShouldAddText":return Object(E.a)(Object(E.a)({},e),{},{shouldAddText:t.data});case"setShouldUpdateText":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:t.data});case"setShouldUpdateShape":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateShape:t.data});case"setShouldUpdateImage":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateImage:t.data});case"setShouldUpdateCanvas":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateCanvas:t.data});case"setShouldUpdateCanvasSize":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateCanvasSize:t.data});case"setShouldAddCanvasBgImage":return Object(E.a)(Object(E.a)({},e),{},{shouldAddCanvasBgImage:t.data});case"setCurrentObject":return Object(E.a)(Object(E.a)({},e),{},{currentObject:t.data});case"setShapeToAdd":return Object(E.a)(Object(E.a)({},e),{},{shapeToAdd:t.data,isShapeDropdown:!1});case"setImageToAdd":return Object(E.a)(Object(E.a)({},e),{},{imageToAdd:t.data,isImageDropdown:!1});case"setShapeState":return Object(E.a)(Object(E.a)({},e),{},{shapeState:Object(E.a)({},t.data)});case"setImageState":return Object(E.a)(Object(E.a)({},e),{},{imageState:Object(E.a)({},t.data)});case"setTextState":return Object(E.a)(Object(E.a)({},e),{},{textState:Object(E.a)({},t.data)});case"setShouldReplaceImage":return Object(E.a)(Object(E.a)({},e),{},{shouldReplaceImage:t.data});case"setCanvasBackgroundColor":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateCanvas:!0,canvasState:Object(E.a)(Object(E.a)({},e.canvasState),{},{backgroundImage:{type:"",src:null},backgroundColor:t.data})});case"setCanvasBackgroundImage":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateCanvas:!0,canvasState:Object(E.a)(Object(E.a)({},e.canvasState),{},{backgroundColor:"rgba(255,255,255,1)",backgroundImage:t.data})});case"setCanvasSize":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateCanvasSize:!0,canvasState:Object(E.a)(Object(E.a)({},e.canvasState),{},{width:t.data.width,height:t.data.height})});case"setImageCornerRadius":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateImage:!0,imageState:Object(E.a)(Object(E.a)({},e.imageState),{},{cornerRadius:t.data})});case"setShapeFill":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(E.a)(Object(E.a)({},e.shapeState),{},{fill:t.data})});case"setShapeStroke":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(E.a)(Object(E.a)({},e.shapeState),{},{stroke:t.data})});case"setShapeStrokeWidth":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(E.a)(Object(E.a)({},e.shapeState),{},{strokeWidth:t.data})});case"setFontFamily":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{fontFamily:t.data})});case"setFontStyle":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{fontStyle:t.data})});case"setFontWeight":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{fontWeight:t.data})});case"setFontSize":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{fontSize:t.data})});case"setTextFill":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{fill:t.data})});case"setTextAlign":return Object(E.a)(Object(E.a)({},e),{},{shouldUpdateText:!0,textState:Object(E.a)(Object(E.a)({},e.textState),{},{textAlign:t.data})});default:return e}},ee=function(){var e=Object(n.useReducer)($,q),t=Object(c.a)(e,2);return[t[0],t[1]]},te=function(){var e=ee(),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(H.Provider,{value:{appState:a,appDispatch:n},children:Object(x.jsx)(Q,{})})})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(te,{})}),document.getElementById("root")),ae()},33:function(e,t,a){e.exports={FontsDropdown:"TextDropdowns_FontsDropdown__lZ_Yz",FontSizeDropdown:"TextDropdowns_FontSizeDropdown__zNPWy",SketchPickerContainer:"TextDropdowns_SketchPickerContainer__1ap0H",TextAlignDropdown:"TextDropdowns_TextAlignDropdown___lslt"}},45:function(e,t,a){e.exports={VideoEditor:"VideoEditor_VideoEditor__1aRjl",Main:"VideoEditor_Main__RsHdg"}},46:function(e,t,a){e.exports={FillDropdownContainer:"ShapeDropdowns_FillDropdownContainer__XKdBu",StrokeDropdownContainer:"ShapeDropdowns_StrokeDropdownContainer__2g9Q8",StrokeWidthDropdownContainer:"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz"}},67:function(e,t,a){e.exports={Player:"Player_Player__29WZA",Video:"Player_Video__V8XCy"}},68:function(e,t,a){e.exports={CanvasComponent:"Canvas_CanvasComponent__2cQcG",Canvas:"Canvas_Canvas__3oXwS"}},7:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1vpyv",BackFileInfoContainer:"Navigation_BackFileInfoContainer__zDoEb",BackArrow:"Navigation_BackArrow__2EuDm",FileInfoContainer:"Navigation_FileInfoContainer__13jQZ",FileName:"Navigation_FileName__t8V0Z",Creater:"Navigation_Creater__2m7n3",ControlsContainer:"Navigation_ControlsContainer__3cZve",DesignControl:"Navigation_DesignControl__18GfM",AddTextContainer:"Navigation_AddTextContainer__2D7x7",AddImageContainer:"Navigation_AddImageContainer__Ay_Rj",AddShapeContainer:"Navigation_AddShapeContainer__1Vor-",HoverContent:"Navigation_HoverContent__2EgVD",HoverTriangle:"Navigation_HoverTriangle__267f9",HoverText:"Navigation_HoverText__24Vce",DownloadUserInfoContainer:"Navigation_DownloadUserInfoContainer___5XCM",DownloadButton:"Navigation_DownloadButton__2FuTK",User:"Navigation_User__3SWWK",UserInitials:"Navigation_UserInitials__2BS83",ShapeDropdown:"Navigation_ShapeDropdown__2HDOH",ImageDropdown:"Navigation_ImageDropdown__3bu_4",DownloadDropdown:"Navigation_DownloadDropdown__2IsbQ",UploadVideo:"Navigation_UploadVideo__3uZ5a"}},8:function(e,t,a){e.exports={TextToolbar:"TextToolbar_TextToolbar__30rxF",BorderDiv:"TextToolbar_BorderDiv__XlYMr",DownArrow:"TextToolbar_DownArrow__3bu3E",TextAlign:"TextToolbar_TextAlign__2KX5Y",Bold:"TextToolbar_Bold__38wPs",Italic:"TextToolbar_Italic__I_P46",FontsContainer:"TextToolbar_FontsContainer__2NtOu",FontSizeContainer:"TextToolbar_FontSizeContainer__1QFbt",ColorPickerContainer:"TextToolbar_ColorPickerContainer__1EnTr",FontWeightBoldContainer:"TextToolbar_FontWeightBoldContainer__2-Bfx",FontStyleItalicContainer:"TextToolbar_FontStyleItalicContainer__6Diha",TextAlignContainer:"TextToolbar_TextAlignContainer__HLDJn",FontSizeInputContainer:"TextToolbar_FontSizeInputContainer__p2Uno",FontSizeInput:"TextToolbar_FontSizeInput__3nD-x",FontSizeArrowContainer:"TextToolbar_FontSizeArrowContainer__1N8MA",ColorPickerBorder:"TextToolbar_ColorPickerBorder__EGOSu",ColorPicker:"TextToolbar_ColorPicker__2Mme4",Active:"TextToolbar_Active__2gO17"}}},[[252,1,2]]]);
//# sourceMappingURL=main.982ba320.chunk.js.map