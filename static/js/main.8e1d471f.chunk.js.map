{"version":3,"sources":["containers/VideoEditor/VideoEditor.module.css","containers/Canvas/Canvas.module.css","containers/Homepage/Homepage.module.css","containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.module.css","containers/Homepage/Templates/Templates.module.css","containers/Editor/Editor.module.css","containers/Uploader/Uploader.module.css","containers/Toolbar/Toolbar.module.css","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.module.css","components/Backdrop/Backdrop.module.css","containers/Video/Video.module.css","containers/Auth/Button/Button.module.css","containers/Toolbar/ShapeToolbar/ShapeToolbar.module.css","containers/Homepage/Templates/Webinar/Webinar.module.css","containers/CanvasToolbar/CanvasToolbar.module.css","containers/Uploader/DragDrop/DragDrop.module.css","containers/Navigation/ImageDropdown/ImageDropdown.module.css","containers/Transcription/Words/Words.module.css","containers/Homepage/SideDrawer/SideDrawer.module.css","containers/Homepage/Projects/Projects.module.css","assets/editor/upload.svg","containers/Uploader/DragDrop/DragDrop.js","containers/Uploader/UploadProgress/UploadProgress.js","axios-instance.js","hooks/useUploadVideo.js","assets/editor/backArrow.svg","components/Navbar/Navbar.js","containers/Uploader/Uploader.js","assets/editor/cut.svg","assets/editor/search.svg","containers/Transcription/utils/updateTextAndCuts.js","assets/editor/restoreText.svg","containers/Transcription/Words/Words.js","containers/utils/findIndex.js","containers/Transcription/Transcription.js","contexts/EditorContext.js","assets/editor/ctrlScale.svg","assets/editor/ctrlStretch.svg","assets/editor/ctrlRotate.svg","containers/Canvas/fabricConfig.js","containers/Canvas/canvasHooks/utils/addObject.js","containers/Canvas/canvasHooks/useAddObject.js","contexts/EventContext.js","containers/Canvas/canvasHooks/utils/onCanvasEvents.js","containers/Canvas/canvasHooks/useSelectionObserver.js","containers/Canvas/canvasHooks/utils/aligningGuidelines.js","containers/Canvas/canvasHooks/utils/centeringGuidelines.js","containers/Canvas/canvasHooks/useGuideLines.js","containers/Canvas/canvasHooks/utils/updateObject.js","containers/Canvas/canvasHooks/useUpdateObject.js","containers/Canvas/canvasHooks/utils/updateCanvas.js","assets/editor/downArrow.svg","assets/editor/bold.svg","assets/editor/subBackground.svg","assets/editor/italic.svg","assets/editor/textLeft.svg","assets/editor/textRight.svg","assets/editor/textCenter.svg","assets/editor/textJustify.svg","containers/Toolbar/TextDropdowns/FontsDropdown/fontsData.js","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.js","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.js","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.js","containers/Toolbar/TextDropdowns/TextDropdowns.js","containers/Toolbar/TextToolbar/utils/handlers.js","containers/Toolbar/TextToolbar/TextToolbar.js","assets/editor/cornerRadius.svg","containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.js","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.js","containers/Toolbar/ShapeToolbar/utils/handlers.js","containers/Toolbar/ShapeToolbar/ShapeToolbar.js","assets/editor/replaceImage.svg","assets/editor/cropImage.svg","containers/Toolbar/ImageToolbar/ImageToolbar.js","containers/Toolbar/Toolbar.js","containers/Toolbar/utils/toolbarPosition.js","containers/Canvas/canvasHooks/useCropImage.js","containers/Canvas/canvasHooks/useAddCanvas.js","containers/Canvas/canvasHooks/useAddVideo.js","containers/Canvas/canvasHooks/utils/pasteObject.js","containers/Canvas/canvasHooks/useKeyEvents.js","containers/Canvas/canvasHooks/useClickListener.js","containers/Canvas/ContextMenu/ContextMenu.js","containers/Canvas/Canvas.js","assets/editor/templates.svg","hooks/useEventsState.js","containers/CanvasToolbar/ResizeDropdown/ResizeDropdown.js","components/Backdrop/Backdrop.js","assets/editor/resize.svg","assets/editor/subtitlesOn.svg","containers/CanvasToolbar/CanvasToolbar.js","assets/editor/play.svg","containers/Player/playerHooks/usePlayerSize.js","containers/Player/playerHooks/usePlayerTime.js","containers/Player/playerHooks/useSubtitles.js","containers/Player/utils/subtitle.js","containers/utils/playerEvents.js","containers/Player/Player.js","containers/Video/Video.js","containers/Navigation/utils/prepareCanvas.js","containers/utils/generateRandomUUID.js","containers/Navigation/utils/rgbaToHex.js","hooks/useDownloadVideo.js","containers/Navigation/ImageDropdown/ImageDropdown.js","assets/editor/square.svg","assets/editor/circle.svg","assets/editor/triangle.svg","assets/editor/line.svg","containers/Navigation/ShapeDropdown/ShapeDropdown.js","assets/editor/subtitlesOff.svg","containers/Navigation/SubtitlesDropdown/SubtitlesDropdown.js","assets/editor/addText.svg","assets/editor/addImage.svg","assets/editor/addShape.svg","assets/editor/subtitles.svg","assets/editor/photo.jpg","assets/editor/photo2.jpg","containers/Navigation/DesignControls/DesignControls.js","containers/Navigation/Navigation.js","containers/Navigation/utils/prepareBreaksAndSubs.js","hooks/useEditorState.js","containers/VideoEditor/VideoEditor.js","components/CustomRoute/CustomRoute.js","containers/Editor/Editor.js","assets/auth/saly.png","assets/auth/twiso.svg","assets/auth/google.svg","containers/Auth/Button/Button.js","containers/Auth/Or/Or.js","containers/Auth/Input/Input.js","contexts/UserContext.js","assets/auth/mail.svg","containers/Auth/CheckMail/CheckMail.js","containers/Auth/utils/validation.js","containers/Auth/SignIn/SignIn.js","assets/auth/downArrow.svg","assets/auth/checkMark.svg","containers/Auth/Select/Dropdown/Dropdown.js","containers/Auth/Select/Select.js","containers/Auth/SignUp/SignUp.js","containers/Auth/Auth.js","assets/homepage/dot.svg","containers/Homepage/SideDrawer/User/User.js","assets/homepage/templates.svg","assets/homepage/projects.svg","assets/homepage/settings.svg","containers/Homepage/SideDrawer/SideDrawer.js","containers/Homepage/Navbar/Navbar.js","containers/Homepage/Projects/Project/Project.js","containers/Homepage/Projects/Projects.js","assets/homepage/pic1.png","assets/homepage/pic2.png","assets/homepage/pic3.png","assets/homepage/pic4.png","assets/homepage/pic5.png","assets/homepage/pic6.png","containers/Homepage/Templates/Webinar/Webinar.js","containers/Homepage/Templates/Templates.js","containers/Homepage/Homepage.js","hooks/useUserState.js","App.js","reportWebVitals.js","index.js","components/Navbar/Navbar.module.css","containers/Navigation/ShapeDropdown/ShapeDropdown.module.css","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.module.css","containers/Toolbar/ImageToolbar/ImageToolbar.module.css","containers/Navigation/SubtitlesDropdown/SubtitlesDropdown.module.css","containers/Auth/Auth.module.css","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.module.css","containers/Canvas/ContextMenu/ContextMenu.module.css","containers/Transcription/Transcription.module.css","containers/Auth/SignIn/SignIn.module.css","containers/Auth/SignUp/SignUp.module.css","containers/Uploader/UploadProgress/UploadProgress.module.css","containers/Navigation/Navigation.module.css","containers/Auth/Select/Select.module.css","containers/Homepage/SideDrawer/User/User.module.css","containers/Toolbar/TextDropdowns/TextDropdowns.module.css","containers/CanvasToolbar/ResizeDropdown/ResizeDropdown.module.css","containers/Auth/CheckMail/CheckMail.module.css","containers/Player/Player.module.css","containers/Auth/Or/Or.module.css","containers/Auth/Input/Input.module.css","containers/Auth/Select/Dropdown/Dropdown.module.css","containers/Homepage/Projects/Project/Project.module.css","containers/Toolbar/TextToolbar/TextToolbar.module.css","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.module.css","containers/Homepage/Navbar/Navbar.module.css","containers/Navigation/DesignControls/DesignControls.module.css"],"names":["module","exports","DragDrop","setVideoForUpload","setVideoDuration","uploadRef","useRef","dropAreaRef","handleDragOver","useCallback","e","preventDefault","dataTransfer","dropEffect","current","classList","add","styles","Active","handleDragEnter","stopPropagation","handleDragLeave","remove","validateFile","file","type","video","document","createElement","preload","onloadedmetadata","duration","src","URL","createObjectURL","handleDrop","files","useEffect","area","addEventListener","removeEventListener","className","UploadText","ref","DropArea","onClick","click","DropAreaContent","upload","alt","DropAreaText","DropAreaHeading","DropAreaSubheading","DropAreaBrowse","accept","style","display","onChange","UploadProgress","uploadProgress","isUploading","videoDuration","videoUrl","setIsFinished","useState","progress","setProgress","intervalId","setIntervalId","clearInterval","progressHandler","interval","setInterval","prevState","timeout","setTimeout","clearTimeout","Math","round","Percentage","floor","Heading","ProgressBar","ProgressBarInner","maxWidth","Subheading","instance","axios","create","baseURL","process","useUploadVideo","setIsUploading","setDuration","setVideoUrl","setUploadProgress","words","isMounted","onUploadProgress","currentProgress","loaded","total","axiosUploadVideo","formData","Promise","resolve","reject","post","headers","Accept","then","res","catch","err","uploadVideo","a","console","log","data","subtitles","captions","original_video_url","Navbar","children","history","useHistory","BackFileInfoContainer","BackButton","goBack","BackArrow","backArrow","FileInfoContainer","FileName","Creater","UserInfoContainer","User","UserInitials","Uploader","viedoForUpload","wordsRef","FormData","append","handleDeleted","wordsArr","setCuts","setPlayerTime","wordIndex","arr","isLastDeleted","cutStart","cutStartIndex","cutEndIndex","cutEnd","i","length","word","active","next","push","start","end","handleVideoCuts","restoreStart","newState","cut","handleRestore","findAndSetCurrentWord","deletedIndex","setWordIndex","currentIndex","Words","currentWordIndex","searchInput","wordClickHandler","inputIndex","setInputIndex","currentSelection","currentSub","currentSubIndex","subArr","setShouldRerenderSub","input","setInput","inputRef","handleSubTextChange","id","text","isSilence","_id","isWhitespace","indexOf","silence","handleNotSilenceAndText","isFirst","isNoWhitespace","handleSilenceAndText","silenceCount","handleNoText","blurHandler","target","parentNode","inputVal","trim","shouldShow","isSelectionMode","isSelectionEnd","focus","map","isCurrent","isHighlight","toLowerCase","includes","isInput","innerContent","WordInput","value","onBlur","Pause","Word","content","Deleted","DeletedImgContainer","DeletedImg","restoreText","DeletedText","containerStyle","width","marginRight","WordContainer","CurrentWord","Highlight","InSelection","join","findSubIndexWithWordIndex","sub","j","findWordIndexWithId","Transcription","setCurrentWordIndex","isPlaying","videoRef","setCurrentSelection","setCurrentSubIndex","setSearchInput","isFirstLoad","setIsFirstLoad","handleSelection","selection","anchorNode","focusNode","isAnchorNode","isFocusNode","position","removeAllRanges","lastChild","firstChild","indexStart","indexEnd","mouseUpHandler","getSelection","detail","tagName","compareDocumentPosition","isCollapsed","pause","TextControls","CutContainer","deletedStartIndex","deleteEndIndex","deleteSelection","deleteWord","SearchContainer","SearchInput","placeholder","SearchSvg","search","Text","isDeleted","currentTarget","restoreDeleted","EditorContext","createContext","fabric","Subtitle","util","createClass","IText","_getNonTransformedDimensions","Point","this","paddingX","height","paddingY","_calculateCurrentDimensions","transformPoint","_getTransformedDimensions","getViewportTransform","prototype","controls","fabricConfig","Object","transparentCorners","cornerColor","borderColor","cornerStrokeColor","cornerStyle","objectCaching","ctrlStretchImage","Image","ctrlStretch","ctrlScaleImage","ctrlScale","ctrlRotateImage","ctrlRotate","controlsUtils","scaleSkewStyleHandler","scaleSkewCursorStyleHandler","scaleStyleHandler","scaleCursorStyleHandler","scalingEqually","scalingYOrSkewingX","scalingXOrSkewingY","scaleOrSkewActionName","objectControls","renderScaleIcon","icon","ctx","left","top","styleOverride","fabricObject","size","cornerSize","save","translate","rotate","degreesToRadians","angle","drawImage","restore","renderStretchIconX","renderStretchIconY","ml","Control","x","y","cursorStyleHandler","actionHandler","getActionName","offsetY","render","mr","offsetX","mt","mb","tl","tr","bl","br","mtr","rotationWithSnapping","rotationStyleHandler","withConnection","actionName","Textbox","textBoxControls","changeWidth","line","Line","image","activeSelection","ActiveSelection","ShowControls","addNewShape","state","canvas","dispatch","updateId","obj","shapeToAdd","Rect","noScaleCache","strokeUniform","fill","stroke","strokeWidth","rx","ry","Circle","radius","Triangle","setActiveObject","requestRenderAll","useAddObject","imageToAdd","shouldReplaceImage","getActiveObject","fromURL","img","scaleToWidth","scaleX","setControlsVisibility","cornerRadius","isSvg","addNewImage","shouldAddText","padding","splitByGrapheme","cursorWidth","textState","addNewText","EventContext","textPropertyArr","shapePropertyArr","imagePropertyArr","handleSelected","object","lineCoords","newTextState","forEach","property","handleText","newImageState","handleImage","newShapeState","handleShape","removeListeners","c","off","useSelectionObserver","isCanvasSet","useContext","eventState","eventDispatch","isRotating","setIsRotating","isScaling","setIsScaling","isSkewing","setIsSkewing","isEditingText","setIsEditingText","currentId","checkOffScreen","isOnScreen","getWidth","getZoom","getHeight","setPositionByOrigin","setCoords","addListeners","showCanvasToolbar","on","hiddenTextarea","onTextEnter","onTextExit","discardActiveObject","onCreated","onUpdated","onModified","onCleared","isCropMode","isMoving","currentCoords","currentObject","drawLine","x1","y1","x2","y2","aligningLineWidth","aligningLineColor","viewportTransform","zoom","lineWidth","strokeStyle","beginPath","moveTo","lineTo","isInRange","value1","value2","aligningLineMargin","len","drawVerticalLine","coords","drawHorizontalLine","showCenterLine","centerLineColor","centerLineWidth","useGuideLines","setCtx","setViewportTransform","verticalLines","setVerticalLines","horizontalLines","setHorizontalLines","setZoom","canvasWidth","setCanvasWidth","canvasHeight","setCanvasHeight","canvasWidthCenterMap","setCanvasWidthCenterMap","canvasHeightCenterMap","setCanvasHeightCenterMap","isInVerticalCenter","setIsInVerticalCenter","isInHorizontalCenter","setIsInHorizontalCenter","handleMouseDown","handleBeforeRender","clearContext","contextTop","handleMoving","aligningLineOffset","activeObject","canvasObjects","getObjects","activeObjectCenter","getCenterPoint","activeObjectLeft","activeObjectTop","activeObjectBoundingRect","getBoundingRect","activeObjectHeight","activeObjectWidth","horizontalInTheRange","verticalInTheRange","_currentTransform","objectCenter","objectLeft","objectTop","objectBoundingRect","objectHeight","objectWidth","objectMovingObserver","isInVertical","isInHorizontal","objectMovingCenterObserver","handleAfterRender","canvasWidthCenter","showVerticalCenterLine","canvasHeightCenter","showHorizontalCenterLine","handleMouseUp","initGuideLines","getSelectionContext","widthMap","heightMap","removelistneres","shouldUpdateCanvasSize","button","updateImageStyle","imageState","set","currentRadiusX","currentRadiusY","scaleY","roundedCorners","loadAndUse","font","WebFont","load","google","families","fontactive","familyName","fvd","fontFamily","shapeArr","useUpdateObject","shouldUpdateSubtitles","subtitlesState","_clearCache","entries","key","showToolbar","updateSubtitlesStyle","shouldUpdateCanvas","backgroundColor","updateCanvasStyle","canvasState","ratio","min","initialWidth","initialHeight","setDimensions","updateCanvasSize","shouldUpdateText","updateTextStyle","shouldUpdateShape","shapeState","updateShapeStyle","shouldUpdateImage","fonts","FontsDropdown","setIsDropDown","isSub","options","filter","FontOption","FontOptionsContainer","textContent","UploadFontContainer","UploadFontButton","FontSizeDropdown","FontSizeOption","TextAlignDropdown","childNodes","TextAlignOption","Current","TextAlignImage","textLeft","TextAlignText","textCenter","textRight","textJustify","TextDropdowns","isFontFamilyDropdown","isFontSizeDropdown","isColorDropdown","isTextAlignDropDown","setIsFontFamilyDropdown","setIsFontSizeDropdown","colorChangeCompleteHandler","setIsTextAlignDropDown","setColor","color","colorPickerRef","isBgColorDropdown","setBgColor","bgColor","bgColorPickerRef","dropDownStyle","setDropdownStyle","fontSizeDropdownRef","right","coordY","bottom","SketchPickerContainer","rgb","onChangeComplete","textAlign","isBg","colorString","r","g","b","background","TextToolbar","editorState","editorDispatch","fontSizeInput","setFontSizeInput","setIsColorDropdown","setIsBgColorDropdown","boldStlyes","FontWeightBoldContainer","italicStyles","FontStyleItalicContainer","isBold","fontWeight","isItalic","fontStyle","textAlignSrc","dropdownHandlers","fontSizeArrow","colorPicker","styleHandlers","bold","weight","italic","clickHandler","handler","handleClick","fontSize","split","FontsContainer","DownArrow","downArrow","BorderDiv","FontSizeContainer","FontSizeInputContainer","FontSizeInput","fontSizeChangeHandler","FontSizeArrowContainer","ColorPickerContainer","ColorPickerBorder","ColorPicker","Bold","Italic","BgColorContainer","BgColor","subBackground","TextAlignContainer","TextAlign","StrokeWidthDropdown","optionsClickHandler","isLine","LineDropdown","StrokeOption","ShapeDropdown","ShapeDropdowns","shapeToolbar","isStrokeWidthDropdown","isFillDropdown","isStrokeDropdown","setFill","fillChangeCompleteHandler","fillRef","setStroke","strokeChangeCompleteHandler","strokeRef","setIsStrokeWidthDropdown","isRect","strokeWidthDropDownStyle","setStrokeWidthDropDownStyle","handleDropdownPosition","toolbarWidth","offsetWidth","coordX","keys","FillDropdownContainer","StrokeDropdownContainer","StrokeWidthDropdownContainer","ShapeToolbar","setIsFillDropdown","setIsStrokeDropdown","strokeWidthInput","setStrokeWidthInput","radiusInput","setRadiusInput","shapeToolbarRef","strokeContainerRef","clicked","borderTopLeftRadius","borderBottomLeftRadius","initialLoadHandler","FillContainer","StrokeContainer","StrokeWidthContainer","StrokeWidthInputContainer","StrokeWidthInput","strokeWidthChangeHandler","borderTopRightRadius","borderBottomRightRadius","StrokeWidthArrowContainer","RadiusContainer","RadiusInput","val","ImageToolbar","ReaplaceContainer","BorderStyle","replaceImage","CropContainer","cropImage","DoneContainer","Toolbar","toolbarRef","setTransform","transform","opacity","toolbar","toolbarOffset","toolbarPadding","toolbarHeight","offsetHeight","isBottomCloser","offset","tempCoordY","max","calcPosition","isCroppingImage","prepareForCrop","setAcitveEl","setCropbox","el","selectable","transformMatrix","calcTransformMatrix","cx","cy","PI","leftBound","abs","cos","sin","topBound","box","activeEl","originX","originY","borderDashArray","lockScalingFlip","visible","getCropBox","useCropImage","idCount","updatetId","isCropping","setIsCropping","activeInfo","setActiveInfo","cropbox","croppedImage","setCroppedImage","cropFinishHandler","ratioX","ratioY","newTop","newLeft","rect","absolutePositioned","newCanvas","Canvas","_element","currentSrc","toDataURL","shouldCropImage","boundHeight","boundWidth","bottomBound","rightBound","useAddCanvas","setCanvas","setIsCanvasSet","preserveObjectStacking","fireRightClick","stopContextMenu","addCanvas","useAddVideo","currentTime","isFirtLoad","setIsFirtLoad","fabricVideo","excludeFromExport","scaleToHeight","requestAnimFrame","handlePaste","clipboard","objId","setClipboard","clone","cloned","bringToFront","keyDownHandler","setIsPasting","setIsCopying","setIsBringToFront","setIsSendToBack","ctrl","ctrlKey","metaKey","code","activeElement","isEditing","deleteHandler","keyUpHandler","setShouldRun","useKeyEvents","isPasting","isCopying","isBringToFront","isSendToBack","shouldRun","sendToBack","useClickListener","path","ContextMenu","setIsMounted","activeObj","setActiveObj","canOnlyPaste","setCanOnlyPaste","menuRef","pointer","overlayClickHandler","optionClickHandler","rightClickEvent","isVideo","Overlay","onContextMenu","Menu","Option","Border","_path","_path2","_path3","_path4","objectIdCount","setObjectIdCount","updatetObjectId","useGuidelines","CanvasComponent","initialState","reducer","action","useEventState","useReducer","ResizeDropdown","setCurrent","sizes","useMemo","original","slide","a4","facebook","linkedin","Dropdown","SizeOptions","contains","SizeOption","Backdrop","props","actionType","isImageDropdown","isShapeDropdown","isSubtitlesDropdown","isResizeDropdown","isCanvasBgColorDropdown","isZoomDropdown","shouldAddCanvasBgImage","isDownloadDropdown","_excluded","_extends","assign","arguments","source","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgTemplates","_ref","svgRef","title","titleId","viewBox","xmlns","d","strokeLinecap","strokeLinejoin","ForwardRef","SvgResize","_path5","_path6","_path7","CanvasToolbar","backgroundColorRef","bgDropdownRef","resizeDropdownRef","TemplatesContainer","OptionText","ResizeContainer","ColorContainer","ColorDropdownContainer","usePlayerSize","videoSize","playerSize","getPlayerSize","playerRef","setPlayerSize","handleSize","window","usePlayerTime","videoCuts","nextCutIndex","setNextCutIndex","time","moreThanStart","lessThanEnd","isShortTime","handleCurrentWord","index","nextWord","handleCurrentSub","nextSub","useSubtitles","setCurrentSub","setSubArr","shouldRerenderSub","subIndex","displaySub","firstDeletedIndex","checkForPrevDeleted","what","isLast","wordTimeLength","strLength","containsMark","match","isRoomForWord","generateSubtitles","isSubtitles","subtitle","editable","prevTop","prevLeft","newSubtitle","innerWidth","offsetLeft","Player","Provider","PlayerContent","PlayerControls","PlayButton","play","playClickHandler","Video","setIsPlaying","setCurrentTime","setVideoSize","onPause","handlePause","onPlay","handlePlay","onEnded","handleEnd","onLoadedMetadata","videoWidth","videoHeight","getDimensions","toBase64","reader","FileReader","readAsDataURL","onload","result","onerror","error","getVideoData","setVideoInfo","objects","videoIndex","base64Video","info","w","h","z","degrees","handleFrontImg","setFrontImage","count","renderAll","format","quality","handleBackImg","setBackImage","prepareCanvas","jsonCanvas","JSON","stringify","loadFromJSON","randomUUID","random","toString","substring","rgbaTohex","replace","alpha","hex","slice","useDownloadVideo","isDownloading","setIsDownloading","downloadedVideo","setDownloadedVideo","onDownloadProgress","axiosDownloadVideo","downloadVideo","url","ImageDropdown","setUserFiles","userFiles","fileInput","oddArr","_","evenArr","imageType","ImageContainer","UplaodButtonContainer","UploadButton","FileInput","prevSate","Images","Column","ShapeContainer","Shape","square","circle","triangle","SvgSubtitlesOn","_defs","SvgSubtitlesOff","clipPath","SubtitlesDropdown","Buttons","Button","ButtonText","DesignControls","photo","photo2","ControlsContainer","AddTextContainer","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","Navigation","downloadData","setDownloadData","backImage","frontImage","videoInfo","breaks","setBreaks","subs","setSubs","downloadRef","prepareData","backImg","frontImg","videoData","breaksData","subsData","elements","jsonData","DownloadButton","cuts","endTime","videoBreaks","prev","prepareBreaks","subState","config","fontColor","rgbaToHex","deleteStart","deleteEnd","generateUUID","prepareSubs","DownloadLink","href","DownloadVideoContainer","Close","DownloadVideo","initialBackground","useEditorState","VideoEditor","setVideoCuts","clearState","Main","cutIndex","CustomRoute","Component","component","allowed","where","redirect","rest","to","Editor","isFinishedTranscribing","setIsFinishedTranscribing","useRouteMatch","Or","Input","invalid","setValue","errorMessage","InputContainer","Invalid","isEmpty","onFocus","ErrorMessage","UserContext","CheckMail","userDispatch","mail","Mail","EditorLink","checkEmailValidity","test","SignIn","authUrl","isSent","setIsSent","validation","email","setEmail","signInContent","SignUpLink","FormContent","GoogleLogo","Form","setIsDropdown","option","CheckMark","checkMark","Select","isDropdown","SelectContainer","Selected","Valid","SignUp","name","setName","workType","setWorkType","signUpContent","SignInLink","isEmailValid","isNameValid","isWorkTypeValid","Auth","Testimonial","Background","TestimonialContent","twiso","Twiso","saly","Mascot","Account","exact","UserName","Initials","Letter","Name","Dots","dot","SideDrawer","Links","Link","activeClassName","templates","LinkText","projects","settings","NewButton","Plus","Project","date","Info","Date","Projects","ProjectsList","AddProject","AddProjectInner","AddProjectText","ProjectContainer","Webinar","TemplatesList","Template","TemplateInner","backgroundImage","pic1","pic2","pic3","pic4","pic5","pic6","Templates","NavLinks","Homepage","isAuthenticated","useUserState","App","userState","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"mHACAA,EAAOC,QAAU,CAAC,eAAiB,oCAAoC,KAAO,4B,oBCA9ED,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,OAAS,yB,oBCA7ED,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,yB,mBCA/DD,EAAOC,QAAU,CAAC,aAAe,0CAA0C,cAAgB,2CAA2C,aAAe,4C,mBCArJD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,SAAW,4BAA4B,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,6B,oBCA9KD,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,SAAW,6B,oBCA7BD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,kBAAoB,6CAA6C,gBAAkB,2CAA2C,QAAU,mCAAmC,eAAiB,0CAA0C,cAAgB,2C,oBCAxQD,EAAOC,QAAU,CAAC,SAAW,6B,oBCA7BD,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,OAAS,yB,yCCA3BD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,UAAY,gCAAgC,UAAY,gCAAgC,cAAgB,oCAAoC,gBAAkB,sCAAsC,qBAAuB,2CAA2C,gBAAkB,sCAAsC,kBAAoB,wCAAwC,YAAc,kCAAkC,0BAA4B,gDAAgD,iBAAmB,uCAAuC,0BAA4B,gDAAgD,YAAc,oC,yCCA9sBD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,WAAa,4BAA4B,cAAgB,+BAA+B,SAAW,0BAA0B,cAAgB,iC,mBCArOD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,UAAY,iCAAiC,UAAY,iCAAiC,mBAAqB,0CAA0C,gBAAkB,uCAAuC,eAAiB,sCAAsC,WAAa,kCAAkC,eAAiB,sCAAsC,kBAAoB,yCAAyC,YAAc,mCAAmC,uBAAyB,gD,+ECA7jBD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,6BAA6B,SAAW,2BAA2B,gBAAkB,kCAAkC,aAAe,+BAA+B,gBAAkB,kCAAkC,mBAAqB,qCAAqC,eAAiB,iCAAiC,OAAS,2B,mBCAnZD,EAAOC,QAAU,CAAC,SAAW,gCAAgC,sBAAwB,6CAA6C,aAAe,oCAAoC,UAAY,iCAAiC,OAAS,8BAA8B,OAAS,8BAA8B,eAAiB,sCAAsC,MAAQ,+B,mBCA/WD,EAAOC,QAAU,CAAC,cAAgB,6BAA6B,KAAO,oBAAoB,MAAQ,qBAAqB,QAAU,uBAAuB,YAAc,2BAA2B,UAAY,yBAAyB,YAAc,2BAA2B,UAAY,yBAAyB,oBAAsB,mCAAmC,WAAa,0BAA0B,YAAc,6B,mBCAlaD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,MAAQ,0BAA0B,KAAO,yBAAyB,SAAW,6BAA6B,OAAS,6B,mBCAjLD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,WAAa,6BAA6B,aAAe,+BAA+B,WAAa,6BAA6B,iBAAmB,mCAAmC,gBAAkB,kCAAkC,eAAiB,mC,oKCD1U,MAA0B,mC,OCwG1BC,EApGE,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,iBAC/BC,EAAYC,iBAAO,MACnBC,EAAcD,iBAAO,MAKrBE,EAAiBC,uBAAY,SAACC,GAIlC,OAHAA,EAAEC,iBACFD,EAAEE,aAAaC,WAAa,OAC5BN,EAAYO,QAAQC,UAAUC,IAAIC,IAAOC,SAClC,IACN,IAEGC,EAAkBV,uBAAY,SAACC,GACnCA,EAAEC,iBACFD,EAAEU,kBACFb,EAAYO,QAAQC,UAAUC,IAAIC,IAAOC,UACxC,IAEGG,EAAkBZ,uBAAY,SAACC,GACnCA,EAAEC,iBACFD,EAAEU,kBACFb,EAAYO,QAAQC,UAAUO,OAAOL,IAAOC,UAC3C,IAEGK,EAAed,uBACnB,SAACe,GACC,GAAkB,cAAdA,EAAKC,KAAsB,CAC7B,IAAIC,EAAQC,SAASC,cAAc,SACnCF,EAAMG,QAAU,WAChBH,EAAMI,iBAAmB,WACnBJ,EAAMK,SAAW,IACnB3B,EAAiBsB,EAAMK,UACvB5B,EAAkBqB,KAItBE,EAAMM,IAAMC,IAAIC,gBAAgBV,MAGpC,CAACpB,EAAkBD,IAGfgC,EAAa1B,uBACjB,SAACC,GACCA,EAAEC,iBACFD,EAAEU,kBACFb,EAAYO,QAAQC,UAAUO,OAAOL,IAAOC,QAC5C,IAAIM,EAAOd,EAAEE,aAAawB,MAAM,GAEhC,OADAb,EAAaC,IACN,IAET,CAACD,IAkBH,OAfAc,qBAAU,WACR,IAAIC,EAAO/B,EAAYO,QAMvB,OALAwB,EAAKC,iBAAiB,WAAY/B,GAAgB,GAClD8B,EAAKC,iBAAiB,YAAapB,GAAiB,GACpDmB,EAAKC,iBAAiB,YAAalB,GAAiB,GACpDiB,EAAKC,iBAAiB,OAAQJ,GAAY,GAEnC,WACLG,EAAKE,oBAAoB,WAAYhC,GAAgB,GACrD8B,EAAKE,oBAAoB,YAAarB,GAAiB,GACvDmB,EAAKE,oBAAoB,YAAanB,GAAiB,GACvDiB,EAAKE,oBAAoB,OAAQL,GAAY,MAE9C,CAAC3B,EAAgB2B,EAAYhB,EAAiBE,IAG/C,sBAAKoB,UAAWxB,IAAOf,SAAvB,UACE,mBAAGuC,UAAWxB,IAAOyB,WAArB,0CACA,qBACEC,IAAKpC,EACLkC,UAAWxB,IAAO2B,SAClBC,QAAS,kBAAMxC,EAAUS,QAAQgC,SAHnC,SAKE,sBAAKL,UAAWxB,IAAO8B,gBAAvB,UACE,qBAAKf,IAAKgB,EAAQC,IAAI,WACtB,sBAAKR,UAAWxB,IAAOiC,aAAvB,UACE,mBAAGT,UAAWxB,IAAOkC,gBAArB,wCACA,oBAAGV,UAAWxB,IAAOmC,mBAArB,yBACc,sBAAMX,UAAWxB,IAAOoC,eAAxB,+BAKpB,uBACEV,IAAKtC,EACLoB,KAAK,OACL6B,OAAO,YACPC,MAAO,CAAEC,QAAS,QAClBC,SAAU,kBAAMlC,EAAalB,EAAUS,QAAQsB,MAAM,W,iBCJ9CsB,EA3FQ,SAAC,GAMjB,IALLC,EAKI,EALJA,eACAC,EAII,EAJJA,YACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,SACAC,EACI,EADJA,cAGA,EAAgCC,mBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAoCF,mBAAS,MAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAGA/B,qBAAU,WACR,OAAO,WACD8B,GAAYE,cAAcF,MAE/B,CAACA,IAEJ,IAAMG,EAAkB7D,uBAAY,WAClC,IAEI8D,EAAWC,aAAY,WACzBN,GAAY,SAACO,GACX,OAAIA,GAAa,IACfJ,cAAcE,GACP,IACKE,EAAY,QAPM,IAAhBZ,EAAD,GAAuD,GAU1EO,EAAcG,KACb,CAACV,IA0CJ,OAxCAxB,qBAAU,WAER,GAAIyB,EAAU,CACZO,cAAcF,GACd,IAAII,EAAWC,aAAY,WACzBN,GAAY,SAACO,GACX,OAAIA,GAAa,KACfJ,cAAcE,GACP,KACKE,EAAY,OAE3B,KAEL,OAAO,WACDF,KAEL,CAACT,EAAUK,IAEd9B,qBAAU,WACR,IAAIqC,EAAU,KAKd,OAJiB,MAAbT,GAAoBH,IACtBY,EAAWC,YAAW,kBAAMZ,GAAc,KAAO,MAG5C,WACW,OAAZW,GAAkBE,aAAaF,MAEpC,CAACT,EAAUH,EAAUC,IAExB1B,qBAAU,WACe,MAAnBsB,GAA2BC,GAAaU,MAE3C,CAACX,EAAgBW,EAAiBV,IAErCvB,qBAAU,WACJuB,GACFM,EAAYW,KAAKC,MAAoB,GAAdnB,MAExB,CAACC,EAAaD,IAGf,sBAAKlB,UAAWxB,IAAOyC,eAAvB,UACE,oBAAGjB,UAAWxB,IAAO8D,WAArB,UAAkCF,KAAKG,MAAMf,GAA7C,OACA,mBAAGxB,UAAWxB,IAAOgE,QAArB,qCACA,qBAAKxC,UAAWxB,IAAOiE,YAAvB,SACE,qBACEzC,UAAWxB,IAAOkE,iBAClB5B,MAAO,CACL6B,SAAUnB,EAAW,SAI3B,mBAAGxB,UAAWxB,IAAOoE,WAArB,iE,kCCjFSC,E,OAJEC,EAAMC,OAAO,CAC5BC,QAAQ,GAAD,OAAKC,0BAAL,aCsEMC,EAtEQ,WACrB,MAAsC3B,oBAAS,GAA/C,mBAAOJ,EAAP,KAAoBgC,EAApB,KACA,EAAgC5B,mBAAS,MAAzC,mBAAOjC,EAAP,KAAiB8D,EAAjB,KACA,EAAgC7B,mBAAS,MAAzC,mBAAOF,EAAP,KAAiBgC,EAAjB,KACA,EAA4C9B,mBAAS,GAArD,mBAAOL,EAAP,KAAuBoC,EAAvB,KACMC,EAAQ1F,iBAAO,MACf2F,EAAY3F,kBAAO,GAEnB4F,EAAmB,SAACxF,GACxB,IAAMyF,EAAkBtB,KAAKC,MAAkB,IAAXpE,EAAE0F,OAAgB1F,EAAE2F,OACpDJ,EAAUnF,SAASiF,EAAkBI,GACjB,MAApBA,GAA2BF,EAAUnF,SAAS8E,GAAe,IAI7DU,EAAmB7F,uBAAY,SAAC8F,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BnB,EACGoB,KAAK,UAAWJ,EAAU,CACzBL,mBACAU,QAAS,CACPC,OAAQ,mBACR,eAAgB,yBAGnBC,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGC,EAAczG,sBAAW,uCAC7B,WAAO8F,GAAP,eAAAY,EAAA,6DACEpB,EAAkB,GAClBH,GAAe,GAFjB,kBAIsBU,EAAiBC,GAJvC,OAIUQ,EAJV,OAKIK,QAAQC,IAAIN,GACRd,EAAUnF,UACZkF,EAAMlF,QAAUiG,EAAIO,KAAKC,UAAUC,SACnC3B,EAAYkB,EAAIO,KAAKvF,UACrB+D,EAAYiB,EAAIO,KAAKG,qBAT3B,kDAYIL,QAAQC,IAAI,wBAAZ,MAZJ,4GAD6B,sDAkB7B,CAACf,IAQH,OALAjE,qBAAU,WAER,OADA4D,EAAUnF,SAAU,EACb,kBAAOmF,EAAUnF,SAAU,KACjC,IAEI,CACL8C,cACAsD,cACAlB,MAAOA,EAAMlF,QACbiB,WACA+B,WACAH,mB,iBCrEW,MAA0B,sC,QC6B1B+D,EAxBA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACVC,EAAUC,cAEhB,OACE,yBAAQpF,UAAWxB,IAAOyG,OAA1B,UACE,sBAAKjF,UAAWxB,IAAO6G,sBAAvB,UACE,qBAAKrF,UAAWxB,IAAO8G,WAAYlF,QAAS,kBAAM+E,EAAQI,UAA1D,SACE,qBAAKvF,UAAWxB,IAAOgH,UAAWjG,IAAKkG,EAAWjF,IAAI,WAExD,sBAAKR,UAAWxB,IAAOkH,kBAAvB,UACE,mBAAG1F,UAAWxB,IAAOmH,SAArB,sBACA,mBAAG3F,UAAWxB,IAAOoH,QAArB,0BAGHV,EACD,qBAAKlF,UAAWxB,IAAOqH,kBAAvB,SACE,qBAAK7F,UAAWxB,IAAOsH,KAAvB,SACE,mBAAG9F,UAAWxB,IAAOuH,aAArB,wBC0CKC,EAzDE,SAAC,GAOX,IANLC,EAMI,EANJA,eACAvI,EAKI,EALJA,kBACA4D,EAII,EAJJA,cACA+B,EAGI,EAHJA,YACAD,EAEI,EAFJA,YACA8C,EACI,EADJA,SAEA,EAA0C3E,mBAAS,GAAnD,mBAAOH,EAAP,KAAsBzD,EAAtB,KACA,EAOIuF,IANF/B,EADF,EACEA,YACAsD,EAFF,EAEEA,YACAlB,EAHF,EAGEA,MACAlC,EAJF,EAIEA,SACA/B,EALF,EAKEA,SACA4B,EANF,EAMEA,eAmBF,OAhBAtB,qBAAU,WACJN,GAAY+B,GAAYkC,IAC1BF,EAAYhC,GACZ+B,EAAY9D,GACZ4G,EAAS7H,QAAT,YAAuBkF,MAExB,CAACA,EAAOjE,EAAU+D,EAAaD,EAAa8C,EAAU7E,IAEzDzB,qBAAU,WACR,GAAIqG,EAAgB,CAClB,IAAMnC,EAAW,IAAIqC,SACrBrC,EAASsC,OAAO,QAASH,GACzBxB,EAAYX,MAEb,CAACmC,EAAgBxB,EAAa/G,IAG/B,qCACE,cAAC,EAAD,IACA,qBAAKsC,UAAWxB,IAAOwH,SAAvB,SACIC,EAMA,cAAC,EAAD,CACE/E,eAAgBA,EAChBC,YAAaA,EACbC,cAAeA,EACfC,SAAUA,EACVC,cAAeA,IAVjB,cAAC,EAAD,CACE5D,kBAAmBA,EACnBC,iBAAkBA,U,mCChDf,MAA0B,gCCA1B,MAA0B,mCCA5B0I,EAAgB,SAACC,EAAUC,EAASC,EAAeC,GAO9D,IANA,IAAIC,EAAM,GACNC,GAAgB,EAChBC,EAAW,EACXC,EAAgB,EAChBC,EAAc,EACdC,EAAS,EACJC,EAAI,EAAGA,EAAIV,EAASW,OAAQD,IAAK,CACxC,IAAIE,EAAOZ,EAASU,GAChBE,EAAKC,QAAUR,GACjBA,GAAgB,EAChBL,EAASO,GAAeO,KAAOJ,EAC/BN,EAAIW,KAAK,CAAEC,MAAOV,EAAUW,IAAKR,KACvBG,EAAKC,QAAWR,GAKhBO,EAAKC,QAAUR,IACzBI,EAASG,EAAKK,IACdT,EAAcE,IANdL,GAAgB,EAChBC,EAAWM,EAAKI,MAChBT,EAAgBG,EAChBD,EAASG,EAAKK,KAOdZ,GAAeD,EAAIW,KAAK,CAAEC,MAAOV,EAAUW,IAAKR,IAEhDJ,GAAiBE,IAAkBP,EAASW,OAAS,EACvDX,EAASO,GAAeO,KAAON,EACtBH,IACTL,EAASO,GAAeO,KAAOd,EAASW,OAAS,GAEjC,OAAdR,GAAoBD,EAAcC,GACtCF,EAAQ,GAAD,OAAKG,KAeRc,EAAkB,SACtBxI,EACAsH,EACAC,EACAC,EACAC,EACAgB,GAEa,WAATzI,EACFqH,EAAcC,EAAUC,EAASC,EAAeC,GAC9B,YAATzH,GAtBS,SAACuH,EAASC,EAAeC,EAAWgB,GACxDlB,GAAQ,SAACvE,GAEP,IADA,IAAI0F,EAAW,GACNV,EAAI,EAAGA,EAAIhF,EAAUiF,OAAQD,IAAK,CACzC,IAAIW,EAAM3F,EAAUgF,GAChBW,EAAIL,QAAUG,GAAcC,EAASL,KAAKM,GAGhD,OADAnB,EAAcC,GACR,GAAN,OAAWiB,MAeXE,CAAcrB,EAASC,EAAeC,EAAWgB,IAG/CI,EAAwB,SAC5BC,EACAxB,EACAyB,EACAxB,EACAC,GAGA,IADA,IAAIwB,EAAe,KACVhB,EAAIc,EAAcd,GAAK,EAAGA,IAAK,CAEtC,GADWV,EAASU,GACXG,OAAQ,CACfa,EAAehB,EACf,OAIJ,GAAqB,OAAjBgB,EACF,IAAK,IAAIhB,EAAIc,EAAcd,EAAIV,EAASW,OAAQD,IAAK,CAEnD,GADWV,EAASU,GACXG,OAAQ,CACfa,EAAehB,EACf,OAKNe,EAAaC,GACbR,EAAgB,SAAUlB,EAAUC,EAASC,EAAewB,I,wBCxF/C,MAA0B,wCCwM1BC,EArMD,SAAC,GAYR,IAXL3B,EAWI,EAXJA,SACA4B,EAUI,EAVJA,iBACAC,EASI,EATJA,YACAC,EAQI,EARJA,iBACAC,EAOI,EAPJA,WACAC,EAMI,EANJA,cACAC,EAKI,EALJA,iBACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,OACAC,EACI,EADJA,qBAEA,EAA0BpH,mBAAS,IAAnC,mBAAOqH,EAAP,KAAcC,EAAd,KACMC,EAAWjL,iBAAO,MAwDlBkL,EAAsB,SAACC,EAAIC,EAAMC,IAChCA,GAAaD,GAAQD,EAvDI,SAACA,EAAIC,GAInC,IAHA,IAAI1F,EAAQmF,EAAOD,GAAiBlF,MAG3ByD,EAAI,EAAGA,EAAIzD,EAAM0D,OAAQD,IAAK,CACrC,IAAIE,EAAO3D,EAAMyD,GACjB,GAAIE,EAAKiC,MAAQH,EAAI,CACnB,IAAII,EAA0C,IAA3BlC,EAAK+B,KAAKI,QAAQ,KACrCnC,EAAK+B,KAAOG,EAAe,IAAMH,EAAOA,EACpC/B,EAAKoC,UAASpC,EAAKoC,SAAU,GACjC,QA8CFC,CAAwBP,EAAIC,GACnBA,GAAQC,EA1CQ,SAACF,EAAIC,GAChC,IAAI1F,EAAQmF,EAAOD,GAAiBlF,MAEpC,GAAIA,EACF,IAAK,IAAIyD,EAAI,EAAGA,EAAIzD,EAAM0D,OAAQD,IAAK,CACrC,IAAIE,EAAO3D,EAAMyD,GACjB,GAAIE,EAAKiC,MAAQH,EAAI,CACnB,IAAIQ,EAAgB,IAANxC,EACdiC,EAAOO,EAAUP,EAAO,IAAMA,EAC9B,IAAIQ,EAA4C,IAA3BvC,EAAK+B,KAAKI,QAAQ,KACvCnC,EAAK+B,KAAOQ,IAAmBD,EAAU,IAAMP,EAAOA,EAClD/B,EAAKoC,UAASpC,EAAKoC,SAAU,GACjC,YAIJZ,EAAOD,GAAiBa,SAAU,EAClCZ,EAAOD,GAAiBlF,MAAQ,CAAC,2BAAKmF,EAAOD,IAAb,IAA+BQ,UA0B/DS,CAAqBV,EAAIC,GAChBD,GAvBQ,SAACA,GAIpB,IAHA,IAAIzF,EAAQmF,EAAOD,GAAiBlF,MAEhCoG,EAAe,EACV3C,EAAI,EAAGA,EAAIzD,EAAM0D,OAAQD,IAAK,CACrC,IAAIE,EAAO3D,EAAMyD,GACbE,EAAKiC,MAAQH,IACf9B,EAAK+B,KAAO,GACZ/B,EAAKoC,SAAU,GAEbpC,EAAKoC,SAASK,IAEhBA,IAAiBpG,EAAM0D,SACzByB,EAAOD,GAAiBa,SAAU,EAClCZ,EAAOD,GAAiBlF,MAAQ,MAUhCqG,CAAaZ,GAEfL,GAAqB,IAGjBkB,EAAc,SAAC5L,GACnB,IAAI+K,EAAK/K,EAAE6L,OAAOC,WAAWf,GACzBgB,EAAWpB,EAAMqB,OAAOhD,OAAS,EAAI2B,EAAQ,KAC7CtC,EAAS+B,KACP2B,IAAa1D,EAAS+B,GAAYiB,SACpChD,EAAS+B,GAAYY,KAAOe,EACxBxB,GAAYO,EAAoBC,EAAIgB,GAAU,IACzCA,GACT1D,EAAS+B,GAAYY,KAAOe,EAC5B1D,EAAS+B,GAAYiB,SAAU,EAC3Bd,GAAYO,EAAoBC,EAAIgB,GAAU,KAE9CxB,IAAelC,EAAS+B,GAAYiB,SACtCP,EAAoBC,EAAIgB,GAAU,GACpC1D,EAAS+B,GAAYiB,SAAU,IAGnCT,EAAS,IACTP,EAAc,OAGZ3B,GAAgB,EAChBuD,GAAa,EACbC,GAAkB,EAClBC,GAAiB,EAWrB,OATAxK,qBAAU,WACW,OAAfyI,IACFS,EAASzK,QAAQgM,QACb/D,EAAS+B,KAAgB/B,EAAS+B,GAAYiB,SAChDT,EAASvC,EAAS+B,GAAYY,SAGjC,CAACZ,EAAY/B,IAETA,EAASgE,KAAI,SAACpD,EAAMF,GACUkD,IAA/BvD,IAAkBO,EAAKC,QAE3B,IAAIoD,EACFvD,IAAMkB,IAAqBK,GAAoBrB,EAAKC,OAClDqD,GACDtD,EAAKoC,SACNpC,EAAKC,QACLgB,EAAY8B,OAAOhD,OAAS,GAC5BC,EAAK+B,KAAKgB,OAAOQ,cAAcC,SAASvC,EAAY8B,OAAOQ,eAExD9D,GAAkBO,EAAKC,SAAQR,GAAgB,GAChDA,GAAiBO,EAAKC,SAAQR,GAAgB,GAE9C4B,GAAoBA,EAAiBjB,QAAUN,EACjDmD,GAAkB,EACT5B,GAAoBA,EAAiBhB,MAAQP,EACtDoD,GAAiB,EACRA,IACTD,GAAkB,EAClBC,GAAiB,GAGnB,IAAIO,EAAyB,OAAftC,GAAuBkC,EACjCK,EAAeD,EACjB,uBACEzK,IAAK4I,EACL9I,UAAWxB,IAAOqM,UAClB7L,KAAK,OACL8L,MAAOlC,EACPmC,OAAQlB,EACR7I,SAAU,SAAC/C,GAAD,OAAO4K,EAAS5K,EAAE6L,OAAOgB,UAGrC,sBAAM9K,UAAYkH,EAAKoC,QAAwB9K,IAAOwM,MAArBxM,IAAOyM,KAAxC,SACI/D,EAAKoC,QAA4B,4BAAlBpC,EAAK+B,KAAO,MAI7BiC,EAAWhE,EAAKC,OAYlByD,EAXA,uBAAM5K,UAAWxB,IAAO2M,QAAxB,UACE,sBAAMnL,UAAWxB,IAAO4M,oBAAxB,SACE,qBACEpL,UAAWxB,IAAO6M,WAClB9L,IAAK+L,EACL9K,IAAI,mBAGR,sBAAMR,UAAWxB,IAAO+M,YAAxB,uBAMAC,EAAiB,CAAEC,MAAO,QAQ9B,OAPId,IACFa,EAAeC,MAASvE,EAAKoC,QAEzB,OADmB,IAAnBpC,EAAK+B,KAAKhC,OAAe,KAE7BuE,EAAeE,YAAc,UAGxBxB,EACL,sBACEpJ,MAAO0K,EACPxC,GAAI9B,EAAKiC,IAETnJ,UAAW,CACTxB,IAAOmN,cACPpB,EAAY/L,IAAOoN,YAAc,KACjCpB,EAAchM,IAAOqN,UAAY,KACjC1B,EAAkB3L,IAAOsN,YAAc,MACvCC,KAAK,KACP3L,QAAS,SAACnC,GAAD,OAAOmK,EAAiBnK,GAAIiJ,EAAKC,SAV5C,SAYG+D,GATIhE,EAAKiC,KAWV,SCpMK6C,EAA4B,SAACvF,EAAWlD,EAAOmF,GAC1D,GAAIA,EAAQ,CAEV,IADA,IAAIxB,EAAO3D,EAAMkD,GACRO,EAAI,EAAGA,EAAI0B,EAAOzB,OAAQD,IAAK,CACtC,IAAIiF,EAAMvD,EAAO1B,GACjB,GAAIiF,EAAI1I,MACN,IAAK,IAAI2I,EAAI,EAAGA,EAAID,EAAI1I,MAAM0D,OAAQiF,IAAK,CAEzC,GADcD,EAAI1I,MAAM2I,GACZ/C,MAAQjC,EAAKiC,IAAK,OAAOnC,OAElC,GAAIiF,EAAI3C,SAAWpC,EAAKiC,MAAQ8C,EAAI9C,IAAK,OAAOnC,EAEzD,OAAO,KACF,OAAO,MAGHmF,EAAsB,SAACnD,EAAIzF,GACtC,IAAK,IAAIyD,EAAI,EAAGA,EAAIzD,EAAM0D,OAAQD,IAAK,CAErC,GADWzD,EAAMyD,GACRmC,MAAQH,EAAI,OAAOhC,EAE9B,OAAO,MCmMMoF,EA3MO,SAAC,GAehB,IAdL7I,EAcI,EAdJA,MACA2E,EAaI,EAbJA,iBACAmE,EAYI,EAZJA,oBACAC,EAWI,EAXJA,UACAC,EAUI,EAVJA,SACAhG,EASI,EATJA,QACAgC,EAQI,EARJA,iBACAiE,EAOI,EAPJA,oBACAhG,EAMI,EANJA,cACAkC,EAKI,EALJA,OACA+D,EAII,EAJJA,mBACAjE,EAGI,EAHJA,WACAC,EAEI,EAFJA,gBACAE,EACI,EADJA,qBAEA,EAAsCpH,mBAAS,IAA/C,mBAAO4G,EAAP,KAAoBuE,EAApB,KACA,EAAoCnL,mBAAS,MAA7C,mBAAO8G,EAAP,KAAmBC,EAAnB,KACA,EAAsC/G,oBAAS,GAA/C,mBAAOoL,EAAP,KAAoBC,EAApB,KAEAhN,qBAAU,WACJ+M,IACFC,EAAe,MACfvG,EAAc9C,EAAOgD,EAAS,KAAM,SAErC,CACDoG,EACApJ,EACAgD,EACAC,EACA0B,EACAmE,IAGF,IAqBMQ,EAAkB7O,uBACtB,SAAC8O,EAAWC,EAAYC,EAAWC,EAAcC,EAAaC,GAC5D,IAAI7F,EAAQ,GACRC,EAAM,GACV,GAAIwF,EAAWhD,WAAWf,KAAOgE,EAAUjD,WAAWf,GAAI,CACxD,IAAIvC,EAAY0F,EAAoBY,EAAWhD,WAAWf,GAAIzF,GAC1DwJ,EAAWhD,WAAWf,IAAoB,OAAdvC,IAC9BD,EAAcC,GACd4F,EAAoB5F,IAEtBqG,EAAUM,kBACVZ,EAAoB,WACXS,GAAgBC,EACR,IAAbC,GACF7F,EAAQyF,EAAWhD,WAAWf,GAC9BzB,EAAMyF,EAAUjD,WAAWf,IACL,IAAbmE,IACT7F,EAAQ0F,EAAUjD,WAAWf,GAC7BzB,EAAMwF,EAAWhD,WAAWf,IAErBiE,EACQ,IAAbE,GACF7F,EAAQyF,EAAWhD,WAAWf,GAC9BzB,EAAMwF,EAAWhD,WAAWA,WAAWsD,UAAUrE,IAC3B,IAAbmE,IACT7F,EAAQyF,EAAWhD,WAAWA,WAAWuD,WAAWtE,GACpDzB,EAAMwF,EAAWhD,WAAWf,IAErBkE,IACQ,IAAbC,GACF7F,EAAQyF,EAAWhD,WAAWA,WAAWuD,WAAWvD,WAAWf,GAC/DzB,EAAMyF,EAAUhE,IACM,IAAbmE,IACT7F,EAAQ0F,EAAUhE,GAClBzB,EAAMwF,EAAWhD,WAAWA,WAAWsD,UAAUtD,WAAWf,KAIhE,GAAc,KAAV1B,GAAwB,KAARC,EAAY,CAC9B,IAAIgG,EAAapB,EAAoB7E,EAAO/D,GACxCiK,EAAWrB,EAAoB5E,EAAKhE,GACrB,OAAfgK,GAAoC,OAAbC,IACzBhB,EAAoB,CAAElF,MAAOiG,EAAYhG,IAAKiG,IAC9ChH,EAAc+G,GACdlB,EAAoBkB,OAK1B,CAAClB,EAAqBG,EAAqBhG,EAAejD,IAGtDkK,EAAiBzP,uBACrB,SAACC,GACC,IAAI6O,EAAY5N,SAASwO,eACzB,GAAIzP,EAAE0P,OAAS,GAAKb,EAAUC,YAAcD,EAAUE,UAAW,CAC/D,IAAID,EAAaD,EAAUC,WAAWhD,WAClCiD,EAAYF,EAAUE,UAAUjD,WAChCkD,EAAsC,SAAvBF,EAAWa,QAC1BV,EAAoC,SAAtBF,EAAUY,QACxBT,EAAWL,EAAUC,WAAWc,wBAClCf,EAAUE,YAEPC,IAAgBC,GAAiBJ,EAAUgB,cAC1CxB,GAAWC,EAASlO,QAAQ0P,QAChClB,EACEC,EACAC,EACAC,EACAC,EACAC,EACAC,OAKR,CAACN,EAAiBP,EAAWC,IAG/B3M,qBAAU,WAER,OADAV,SAASY,iBAAiB,UAAW2N,GAC9B,kBAAMvO,SAASa,oBAAoB,UAAW0N,MACpD,CAACA,IA0BJ,OACE,sBAAKzN,UAAWxB,IAAO4N,cAAvB,UACE,sBAAKpM,UAAWxB,IAAOwP,aAAvB,UACE,sBAAKhO,UAAWxB,IAAOyP,aAAc7N,QA3BnB,WAClBkM,GAAWC,EAASlO,QAAQ0P,QAC3BxF,GAAyC,OAArBL,EAQdK,GJrDgB,SAC7BjC,EACAyB,EACAQ,EACAiE,EACAjG,EACAC,GAKA,IAHA,IAAI0H,EAAoB3F,EAAiBjB,MACrC6G,EAAiB5F,EAAiBhB,IAE7BP,EAAIkH,EAAmBlH,EAAIV,EAASW,SAChCX,EAASU,GACfG,QAAS,EACVH,IAAMmH,GAHyCnH,KAMrDa,EACEqG,EACA5H,EACAyB,EACAxB,EACAC,GAEFgG,EAAoB,MI8BhB4B,CACE7K,EACA8I,EACA9D,EACAiE,EACAjG,EACAC,GJ9EkB,SACxBF,EACAG,EACAsB,EACAxB,EACAC,GAEWF,EAASG,GACfU,QAAS,EACdU,EACEpB,EACAH,EACAyB,EACAxB,EACAC,GIkDE6H,CACE9K,EACA2E,EACAmE,EACA9F,EACAC,GAYYtH,SAASwO,eACfN,mBAMN,UACE,qBAAK7N,IAAKoI,EAAKnH,IAAI,QACnB,uCAEF,sBAAKR,UAAWxB,IAAO8P,gBAAvB,UACE,uBACExD,MAAO3C,EACPnH,SAAU,SAAC/C,GAAD,OAAOyO,EAAezO,EAAE6L,OAAOgB,QACzC9K,UAAWxB,IAAO+P,YAClBC,YAAY,SACZxP,KAAK,SAEP,qBAAKgB,UAAWxB,IAAOiQ,UAAWlP,IAAKmP,EAAQlO,IAAI,iBAGvD,qBAAKwI,GAAG,UAAUhJ,UAAWxB,IAAOmQ,KAApC,SACGpL,EACC,cAAC,EAAD,CACE+C,SAAU/C,EACV2E,iBAAkBA,EAClBC,YAAaA,EACbC,iBAzJe,SAACnK,EAAG2Q,GAC3B,IAAI5F,EAAK/K,EAAE4Q,cAAc7F,GACrBvC,EAAY0F,EAAoBnD,EAAIzF,GACpC+I,GAAWC,EAASlO,QAAQ0P,QAC5B9P,EAAE0P,OAAS,GAAoB,OAAftF,GAAqBC,EAAc7B,GAClDmI,GAA4B,OAAfvG,GAAqC,OAAd5B,EAIf,OAAf4B,GJgFe,SAC5B/B,EACAG,EACAsB,EACAyE,EACAjG,EACAC,GAEA,IAAK,IAAIQ,EAAIP,EAAWO,EAAIV,EAASW,OAAQD,IAAK,CAChD,IAAIE,EAAOZ,EAASU,GACpB,GAAKE,EAAKC,OAGH,MAFLD,EAAKC,QAAS,EACI,OAAdD,EAAKE,OAAeF,EAAKE,KAAO,MAGxC,IAAIK,EAAenB,EAASG,GAAWa,MACvCE,EACE,UACA,KACAjB,EACAC,EACAC,EACAgB,GAEF+E,EAAoB,MACpBzE,EAAatB,GIxGTqI,CACEvL,EACAkD,EACA4F,EACAG,EACAjG,EACAC,IAVFgG,EAAoB,MACpBhG,EAAcC,GACd4F,EAAoB5F,KAkJd4B,WAAYA,EACZC,cAAeA,EACfC,iBAAkBA,EAClBC,WAAYA,EACZC,gBAAiBA,EACjBC,OAAQA,EACR+D,mBAAoBA,EACpB9D,qBAAsBA,IAEtB,W,mCC/MGoG,GADOC,wBAAc,M,QCFrB,OAA0B,sCCA1B,OAA0B,wCCA1B,OAA0B,uCC2PzCC,UAAOC,SAAWD,UAAOE,KAAKC,YAAYH,UAAOI,MAAO,CACtDrQ,KAAM,WAENsQ,6BAHsD,WAKpD,OAAO,IAAIL,UAAOM,MAChBC,KAAK/D,MAAQ+D,KAAKC,SAClBD,KAAKE,OAASF,KAAKG,WAIvBC,4BAXsD,WAapD,OAAOX,UAAOE,KAAKU,eACjBL,KAAKM,4BACLN,KAAKO,wBACL,MAyBNd,UAAOC,SAASc,UAAUC,SAAW,GAEtBC,OAjSM,WACnBjB,UAAOkB,OAAOH,UAAUI,oBAAqB,EAC7CnB,UAAOkB,OAAOH,UAAUK,YAAc,QACtCpB,UAAOkB,OAAOH,UAAUM,YAAc,UACtCrB,UAAOkB,OAAOH,UAAUO,kBAAoB,UAC5CtB,UAAOkB,OAAOH,UAAUQ,YAAc,SACtCvB,UAAOkB,OAAOH,UAAUS,eAAgB,EAExC,IAAMC,EAAmB,IAAIC,MAC7BD,EAAiBnR,IAAMqR,GACvB,IAAMC,EAAiB,IAAIF,MAC3BE,EAAetR,IAAMuR,GACrB,IAAMC,EAAkB,IAAIJ,MAC5BI,EAAgBxR,IAAMyR,GACtB,IAAMC,EAAgBhC,UAAOgC,cAC3BC,EAAwBD,EAAcE,4BACtCC,EAAoBH,EAAcI,wBAClCC,EAAiBL,EAAcK,eAC/BC,EAAqBN,EAAcM,mBACnCC,EAAqBP,EAAcO,mBACnCC,EAAwBR,EAAcQ,sBACtCC,EAAiBzC,UAAOkB,OAAOH,UAAUC,SAErC0B,EAAkB,SAACC,GACvB,OAAO,SAAoBC,EAAKC,EAAMC,EAAKC,EAAeC,GACxD,IAAIC,EAAO1C,KAAK2C,WAChBN,EAAIO,OACJP,EAAIQ,UAAUP,EAAMC,GACpBF,EAAIS,OAAOrD,UAAOE,KAAKoD,iBAAiBN,EAAaO,QACrDX,EAAIY,UAAUb,GAAOM,EAAO,GAAIA,EAAO,EAAGA,EAAMA,GAChDL,EAAIa,YAIFC,EAAqB,SAACf,GAC1B,OAAO,SAAoBC,EAAKC,EAAMC,EAAKC,EAAeC,GACxD,IAAIC,EAAO1C,KAAK2C,WAChBN,EAAIO,OACJP,EAAIQ,UAAUP,EAAMC,GACpBF,EAAIS,OAAOrD,UAAOE,KAAKoD,iBAAiBN,EAAaO,QACrDX,EAAIY,UAAUb,GAAOM,EAAO,KAAMA,EAAO,EAAGA,EAAO,IAAKA,GACxDL,EAAIa,YAIFE,EAAqB,SAAChB,GAC1B,OAAO,SAAoBC,EAAKC,EAAMC,EAAKC,EAAeC,GACxD,IAAIC,EAAO1C,KAAK2C,WAChBN,EAAIO,OACJP,EAAIQ,UAAUP,EAAMC,GACpBF,EAAIS,OAAOrD,UAAOE,KAAKoD,iBAAiBN,EAAaO,MAAQ,KAC7DX,EAAIY,UAAUb,GAAOM,EAAO,KAAMA,EAAO,EAAGA,EAAO,IAAKA,GACxDL,EAAIa,YA2GR,GAvGAhB,EAAemB,GAAK,IAAI5D,UAAO6D,QAAQ,CACrCC,GAAI,GACJC,EAAG,EACHC,mBAAoB/B,EACpBgC,cAAe1B,EACf2B,cAAe1B,EACfU,WAAY,GACZiB,QAAS,EACTC,OAAQV,EAAmBjC,KAG7BgB,EAAe4B,GAAK,IAAIrE,UAAO6D,QAAQ,CACrCC,EAAG,GACHC,EAAG,EACHC,mBAAoB/B,EACpBgC,cAAe1B,EACf2B,cAAe1B,EACfU,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQV,EAAmBjC,KAG7BgB,EAAe8B,GAAK,IAAIvE,UAAO6D,QAAQ,CACrCC,EAAG,EACHC,GAAI,GACJC,mBAAoB/B,EACpBgC,cAAe3B,EACf4B,cAAe1B,EACfU,WAAY,GACZoB,SAAU,EACVH,SAAU,EACVC,OAAQT,EAAmBlC,KAG7BgB,EAAe+B,GAAK,IAAIxE,UAAO6D,QAAQ,CACrCC,EAAG,EACHC,EAAG,GACHC,mBAAoB/B,EACpBgC,cAAe3B,EACf4B,cAAe1B,EACfU,WAAY,GACZoB,SAAU,EACVH,QAAS,EACTC,OAAQT,EAAmBlC,KAG7BgB,EAAegC,GAAK,IAAIzE,UAAO6D,QAAQ,CACrCC,GAAI,GACJC,GAAI,GACJC,mBAAoB7B,EACpB8B,cAAe5B,EACfa,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1Ba,EAAeiC,GAAK,IAAI1E,UAAO6D,QAAQ,CACrCC,EAAG,GACHC,GAAI,GACJC,mBAAoB7B,EACpB8B,cAAe5B,EACfa,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1Ba,EAAekC,GAAK,IAAI3E,UAAO6D,QAAQ,CACrCC,GAAI,GACJC,EAAG,GACHC,mBAAoB7B,EACpB8B,cAAe5B,EACfa,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1Ba,EAAemC,GAAK,IAAI5E,UAAO6D,QAAQ,CACrCC,EAAG,GACHC,EAAG,GACHC,mBAAoB7B,EACpB8B,cAAe5B,EACfa,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1Ba,EAAeoC,IAAM,IAAI7E,UAAO6D,QAAQ,CACtCC,EAAG,EACHC,EAAG,GACHb,WAAY,GACZiB,QAAS,GACTF,cAAejC,EAAc8C,qBAC7Bd,mBAAoBhC,EAAc+C,qBAClCC,gBAAgB,EAChBC,WAAY,SACZb,OAAQ1B,EAAgBZ,KAGtB9B,UAAOkF,QAAS,CAClB,IAAIC,EAAmBnF,UAAOkF,QAAQnE,UAAUC,SAAW,GAC3DmE,EAAgBN,IAAMpC,EAAeoC,IACrCM,EAAgBd,GAAK,IAAIrE,UAAO6D,QAAQ,CACtCC,EAAG,GACHC,EAAG,EACHE,cAAejC,EAAcoD,YAC7BpB,mBAAoB/B,EACpBgD,WAAY,WACZ/B,WAAY,GACZiB,QAAS,EACTC,OAAQV,EAAmBjC,KAG7B0D,EAAgBvB,GAAK,IAAI5D,UAAO6D,QAAQ,CACtCC,GAAI,GACJC,EAAG,EACHE,cAAejC,EAAcoD,YAC7BpB,mBAAoB/B,EACpBgD,WAAY,WACZ/B,WAAY,GACZiB,QAAS,EACTC,OAAQV,EAAmBjC,KAI/B,IAAI4D,EAAQrF,UAAOsF,KAAKvE,UAAUC,SAAW,GAC7CqE,EAAKR,IAAMpC,EAAeoC,IAC1BQ,EAAKzB,GAAK,IAAI5D,UAAO6D,QAAQ,CAC3BC,GAAI,GACJC,EAAG,EACHC,mBAAoB/B,EACpBgC,cAAe1B,EACf2B,cAAe1B,EACfU,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1ByD,EAAKhB,GAAK,IAAIrE,UAAO6D,QAAQ,CAC3BC,EAAG,GACHC,EAAG,EACHC,mBAAoB/B,EACpBgC,cAAe1B,EACf2B,cAAe1B,EACfU,WAAY,GACZiB,QAAS,EACTG,QAAS,EACTF,OAAQ1B,EAAgBd,KAG1B,IAAI2D,EAASvF,UAAO0B,MAAMX,UAAUC,SAAW,GAC/CuE,EAAMV,IAAMpC,EAAeoC,IAC3BU,EAAMb,GAAKjC,EAAeiC,GAC1Ba,EAAMX,GAAKnC,EAAemC,GAC1BW,EAAMd,GAAKhC,EAAegC,GAC1Bc,EAAMZ,GAAKlC,EAAekC,GAE1B,IAAIa,EAAmBxF,UAAOyF,gBAAgB1E,UAAUC,SAAW,GACnEwE,EAAgBX,IAAMpC,EAAeoC,IACrCW,EAAgBd,GAAKjC,EAAeiC,GACpCc,EAAgBZ,GAAKnC,EAAemC,GACpCY,EAAgBf,GAAKhC,EAAegC,GACpCe,EAAgBb,GAAKlC,EAAekC,IClOhCe,GAAe,CACnBjB,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJhB,IAAI,EACJW,IAAI,EACJF,IAAI,EACJG,IAAI,EACJK,KAAK,GAyHMc,GAAc,SAACC,EAAOC,EAAQC,EAAU/L,EAAIgM,GACvDD,EAAS,CAAE/V,KAAM,gBAAiB6F,KAAM,OACxC,IAAIoQ,EAAM,KACe,WAArBJ,EAAMK,WAAyBD,EAlExB,IAAIhG,UAAOkG,KAAK,CACzBrD,KAAM,IACNC,IAAK,IACLtG,MAAO,IACPiE,OAAQ,IACR0F,cAAc,EACdC,eAAe,EACfC,KAAM,sBACNC,OAAQ,sBACRC,YAAa,EACbC,GAAI,EACJC,GAAI,IAwDwB,WAArBb,EAAMK,WAAyBD,EAlD3B,IAAIhG,UAAO0G,OAAO,CAC7B7D,KAAM,IACNC,IAAK,IACL6D,OAAQ,GACRR,cAAc,EACdC,eAAe,EACfC,KAAM,sBACNC,OAAQ,sBACRC,YAAa,EACbC,GAAI,EACJC,GAAI,IAyCwB,aAArBb,EAAMK,WAA2BD,EAnC3B,IAAIhG,UAAO4G,SAAS,CACjC/D,KAAM,IACNC,IAAK,IACLtG,MAAO,IACPiE,OAAQ,IACR0F,cAAc,EACdC,eAAe,EACfC,KAAM,sBACNC,OAAQ,sBACRC,YAAa,EACbC,GAAI,EACJC,GAAI,IAyBwB,SAArBb,EAAMK,aAAuBD,EAnB3B,IAAIhG,UAAOsF,KAAK,CAAC,EAAG,EAAG,IAAK,GAAI,CACzCzC,KAAM,IACNC,IAAK,IACLwD,OAAQ,sBACRC,YAAa,EACblF,YAAa,cACb8E,cAAc,EACdK,GAAI,EACJC,GAAI,KAYFT,IACFA,EAAIjM,GAAKA,EACT8L,EAAOvW,IAAI0W,GAAKa,gBAAgBb,GAChCH,EAAOiB,mBACPf,MChIWgB,GAZM,SAACnB,EAAOE,EAAUD,EAAQ9L,EAAIgM,GACjDpV,qBAAU,WACJiV,EAAMK,WACRN,GAAYC,EAAOC,EAAQC,EAAU/L,EAAIgM,GAChCH,EAAMoB,WDOM,SAACpB,EAAOC,EAAQC,EAAU/L,EAAIgM,GACvD,IAAIR,EAAQK,EAAMoB,WAAW1W,IAC7B,GAAIsV,EAAMqB,mBAAoB,CAC5B,IAAI/O,EAAS2N,EAAOqB,kBACpBlH,UAAO0B,MAAMyF,QAAQ5B,GAAO,SAAC6B,GAC3BA,EAAItE,IAAM5K,EAAO4K,IACjBsE,EAAIvE,KAAO3K,EAAO2K,KAClBuE,EAAIC,aAAanP,EAAOsE,MAAQtE,EAAOoP,QACvCF,EAAI7D,MAAQrL,EAAOqL,MACnB6D,EAAIG,sBAAsB7B,IAC1B0B,EAAIrN,GAAK7B,EAAO6B,GAChBqN,EAAII,aAAetP,EAAOsP,aAC1BJ,EAAIK,MAAkC,QAA1B7B,EAAMoB,WAAWjX,KAC7B8V,EAAOjW,OAAOsI,GACd2N,EAAOvW,IAAI8X,GAAKP,gBAAgBO,GAChCvB,EAAOiB,mBACPhB,EAAS,CAAE/V,KAAM,uBAAwB6F,MAAM,IAC/CkQ,EAAS,CAAE/V,KAAM,wBAAyB6F,MAAM,YAGlDoK,UAAO0B,MAAMyF,QAAQ5B,GAAO,SAAC6B,GAC3BA,EAAIC,aAAa,KACjBD,EAAIvE,KAAO,IACXuE,EAAItE,IAAM,IACVsE,EAAIG,sBAAsB7B,IAC1B0B,EAAIrN,GAAKA,EACTqN,EAAII,aAAe,EACnBJ,EAAIK,MAAkC,QAA1B7B,EAAMoB,WAAWjX,KAC7B8V,EAAOvW,IAAI8X,GAAKP,gBAAgBO,GAChCvB,EAAOiB,mBACPf,OAGJD,EAAS,CAAE/V,KAAM,gBAAiB6F,KAAM,OCvCpC8R,CAAY9B,EAAOC,EAAQC,EAAU/L,EAAIgM,GAChCH,EAAM+B,eDyCK,SAAC9B,EAAQD,EAAOE,EAAU/L,EAAIgM,GACtDD,EAAS,CAAE/V,KAAM,mBAAoB6F,MAAM,IAC3C,IAAIoE,EAAO,IAAIgG,UAAOkF,QAAQ,sBAAnB,aACTrC,KAAM,IACNC,IAAK,IACLrC,OAAQ,IACRmH,QAAS,GACTpL,MAAO,IACPqL,iBAAiB,EACjBC,YAAa,IACVlC,EAAMmC,YAEX/N,EAAKD,GAAKA,EACV8L,EAAOvW,IAAI0K,GAAM6M,gBAAgB7M,GACjC6L,EAAOiB,mBACPf,ICvDIiC,CAAWnC,EAAQD,EAAOE,EAAU/L,EAAIgM,KAEzC,CAACF,EAAQC,EAAUF,EAAO7L,EAAIgM,KCTpBkC,GADMlI,wBAAc,MCF7BmI,GAAkB,CACtB,aACA,YACA,aACA,WACA,OACA,UACA,aAGIC,GAAmB,CAAC,OAAQ,SAAU,cAAe,KAAM,MAC3DC,GAAmB,CAAC,eAAgB,SA6BpCC,GAAiB,SAACrZ,EAAG8W,GACzB,IAAIE,EAAM,CAAEjW,KAAM,GAAIuY,OAAQ,MAC9BxC,EAAS,CAAE/V,KAAM,mBAAoB6F,KAAM5G,EAAE6L,OAAO0N,aAC9B,YAAlBvZ,EAAE6L,OAAO9K,KAAoBiW,EAAIjW,KA9BpB,SAACf,EAAG8W,GACrB,IAAI0C,EAAe,GAKnB,OAJAN,GAAgBO,SAAQ,SAACC,GACvBF,EAAaE,GAAY1Z,EAAE6L,OAAO6N,MAEpC5C,EAAS,CAAE/V,KAAM,eAAgB6F,KAAM4S,IAChC,OAwBqCG,CAAW3Z,EAAG8W,GAC/B,UAAlB9W,EAAE6L,OAAO9K,MAAoC,UAAhBf,EAAE6L,OAAOd,GAC7CiM,EAAIjW,KAdY,SAACf,EAAG8W,GACtB,IAAI8C,EAAgB,GAKpB,OAJAR,GAAiBK,SAAQ,SAACC,GACxBE,EAAcF,GAAY1Z,EAAE6L,OAAO6N,MAErC5C,EAAS,CAAE/V,KAAM,gBAAiB6F,KAAMgT,IACjC,QAQMC,CAAY7Z,EAAG8W,GACH,aAAhB9W,EAAE6L,OAAOd,GAAmBiM,EAAIjW,KAAO,WACvB,UAAhBf,EAAE6L,OAAOd,GAAgBiM,EAAIjW,KAzBpB,SAACf,EAAG8W,GACtB,IAAIgD,EAAgB,GAKpB,OAJAX,GAAiBM,SAAQ,SAACC,GACxBI,EAAcJ,GAAY1Z,EAAE6L,OAAO6N,MAErC5C,EAAS,CAAE/V,KAAM,gBAAiB6F,KAAMkT,IACjC9Z,EAAE6L,OAAO9K,KAmB6BgZ,CAAY/Z,EAAG8W,GACvDE,EAAIjW,KAAO,QAChBiW,EAAIsC,OAAStZ,EAAE6L,OACfiL,EAAS,CAAE/V,KAAM,mBAAoB6F,KAAMoQ,KCtCvCgD,GAAkB,SAACC,GACvBA,EAAEC,IAAI,qBACND,EAAEC,IAAI,qBACND,EAAEC,IAAI,qBACND,EAAEC,IAAI,mBACND,EAAEC,IAAI,mBACND,EAAEC,IAAI,kBACND,EAAEC,IAAI,kBACND,EAAEC,IAAI,iBACND,EAAEC,IAAI,kBACND,EAAEC,IAAI,iBACND,EAAEC,IAAI,gBACND,EAAEC,IAAI,wBACND,EAAEC,IAAI,wBA4HOC,GAzHc,SAACC,EAAavD,EAAQD,EAAOE,GACxD,MAAsCuD,qBAAWpB,IAAzCqB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cACpB,EAAoCjX,oBAAS,GAA7C,mBAAOkX,EAAP,KAAmBC,EAAnB,KACA,EAAkCnX,oBAAS,GAA3C,mBAAOoX,EAAP,KAAkBC,EAAlB,KACA,EAAkCrX,oBAAS,GAA3C,mBAAOsX,EAAP,KAAkBC,EAAlB,KACA,EAA0CvX,oBAAS,GAAnD,mBAAOwX,EAAP,KAAsBC,EAAtB,KACMrM,EAAc9O,kBAAO,GACrBob,EAAYpb,iBAAO,MAEnBqb,EAAiBlb,uBACrB,SAACC,GACC,IAAKA,EAAE6L,OAAOqP,aAAc,CAC1B,GAAoB,aAAhBlb,EAAE6L,OAAOd,GAAmB,CAC9B,IAAI+J,EAAI+B,EAAOsE,YAAiC,EAAnBtE,EAAOuE,WAChCrG,EACF8B,EAAOwE,YAAcxE,EAAOuE,UAC5Bpb,EAAE6L,OAAO4F,OACTzR,EAAE6L,OAAO6F,SACX1R,EAAE6L,OAAOyP,oBACP,IAAItK,UAAOM,MAAMwD,EAAGC,GACpB,SACA,eAGF/U,EAAE6L,OAAOiI,IAAM,EACf9T,EAAE6L,OAAOgI,KAAO,EAElB7T,EAAE6L,OAAO0P,eAGb,CAAC1E,IAGG2E,EAAezb,uBACnB,SAACka,EAAGnD,EAAU2E,GACZxB,EAAEyB,GAAG,wBAAwB,SAAC1b,GAAD,ODsBR,SAACA,EAAGia,EAAGc,GAChCA,GAAiB,GACK,wBAAlB/a,EAAE6L,OAAOb,OACXhL,EAAE6L,OAAOb,KAAO,GAChBhL,EAAE6L,OAAO8P,eAAe9O,MAAQ,GAChCoN,EAAEnC,oBC3BoC8D,CAAY5b,EAAGia,EAAGc,MACtDd,EAAEyB,GAAG,uBAAuB,SAAC1b,GAAD,OD8BR,SAACA,EAAGia,EAAGc,GAC/BA,GAAiB,GACK,KAAlB/a,EAAE6L,OAAOb,OAAahL,EAAE6L,OAAOb,KAAO,uBAC1CiP,EAAEnC,mBCjCqC+D,CAAW7b,EAAGia,EAAGc,MACpDd,EAAEyB,GAAG,qBAAqB,SAAC1b,GAAD,ODZP,SAACA,EAAGia,EAAGnD,EAAU2E,GAClB,oBAAlBzb,EAAE6L,OAAO9K,MAIT0a,GACF3E,EAAS,CAAE/V,KAAM,uBAAwB6F,MAAM,IAEjDyS,GAAerZ,EAAG8W,IANhBmD,EAAE6B,sBCWEC,CAAU/b,EAAGia,EAAGnD,EAAU2E,MAE5BxB,EAAEyB,GAAG,qBAAqB,SAAC1b,GAAD,ODYP,SAACA,EAAG8W,GAC3BA,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,IACzCyS,GAAerZ,EAAG8W,GCdmBkF,CAAUhc,EAAG8W,MAC9CmD,EAAEyB,GAAG,mBAAmB,SAAC1b,GAAD,ODOJ,SAACA,EAAG8W,GAC5BuC,GAAerZ,EAAG8W,GCRiBmF,CAAWjc,EAAG8W,MAC7CmD,EAAEyB,GAAG,qBAAqB,SAAC1b,GAAD,ODNP,SAACA,EAAG8W,EAAUkE,GACrCA,EAAU5a,QAAU,KACpB0W,EAAS,CACP/V,KAAM,mBACN6F,KAAM,CAAE7F,KAAM,GAAIuY,OAAQ,QAE5BxC,EAAS,CACP/V,KAAM,mBACN6F,KAAM,OCF6BsV,CAAUlc,EAAG8W,EAAUkE,MACxDf,EAAEyB,GAAG,mBAAmB,kBAAMjB,GAAc,MAC5CR,EAAEyB,GAAG,kBAAkB,kBAAMjB,GAAc,MAC3CR,EAAEyB,GAAG,kBAAkB,kBAAMf,GAAa,MAC1CV,EAAEyB,GAAG,iBAAiB,SAAC1b,GACrBib,EAAejb,GACf2a,GAAa,MAEfV,EAAEyB,GAAG,kBAAkB,kBAAMb,GAAa,MAC1CZ,EAAEyB,GAAG,iBAAiB,kBAAMb,GAAa,MACzCZ,EAAEyB,GAAG,gBAAgB,SAAC1b,GACpBib,EAAejb,GACfua,EAAc,CAAExZ,KAAM,cAAe6F,MAAM,SAG/C,CAAC2T,EAAeU,IAGlBtZ,qBAAU,WAMR,OALIyY,IACGxD,EAAMuF,WAEJnC,GAAgBnD,GADrB2E,EAAa3E,EAAQC,EAAUF,EAAM6E,oBAGlC,WACDrB,GAAaJ,GAAgBnD,MAElC,CACDC,EACAsD,EACAvD,EACA2E,EACA5E,EAAMuF,WACNvF,EAAM6E,oBAGR9Z,qBAAU,WACR,IAAK+M,EAAYtO,QAAS,CACxB,IAAIwG,GAAO,GAET4T,GACAE,GACAE,GACAN,EAAW8B,UACXtB,IACClE,EAAMyF,eACsB,UAA7BzF,EAAM0F,cAAcvb,QAEpB6F,GAAO,GACTkQ,EAAS,CAAE/V,KAAM,iBAAkB6F,YAEpC,CACD0T,EACAE,EACAE,EACAE,EACAE,EACAlE,EAAMuF,WACNvF,EAAMyF,cACNzF,EAAM0F,cACNxF,IAGFnV,qBAAU,WACH+M,EAAYtO,QAWVsO,EAAYtO,SAAU,EAVtBwW,EAAMyF,cAGTzF,EAAM0F,cAAchD,QACpB1C,EAAM0F,cAAchD,OAAOvO,KAAOiQ,EAAU5a,SACf,UAA7BwW,EAAM0F,cAAcvb,OAEpBia,EAAU5a,QAAUwW,EAAM0F,cAAchD,OAAOvO,GAC/C+L,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,KAPzCkQ,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,MAU5C,CAACgQ,EAAMyF,cAAezF,EAAM0F,cAAexF,EAAUF,EAAMuF,cChJ1DI,GAAW,SACfC,EACAC,EACAC,EACAC,EACA/I,EACAgJ,EACAC,EACAC,EACAC,GAEAnJ,EAAIO,OACJP,EAAIoJ,UAAYJ,EAChBhJ,EAAIqJ,YAAcJ,EAClBjJ,EAAIsJ,YACJtJ,EAAIuJ,QACDX,EAAKM,EAAkB,IAAMC,GAC7BN,EAAKK,EAAkB,IAAMC,GAEhCnJ,EAAIwJ,QACDV,EAAKI,EAAkB,IAAMC,GAC7BJ,EAAKG,EAAkB,IAAMC,GAEhCnJ,EAAI0D,SACJ1D,EAAIa,WAGA4I,GAAY,SAACC,EAAQC,EAAQC,GACjCF,EAASnZ,KAAKC,MAAMkZ,GACpBC,EAASpZ,KAAKC,MAAMmZ,GACpB,IACE,IAAIxU,EAAIuU,EAASE,EAAoBC,EAAMH,EAASE,EACpDzU,GAAK0U,EACL1U,IAEA,GAAIA,IAAMwU,EACR,OAAO,EAGX,OAAO,GAGIG,GAAmB,SAC9BC,EACA/J,EACAgJ,EACAC,EACAC,EACAC,GAEAR,GACEoB,EAAO7I,EAAI,GACX6I,EAAOlB,GAAKkB,EAAOhB,GAAKgB,EAAOhB,GAAKgB,EAAOlB,GAC3CkB,EAAO7I,EAAI,GACX6I,EAAOhB,GAAKgB,EAAOlB,GAAKkB,EAAOhB,GAAKgB,EAAOlB,GAC3C7I,EACAgJ,EACAC,EACAC,EACAC,IAISa,GAAqB,SAChCD,EACA/J,EACAgJ,EACAC,EACAC,EACAC,GAEAR,GACEoB,EAAOnB,GAAKmB,EAAOjB,GAAKiB,EAAOjB,GAAKiB,EAAOnB,GAC3CmB,EAAO5I,EAAI,GACX4I,EAAOjB,GAAKiB,EAAOnB,GAAKmB,EAAOjB,GAAKiB,EAAOnB,GAC3CmB,EAAO5I,EAAI,GACXnB,EACAgJ,EACAC,EACAC,EACAC,IChFEc,GAAiB,SACrBrB,EACAC,EACAC,EACAC,EACA/I,EACAkK,EACAC,EACAjB,GAEAlJ,EAAIO,OACJP,EAAIqJ,YAAca,EAClBlK,EAAIoJ,UAAYe,EAChBnK,EAAIsJ,YACJtJ,EAAIuJ,OAAOX,EAAKM,EAAkB,GAAIL,EAAKK,EAAkB,IAC7DlJ,EAAIwJ,OAAOV,EAAKI,EAAkB,GAAIH,EAAKG,EAAkB,IAC7DlJ,EAAI0D,SACJ1D,EAAIa,WCwMSuJ,GA9MO,SAACpH,EAAOwD,EAAavD,GACzC,MAAsCwD,qBAAWpB,IAAzCqB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cACpB,EAAsBjX,mBAAS,MAA/B,mBAAOsQ,EAAP,KAAYqK,EAAZ,KACA,EAAkD3a,mBAAS,MAA3D,mBAAOwZ,EAAP,KAA0BoB,EAA1B,KACA,EAA0C5a,mBAAS,IAAnD,mBAAO6a,EAAP,KAAsBC,EAAtB,KACA,EAA8C9a,mBAAS,IAAvD,mBAAO+a,EAAP,KAAwBC,EAAxB,KACA,EAAwBhb,mBAAS,GAAjC,mBAAOyZ,EAAP,KAAawB,EAAb,KAEA,EAAsCjb,mBAAS,MAA/C,mBAAOkb,EAAP,KAAoBC,EAApB,KACA,EAAwCnb,mBAAS,MAAjD,mBAAOob,EAAP,KAAqBC,EAArB,KACA,EAAwDrb,mBAAS,IAAjE,mBAAOsb,EAAP,KAA6BC,EAA7B,KACA,EAA0Dvb,mBAAS,IAAnE,mBAAOwb,EAAP,KAA8BC,EAA9B,KACA,EAAoDzb,mBAAS,MAA7D,mBAAO0b,EAAP,KAA2BC,EAA3B,KACA,EAAwD3b,mBAAS,MAAjE,mBAAO4b,EAAP,KAA6BC,EAA7B,KAMMtC,EAAoB,qBAEpBiB,GAAkB,qBAElBsB,GAAkBrf,uBAAY,WAClCme,EAAqBrH,EAAOiG,mBAC5ByB,EAAQ1H,EAAOuE,aACd,CAACvE,IAEEwI,GAAqBtf,uBAAY,WACrC8W,EAAOyI,aAAazI,EAAO0I,cAC1B,CAAC1I,IAEE2I,GAAezf,uBACnB,SAACC,IFwC+B,SAClCA,EACA6W,EACAiG,EACA2C,EACArB,EACAE,EACAd,GAEA,IAAIkC,EAAe1f,EAAE6L,OACnB8T,EAAgB9I,EAAO+I,aACvBC,EAAqBH,EAAaI,iBAClCC,EAAmBF,EAAmB/K,EACtCkL,EAAkBH,EAAmB9K,EACrCkL,EAA2BP,EAAaQ,kBACxCC,EAAqBF,EAAyBxO,OAASqL,EAAkB,GACzEsD,EAAoBH,EAAyBzS,MAAQsP,EAAkB,GACvEuD,GAAuB,EACvBC,GAAqB,EAGvB,GAFczJ,EAAO0J,kBAErB,CAEA,IAfG,eAeMxX,GACP,GAAI4W,EAAc5W,KAAO2W,EAAc,iBAEvC,IAAIc,EAAeb,EAAc5W,GAAG+W,iBAClCW,EAAaD,EAAa1L,EAC1B4L,EAAYF,EAAazL,EACzB4L,EAAqBhB,EAAc5W,GAAGmX,kBACtCU,EAAeD,EAAmBlP,OAASqL,EAAkB,GAC7D+D,EAAcF,EAAmBnT,MAAQsP,EAAkB,GAGzDO,GAAUoD,EAAYV,EAAkBvC,KAC1C8C,GAAqB,EACrBlC,GAAiB,SAACra,GAAD,4BACZA,GADY,CAEf,CACE+Q,EAAG2L,EACHhE,GACEiE,EAAYV,EACRU,EAAYE,EAAe,EAAInB,EAC/BiB,EAAYE,EAAe,EAAInB,EACrC9C,GACEqD,EAAkBU,EACdV,EAAkBG,EAAqB,EAAIV,EAC3CO,EAAkBG,EAAqB,EAAIV,QAIrDC,EAAapE,oBACX,IAAItK,UAAOM,MAAMmP,EAAYT,GAC7B,SACA,WAMF3C,GACEoD,EAAaI,EAAc,EAC3Bd,EAAmBK,EAAoB,EACvC5C,KAGF8C,GAAqB,EACrBlC,GAAiB,SAACra,GAAD,4BACZA,GADY,CAEf,CACE+Q,EAAG2L,EAAaI,EAAc,EAC9BpE,GACEiE,EAAYV,EACRU,EAAYE,EAAe,EAAInB,EAC/BiB,EAAYE,EAAe,EAAInB,EACrC9C,GACEqD,EAAkBU,EACdV,EAAkBG,EAAqB,EAAIV,EAC3CO,EAAkBG,EAAqB,EAAIV,QAIrDC,EAAapE,oBACX,IAAItK,UAAOM,MACTmP,EAAaI,EAAc,EAAIT,EAAoB,EACnDJ,GAEF,SACA,WAMF3C,GACEoD,EAAaI,EAAc,EAC3Bd,EAAmBK,EAAoB,EACvC5C,KAGF8C,GAAqB,EACrBlC,GAAiB,SAACra,GAAD,4BACZA,GADY,CAEf,CACE+Q,EAAG2L,EAAaI,EAAc,EAC9BpE,GACEiE,EAAYV,EACRU,EAAYE,EAAe,EAAInB,EAC/BiB,EAAYE,EAAe,EAAInB,EACrC9C,GACEqD,EAAkBU,EACdV,EAAkBG,EAAqB,EAAIV,EAC3CO,EAAkBG,EAAqB,EAAIV,QAIrDC,EAAapE,oBACX,IAAItK,UAAOM,MACTmP,EAAaI,EAAc,EAAIT,EAAoB,EACnDJ,GAEF,SACA,WAKA3C,GAAUqD,EAAWV,EAAiBxC,KACxC6C,GAAuB,EACvB/B,GAAmB,SAACva,GAAD,4BACdA,GADc,CAEjB,CACEgR,EAAG2L,EACHlE,GACEiE,EAAaV,EACTU,EAAaI,EAAc,EAAIpB,EAC/BgB,EAAaI,EAAc,EAAIpB,EACrC/C,GACEqD,EAAmBU,EACfV,EAAmBK,EAAoB,EAAIX,EAC3CM,EAAmBK,EAAoB,EAAIX,QAIrDC,EAAapE,oBACX,IAAItK,UAAOM,MAAMyO,EAAkBW,GACnC,SACA,WAMFrD,GACEqD,EAAYE,EAAe,EAC3BZ,EAAkBG,EAAqB,EACvC3C,KAGF6C,GAAuB,EACvB/B,GAAmB,SAACva,GAAD,4BACdA,GADc,CAEjB,CACEgR,EAAG2L,EAAYE,EAAe,EAC9BpE,GACEiE,EAAaV,EACTU,EAAaI,EAAc,EAAIpB,EAC/BgB,EAAaI,EAAc,EAAIpB,EACrC/C,GACEqD,EAAmBU,EACfV,EAAmBK,EAAoB,EAAIX,EAC3CM,EAAmBK,EAAoB,EAAIX,QAGrDC,EAAapE,oBACX,IAAItK,UAAOM,MACTyO,EACAW,EAAYE,EAAe,EAAIT,EAAqB,GAEtD,SACA,WAMF9C,GACEqD,EAAYE,EAAe,EAC3BZ,EAAkBG,EAAqB,EACvC3C,KAGF6C,GAAuB,EACvB/B,GAAmB,SAACva,GAAD,4BACdA,GADc,CAEjB,CACEgR,EAAG2L,EAAYE,EAAe,EAC9BpE,GACEiE,EAAaV,EACTU,EAAaI,EAAc,EAAIpB,EAC/BgB,EAAaI,EAAc,EAAIpB,EACrC/C,GACEqD,EAAmBU,EACfV,EAAmBK,EAAoB,EAAIX,EAC3CM,EAAmBK,EAAoB,EAAIX,QAIrDC,EAAapE,oBACX,IAAItK,UAAOM,MACTyO,EACAW,EAAYE,EAAe,EAAIT,EAAqB,GAEtD,SACA,YA/LGpX,EAAI4W,EAAc3W,OAAQD,KAAO,EAAjCA,GAoMJsX,GAAsB/B,EAAmB,IACzCgC,GAAoBlC,EAAiB,KEnQtC0C,CACE9gB,EACA6W,EACAiG,EAtBqB,EAwBrBsB,EACAE,EAvBqB,GDgCa,SACxCte,EACA6W,EACAoI,EACAE,EACAP,EACAE,EACAN,EACAE,GAEA,IAAIpF,EAAStZ,EAAE6L,OACb2U,EAAelH,EAAOwG,iBAGxB,GAFcjJ,EAAO0J,kBAErB,CACA,IAAIQ,EAAe5c,KAAKC,MAAMoc,EAAa1L,KAAM8J,EAC7CoC,EAAiB7c,KAAKC,MAAMoc,EAAazL,KAAM+J,EACnDG,EAAsB8B,GACtB5B,EAAwB6B,IAEpBD,GAAgBC,IAClB1H,EAAOgC,oBACL,IAAItK,UAAOM,MACTyP,EAAevC,EAAc,EAAIgC,EAAa1L,EAC9CkM,EAAiBtC,EAAe,EAAI8B,EAAazL,GAEnD,SACA,WCjCAkM,CACEjhB,EACA6W,EACAoI,EACAE,EACAP,EACAE,EACAN,EACAE,KAGJ,CACE7H,EACAiG,EACA4B,EACAI,EACAN,EACAI,IAIEsC,GAAoBnhB,uBAAY,WACpC,IAAK,IAAIgJ,EAAIoV,EAAcnV,OAAQD,KACjC2U,GACES,EAAcpV,GACd6K,EApDoB,EAsDpBiJ,EACAC,EACAC,GAGJ,IAAK,IAAIhU,EAAIsV,EAAgBrV,OAAQD,KACnC6U,GACES,EAAgBtV,GAChB6K,EA9DoB,EAgEpBiJ,EACAC,EACAC,GAGJqB,EAAiB,IACjBE,EAAmB,IACfU,GD9E8B,SACpCmC,EACAzC,EACA9K,EACAkK,EACAC,EACAjB,GAEAe,GACEsD,EAAoB,GACpB,EACAA,EAAoB,GACpBzC,EACA9K,EACAkK,EACAC,EACAjB,GC+DEsE,CACE5C,EAAc,EACdE,EACA9K,EACAkK,GAxEkB,EA0ElBhB,GAGAoC,GDpEgC,SACtCmC,EACA7C,EACA5K,EACAkK,EACAC,EACAjB,GAEAe,GACE,EACAwD,EAAqB,GACrB7C,EACA6C,EAAqB,GACrBzN,EACAkK,EACAC,EACAjB,GCqDEwE,CACE5C,EAAe,EACfF,EACA5K,EACAkK,GAlFkB,EAoFlBhB,KAGH,CACDlJ,EACAkJ,EACAuB,EACAF,EACApB,EACA2B,EACAF,EACAU,EACAF,IAGIuC,GAAgBxhB,uBAAY,WAChCqe,EAAiB,IACjBE,EAAmB,IACnBW,EAAsB,MACtBE,EAAwB,MACxBtI,EAAOiB,qBACN,CAACjB,IAEE2K,GAAiBzhB,uBAAY,WACjCke,EAAOpH,EAAO4K,uBACdhD,EAAe5H,EAAOsE,WAAatE,EAAOuE,WAC1CuD,EAAgB9H,EAAOwE,YAAcxE,EAAOuE,WAG5C,IAFA,IAAIsG,EAAW,GACXC,EAAY,GAEV5Y,EAAIyV,EAAc,EApHD,EAqHnBf,EAAMe,EAAc,EArHD,EAsHrBzV,GAAK0U,EACL1U,IAEA2Y,EAASvd,KAAKC,MAAM2E,KAAM,EAE5B,IACE,IAAIA,EAAI2V,EAAe,EA5HF,EA6HnBjB,EAAMiB,EAAe,EA7HF,EA8HrB3V,GAAK0U,EACL1U,IAEA4Y,EAAUxd,KAAKC,MAAM2E,KAAM,EAE7B8V,EAAwB6C,GACxB3C,EAAyB4C,KACxB,CAACjD,EAAcF,EAAa3H,IAEzB+K,GAAkB7hB,uBAAY,SAAC8W,GACnCA,EAAOqD,IAAI,cACXrD,EAAOqD,IAAI,iBACXrD,EAAOqD,IAAI,iBACXrD,EAAOqD,IAAI,gBACXrD,EAAOqD,IAAI,cACV,IAEHvY,qBAAU,WACJyY,GACFoH,OAED,CAAC5K,EAAMiL,uBAAwBzH,EAAaoH,KAE/C7f,qBAAU,WAmBR,OAlBIyY,GAAexG,IAAQgD,EAAMuF,YAC/BtF,EAAO6E,GAAG,aAAc0D,IACxBvI,EAAO6E,GAAG,iBAAiB,SAAC1b,GACrBsa,EAAW8B,UACd7B,EAAc,CAAExZ,KAAM,cAAe6F,MAAM,IAE7C4Y,GAAaxf,MAEf6W,EAAO6E,GAAG,gBAAiB2D,IAC3BxI,EAAO6E,GAAG,eAAgBwF,IAC1BrK,EAAO6E,GAAG,YAAY,SAAC1b,GACJ,IAAbA,EAAE8hB,SACJvH,EAAc,CAAExZ,KAAM,qBAAsB6F,KAAM5G,IAClDA,EAAEA,EAAEC,kBAENshB,GAAcvhB,OAEP4W,EAAMuF,YAAYyF,GAAgB/K,GACtC,WACDuD,GAAexG,GAAKgO,GAAgB/K,MAEzC,CACDyD,EACAC,EACA3D,EAAMiL,uBACNjL,EAAMuF,WACNyF,GACAxH,EACAxG,EACAiD,EACA0K,GACAL,GACA1B,GACAH,GACAD,M,qBCpNE1Z,GAAS,CAAC,SAiBHqc,GAAmB,SAACnL,EAAOC,EAAQC,GAC9C,IAAIP,EAAQM,EAAOqB,kBACnB,GAAI3B,GAAwB,UAAfA,EAAMxV,KAAkB,CACnC,IAAI4W,EAASf,EAAMoL,WAAWxJ,aAC9BjC,EAAM0L,IAAI,WAnBS,SAAC7J,EAAKT,GAC3B,IAAIuK,EAAkB9J,EAAI5K,MAAQ4K,EAAIE,OAASX,EAAU,IACrDwK,EAAkB/J,EAAI3G,OAAS2G,EAAIgK,OAASzK,EAAU,IAU1D,OATW,IAAI3G,UAAOkG,KAAK,CACzB1J,MAAO4K,EAAI5K,MACXiE,OAAQ2G,EAAI3G,OACZ+F,GAAI0K,EAAiB9J,EAAIE,OACzBb,GAAI0K,EAAiB/J,EAAIgK,OACzBvO,MAAOuE,EAAI5K,MAAQ,EACnBsG,KAAMsE,EAAI3G,OAAS,EACnB0F,cAAc,IASQkL,CAAe9L,EAAOoB,IAC5CpB,EAAMiC,aAAeb,EACrBd,EAAOiB,mBAEThB,EAAS,CAAE/V,KAAM,uBAAwB6F,MAAM,KAGpC0b,GAAa,SAACzL,EAAQ7L,EAAMuX,GACvCC,KAAQC,KAAK,CACXC,OAAQ,CACNC,SAAU,CAACJ,IAEbve,QAAS,IACT4e,WAAY,SAACC,EAAYC,GACvB9X,EAAKiX,IAAI,CAAEc,WAAYF,IACvBhM,EAAOiB,uBC9BPkL,GAAW,CAAC,OAAQ,SAAU,WAAY,QA4BjCC,GA1BS,SAACrM,EAAOE,EAAUD,GACxClV,qBAAU,WACJiV,EAAMsM,uBD0DsB,SAACtM,EAAOC,EAAQC,GAClD,GAAIF,EAAMuM,eAAgB,CACxB,IAAInY,EAAO4L,EAAM0F,cAAchD,OAC/BtO,EAAKoY,cACL,cAA2BlR,OAAOmR,QAAQzM,EAAMuM,gBAAhD,eAAiE,CAA5D,0BAAOG,EAAP,KAAYzW,EAAZ,KACS,eAARyW,GACFtY,EAAKiX,IAAIqB,EAAKzW,GAGbnH,GAAO+G,SAASmK,EAAMuM,eAAeJ,aAQxC/X,EAAKiX,IAAI,CACPc,WAAYnM,EAAMuM,eAAeJ,aAEnClM,EAAOiB,qBAVPwK,GACEzL,EACA7L,EACA4L,EAAMuM,eAAeJ,YAEvBrd,GAAO0D,KAAKwN,EAAMuM,eAAeJ,aAQ9BnM,EAAM2M,aAAazM,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,IAEnEkQ,EAAS,CAAE/V,KAAM,2BAA4B6F,MAAM,IClF/C4c,CAAqB5M,EAAOC,EAAQC,GAElCF,EAAM6M,oBChBmB,SAAC7M,EAAOC,EAAQC,GAC/CD,EAAO6M,gBAAkB9M,EAAM8M,gBAC/B7M,EAAOiB,mBACPhB,EAAS,CAAE/V,KAAM,wBAAyB6F,MAAM,IDc5C+c,CAAkB/M,EAAMgN,YAAa/M,EAAQC,GAE3CF,EAAMiL,wBCbkB,SAACjL,EAAOC,EAAQC,GAC9CD,EAAOiF,sBACP,IAAI+H,EAAQ1f,KAAK2f,IACflN,EAAMpJ,MAAQoJ,EAAMmN,aACpBnN,EAAMnF,OAASmF,EAAMoN,eAEvBnN,EAAO0H,QAAQsF,GACfhN,EAAOoN,cAAc,CACnBzW,MAAOoJ,EAAMpJ,MACbiE,OAAQmF,EAAMnF,SAEhBoF,EAAOiB,mBACPhB,EAAS,CAAE/V,KAAM,4BAA6B6F,MAAM,IDEhDsd,CAAiBtN,EAAMgN,YAAa/M,EAAQC,GAE1CF,EAAMuN,kBAAiD,SAA7BvN,EAAM0F,cAAcvb,MDsBvB,SAAC6V,EAAOC,EAAQC,GAC7C,GAAIF,EAAMmC,UAAW,CACnBnC,EAAM0F,cAAchD,OAAO8J,cAC3B,cAA2BlR,OAAOmR,QAAQzM,EAAMmC,WAAhD,eAA4D,CAAvD,0BAAOuK,EAAP,KAAYzW,EAAZ,KACS,eAARyW,GACF1M,EAAM0F,cAAchD,OAAO2I,IAAIqB,EAAKzW,GAGnCnH,GAAO+G,SAASmK,EAAMmC,UAAUgK,aAQnCnM,EAAM0F,cAAchD,OAAO2I,IAAI,CAC7Bc,WAAYnM,EAAMmC,UAAUgK,aAE9BlM,EAAOiB,qBAVPwK,GACEzL,EACAD,EAAM0F,cAAchD,OACpB1C,EAAMmC,UAAUgK,YAElBrd,GAAO0D,KAAKwN,EAAMmC,UAAUgK,aAQzBnM,EAAM2M,aAAazM,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,IAEnEkQ,EAAS,CAAE/V,KAAM,sBAAuB6F,MAAM,IC7C1Cwd,CAAgBxN,EAAOC,EAAQC,GAG/BF,EAAMyN,mBACNrB,GAASvW,SAASmK,EAAM0F,cAAcvb,ODwEZ,SAAC6V,EAAOC,EAAQC,GAC9C,GAAIF,EAAM0N,WAAY,CAEpB,cAA2BpS,OAAOmR,QAAQzM,EAAM0N,YAAhD,eAA6D,CAAxD,0BAAOhB,EAAP,KAAYzW,EAAZ,KACH+J,EAAM0F,cAAchD,OAAO2I,IAAIqB,EAAKzW,GAEjC+J,EAAM2M,aAAazM,EAAS,CAAE/V,KAAM,iBAAkB6F,MAAM,IACjEiQ,EAAOiB,mBAEThB,EAAS,CAAE/V,KAAM,uBAAwB6F,MAAM,IC/E3C2d,CAAiB3N,EAAOC,EAAQC,GAE9BF,EAAM4N,mBAAkD,UAA7B5N,EAAM0F,cAAcvb,MACjDghB,GAAiBnL,EAAOC,EAAQC,KAEjC,CAACF,EAAOE,EAAUD,K,wCElCR,OAA0B,sCCA1B,OAA0B,iCCA1B,OAA0B,0CCA1B,OAA0B,mCCA1B,OAA0B,qCCA1B,OAA0B,sCCA1B,OAA0B,uCCA1B,OAA0B,wC,oBC2hC1B4N,GA3hCA,CACb,UACA,OACA,eACA,gBACA,WACA,OACA,QACA,UACA,aACA,kBACA,iBACA,mBACA,UACA,SACA,QACA,SACA,UACA,OACA,WACA,cACA,gBACA,mBACA,OACA,aACA,gBACA,QACA,QACA,gBACA,QACA,UACA,kBACA,SACA,UACA,WACA,mBACA,cACA,WACA,WACA,YACA,YACA,QACA,QACA,QACA,UACA,SACA,SACA,mBACA,SACA,2BACA,gBACA,QACA,eACA,aACA,QACA,SACA,UACA,eACA,sBACA,UACA,gBACA,iBACA,aACA,gBACA,QACA,WACA,SACA,UACA,WACA,OACA,OACA,OACA,iBACA,OACA,QACA,YACA,UACA,OACA,SACA,OACA,aACA,SACA,YACA,aACA,UACA,eACA,sBACA,eACA,oBACA,qBACA,OACA,YACA,aACA,UACA,YACA,eACA,SACA,UACA,eACA,iBACA,kBACA,aACA,gBACA,gBACA,kBACA,iBACA,gBACA,YACA,UACA,SACA,mBACA,wBACA,aACA,SACA,QACA,eACA,aACA,UACA,QACA,aACA,aACA,WACA,YACA,UACA,UACA,eACA,YACA,QACA,UACA,kBACA,aACA,QACA,wBACA,+BACA,4BACA,gCACA,6BACA,qBACA,gBACA,cACA,QACA,mBACA,WACA,oBACA,UACA,SACA,0BACA,iBACA,gBACA,UACA,cACA,QACA,SACA,WACA,aACA,gBACA,UACA,aACA,eACA,iBACA,cACA,OACA,UACA,SACA,kBACA,gBACA,iBACA,eACA,aACA,iBACA,QACA,kBACA,eACA,kBACA,aACA,QACA,UACA,YACA,iBACA,SACA,QACA,SACA,YACA,cACA,cACA,WACA,QACA,QACA,iBACA,oBACA,aACA,UACA,YACA,SACA,SACA,eACA,qBACA,cACA,eACA,SACA,aACA,SACA,QACA,aACA,WACA,qBACA,YACA,iBACA,SACA,oBACA,eACA,QACA,SACA,WACA,QACA,WACA,SACA,oBACA,iBACA,OACA,eACA,WACA,QACA,QACA,YACA,aACA,cACA,eACA,cACA,YACA,UACA,eACA,cACA,SACA,QACA,SACA,YACA,qBACA,mBACA,eACA,oBACA,oBACA,YACA,gBACA,UACA,WACA,wBACA,eACA,YACA,cACA,cACA,eACA,gBACA,UACA,SACA,YACA,SACA,cACA,UACA,UACA,mBACA,gBACA,SACA,iBACA,UACA,mBACA,cACA,uBACA,WACA,QACA,kBACA,SACA,oBACA,iBACA,gBACA,WACA,aACA,WACA,gBACA,YACA,eACA,WACA,QACA,SACA,cACA,aACA,QACA,QACA,cACA,cACA,YACA,YACA,cACA,aACA,iBACA,QACA,YACA,QACA,aACA,cACA,QACA,mBACA,cACA,eACA,cACA,wBACA,uBACA,6BACA,4BACA,aACA,YACA,YACA,WACA,YACA,UACA,kBACA,QACA,MACA,QACA,gBACA,WACA,eACA,QACA,SACA,YACA,mBACA,aACA,WACA,YACA,WACA,WACA,SACA,SACA,QACA,eACA,YACA,YACA,YACA,sBACA,4BACA,aACA,YACA,WACA,UACA,aACA,mBACA,QACA,eACA,mBACA,WACA,eACA,uBACA,cACA,WACA,SACA,UACA,UACA,YACA,YACA,kBACA,WACA,QACA,SACA,SACA,WACA,UACA,eACA,WACA,UACA,gBACA,qBACA,MACA,UACA,eACA,eACA,SACA,gBACA,WACA,iBACA,gBACA,SACA,oBACA,aACA,aACA,UACA,WACA,YACA,OACA,wBACA,WACA,cACA,eACA,eACA,cACA,SACA,iBACA,SACA,SACA,QACA,OACA,SACA,WACA,SACA,iBACA,SACA,kBACA,UACA,eACA,UACA,UACA,eACA,YACA,eACA,QACA,cACA,aACA,uBACA,YACA,OACA,cACA,eACA,gBACA,gBACA,kBACA,iBACA,WACA,gBACA,gBACA,0BACA,iBACA,kBACA,qBACA,sBACA,yBACA,kBACA,qBACA,uBACA,0BACA,uBACA,0BACA,mBACA,UACA,UACA,QACA,UACA,cACA,QACA,eACA,QACA,iBACA,aACA,cACA,QACA,eACA,YACA,WACA,YACA,OACA,mBACA,0BACA,QACA,iBACA,iBACA,aACA,eACA,WACA,YACA,eACA,eACA,OACA,WACA,MACA,SACA,QACA,kBACA,QACA,OACA,oBACA,0BACA,MACA,QACA,QACA,UACA,QACA,YACA,QACA,QACA,UACA,iBACA,YACA,SACA,aACA,aACA,aACA,QACA,QACA,QACA,QACA,iBACA,WACA,YACA,UACA,OACA,YACA,SACA,cACA,YACA,SACA,SACA,QACA,SACA,YACA,OACA,QACA,aACA,YACA,oBACA,aACA,SACA,kBACA,UACA,QACA,cACA,UACA,WACA,SACA,SACA,OACA,gBACA,eACA,SACA,SACA,QACA,WACA,SACA,cACA,aACA,cACA,cACA,cACA,cACA,eACA,oBACA,yBACA,mBACA,4BACA,iCACA,wBACA,2BACA,oBACA,uBACA,oBACA,iBACA,cACA,aACA,kBACA,YACA,cACA,WACA,mBACA,SACA,UACA,cACA,mBACA,kBACA,kBACA,iBACA,YACA,OACA,wBACA,oBACA,iBACA,eACA,WACA,UACA,YACA,oBACA,gBACA,UACA,qBACA,OACA,QACA,gBACA,UACA,qBACA,OACA,OACA,WACA,UACA,UACA,UACA,WACA,UACA,YACA,eACA,eACA,YACA,eACA,YACA,WACA,SACA,cACA,SACA,OACA,UACA,YACA,UACA,SACA,gBACA,aACA,eACA,SACA,cACA,WACA,eACA,eACA,oBACA,QACA,cACA,eACA,cACA,WACA,UACA,YACA,mBACA,OACA,UACA,eACA,QACA,iBACA,OACA,QACA,iBACA,QACA,UACA,QACA,QACA,WACA,UACA,uBACA,UACA,SACA,aACA,wBACA,uBACA,OACA,WACA,yBACA,gBACA,aACA,WACA,iBACA,sBACA,gBACA,QACA,cACA,cACA,cACA,SACA,eACA,gBACA,MACA,qBACA,eACA,sBACA,iBACA,mBACA,YACA,SACA,SACA,aACA,cACA,aACA,aACA,UACA,UACA,YACA,SACA,SACA,UACA,UACA,UACA,uBACA,eACA,YACA,eACA,eACA,eACA,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,WACA,YACA,YACA,YACA,aACA,cACA,YACA,cACA,SACA,SACA,cACA,cACA,iBACA,UACA,KACA,kBACA,YACA,cACA,yBACA,YACA,sBACA,cACA,WACA,UACA,UACA,kBACA,SACA,mBACA,WACA,cACA,WACA,gBACA,MACA,UACA,SACA,cACA,UACA,UACA,kBACA,iBACA,WACA,mBACA,WACA,SACA,YACA,iBACA,WACA,UACA,aACA,cACA,cACA,qBACA,eACA,kBACA,UACA,YACA,UACA,cACA,UACA,UACA,mBACA,sBACA,UACA,cACA,YACA,SACA,gBACA,aACA,UACA,OACA,WACA,mBACA,sBACA,UACA,aACA,aACA,OACA,WACA,eACA,aACA,UACA,mBACA,mBACA,YACA,iBACA,QACA,cACA,iBACA,QACA,iBACA,WACA,SACA,aACA,cACA,cACA,UACA,eACA,SACA,WACA,eACA,oBACA,YACA,YACA,iBACA,UACA,kBACA,SACA,WACA,SACA,UACA,eACA,aACA,WACA,SACA,eACA,WACA,SACA,QACA,OACA,YACA,eACA,YACA,kBACA,eACA,WACA,YACA,YACA,gBACA,aACA,UACA,gBACA,SACA,gBACA,YACA,SACA,SACA,mBACA,cACA,cACA,YACA,YACA,gBACA,UACA,YACA,YACA,UACA,WACA,eACA,UACA,YACA,QACA,iBACA,OACA,SACA,cACA,SACA,aACA,iBACA,YACA,SACA,MACA,aACA,UACA,OACA,QACA,kBACA,wBACA,uBACA,oBACA,QACA,UACA,WACA,UACA,kBACA,UACA,SACA,SACA,WACA,UACA,kBACA,kBACA,QACA,eACA,aACA,YACA,iBACA,cACA,eACA,uBACA,MACA,YACA,cACA,qBACA,yBACA,SACA,QACA,aACA,kBACA,kBACA,qBACA,YACA,cACA,YACA,WACA,aACA,UACA,mBACA,YACA,aACA,UACA,gBACA,WACA,UACA,aACA,aACA,UACA,SACA,SACA,UACA,UACA,gBACA,aACA,QACA,SACA,aACA,aACA,OACA,mBACA,kBACA,kBACA,mBACA,gBACA,aACA,UACA,gBACA,WACA,cACA,aACA,YACA,SACA,aACA,uBACA,WACA,WACA,cACA,YACA,gBACA,kBACA,QACA,wBACA,uBACA,QACA,SACA,UACA,sBACA,WACA,gBACA,SACA,YACA,YACA,mBACA,OACA,UACA,YACA,cACA,qBACA,YACA,OACA,YACA,eACA,UACA,YACA,SACA,QACA,UACA,OACA,QACA,qBACA,aACA,cACA,YACA,YACA,qBACA,SACA,UACA,UACA,QACA,YACA,gBACA,WACA,cACA,YACA,UACA,WACA,UACA,UACA,aACA,UACA,aACA,cACA,SACA,mBACA,cACA,QACA,iBACA,WACA,YACA,iBACA,qBACA,UACA,SACA,OACA,QACA,cACA,SACA,eACA,QACA,cACA,eACA,eACA,QACA,QACA,WACA,OACA,QACA,UACA,WACA,cACA,WACA,0BACA,WACA,kBACA,SACA,YACA,YACA,WACA,YACA,YACA,oBACA,cACA,YACA,aACA,YACA,aACA,aACA,OACA,cACA,eACA,wBACA,gBACA,SACA,gBACA,aACA,wBCt+BaC,GA7CO,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","file":"static/js/main.8e1d471f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DownloadCanvas\":\"VideoEditor_DownloadCanvas__3rCEz\",\"Main\":\"VideoEditor_Main__RsHdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasComponent\":\"Canvas_CanvasComponent__2cQcG\",\"Canvas\":\"Canvas_Canvas__3oXwS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Homepage\":\"Homepage_Homepage__3OyFd\",\"Main\":\"Homepage_Main__1n7s2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LineDropdown\":\"StrokeWidthDropdown_LineDropdown__102cb\",\"ShapeDropdown\":\"StrokeWidthDropdown_ShapeDropdown__y2mdf\",\"StrokeOption\":\"StrokeWidthDropdown_StrokeOption__3PBYq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Templates\":\"Templates_Templates__18kjm\",\"NavLinks\":\"Templates_NavLinks__39YJI\",\"Link\":\"Templates_Link__BofFD\",\"Active\":\"Templates_Active__21pqj\",\"Heading\":\"Templates_Heading__uEwga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"Editor_Editor__3ckPM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Uploader\":\"Uploader_Uploader__lgMfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__1YXGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextAlignDropdown\":\"TextAlignDropdown_TextAlignDropdown__PkoUd\",\"TextAlignOption\":\"TextAlignDropdown_TextAlignOption__2NPzu\",\"Current\":\"TextAlignDropdown_Current__2vk5u\",\"TextAlignImage\":\"TextAlignDropdown_TextAlignImage__wtSLz\",\"TextAlignText\":\"TextAlignDropdown_TextAlignText__nuEMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__ko406\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Video\":\"Video_Video__3P9at\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__364Yd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShapeToolbar\":\"ShapeToolbar_ShapeToolbar__3ltKA\",\"BorderDiv\":\"ShapeToolbar_BorderDiv__1MpYU\",\"DownArrow\":\"ShapeToolbar_DownArrow__MgRL3\",\"FillContainer\":\"ShapeToolbar_FillContainer__dFbZJ\",\"StrokeContainer\":\"ShapeToolbar_StrokeContainer__21-kB\",\"StrokeWidthContainer\":\"ShapeToolbar_StrokeWidthContainer__1IzFk\",\"RadiusContainer\":\"ShapeToolbar_RadiusContainer__3GI8W\",\"ColorPickerBorder\":\"ShapeToolbar_ColorPickerBorder__qXCuh\",\"ColorPicker\":\"ShapeToolbar_ColorPicker__2vzHo\",\"StrokeWidthInputContainer\":\"ShapeToolbar_StrokeWidthInputContainer__1ISoG\",\"StrokeWidthInput\":\"ShapeToolbar_StrokeWidthInput__239HS\",\"StrokeWidthArrowContainer\":\"ShapeToolbar_StrokeWidthArrowContainer__2MBk5\",\"RadiusInput\":\"ShapeToolbar_RadiusInput__19zGn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Webinar\":\"Webinar_Webinar__3CCu4\",\"Heading\":\"Webinar_Heading__2-VYO\",\"Subheading\":\"Webinar_Subheading__wvhlo\",\"TemplatesList\":\"Webinar_TemplatesList__3YOqH\",\"Template\":\"Webinar_Template__2t8zc\",\"TemplateInner\":\"Webinar_TemplateInner__3GfSd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasToolbar\":\"CanvasToolbar_CanvasToolbar__2hdMU\",\"BorderDiv\":\"CanvasToolbar_BorderDiv__1KyoH\",\"DownArrow\":\"CanvasToolbar_DownArrow__2Ii5A\",\"TemplatesContainer\":\"CanvasToolbar_TemplatesContainer__23oBW\",\"ResizeContainer\":\"CanvasToolbar_ResizeContainer__198p0\",\"ColorContainer\":\"CanvasToolbar_ColorContainer__3uL9Q\",\"OptionText\":\"CanvasToolbar_OptionText__cr_ng\",\"ResizeDropdown\":\"CanvasToolbar_ResizeDropdown__2Fhs4\",\"ColorPickerBorder\":\"CanvasToolbar_ColorPickerBorder__1sugA\",\"ColorPicker\":\"CanvasToolbar_ColorPicker__3ROju\",\"ColorDropdownContainer\":\"CanvasToolbar_ColorDropdownContainer__L8SXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DragDrop\":\"DragDrop_DragDrop__69U1q\",\"UploadText\":\"DragDrop_UploadText__3BF2H\",\"DropArea\":\"DragDrop_DropArea__3Ck_W\",\"DropAreaContent\":\"DragDrop_DropAreaContent__2FbMw\",\"DropAreaText\":\"DragDrop_DropAreaText__3Nk_9\",\"DropAreaHeading\":\"DragDrop_DropAreaHeading__3SZMc\",\"DropAreaSubheading\":\"DragDrop_DropAreaSubheading__37y0F\",\"DropAreaBrowse\":\"DragDrop_DropAreaBrowse__1ku5G\",\"Active\":\"DragDrop_Active__2Le0T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ImageDropdown_Dropdown__2eYxV\",\"UplaodButtonContainer\":\"ImageDropdown_UplaodButtonContainer__1lY8g\",\"UploadButton\":\"ImageDropdown_UploadButton__1lQXO\",\"FileInput\":\"ImageDropdown_FileInput__2Rzkx\",\"Images\":\"ImageDropdown_Images__LZdgK\",\"Column\":\"ImageDropdown_Column__27Nmx\",\"ImageContainer\":\"ImageDropdown_ImageContainer__1YX4Q\",\"Image\":\"ImageDropdown_Image__2oCLN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordContainer\":\"Words_WordContainer__2MxYw\",\"Word\":\"Words_Word__3b2m1\",\"Pause\":\"Words_Pause__33kzp\",\"Deleted\":\"Words_Deleted__3CMYk\",\"DeletedText\":\"Words_DeletedText__1n8km\",\"WordInput\":\"Words_WordInput__3lLIb\",\"CurrentWord\":\"Words_CurrentWord__3w6qS\",\"Highlight\":\"Words_Highlight__cba72\",\"DeletedImgContainer\":\"Words_DeletedImgContainer__2Mj9-\",\"DeletedImg\":\"Words_DeletedImg__2JxpA\",\"InSelection\":\"Words_InSelection__33LHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__1Hp4L\",\"Links\":\"SideDrawer_Links__3agJG\",\"Link\":\"SideDrawer_Link__26bLH\",\"LinkText\":\"SideDrawer_LinkText__37vsx\",\"Active\":\"SideDrawer_Active__3v6LT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Projects\":\"Projects_Projects__Ml6Tj\",\"Heading\":\"Projects_Heading__1sNm8\",\"Subheading\":\"Projects_Subheading__jSsjo\",\"ProjectsList\":\"Projects_ProjectsList__3ZhTK\",\"AddProject\":\"Projects_AddProject__3o80h\",\"ProjectContainer\":\"Projects_ProjectContainer__dr8O4\",\"AddProjectInner\":\"Projects_AddProjectInner__1q9TS\",\"AddProjectText\":\"Projects_AddProjectText__2pD9X\"};","export default __webpack_public_path__ + \"static/media/upload.c3eba292.svg\";","import React, { useEffect, useRef, useCallback } from 'react';\r\nimport styles from './DragDrop.module.css';\r\nimport upload from '../../../assets/editor/upload.svg';\r\n\r\nconst DragDrop = ({ setVideoForUpload, setVideoDuration }) => {\r\n  const uploadRef = useRef(null);\r\n  const dropAreaRef = useRef(null);\r\n  // const uploadHandler = () => {\r\n  //   setVideoForUpload(uploadRef.current.files[0]);\r\n  // };\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'copy';\r\n    dropAreaRef.current.classList.add(styles.Active);\r\n    return false;\r\n  }, []);\r\n\r\n  const handleDragEnter = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dropAreaRef.current.classList.add(styles.Active);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dropAreaRef.current.classList.remove(styles.Active);\r\n  }, []);\r\n\r\n  const validateFile = useCallback(\r\n    (file) => {\r\n      if (file.type === 'video/mp4') {\r\n        let video = document.createElement('video');\r\n        video.preload = 'metadata';\r\n        video.onloadedmetadata = () => {\r\n          if (video.duration > 1) {\r\n            setVideoDuration(video.duration);\r\n            setVideoForUpload(file);\r\n          }\r\n          return;\r\n        };\r\n        video.src = URL.createObjectURL(file);\r\n      }\r\n    },\r\n    [setVideoDuration, setVideoForUpload]\r\n  );\r\n\r\n  const handleDrop = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dropAreaRef.current.classList.remove(styles.Active);\r\n      let file = e.dataTransfer.files[0];\r\n      validateFile(file);\r\n      return false;\r\n    },\r\n    [validateFile]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let area = dropAreaRef.current;\r\n    area.addEventListener('dragover', handleDragOver, false);\r\n    area.addEventListener('dragenter', handleDragEnter, false);\r\n    area.addEventListener('dragleave', handleDragLeave, false);\r\n    area.addEventListener('drop', handleDrop, false);\r\n\r\n    return () => {\r\n      area.removeEventListener('dragover', handleDragOver, false);\r\n      area.removeEventListener('dragenter', handleDragEnter, false);\r\n      area.removeEventListener('dragleave', handleDragLeave, false);\r\n      area.removeEventListener('drop', handleDrop, false);\r\n    };\r\n  }, [handleDragOver, handleDrop, handleDragEnter, handleDragLeave]);\r\n\r\n  return (\r\n    <div className={styles.DragDrop}>\r\n      <p className={styles.UploadText}>Upload a video or audio file</p>\r\n      <div\r\n        ref={dropAreaRef}\r\n        className={styles.DropArea}\r\n        onClick={() => uploadRef.current.click()}\r\n      >\r\n        <div className={styles.DropAreaContent}>\r\n          <img src={upload} alt='upload' />\r\n          <div className={styles.DropAreaText}>\r\n            <p className={styles.DropAreaHeading}>Drag & drop your file here</p>\r\n            <p className={styles.DropAreaSubheading}>\r\n              or click to <span className={styles.DropAreaBrowse}>browse</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <input\r\n        ref={uploadRef}\r\n        type='file'\r\n        accept='video/mp4'\r\n        style={{ display: 'none' }}\r\n        onChange={() => validateFile(uploadRef.current.files[0])}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragDrop;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './UploadProgress.module.css';\r\n\r\nconst UploadProgress = ({\r\n  uploadProgress,\r\n  isUploading,\r\n  videoDuration,\r\n  videoUrl,\r\n  setIsFinished,\r\n}) => {\r\n  // console.log(videoDuration);\r\n  const [progress, setProgress] = useState(0);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const uploadMaxPercentage = 40;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (intervalId) clearInterval(intervalId);\r\n    };\r\n  }, [intervalId]);\r\n\r\n  const progressHandler = useCallback(() => {\r\n    let intervalTime = (videoDuration * 1000) / (100 - uploadMaxPercentage) / 2;\r\n    // console.log(intervalTime);\r\n    let interval = setInterval(() => {\r\n      setProgress((prevState) => {\r\n        if (prevState >= 99) {\r\n          clearInterval(interval);\r\n          return 99;\r\n        } else return prevState + 0.5;\r\n      });\r\n    }, intervalTime);\r\n    setIntervalId(interval);\r\n  }, [videoDuration]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (videoUrl) {\r\n      clearInterval(intervalId);\r\n      let interval = setInterval(() => {\r\n        setProgress((prevState) => {\r\n          if (prevState >= 100) {\r\n            clearInterval(interval);\r\n            return 100;\r\n          } else return prevState + 1;\r\n        });\r\n      }, 100);\r\n    }\r\n    return () => {\r\n      if (interval !== null) clearInterval(interval);\r\n    };\r\n  }, [videoUrl, intervalId]);\r\n\r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (progress === 100 && videoUrl) {\r\n      timeout =  setTimeout(() => setIsFinished(true), 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (timeout !== null) clearTimeout(timeout);\r\n    };\r\n  }, [progress, videoUrl, setIsFinished]);\r\n\r\n  useEffect(() => {\r\n    if (uploadProgress === 100 && !isUploading) progressHandler();\r\n    // progressHandler();\r\n  }, [uploadProgress, progressHandler, isUploading]);\r\n\r\n  useEffect(() => {\r\n    if (isUploading) {\r\n      setProgress(Math.round(uploadProgress * (uploadMaxPercentage / 100)));\r\n    }\r\n  }, [isUploading, uploadProgress]);\r\n\r\n  return (\r\n    <div className={styles.UploadProgress}>\r\n      <p className={styles.Percentage}>{Math.floor(progress)}%</p>\r\n      <p className={styles.Heading}>Transcribing your video</p>\r\n      <div className={styles.ProgressBar}>\r\n        <div\r\n          className={styles.ProgressBarInner}\r\n          style={{\r\n            maxWidth: progress + '%',\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <p className={styles.Subheading}>\r\n        Please be patient. It may take several minutes.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadProgress;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/api/v1`,\r\n});\r\n\r\nexport default instance;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadVideo = () => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [duration, setDuration] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const words = useRef(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const onUploadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    if (isMounted.current) setUploadProgress(currentProgress);\r\n    if (currentProgress === 100 && isMounted.current) setIsUploading(false);\r\n    // console.log(`%cuploading ${currentProgress}%`, 'color: #3153fb');\r\n  };\r\n\r\n  const axiosUploadVideo = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/videos', formData, {\r\n          onUploadProgress,\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadVideo = useCallback(\r\n    async (formData) => {\r\n      setUploadProgress(0);\r\n      setIsUploading(true);\r\n      try {\r\n        const res = await axiosUploadVideo(formData);\r\n        console.log(res);\r\n        if (isMounted.current) {\r\n          words.current = res.data.subtitles.captions;\r\n          setDuration(res.data.duration);\r\n          setVideoUrl(res.data.original_video_url);\r\n        }\r\n      } catch (err) {\r\n        console.log('Error Uploading Video', err);\r\n      } finally {\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return {\r\n    isUploading,\r\n    uploadVideo,\r\n    words: words.current,\r\n    duration,\r\n    videoUrl,\r\n    uploadProgress,\r\n  };\r\n};\r\n\r\nexport default useUploadVideo;\r\n","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport backArrow from '../../assets/editor/backArrow.svg';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Navbar = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header className={styles.Navbar}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        <div className={styles.BackButton} onClick={() => history.goBack()}>\r\n          <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n        </div>\r\n        <div className={styles.FileInfoContainer}>\r\n          <p className={styles.FileName}>Untitled</p>\r\n          <p className={styles.Creater}>Dmitry</p>\r\n        </div>\r\n      </div>\r\n      {children}\r\n      <div className={styles.UserInfoContainer}>\r\n        <div className={styles.User}>\r\n          <p className={styles.UserInitials}>DE</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Uploader.module.css';\r\nimport DragDrop from './DragDrop/DragDrop';\r\nimport UploadProgress from './UploadProgress/UploadProgress';\r\nimport useUploadVideo from '../../hooks/useUploadVideo';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\n\r\nconst Uploader = ({\r\n  viedoForUpload,\r\n  setVideoForUpload,\r\n  setIsFinished,\r\n  setVideoUrl,\r\n  setDuration,\r\n  wordsRef,\r\n}) => {\r\n  const [videoDuration, setVideoDuration] = useState(0);\r\n  const {\r\n    isUploading,\r\n    uploadVideo,\r\n    words,\r\n    videoUrl,\r\n    duration,\r\n    uploadProgress,\r\n  } = useUploadVideo();\r\n\r\n  useEffect(() => {\r\n    if (duration && videoUrl && words) {\r\n      setVideoUrl(videoUrl);\r\n      setDuration(duration);\r\n      wordsRef.current = [...words];\r\n    }\r\n  }, [words, duration, setVideoUrl, setDuration, wordsRef, videoUrl]);\r\n\r\n  useEffect(() => {\r\n    if (viedoForUpload) {\r\n      const formData = new FormData();\r\n      formData.append('video', viedoForUpload);\r\n      uploadVideo(formData);\r\n    }\r\n  }, [viedoForUpload, uploadVideo, setVideoForUpload]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className={styles.Uploader}>\r\n        {!viedoForUpload ? (\r\n          <DragDrop\r\n            setVideoForUpload={setVideoForUpload}\r\n            setVideoDuration={setVideoDuration}\r\n          />\r\n        ) : (\r\n          <UploadProgress\r\n            uploadProgress={uploadProgress}\r\n            isUploading={isUploading}\r\n            videoDuration={videoDuration}\r\n            videoUrl={videoUrl}\r\n            setIsFinished={setIsFinished}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n","export default __webpack_public_path__ + \"static/media/cut.50fbea68.svg\";","export default __webpack_public_path__ + \"static/media/search.01416d75.svg\";","export const handleDeleted = (wordsArr, setCuts, setPlayerTime, wordIndex) => {\r\n  let arr = [];\r\n  let isLastDeleted = false;\r\n  let cutStart = 0;\r\n  let cutStartIndex = 0;\r\n  let cutEndIndex = 0;\r\n  let cutEnd = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.active && isLastDeleted) {\r\n      isLastDeleted = false;\r\n      wordsArr[cutStartIndex].next = i;\r\n      arr.push({ start: cutStart, end: cutEnd });\r\n    } else if (!word.active && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      cutStart = word.start;\r\n      cutStartIndex = i;\r\n      cutEnd = word.end;\r\n    } else if (!word.active && isLastDeleted) {\r\n      cutEnd = word.end;\r\n      cutEndIndex = i;\r\n    }\r\n  }\r\n\r\n  if (isLastDeleted) arr.push({ start: cutStart, end: cutEnd });\r\n\r\n  if (isLastDeleted && cutStartIndex !== wordsArr.length - 1) {\r\n    wordsArr[cutStartIndex].next = cutEndIndex;\r\n  } else if (isLastDeleted) {\r\n    wordsArr[cutStartIndex].next = wordsArr.length - 1;\r\n  }\r\n  if (wordIndex !== null) setPlayerTime(wordIndex);\r\n  setCuts([...arr]);\r\n};\r\n\r\nconst handleRestore = (setCuts, setPlayerTime, wordIndex, restoreStart) => {\r\n  setCuts((prevState) => {\r\n    let newState = [];\r\n    for (let i = 0; i < prevState.length; i++) {\r\n      let cut = prevState[i];\r\n      if (cut.start !== restoreStart) newState.push(cut);\r\n    }\r\n    setPlayerTime(wordIndex);\r\n    return [...newState];\r\n  });\r\n};\r\n\r\nconst handleVideoCuts = (\r\n  type,\r\n  wordsArr,\r\n  setCuts,\r\n  setPlayerTime,\r\n  wordIndex,\r\n  restoreStart\r\n) => {\r\n  if (type === 'delete') {\r\n    handleDeleted(wordsArr, setCuts, setPlayerTime, wordIndex);\r\n  } else if (type === 'restore')\r\n    handleRestore(setCuts, setPlayerTime, wordIndex, restoreStart);\r\n};\r\n\r\nconst findAndSetCurrentWord = (\r\n  deletedIndex,\r\n  wordsArr,\r\n  setWordIndex,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let currentIndex = null;\r\n  for (let i = deletedIndex; i >= 0; i--) {\r\n    let word = wordsArr[i];\r\n    if (word.active) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (currentIndex === null) {\r\n    for (let i = deletedIndex; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (word.active) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  setWordIndex(currentIndex);\r\n  handleVideoCuts('delete', wordsArr, setCuts, setPlayerTime, currentIndex);\r\n};\r\n\r\nexport const deleteWord = (\r\n  wordsArr,\r\n  wordIndex,\r\n  setWordIndex,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let word = wordsArr[wordIndex];\r\n  word.active = false;\r\n  findAndSetCurrentWord(\r\n    wordIndex,\r\n    wordsArr,\r\n    setWordIndex,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n};\r\n\r\nexport const deleteSelection = (\r\n  wordsArr,\r\n  setWordIndex,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let deletedStartIndex = currentSelection.start;\r\n  let deleteEndIndex = currentSelection.end;\r\n\r\n  for (let i = deletedStartIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    word.active = false;\r\n    if (i === deleteEndIndex) break;\r\n  }\r\n\r\n  findAndSetCurrentWord(\r\n    deletedStartIndex,\r\n    wordsArr,\r\n    setWordIndex,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n  setCurrentSelection(null);\r\n};\r\n\r\nexport const restoreDeleted = (\r\n  wordsArr,\r\n  wordIndex,\r\n  setWordIndex,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  for (let i = wordIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (!word.active) {\r\n      word.active = true;\r\n      if (word.next !== null) word.next = null;\r\n    } else break;\r\n  }\r\n  let restoreStart = wordsArr[wordIndex].start;\r\n  handleVideoCuts(\r\n    'restore',\r\n    null,\r\n    setCuts,\r\n    setPlayerTime,\r\n    wordIndex,\r\n    restoreStart\r\n  );\r\n  setCurrentSelection(null);\r\n  setWordIndex(wordIndex);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/restoreText.63dbbf27.svg\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './Words.module.css';\r\nimport restoreText from '../../../assets/editor/restoreText.svg';\r\nconst Words = ({\r\n  wordsArr,\r\n  currentWordIndex,\r\n  searchInput,\r\n  wordClickHandler,\r\n  inputIndex,\r\n  setInputIndex,\r\n  currentSelection,\r\n  currentSub,\r\n  currentSubIndex,\r\n  subArr,\r\n  setShouldRerenderSub,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const handleNotSilenceAndText = (id, text) => {\r\n    let words = subArr[currentSubIndex].words;\r\n    // console.log(subArr[currentSubIndex]);\r\n    // console.log(words);\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (word._id === id) {\r\n        let isWhitespace = word.text.indexOf(' ') === 0;\r\n        word.text = isWhitespace ? ' ' + text : text;\r\n        if (word.silence) word.silence = false;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSilenceAndText = (id, text) => {\r\n    let words = subArr[currentSubIndex].words;\r\n    // console.log(words);\r\n    if (words) {\r\n      for (let i = 0; i < words.length; i++) {\r\n        let word = words[i];\r\n        if (word._id === id) {\r\n          let isFirst = i === 0;\r\n          text = isFirst ? text + ' ' : text;\r\n          let isNoWhitespace = word.text.indexOf(' ') !== 0;\r\n          word.text = isNoWhitespace && !isFirst ? ' ' + text : text;\r\n          if (word.silence) word.silence = false;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      subArr[currentSubIndex].silence = false;\r\n      subArr[currentSubIndex].words = [{ ...subArr[currentSubIndex], text }];\r\n    }\r\n  };\r\n\r\n  const handleNoText = (id) => {\r\n    let words = subArr[currentSubIndex].words;\r\n    // console.log(words);\r\n    let silenceCount = 0;\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (word._id === id) {\r\n        word.text = '';\r\n        word.silence = true;\r\n      }\r\n      if (word.silence) silenceCount++;\r\n    }\r\n    if (silenceCount === words.length) {\r\n      subArr[currentSubIndex].silence = true;\r\n      subArr[currentSubIndex].words = null;\r\n    }\r\n  };\r\n\r\n  const handleSubTextChange = (id, text, isSilence) => {\r\n    if (!isSilence && text && id) {\r\n      handleNotSilenceAndText(id, text);\r\n    } else if (text && isSilence) {\r\n      handleSilenceAndText(id, text);\r\n    } else if (id) {\r\n      handleNoText(id);\r\n    }\r\n    setShouldRerenderSub(true);\r\n  };\r\n\r\n  const blurHandler = (e) => {\r\n    let id = e.target.parentNode.id;\r\n    let inputVal = input.trim().length > 0 ? input : null;\r\n    if (wordsArr[inputIndex]) {\r\n      if (inputVal && !wordsArr[inputIndex].silence) {\r\n        wordsArr[inputIndex].text = inputVal;\r\n        if (currentSub) handleSubTextChange(id, inputVal, false);\r\n      } else if (inputVal) {\r\n        wordsArr[inputIndex].text = inputVal;\r\n        wordsArr[inputIndex].silence = false;\r\n        if (currentSub) handleSubTextChange(id, inputVal, true);\r\n      } else {\r\n        if (currentSub && !wordsArr[inputIndex].silence)\r\n          handleSubTextChange(id, inputVal, false);\r\n        wordsArr[inputIndex].silence = true;\r\n      }\r\n    }\r\n    setInput('');\r\n    setInputIndex(null);\r\n  };\r\n\r\n  let isLastDeleted = false;\r\n  let shouldShow = true;\r\n  let isSelectionMode = false;\r\n  let isSelectionEnd = false;\r\n\r\n  useEffect(() => {\r\n    if (inputIndex !== null) {\r\n      inputRef.current.focus();\r\n      if (wordsArr[inputIndex] && !wordsArr[inputIndex].silence) {\r\n        setInput(wordsArr[inputIndex].text);\r\n      }\r\n    }\r\n  }, [inputIndex, wordsArr]);\r\n\r\n  return wordsArr.map((word, i) => {\r\n    if (isLastDeleted && !word.active) shouldShow = false;\r\n    else shouldShow = true;\r\n    let isCurrent =\r\n      i === currentWordIndex && !currentSelection && word.active;\r\n    let isHighlight =\r\n      !word.silence &&\r\n      word.active &&\r\n      searchInput.trim().length > 1 &&\r\n      word.text.trim().toLowerCase().includes(searchInput.trim().toLowerCase());\r\n\r\n    if (!isLastDeleted && !word.active) isLastDeleted = true;\r\n    if (isLastDeleted && word.active) isLastDeleted = false;\r\n\r\n    if (currentSelection && currentSelection.start === i) {\r\n      isSelectionMode = true;\r\n    } else if (currentSelection && currentSelection.end === i) {\r\n      isSelectionEnd = true;\r\n    } else if (isSelectionEnd) {\r\n      isSelectionMode = false;\r\n      isSelectionEnd = false;\r\n    }\r\n\r\n    let isInput = inputIndex !== null && isCurrent;\r\n    let innerContent = isInput ? (\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.WordInput}\r\n        type='text'\r\n        value={input}\r\n        onBlur={blurHandler}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n    ) : (\r\n      <span className={!word.silence ? styles.Word : styles.Pause}>\r\n        {!word.silence ? word.text + ' ' : '•••• '}\r\n      </span>\r\n    );\r\n\r\n    let content = !word.active ? (\r\n      <span className={styles.Deleted}>\r\n        <span className={styles.DeletedImgContainer}>\r\n          <img\r\n            className={styles.DeletedImg}\r\n            src={restoreText}\r\n            alt='restore text'\r\n          />\r\n        </span>\r\n        <span className={styles.DeletedText}>[...] </span>\r\n      </span>\r\n    ) : (\r\n      innerContent\r\n    );\r\n\r\n    let containerStyle = { width: 'auto' };\r\n    if (isInput) {\r\n      containerStyle.width = !word.silence\r\n        ? word.text.length * 1.5 + 'ch'\r\n        : '70px';\r\n      containerStyle.marginRight = '0.4rem';\r\n    }\r\n\r\n    return shouldShow ? (\r\n      <span\r\n        style={containerStyle}\r\n        id={word._id}\r\n        key={word._id}\r\n        className={[\r\n          styles.WordContainer,\r\n          isCurrent ? styles.CurrentWord : null,\r\n          isHighlight ? styles.Highlight : null,\r\n          isSelectionMode ? styles.InSelection : null,\r\n        ].join(' ')}\r\n        onClick={(e) => wordClickHandler(e, !word.active)}\r\n      >\r\n        {content}\r\n      </span>\r\n    ) : null;\r\n  });\r\n};\r\n\r\nexport default Words;\r\n","export const findSubIndexWithWordIndex = (wordIndex, words, subArr) => {\r\n  if (subArr) {\r\n    let word = words[wordIndex];\r\n    for (let i = 0; i < subArr.length; i++) {\r\n      let sub = subArr[i];\r\n      if (sub.words) {\r\n        for (let j = 0; j < sub.words.length; j++) {\r\n          let subWord = sub.words[j];\r\n          if (subWord._id === word._id) return i;\r\n        }\r\n      } else if (sub.silence && word._id === sub._id) return i;\r\n    }\r\n    return null;\r\n  } else return null;\r\n};\r\n\r\nexport const findWordIndexWithId = (id, words) => {\r\n  for (let i = 0; i < words.length; i++) {\r\n    let word = words[i];\r\n    if (word._id === id) return i;\r\n  }\r\n  return null;\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Transcription.module.css';\r\nimport cut from '../../assets/editor/cut.svg';\r\nimport search from '../../assets/editor/search.svg';\r\nimport {\r\n  deleteWord,\r\n  restoreDeleted,\r\n  deleteSelection,\r\n  handleDeleted,\r\n} from './utils/updateTextAndCuts';\r\nimport Words from './Words/Words';\r\nimport { findWordIndexWithId } from '../utils/findIndex';\r\n\r\nconst Transcription = ({\r\n  words,\r\n  currentWordIndex,\r\n  setCurrentWordIndex,\r\n  isPlaying,\r\n  videoRef,\r\n  setCuts,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setPlayerTime,\r\n  subArr,\r\n  setCurrentSubIndex,\r\n  currentSub,\r\n  currentSubIndex,\r\n  setShouldRerenderSub,\r\n}) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [inputIndex, setInputIndex] = useState(null);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(null);\r\n      handleDeleted(words, setCuts, null, null);\r\n    }\r\n  }, [\r\n    isFirstLoad,\r\n    words,\r\n    setCuts,\r\n    setPlayerTime,\r\n    currentWordIndex,\r\n    setCurrentWordIndex,\r\n  ]);\r\n\r\n  const wordClickHandler = (e, isDeleted) => {\r\n    let id = e.currentTarget.id;\r\n    let wordIndex = findWordIndexWithId(id, words);\r\n    if (isPlaying) videoRef.current.pause();\r\n    if (e.detail > 1 && inputIndex === null) setInputIndex(wordIndex);\r\n    if (!isDeleted && inputIndex === null && wordIndex !== null) {\r\n      setCurrentSelection(null);\r\n      setPlayerTime(wordIndex);\r\n      setCurrentWordIndex(wordIndex);\r\n    } else if (inputIndex === null) {\r\n      restoreDeleted(\r\n        words,\r\n        wordIndex,\r\n        setCurrentWordIndex,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (selection, anchorNode, focusNode, isAnchorNode, isFocusNode, position) => {\r\n      let start = '';\r\n      let end = '';\r\n      if (anchorNode.parentNode.id === focusNode.parentNode.id) {\r\n        let wordIndex = findWordIndexWithId(anchorNode.parentNode.id, words);\r\n        if (anchorNode.parentNode.id && wordIndex !== null) {\r\n          setPlayerTime(wordIndex);\r\n          setCurrentWordIndex(wordIndex);\r\n        }\r\n        selection.removeAllRanges();\r\n        setCurrentSelection(null);\r\n      } else if (isAnchorNode && isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = focusNode.parentNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.parentNode.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isAnchorNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.id;\r\n        } else if (position === 2) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.parentNode.id;\r\n          end = focusNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.parentNode.id;\r\n        }\r\n      }\r\n\r\n      if (start !== '' && end !== '') {\r\n        let indexStart = findWordIndexWithId(start, words);\r\n        let indexEnd = findWordIndexWithId(end, words);\r\n        if (indexStart !== null && indexEnd !== null) {\r\n          setCurrentSelection({ start: indexStart, end: indexEnd });\r\n          setPlayerTime(indexStart);\r\n          setCurrentWordIndex(indexStart);\r\n        }\r\n      }\r\n      // selection.removeAllRanges();\r\n    },\r\n    [setCurrentWordIndex, setCurrentSelection, setPlayerTime, words]\r\n  );\r\n\r\n  const mouseUpHandler = useCallback(\r\n    (e) => {\r\n      let selection = document.getSelection();\r\n      if (e.detail < 2 && selection.anchorNode && selection.focusNode) {\r\n        let anchorNode = selection.anchorNode.parentNode;\r\n        let focusNode = selection.focusNode.parentNode;\r\n        let isAnchorNode = anchorNode.tagName === 'SPAN';\r\n        let isFocusNode = focusNode.tagName === 'SPAN';\r\n        let position = selection.anchorNode.compareDocumentPosition(\r\n          selection.focusNode\r\n        );\r\n        if ((isAnchorNode || isFocusNode) && !selection.isCollapsed) {\r\n          if (isPlaying) videoRef.current.pause();\r\n          handleSelection(\r\n            selection,\r\n            anchorNode,\r\n            focusNode,\r\n            isAnchorNode,\r\n            isFocusNode,\r\n            position\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [handleSelection, isPlaying, videoRef]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n    return () => document.removeEventListener('mouseup', mouseUpHandler);\r\n  }, [mouseUpHandler]);\r\n\r\n  const cutClickHandler = () => {\r\n    if (isPlaying) videoRef.current.pause();\r\n    if (!currentSelection && currentWordIndex !== null) {\r\n      deleteWord(\r\n        words,\r\n        currentWordIndex,\r\n        setCurrentWordIndex,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    } else if (currentSelection) {\r\n      deleteSelection(\r\n        words,\r\n        setCurrentWordIndex,\r\n        currentSelection,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n    let selection = document.getSelection();\r\n    selection.removeAllRanges();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Transcription}>\r\n      <div className={styles.TextControls}>\r\n        <div className={styles.CutContainer} onClick={cutClickHandler}>\r\n          <img src={cut} alt='cut' />\r\n          <p>Cut</p>\r\n        </div>\r\n        <div className={styles.SearchContainer}>\r\n          <input\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            className={styles.SearchInput}\r\n            placeholder='Search'\r\n            type='text'\r\n          />\r\n          <img className={styles.SearchSvg} src={search} alt='search' />\r\n        </div>\r\n      </div>\r\n      <div id='textbox' className={styles.Text}>\r\n        {words ? (\r\n          <Words\r\n            wordsArr={words}\r\n            currentWordIndex={currentWordIndex}\r\n            searchInput={searchInput}\r\n            wordClickHandler={wordClickHandler}\r\n            inputIndex={inputIndex}\r\n            setInputIndex={setInputIndex}\r\n            currentSelection={currentSelection}\r\n            currentSub={currentSub}\r\n            currentSubIndex={currentSubIndex}\r\n            subArr={subArr}\r\n            setCurrentSubIndex={setCurrentSubIndex}\r\n            setShouldRerenderSub={setShouldRerenderSub}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transcription;\r\n","import {createContext} from 'react';\r\n\r\nconst EditorContext = createContext(null);\r\nexport default EditorContext;","export default __webpack_public_path__ + \"static/media/ctrlScale.3fdf1e45.svg\";","export default __webpack_public_path__ + \"static/media/ctrlStretch.018481ed.svg\";","export default __webpack_public_path__ + \"static/media/ctrlRotate.8ba52be7.svg\";","import { fabric } from 'fabric';\r\nimport ctrlScale from '../../assets/editor/ctrlScale.svg';\r\nimport ctrlStretch from '../../assets/editor/ctrlStretch.svg';\r\nimport ctrlRotate from '../../assets/editor/ctrlRotate.svg';\r\n\r\nconst fabricConfig = () => {\r\n  fabric.Object.prototype.transparentCorners = false;\r\n  fabric.Object.prototype.cornerColor = 'white';\r\n  fabric.Object.prototype.borderColor = '#6F7BD0';\r\n  fabric.Object.prototype.cornerStrokeColor = '#6F7BD0';\r\n  fabric.Object.prototype.cornerStyle = 'circle';\r\n  fabric.Object.prototype.objectCaching = false;\r\n\r\n  const ctrlStretchImage = new Image();\r\n  ctrlStretchImage.src = ctrlStretch;\r\n  const ctrlScaleImage = new Image();\r\n  ctrlScaleImage.src = ctrlScale;\r\n  const ctrlRotateImage = new Image();\r\n  ctrlRotateImage.src = ctrlRotate;\r\n  const controlsUtils = fabric.controlsUtils,\r\n    scaleSkewStyleHandler = controlsUtils.scaleSkewCursorStyleHandler,\r\n    scaleStyleHandler = controlsUtils.scaleCursorStyleHandler,\r\n    scalingEqually = controlsUtils.scalingEqually,\r\n    scalingYOrSkewingX = controlsUtils.scalingYOrSkewingX,\r\n    scalingXOrSkewingY = controlsUtils.scalingXOrSkewingY,\r\n    scaleOrSkewActionName = controlsUtils.scaleOrSkewActionName,\r\n    objectControls = fabric.Object.prototype.controls;\r\n\r\n  const renderScaleIcon = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n      ctx.drawImage(icon, -size / 2, -size / 2, size, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  const renderStretchIconX = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n      ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  const renderStretchIconY = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle + 90));\r\n      ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  objectControls.ml = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mr = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mt = new fabric.Control({\r\n    x: 0,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingYOrSkewingX,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetX: -3,\r\n    offsetY: -1,\r\n    render: renderStretchIconY(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mb = new fabric.Control({\r\n    x: 0,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingYOrSkewingX,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetX: -3,\r\n    offsetY: 1,\r\n    render: renderStretchIconY(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.tl = new fabric.Control({\r\n    x: -0.5,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.tr = new fabric.Control({\r\n    x: 0.5,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.bl = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.br = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.mtr = new fabric.Control({\r\n    x: 0,\r\n    y: 0.5,\r\n    cornerSize: 50,\r\n    offsetY: 30,\r\n    actionHandler: controlsUtils.rotationWithSnapping,\r\n    cursorStyleHandler: controlsUtils.rotationStyleHandler,\r\n    withConnection: false,\r\n    actionName: 'rotate',\r\n    render: renderScaleIcon(ctrlRotateImage),\r\n  });\r\n\r\n  if (fabric.Textbox) {\r\n    let textBoxControls = (fabric.Textbox.prototype.controls = {});\r\n    textBoxControls.mtr = objectControls.mtr;\r\n    textBoxControls.mr = new fabric.Control({\r\n      x: 0.5,\r\n      y: 0,\r\n      actionHandler: controlsUtils.changeWidth,\r\n      cursorStyleHandler: scaleSkewStyleHandler,\r\n      actionName: 'resizing',\r\n      cornerSize: 42,\r\n      offsetY: 3,\r\n      render: renderStretchIconX(ctrlStretchImage),\r\n    });\r\n\r\n    textBoxControls.ml = new fabric.Control({\r\n      x: -0.5,\r\n      y: 0,\r\n      actionHandler: controlsUtils.changeWidth,\r\n      cursorStyleHandler: scaleSkewStyleHandler,\r\n      actionName: 'resizing',\r\n      cornerSize: 42,\r\n      offsetY: 3,\r\n      render: renderStretchIconX(ctrlStretchImage),\r\n    });\r\n  }\r\n\r\n  let line = (fabric.Line.prototype.controls = {});\r\n  line.mtr = objectControls.mtr;\r\n  line.ml = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 30,\r\n    offsetY: 3,\r\n    offsetX: 0,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  line.mr = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 30,\r\n    offsetY: 3,\r\n    offsetX: 0,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  let image = (fabric.Image.prototype.controls = {});\r\n  image.mtr = objectControls.mtr;\r\n  image.tr = objectControls.tr;\r\n  image.br = objectControls.br;\r\n  image.tl = objectControls.tl;\r\n  image.bl = objectControls.bl;\r\n\r\n  let activeSelection = (fabric.ActiveSelection.prototype.controls = {});\r\n  activeSelection.mtr = objectControls.mtr;\r\n  activeSelection.tr = objectControls.tr;\r\n  activeSelection.br = objectControls.br;\r\n  activeSelection.tl = objectControls.tl;\r\n  activeSelection.bl = objectControls.bl;\r\n\r\n  // let group = (fabric.Group.prototype.controls = {});\r\n  // group.mtr = objectControls.mtr;\r\n  // group.tr = objectControls.tr;\r\n  // group.br = objectControls.br;\r\n  // group.tl = objectControls.tl;\r\n  // group.bl = objectControls.bl;\r\n};\r\n\r\n// Subtitles renreding padding and border radius\r\n// CanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {\r\n//   if (w < 2 * r) r = w / 2;\r\n//   if (h < 2 * r) r = h / 2;\r\n//   this.beginPath();\r\n//   this.moveTo(x + r, y);\r\n//   this.arcTo(x + w, y, x + w, y + h, r);\r\n//   this.arcTo(x + w, y + h, x, y + h, r);\r\n//   this.arcTo(x, y + h, x, y, r);\r\n//   this.arcTo(x, y, x + w, y, r);\r\n//   this.closePath();\r\n//   return this;\r\n// };\r\nfabric.Subtitle = fabric.util.createClass(fabric.IText, {\r\n  type: 'subtitle',\r\n\r\n  _getNonTransformedDimensions() {\r\n    // Object dimensions\r\n    return new fabric.Point(\r\n      this.width + this.paddingX,\r\n      this.height + this.paddingY\r\n    );\r\n  },\r\n\r\n  _calculateCurrentDimensions() {\r\n    // Controls dimensions\r\n    return fabric.util.transformPoint(\r\n      this._getTransformedDimensions(),\r\n      this.getViewportTransform(),\r\n      true\r\n    );\r\n  },\r\n\r\n  // _renderBackground(ctx) {\r\n  //   if (!this.backgroundColor) {\r\n  //     return;\r\n  //   }\r\n  //   var dim = this._getNonTransformedDimensions();\r\n  //   ctx.fillStyle = this.backgroundColor;\r\n\r\n  //   if (!this.bgCornerRadius) {\r\n  //     ctx.fillRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\r\n  //   } else {\r\n  //     ctx\r\n  //       .roundRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y, this.bgCornerRadius)\r\n  //       .fill();\r\n  //   }\r\n  //   // if there is background color no other shadows\r\n  //   // should be casted\r\n  //   this._removeShadow(ctx);\r\n  // },\r\n\r\n});\r\n\r\nfabric.Subtitle.prototype.controls = {}\r\n\r\nexport default fabricConfig;\r\n","import { fabric } from 'fabric';\r\n\r\nconst ShowControls = {\r\n  tl: true,\r\n  tr: true,\r\n  bl: true,\r\n  br: true,\r\n  ml: true,\r\n  mt: false,\r\n  mr: true,\r\n  mb: false,\r\n  mtr: true,\r\n};\r\n\r\nexport const addNewImage = (state, canvas, dispatch, id, updateId) => {\r\n  let image = state.imageToAdd.src;\r\n  if (state.shouldReplaceImage) {\r\n    let active = canvas.getActiveObject();\r\n    fabric.Image.fromURL(image, (img) => {\r\n      img.top = active.top;\r\n      img.left = active.left;\r\n      img.scaleToWidth(active.width * active.scaleX);\r\n      img.angle = active.angle;\r\n      img.setControlsVisibility(ShowControls);\r\n      img.id = active.id;\r\n      img.cornerRadius = active.cornerRadius;\r\n      img.isSvg = state.imageToAdd.type === 'svg'\r\n      canvas.remove(active);\r\n      canvas.add(img).setActiveObject(img);\r\n      canvas.requestRenderAll();\r\n      dispatch({ type: 'setShouldUpdateImage', data: true });\r\n      dispatch({ type: 'setShouldReplaceImage', data: false });\r\n    });\r\n  } else {\r\n    fabric.Image.fromURL(image, (img) => {\r\n      img.scaleToWidth(256);\r\n      img.left = 100;\r\n      img.top = 100;\r\n      img.setControlsVisibility(ShowControls);\r\n      img.id = id;\r\n      img.cornerRadius = 0;\r\n      img.isSvg = state.imageToAdd.type === 'svg'\r\n      canvas.add(img).setActiveObject(img);\r\n      canvas.requestRenderAll();\r\n      updateId();\r\n    });\r\n  }\r\n  dispatch({ type: 'setImageToAdd', data: null });\r\n};\r\n\r\nexport const addNewText = (canvas, state, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShouldAddText', data: false });\r\n  let text = new fabric.Textbox('Add text‎', {\r\n    left: 100,\r\n    top: 100,\r\n    height: 100,\r\n    padding: 10,\r\n    width: 130,\r\n    splitByGrapheme: true,\r\n    cursorWidth: 0.5,\r\n    ...state.textState,\r\n  });\r\n  text.id = id;\r\n  canvas.add(text).setActiveObject(text);\r\n  canvas.requestRenderAll();\r\n  updateId();\r\n};\r\n\r\nconst newRect = () => {\r\n  let rect = new fabric.Rect({\r\n    left: 100,\r\n    top: 100,\r\n    width: 152,\r\n    height: 152,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return rect;\r\n};\r\n\r\nconst newCircle = () => {\r\n  let circle = new fabric.Circle({\r\n    left: 100,\r\n    top: 100,\r\n    radius: 76,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return circle;\r\n};\r\n\r\nconst newTriangle = () => {\r\n  let triangle = new fabric.Triangle({\r\n    left: 100,\r\n    top: 100,\r\n    width: 152,\r\n    height: 150,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return triangle;\r\n};\r\n\r\nconst newLine = () => {\r\n  let line = new fabric.Line([0, 0, 300, 0], {\r\n    left: 100,\r\n    top: 100,\r\n    stroke: 'rgba(196,196,196,1)',\r\n    strokeWidth: 2,\r\n    borderColor: 'transparent',\r\n    noScaleCache: false,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return line;\r\n};\r\n\r\nexport const addNewShape = (state, canvas, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShapeToAdd', data: null });\r\n  let obj = null;\r\n  if (state.shapeToAdd === 'square') obj = newRect();\r\n  else if (state.shapeToAdd === 'circle') obj = newCircle();\r\n  else if (state.shapeToAdd === 'triangle') obj = newTriangle();\r\n  else if (state.shapeToAdd === 'line') obj = newLine();\r\n  if (obj) {\r\n    obj.id = id;\r\n    canvas.add(obj).setActiveObject(obj);\r\n    canvas.requestRenderAll();\r\n    updateId();\r\n  }\r\n};\r\n","import { useEffect } from 'react';\r\nimport { addNewImage, addNewShape, addNewText } from './utils/addObject';\r\n\r\nconst useAddObject = (state, dispatch, canvas, id, updateId) => {\r\n  useEffect(() => {\r\n    if (state.shapeToAdd) {\r\n      addNewShape(state, canvas, dispatch, id, updateId);\r\n    } else if (state.imageToAdd) {\r\n      addNewImage(state, canvas, dispatch, id, updateId);\r\n    } else if (state.shouldAddText) {\r\n      addNewText(canvas, state, dispatch, id, updateId);\r\n    }\r\n  }, [canvas, dispatch, state, id, updateId]);\r\n};\r\n\r\nexport default useAddObject;\r\n","import {createContext} from 'react';\r\n\r\nconst EventContext = createContext(null);\r\nexport default EventContext;","const textPropertyArr = [\r\n  'fontFamily',\r\n  'fontStyle',\r\n  'fontWeight',\r\n  'fontSize',\r\n  'fill',\r\n  'opacity',\r\n  'textAlign',\r\n];\r\n\r\nconst shapePropertyArr = ['fill', 'stroke', 'strokeWidth', 'rx', 'ry'];\r\nconst imagePropertyArr = ['cornerRadius', 'isSvg'];\r\n\r\nconst handleText = (e, dispatch) => {\r\n  let newTextState = {};\r\n  textPropertyArr.forEach((property) => {\r\n    newTextState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setTextState', data: newTextState });\r\n  return 'text';\r\n};\r\n\r\nconst handleShape = (e, dispatch) => {\r\n  let newShapeState = {};\r\n  shapePropertyArr.forEach((property) => {\r\n    newShapeState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setShapeState', data: newShapeState });\r\n  return e.target.type;\r\n};\r\n\r\nconst handleImage = (e, dispatch) => {\r\n  let newImageState = {};\r\n  imagePropertyArr.forEach((property) => {\r\n    newImageState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setImageState', data: newImageState });\r\n  return 'image';\r\n};\r\n\r\nconst handleSelected = (e, dispatch) => {\r\n  let obj = { type: '', object: null };\r\n  dispatch({ type: 'setCurrentCoords', data: e.target.lineCoords });\r\n  if (e.target.type === 'textbox') obj.type = handleText(e, dispatch);\r\n  else if (e.target.type === 'image' && e.target.id !== 'video')\r\n    obj.type = handleImage(e, dispatch);\r\n  else if (e.target.id === 'subtitle') obj.type = 'subtitle';\r\n  else if (e.target.id !== 'video') obj.type = handleShape(e, dispatch);\r\n  else obj.type = 'video';\r\n  obj.object = e.target;\r\n  dispatch({ type: 'setCurrentObject', data: obj });\r\n};\r\n\r\nexport const onCreated = (e, c, dispatch, showCanvasToolbar) => {\r\n  if (e.target.type === 'activeSelection') {\r\n    c.discardActiveObject();\r\n    return;\r\n  }\r\n  if (showCanvasToolbar) {\r\n    dispatch({ type: 'setShowCanvasToolbar', data: false });\r\n  }\r\n  handleSelected(e, dispatch);\r\n};\r\n\r\nexport const onCleared = (e, dispatch, currentId) => {\r\n  currentId.current = null;\r\n  dispatch({\r\n    type: 'setCurrentObject',\r\n    data: { type: '', object: null },\r\n  });\r\n  dispatch({\r\n    type: 'setCurrentCoords',\r\n    data: null,\r\n  });\r\n};\r\n\r\nexport const onModified = (e, dispatch) => {\r\n  handleSelected(e, dispatch);\r\n};\r\n\r\nexport const onUpdated = (e, dispatch) => {\r\n  dispatch({ type: 'setShowToolbar', data: false });\r\n  handleSelected(e, dispatch);\r\n};\r\n\r\nexport const onTextEnter = (e, c, setIsEditingText) => {\r\n  setIsEditingText(true);\r\n  if (e.target.text === 'Add text‎') {\r\n    e.target.text = '';\r\n    e.target.hiddenTextarea.value = '';\r\n    c.requestRenderAll();\r\n  }\r\n};\r\n\r\nexport const onTextExit = (e, c, setIsEditingText) => {\r\n  setIsEditingText(false);\r\n  if (e.target.text === '') e.target.text = 'Add text‎';\r\n  c.requestRenderAll();\r\n};\r\n","import { useCallback, useEffect, useState, useRef, useContext } from 'react';\r\nimport EventContext from '../../../contexts/EventContext';\r\nimport {\r\n  onCreated,\r\n  onModified,\r\n  onCleared,\r\n  onUpdated,\r\n  onTextEnter,\r\n  onTextExit,\r\n} from './utils/onCanvasEvents';\r\nimport { fabric } from 'fabric';\r\n\r\nconst removeListeners = (c) => {\r\n  c.off('selection:created');\r\n  c.off('selection:updated');\r\n  c.off('selection:cleared');\r\n  c.off('object:modified');\r\n  c.off('object:rotating');\r\n  c.off('object:rotated');\r\n  c.off('object:scaling');\r\n  c.off('object:scaled');\r\n  c.off('object:skewing');\r\n  c.off('object:skewed');\r\n  c.off('object:moved');\r\n  c.off('text:editing:entered');\r\n  c.off('text:editing:exited');\r\n};\r\n\r\nconst useSelectionObserver = (isCanvasSet, canvas, state, dispatch) => {\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [isRotating, setIsRotating] = useState(false);\r\n  const [isScaling, setIsScaling] = useState(false);\r\n  const [isSkewing, setIsSkewing] = useState(false);\r\n  const [isEditingText, setIsEditingText] = useState(false);\r\n  const isFirstLoad = useRef(true);\r\n  const currentId = useRef(null);\r\n\r\n  const checkOffScreen = useCallback(\r\n    (e) => {\r\n      if (!e.target.isOnScreen()) {\r\n        if (e.target.id === 'subtitle') {\r\n          let x = canvas.getWidth() / (canvas.getZoom() * 2);\r\n          let y =\r\n            canvas.getHeight() / canvas.getZoom() -\r\n            e.target.height -\r\n            e.target.paddingY;\r\n          e.target.setPositionByOrigin(\r\n            new fabric.Point(x, y),\r\n            'center',\r\n            'center'\r\n          );\r\n        } else {\r\n          e.target.top = 0;\r\n          e.target.left = 0;\r\n        }\r\n        e.target.setCoords();\r\n      }\r\n    },\r\n    [canvas]\r\n  );\r\n\r\n  const addListeners = useCallback(\r\n    (c, dispatch, showCanvasToolbar) => {\r\n      c.on('text:editing:entered', (e) => onTextEnter(e, c, setIsEditingText));\r\n      c.on('text:editing:exited', (e) => onTextExit(e, c, setIsEditingText));\r\n      c.on('selection:created', (e) =>\r\n        onCreated(e, c, dispatch, showCanvasToolbar)\r\n      );\r\n      c.on('selection:updated', (e) => onUpdated(e, dispatch));\r\n      c.on('object:modified', (e) => onModified(e, dispatch));\r\n      c.on('selection:cleared', (e) => onCleared(e, dispatch, currentId));\r\n      c.on('object:rotating', () => setIsRotating(true));\r\n      c.on('object:rotated', () => setIsRotating(false));\r\n      c.on('object:scaling', () => setIsScaling(true));\r\n      c.on('object:scaled', (e) => {\r\n        checkOffScreen(e);\r\n        setIsScaling(false);\r\n      });\r\n      c.on('object:skewing', () => setIsSkewing(true));\r\n      c.on('object:skewed', () => setIsSkewing(false));\r\n      c.on('object:moved', (e) => {\r\n        checkOffScreen(e);\r\n        eventDispatch({ type: 'setIsMoving', data: false });\r\n      });\r\n    },\r\n    [eventDispatch, checkOffScreen]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      if (!state.isCropMode) {\r\n        addListeners(canvas, dispatch, state.showCanvasToolbar);\r\n      } else removeListeners(canvas);\r\n    }\r\n    return () => {\r\n      if (isCanvasSet) removeListeners(canvas);\r\n    };\r\n  }, [\r\n    dispatch,\r\n    isCanvasSet,\r\n    canvas,\r\n    addListeners,\r\n    state.isCropMode,\r\n    state.showCanvasToolbar,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current) {\r\n      let data = true;\r\n      if (\r\n        isRotating ||\r\n        isScaling ||\r\n        isSkewing ||\r\n        eventState.isMoving ||\r\n        isEditingText ||\r\n        !state.currentCoords ||\r\n        state.currentObject.type === 'video'\r\n      )\r\n        data = false;\r\n      dispatch({ type: 'setShowToolbar', data });\r\n    }\r\n  }, [\r\n    eventState,\r\n    isRotating,\r\n    isScaling,\r\n    isSkewing,\r\n    isEditingText,\r\n    state.isCropMode,\r\n    state.currentCoords,\r\n    state.currentObject,\r\n    dispatch,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current) {\r\n      if (!state.currentCoords) {\r\n        dispatch({ type: 'setShowToolbar', data: false });\r\n      } else if (\r\n        state.currentObject.object &&\r\n        state.currentObject.object.id !== currentId.current &&\r\n        state.currentObject.type !== 'video'\r\n      ) {\r\n        currentId.current = state.currentObject.object.id;\r\n        dispatch({ type: 'setShowToolbar', data: true });\r\n      }\r\n    } else isFirstLoad.current = false;\r\n  }, [state.currentCoords, state.currentObject, dispatch, state.isCropMode]);\r\n};\r\n\r\nexport default useSelectionObserver;\r\n","import { fabric } from 'fabric';\r\n\r\nconst drawLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  ctx.save();\r\n  ctx.lineWidth = aligningLineWidth;\r\n  ctx.strokeStyle = aligningLineColor;\r\n  ctx.beginPath();\r\n  ctx.moveTo(\r\n    (x1 + viewportTransform[4]) * zoom,\r\n    (y1 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.lineTo(\r\n    (x2 + viewportTransform[4]) * zoom,\r\n    (y2 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nconst isInRange = (value1, value2, aligningLineMargin) => {\r\n  value1 = Math.round(value1);\r\n  value2 = Math.round(value2);\r\n  for (\r\n    let i = value1 - aligningLineMargin, len = value1 + aligningLineMargin;\r\n    i <= len;\r\n    i++\r\n  ) {\r\n    if (i === value2) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const drawVerticalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x + 0.5,\r\n    coords.y1 > coords.y2 ? coords.y2 : coords.y1,\r\n    coords.x + 0.5,\r\n    coords.y2 > coords.y1 ? coords.y2 : coords.y1,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const drawHorizontalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x1 > coords.x2 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    coords.x2 > coords.x1 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const objectMovingObserver = (\r\n  e,\r\n  canvas,\r\n  viewportTransform,\r\n  aligningLineOffset,\r\n  setVerticalLines,\r\n  setHorizontalLines,\r\n  aligningLineMargin\r\n) => {\r\n  let activeObject = e.target,\r\n    canvasObjects = canvas.getObjects(),\r\n    activeObjectCenter = activeObject.getCenterPoint(),\r\n    activeObjectLeft = activeObjectCenter.x,\r\n    activeObjectTop = activeObjectCenter.y,\r\n    activeObjectBoundingRect = activeObject.getBoundingRect(),\r\n    activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3],\r\n    activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0],\r\n    horizontalInTheRange = false,\r\n    verticalInTheRange = false,\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n\r\n  for (let i = canvasObjects.length; i--; ) {\r\n    if (canvasObjects[i] === activeObject) continue;\r\n\r\n    let objectCenter = canvasObjects[i].getCenterPoint(),\r\n      objectLeft = objectCenter.x,\r\n      objectTop = objectCenter.y,\r\n      objectBoundingRect = canvasObjects[i].getBoundingRect(),\r\n      objectHeight = objectBoundingRect.height / viewportTransform[3],\r\n      objectWidth = objectBoundingRect.width / viewportTransform[0];\r\n\r\n    // snap by the horizontal center line\r\n    if (isInRange(objectLeft, activeObjectLeft, aligningLineMargin)) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(objectLeft, activeObjectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the left edge\r\n    if (\r\n      isInRange(\r\n        objectLeft - objectWidth / 2,\r\n        activeObjectLeft - activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft - objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft - objectWidth / 2 + activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the right edge\r\n    if (\r\n      isInRange(\r\n        objectLeft + objectWidth / 2,\r\n        activeObjectLeft + activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft + objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft + objectWidth / 2 - activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the vertical center line\r\n    if (isInRange(objectTop, activeObjectTop, aligningLineMargin)) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(activeObjectLeft, objectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the top edge\r\n    if (\r\n      isInRange(\r\n        objectTop - objectHeight / 2,\r\n        activeObjectTop - activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop - objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop - objectHeight / 2 + activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the bottom edge\r\n    if (\r\n      isInRange(\r\n        objectTop + objectHeight / 2,\r\n        activeObjectTop + activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop + objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop + objectHeight / 2 - activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n  }\r\n\r\n  if (!horizontalInTheRange) setHorizontalLines([]);\r\n  if (!verticalInTheRange) setVerticalLines([]);\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\nconst showCenterLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  ctx.save();\r\n  ctx.strokeStyle = centerLineColor;\r\n  ctx.lineWidth = centerLineWidth;\r\n  ctx.beginPath();\r\n  ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\r\n  ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nexport const showVerticalCenterLine = (\r\n  canvasWidthCenter,\r\n  canvasHeight,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    canvasWidthCenter + 0.5,\r\n    0,\r\n    canvasWidthCenter + 0.5,\r\n    canvasHeight,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const showHorizontalCenterLine = (\r\n  canvasHeightCenter,\r\n  canvasWidth,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    0,\r\n    canvasHeightCenter + 0.5,\r\n    canvasWidth,\r\n    canvasHeightCenter + 0.5,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const objectMovingCenterObserver = (\r\n  e,\r\n  canvas,\r\n  setIsInVerticalCenter,\r\n  setIsInHorizontalCenter,\r\n  canvasWidthCenterMap,\r\n  canvasHeightCenterMap,\r\n  canvasWidth,\r\n  canvasHeight\r\n) => {\r\n  let object = e.target,\r\n    objectCenter = object.getCenterPoint(),\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n  let isInVertical = Math.round(objectCenter.x) in canvasWidthCenterMap;\r\n  let isInHorizontal = Math.round(objectCenter.y) in canvasHeightCenterMap;\r\n  setIsInVerticalCenter(isInVertical);\r\n  setIsInHorizontalCenter(isInHorizontal);\r\n\r\n  if (isInVertical || isInHorizontal) {\r\n    object.setPositionByOrigin(\r\n      new fabric.Point(\r\n        isInVertical ? canvasWidth / 2 : objectCenter.x,\r\n        isInHorizontal ? canvasHeight / 2 : objectCenter.y\r\n      ),\r\n      'center',\r\n      'center'\r\n    );\r\n  }\r\n};\r\n","import { useCallback, useEffect, useState, useContext } from 'react';\r\nimport {\r\n  drawVerticalLine,\r\n  drawHorizontalLine,\r\n  objectMovingObserver,\r\n} from './utils/aligningGuidelines';\r\nimport EventContext from '../../../contexts/EventContext';\r\nimport {\r\n  showVerticalCenterLine,\r\n  showHorizontalCenterLine,\r\n  objectMovingCenterObserver,\r\n} from './utils/centeringGuidelines';\r\n\r\nconst useGuideLines = (state, isCanvasSet, canvas) => {\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [ctx, setCtx] = useState(null);\r\n  const [viewportTransform, setViewportTransform] = useState(null);\r\n  const [verticalLines, setVerticalLines] = useState([]);\r\n  const [horizontalLines, setHorizontalLines] = useState([]);\r\n  const [zoom, setZoom] = useState(1);\r\n\r\n  const [canvasWidth, setCanvasWidth] = useState(null);\r\n  const [canvasHeight, setCanvasHeight] = useState(null);\r\n  const [canvasWidthCenterMap, setCanvasWidthCenterMap] = useState({});\r\n  const [canvasHeightCenterMap, setCanvasHeightCenterMap] = useState({});\r\n  const [isInVerticalCenter, setIsInVerticalCenter] = useState(null);\r\n  const [isInHorizontalCenter, setIsInHorizontalCenter] = useState(null);\r\n\r\n  const aligningLineOffset = 5;\r\n  const aligningLineWidth = 1;\r\n  const aligningLineMargin = 4;\r\n  const centerLineMargin = 4;\r\n  const aligningLineColor = 'rgb(111, 123, 208)';\r\n  const centerLineWidth = 1;\r\n  const centerLineColor = 'rgb(111, 123, 208)';\r\n\r\n  const handleMouseDown = useCallback(() => {\r\n    setViewportTransform(canvas.viewportTransform);\r\n    setZoom(canvas.getZoom());\r\n  }, [canvas]);\r\n\r\n  const handleBeforeRender = useCallback(() => {\r\n    canvas.clearContext(canvas.contextTop);\r\n  }, [canvas]);\r\n\r\n  const handleMoving = useCallback(\r\n    (e) => {\r\n      objectMovingObserver(\r\n        e,\r\n        canvas,\r\n        viewportTransform,\r\n        aligningLineOffset,\r\n        setVerticalLines,\r\n        setHorizontalLines,\r\n        aligningLineMargin\r\n      );\r\n      objectMovingCenterObserver(\r\n        e,\r\n        canvas,\r\n        setIsInVerticalCenter,\r\n        setIsInHorizontalCenter,\r\n        canvasWidthCenterMap,\r\n        canvasHeightCenterMap,\r\n        canvasWidth,\r\n        canvasHeight\r\n      );\r\n    },\r\n    [\r\n      canvas,\r\n      viewportTransform,\r\n      canvasHeight,\r\n      canvasHeightCenterMap,\r\n      canvasWidth,\r\n      canvasWidthCenterMap,\r\n    ]\r\n  );\r\n\r\n  const handleAfterRender = useCallback(() => {\r\n    for (let i = verticalLines.length; i--; ) {\r\n      drawVerticalLine(\r\n        verticalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    for (let i = horizontalLines.length; i--; ) {\r\n      drawHorizontalLine(\r\n        horizontalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    if (isInVerticalCenter) {\r\n      showVerticalCenterLine(\r\n        canvasWidth / 2,\r\n        canvasHeight,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n    if (isInHorizontalCenter) {\r\n      showHorizontalCenterLine(\r\n        canvasHeight / 2,\r\n        canvasWidth,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n  }, [\r\n    ctx,\r\n    viewportTransform,\r\n    horizontalLines,\r\n    verticalLines,\r\n    zoom,\r\n    canvasHeight,\r\n    canvasWidth,\r\n    isInHorizontalCenter,\r\n    isInVerticalCenter,\r\n  ]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    setIsInVerticalCenter(null);\r\n    setIsInHorizontalCenter(null);\r\n    canvas.requestRenderAll();\r\n  }, [canvas]);\r\n\r\n  const initGuideLines = useCallback(() => {\r\n    setCtx(canvas.getSelectionContext());\r\n    setCanvasWidth(canvas.getWidth() / canvas.getZoom());\r\n    setCanvasHeight(canvas.getHeight() / canvas.getZoom());\r\n    let widthMap = {};\r\n    let heightMap = {};\r\n    for (\r\n      let i = canvasWidth / 2 - centerLineMargin,\r\n        len = canvasWidth / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      widthMap[Math.round(i)] = true;\r\n    }\r\n    for (\r\n      let i = canvasHeight / 2 - centerLineMargin,\r\n        len = canvasHeight / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      heightMap[Math.round(i)] = true;\r\n    }\r\n    setCanvasWidthCenterMap(widthMap);\r\n    setCanvasHeightCenterMap(heightMap);\r\n  }, [canvasHeight, canvasWidth, canvas]);\r\n\r\n  const removelistneres = useCallback((canvas) => {\r\n    canvas.off('mouse:down');\r\n    canvas.off('object:moving');\r\n    canvas.off('before:render');\r\n    canvas.off('after:render');\r\n    canvas.off('mouse:up');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      initGuideLines();\r\n    }\r\n  }, [state.shouldUpdateCanvasSize, isCanvasSet, initGuideLines]);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet && ctx && !state.isCropMode) {\r\n      canvas.on('mouse:down', handleMouseDown);\r\n      canvas.on('object:moving', (e) => {\r\n        if (!eventState.isMoving) {\r\n          eventDispatch({ type: 'setIsMoving', data: true });\r\n        }\r\n        handleMoving(e);\r\n      });\r\n      canvas.on('before:render', handleBeforeRender);\r\n      canvas.on('after:render', handleAfterRender);\r\n      canvas.on('mouse:up', (e) => {\r\n        if (e.button === 3) {\r\n          eventDispatch({ type: 'setRightClickEvent', data: e });\r\n          e.e.preventDefault();\r\n        }\r\n        handleMouseUp(e);\r\n      });\r\n    } else if (state.isCropMode) removelistneres(canvas);\r\n    return () => {\r\n      if (isCanvasSet && ctx) removelistneres(canvas);\r\n    };\r\n  }, [\r\n    eventState,\r\n    eventDispatch,\r\n    state.shouldUpdateCanvasSize,\r\n    state.isCropMode,\r\n    removelistneres,\r\n    isCanvasSet,\r\n    ctx,\r\n    canvas,\r\n    handleMouseUp,\r\n    handleAfterRender,\r\n    handleMoving,\r\n    handleBeforeRender,\r\n    handleMouseDown,\r\n  ]);\r\n};\r\n\r\nexport default useGuideLines;\r\n","import WebFont from 'webfontloader';\r\nimport { fabric } from 'fabric';\r\n\r\nconst loaded = ['Inter'];\r\n\r\nconst roundedCorners = (img, radius) => {\r\n  let currentRadiusX = (img.width * img.scaleX * radius) / 200;\r\n  let currentRadiusY = (img.height * img.scaleY * radius) / 200;\r\n  let rect = new fabric.Rect({\r\n    width: img.width,\r\n    height: img.height,\r\n    rx: currentRadiusX / img.scaleX,\r\n    ry: currentRadiusY / img.scaleY,\r\n    left: -img.width / 2,\r\n    top: -img.height / 2,\r\n    noScaleCache: false,\r\n  });\r\n  return rect;\r\n};\r\n\r\nexport const updateImageStyle = (state, canvas, dispatch) => {\r\n  let image = canvas.getActiveObject();\r\n  if (image && image.type === 'image') {\r\n    let radius = state.imageState.cornerRadius;\r\n    image.set('clipPath', roundedCorners(image, radius));\r\n    image.cornerRadius = radius;\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateImage', data: false });\r\n};\r\n\r\nexport const loadAndUse = (canvas, text, font) => {\r\n  WebFont.load({\r\n    google: {\r\n      families: [font],\r\n    },\r\n    timeout: 5000,\r\n    fontactive: (familyName, fvd) => {\r\n      text.set({ fontFamily: familyName });\r\n      canvas.requestRenderAll();\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateTextStyle = (state, canvas, dispatch) => {\r\n  if (state.textState) {\r\n    state.currentObject.object._clearCache();\r\n    for (const [key, value] of Object.entries(state.textState)) {\r\n      if (key !== 'fontFamily') {\r\n        state.currentObject.object.set(key, value);\r\n      }\r\n    }\r\n    if (!loaded.includes(state.textState.fontFamily)) {\r\n      loadAndUse(\r\n        canvas,\r\n        state.currentObject.object,\r\n        state.textState.fontFamily,\r\n      );\r\n      loaded.push(state.textState.fontFamily);\r\n    } else {\r\n      state.currentObject.object.set({\r\n        fontFamily: state.textState.fontFamily,\r\n      });\r\n      canvas.requestRenderAll();\r\n    }\r\n\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n  }\r\n  dispatch({ type: 'setShouldUpdateText', data: false });\r\n};\r\n\r\nexport const updateSubtitlesStyle = (state, canvas, dispatch) => {\r\n  if (state.subtitlesState) {\r\n    let text = state.currentObject.object\r\n    text._clearCache();\r\n    for (const [key, value] of Object.entries(state.subtitlesState)) {\r\n      if (key !== 'fontFamily') {\r\n        text.set(key, value);\r\n      }\r\n    }\r\n    if (!loaded.includes(state.subtitlesState.fontFamily)) {\r\n      loadAndUse(\r\n        canvas,\r\n        text,\r\n        state.subtitlesState.fontFamily,\r\n      );\r\n      loaded.push(state.subtitlesState.fontFamily);\r\n    } else {\r\n      text.set({\r\n        fontFamily: state.subtitlesState.fontFamily,\r\n      });\r\n      canvas.requestRenderAll();\r\n    }\r\n\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n  }\r\n  dispatch({ type: 'setShouldUpdateSubtitles', data: false });\r\n};\r\n\r\nexport const updateShapeStyle = (state, canvas, dispatch) => {\r\n  if (state.shapeState) {\r\n    // state.currentObject.object._clearCache();\r\n    for (const [key, value] of Object.entries(state.shapeState)) {\r\n      state.currentObject.object.set(key, value);\r\n    }\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateShape', data: false });\r\n};\r\n","import { useEffect } from 'react';\r\nimport { updateCanvasStyle, updateCanvasSize } from './utils/updateCanvas';\r\nimport {\r\n  updateImageStyle,\r\n  updateTextStyle,\r\n  updateShapeStyle,\r\n  updateSubtitlesStyle\r\n} from './utils/updateObject';\r\n\r\nconst shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n\r\nconst useUpdateObject = (state, dispatch, canvas) => {\r\n  useEffect(() => {\r\n    if (state.shouldUpdateSubtitles) {\r\n      updateSubtitlesStyle(state, canvas, dispatch)\r\n    }\r\n    if (state.shouldUpdateCanvas) {\r\n      updateCanvasStyle(state.canvasState, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateCanvasSize) {\r\n      updateCanvasSize(state.canvasState, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateText && state.currentObject.type === 'text') {\r\n      updateTextStyle(state, canvas, dispatch);\r\n    }\r\n    if (\r\n      state.shouldUpdateShape &&\r\n      shapeArr.includes(state.currentObject.type)\r\n    ) {\r\n      updateShapeStyle(state, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateImage && state.currentObject.type === 'image') {\r\n      updateImageStyle(state, canvas, dispatch);\r\n    }\r\n  }, [state, dispatch, canvas]);\r\n};\r\n\r\nexport default useUpdateObject;\r\n","export const updateCanvasStyle = (state, canvas, dispatch) => {\r\n  canvas.backgroundColor = state.backgroundColor;\r\n  canvas.requestRenderAll();\r\n  dispatch({ type: 'setShouldUpdateCanvas', data: false });\r\n};\r\n\r\nexport const updateCanvasSize = (state, canvas, dispatch) => {\r\n  canvas.discardActiveObject();\r\n  let ratio = Math.min(\r\n    state.width / state.initialWidth,\r\n    state.height / state.initialHeight\r\n  );\r\n  canvas.setZoom(ratio);\r\n  canvas.setDimensions({\r\n    width: state.width,\r\n    height: state.height,\r\n  });\r\n  canvas.requestRenderAll();\r\n  dispatch({ type: 'setShouldUpdateCanvasSize', data: false });\r\n};\r\n","export default __webpack_public_path__ + \"static/media/downArrow.fef3575b.svg\";","export default __webpack_public_path__ + \"static/media/bold.a2d1e7f9.svg\";","export default __webpack_public_path__ + \"static/media/subBackground.8078df1d.svg\";","export default __webpack_public_path__ + \"static/media/italic.3764ee89.svg\";","export default __webpack_public_path__ + \"static/media/textLeft.6dd8e1e0.svg\";","export default __webpack_public_path__ + \"static/media/textRight.41f15bae.svg\";","export default __webpack_public_path__ + \"static/media/textCenter.ac71018d.svg\";","export default __webpack_public_path__ + \"static/media/textJustify.7c9f4495.svg\";","const fonts =  [\r\n  'ABeeZee',\r\n  'Abel',\r\n  'Abhaya Libre',\r\n  'Abril Fatface',\r\n  'Aclonica',\r\n  'Acme',\r\n  'Actor',\r\n  'Adamina',\r\n  'Advent Pro',\r\n  'Aguafina Script',\r\n  'Akaya Kanadaka',\r\n  'Akaya Telivigala',\r\n  'Akronim',\r\n  'Aladin',\r\n  'Alata',\r\n  'Alatsi',\r\n  'Aldrich',\r\n  'Alef',\r\n  'Alegreya',\r\n  'Alegreya SC',\r\n  'Alegreya Sans',\r\n  'Alegreya Sans SC',\r\n  'Aleo',\r\n  'Alex Brush',\r\n  'Alfa Slab One',\r\n  'Alice',\r\n  'Alike',\r\n  'Alike Angular',\r\n  'Allan',\r\n  'Allerta',\r\n  'Allerta Stencil',\r\n  'Allura',\r\n  'Almarai',\r\n  'Almendra',\r\n  'Almendra Display',\r\n  'Almendra SC',\r\n  'Amarante',\r\n  'Amaranth',\r\n  'Amatic SC',\r\n  'Amethysta',\r\n  'Amiko',\r\n  'Amiri',\r\n  'Amita',\r\n  'Anaheim',\r\n  'Andada',\r\n  'Andika',\r\n  'Andika New Basic',\r\n  'Angkor',\r\n  'Annie Use Your Telescope',\r\n  'Anonymous Pro',\r\n  'Antic',\r\n  'Antic Didone',\r\n  'Antic Slab',\r\n  'Anton',\r\n  'Arapey',\r\n  'Arbutus',\r\n  'Arbutus Slab',\r\n  'Architects Daughter',\r\n  'Archivo',\r\n  'Archivo Black',\r\n  'Archivo Narrow',\r\n  'Aref Ruqaa',\r\n  'Arima Madurai',\r\n  'Arimo',\r\n  'Arizonia',\r\n  'Armata',\r\n  'Arsenal',\r\n  'Artifika',\r\n  'Arvo',\r\n  'Arya',\r\n  'Asap',\r\n  'Asap Condensed',\r\n  'Asar',\r\n  'Asset',\r\n  'Assistant',\r\n  'Astloch',\r\n  'Asul',\r\n  'Athiti',\r\n  'Atma',\r\n  'Atomic Age',\r\n  'Aubrey',\r\n  'Audiowide',\r\n  'Autour One',\r\n  'Average',\r\n  'Average Sans',\r\n  'Averia Gruesa Libre',\r\n  'Averia Libre',\r\n  'Averia Sans Libre',\r\n  'Averia Serif Libre',\r\n  'B612',\r\n  'B612 Mono',\r\n  'Bad Script',\r\n  'Bahiana',\r\n  'Bahianita',\r\n  'Bai Jamjuree',\r\n  'Ballet',\r\n  'Baloo 2',\r\n  'Baloo Bhai 2',\r\n  'Baloo Bhaina 2',\r\n  'Baloo Chettan 2',\r\n  'Baloo Da 2',\r\n  'Baloo Paaji 2',\r\n  'Baloo Tamma 2',\r\n  'Baloo Tammudu 2',\r\n  'Baloo Thambi 2',\r\n  'Balsamiq Sans',\r\n  'Balthazar',\r\n  'Bangers',\r\n  'Barlow',\r\n  'Barlow Condensed',\r\n  'Barlow Semi Condensed',\r\n  'Barriecito',\r\n  'Barrio',\r\n  'Basic',\r\n  'Baskervville',\r\n  'Battambang',\r\n  'Baumans',\r\n  'Bayon',\r\n  'Be Vietnam',\r\n  'Bebas Neue',\r\n  'Belgrano',\r\n  'Bellefair',\r\n  'Belleza',\r\n  'Bellota',\r\n  'Bellota Text',\r\n  'BenchNine',\r\n  'Benne',\r\n  'Bentham',\r\n  'Berkshire Swash',\r\n  'Beth Ellen',\r\n  'Bevan',\r\n  'Big Shoulders Display',\r\n  'Big Shoulders Inline Display',\r\n  'Big Shoulders Inline Text',\r\n  'Big Shoulders Stencil Display',\r\n  'Big Shoulders Stencil Text',\r\n  'Big Shoulders Text',\r\n  'Bigelow Rules',\r\n  'Bigshot One',\r\n  'Bilbo',\r\n  'Bilbo Swash Caps',\r\n  'BioRhyme',\r\n  'BioRhyme Expanded',\r\n  'Biryani',\r\n  'Bitter',\r\n  'Black And White Picture',\r\n  'Black Han Sans',\r\n  'Black Ops One',\r\n  'Blinker',\r\n  'Bodoni Moda',\r\n  'Bokor',\r\n  'Bonbon',\r\n  'Boogaloo',\r\n  'Bowlby One',\r\n  'Bowlby One SC',\r\n  'Brawler',\r\n  'Bree Serif',\r\n  'Brygada 1918',\r\n  'Bubblegum Sans',\r\n  'Bubbler One',\r\n  'Buda',\r\n  'Buenard',\r\n  'Bungee',\r\n  'Bungee Hairline',\r\n  'Bungee Inline',\r\n  'Bungee Outline',\r\n  'Bungee Shade',\r\n  'Butcherman',\r\n  'Butterfly Kids',\r\n  'Cabin',\r\n  'Cabin Condensed',\r\n  'Cabin Sketch',\r\n  'Caesar Dressing',\r\n  'Cagliostro',\r\n  'Cairo',\r\n  'Caladea',\r\n  'Calistoga',\r\n  'Calligraffitti',\r\n  'Cambay',\r\n  'Cambo',\r\n  'Candal',\r\n  'Cantarell',\r\n  'Cantata One',\r\n  'Cantora One',\r\n  'Capriola',\r\n  'Cardo',\r\n  'Carme',\r\n  'Carrois Gothic',\r\n  'Carrois Gothic SC',\r\n  'Carter One',\r\n  'Castoro',\r\n  'Catamaran',\r\n  'Caudex',\r\n  'Caveat',\r\n  'Caveat Brush',\r\n  'Cedarville Cursive',\r\n  'Ceviche One',\r\n  'Chakra Petch',\r\n  'Changa',\r\n  'Changa One',\r\n  'Chango',\r\n  'Charm',\r\n  'Charmonman',\r\n  'Chathura',\r\n  'Chau Philomene One',\r\n  'Chela One',\r\n  'Chelsea Market',\r\n  'Chenla',\r\n  'Cherry Cream Soda',\r\n  'Cherry Swash',\r\n  'Chewy',\r\n  'Chicle',\r\n  'Chilanka',\r\n  'Chivo',\r\n  'Chonburi',\r\n  'Cinzel',\r\n  'Cinzel Decorative',\r\n  'Clicker Script',\r\n  'Coda',\r\n  'Coda Caption',\r\n  'Codystar',\r\n  'Coiny',\r\n  'Combo',\r\n  'Comfortaa',\r\n  'Comic Neue',\r\n  'Coming Soon',\r\n  'Commissioner',\r\n  'Concert One',\r\n  'Condiment',\r\n  'Content',\r\n  'Contrail One',\r\n  'Convergence',\r\n  'Cookie',\r\n  'Copse',\r\n  'Corben',\r\n  'Cormorant',\r\n  'Cormorant Garamond',\r\n  'Cormorant Infant',\r\n  'Cormorant SC',\r\n  'Cormorant Unicase',\r\n  'Cormorant Upright',\r\n  'Courgette',\r\n  'Courier Prime',\r\n  'Cousine',\r\n  'Coustard',\r\n  'Covered By Your Grace',\r\n  'Crafty Girls',\r\n  'Creepster',\r\n  'Crete Round',\r\n  'Crimson Pro',\r\n  'Crimson Text',\r\n  'Croissant One',\r\n  'Crushed',\r\n  'Cuprum',\r\n  'Cute Font',\r\n  'Cutive',\r\n  'Cutive Mono',\r\n  'DM Mono',\r\n  'DM Sans',\r\n  'DM Serif Display',\r\n  'DM Serif Text',\r\n  'Damion',\r\n  'Dancing Script',\r\n  'Dangrek',\r\n  'Darker Grotesque',\r\n  'David Libre',\r\n  'Dawning of a New Day',\r\n  'Days One',\r\n  'Dekko',\r\n  'Dela Gothic One',\r\n  'Delius',\r\n  'Delius Swash Caps',\r\n  'Delius Unicase',\r\n  'Della Respira',\r\n  'Denk One',\r\n  'Devonshire',\r\n  'Dhurjati',\r\n  'Didact Gothic',\r\n  'Diplomata',\r\n  'Diplomata SC',\r\n  'Do Hyeon',\r\n  'Dokdo',\r\n  'Domine',\r\n  'Donegal One',\r\n  'Doppio One',\r\n  'Dorsa',\r\n  'Dosis',\r\n  'DotGothic16',\r\n  'Dr Sugiyama',\r\n  'Duru Sans',\r\n  'Dynalight',\r\n  'EB Garamond',\r\n  'Eagle Lake',\r\n  'East Sea Dokdo',\r\n  'Eater',\r\n  'Economica',\r\n  'Eczar',\r\n  'El Messiri',\r\n  'Electrolize',\r\n  'Elsie',\r\n  'Elsie Swash Caps',\r\n  'Emblema One',\r\n  'Emilys Candy',\r\n  'Encode Sans',\r\n  'Encode Sans Condensed',\r\n  'Encode Sans Expanded',\r\n  'Encode Sans Semi Condensed',\r\n  'Encode Sans Semi Expanded',\r\n  'Engagement',\r\n  'Englebert',\r\n  'Enriqueta',\r\n  'Epilogue',\r\n  'Erica One',\r\n  'Esteban',\r\n  'Euphoria Script',\r\n  'Ewert',\r\n  'Exo',\r\n  'Exo 2',\r\n  'Expletus Sans',\r\n  'Fahkwang',\r\n  'Fanwood Text',\r\n  'Farro',\r\n  'Farsan',\r\n  'Fascinate',\r\n  'Fascinate Inline',\r\n  'Faster One',\r\n  'Fasthand',\r\n  'Fauna One',\r\n  'Faustina',\r\n  'Federant',\r\n  'Federo',\r\n  'Felipa',\r\n  'Fenix',\r\n  'Finger Paint',\r\n  'Fira Code',\r\n  'Fira Mono',\r\n  'Fira Sans',\r\n  'Fira Sans Condensed',\r\n  'Fira Sans Extra Condensed',\r\n  'Fjalla One',\r\n  'Fjord One',\r\n  'Flamenco',\r\n  'Flavors',\r\n  'Fondamento',\r\n  'Fontdiner Swanky',\r\n  'Forum',\r\n  'Francois One',\r\n  'Frank Ruhl Libre',\r\n  'Fraunces',\r\n  'Freckle Face',\r\n  'Fredericka the Great',\r\n  'Fredoka One',\r\n  'Freehand',\r\n  'Fresca',\r\n  'Frijole',\r\n  'Fruktur',\r\n  'Fugaz One',\r\n  'GFS Didot',\r\n  'GFS Neohellenic',\r\n  'Gabriela',\r\n  'Gaegu',\r\n  'Gafata',\r\n  'Galada',\r\n  'Galdeano',\r\n  'Galindo',\r\n  'Gamja Flower',\r\n  'Gayathri',\r\n  'Gelasio',\r\n  'Gentium Basic',\r\n  'Gentium Book Basic',\r\n  'Geo',\r\n  'Geostar',\r\n  'Geostar Fill',\r\n  'Germania One',\r\n  'Gidugu',\r\n  'Gilda Display',\r\n  'Girassol',\r\n  'Give You Glory',\r\n  'Glass Antiqua',\r\n  'Glegoo',\r\n  'Gloria Hallelujah',\r\n  'Goblin One',\r\n  'Gochi Hand',\r\n  'Goldman',\r\n  'Gorditas',\r\n  'Gothic A1',\r\n  'Gotu',\r\n  'Goudy Bookletter 1911',\r\n  'Graduate',\r\n  'Grand Hotel',\r\n  'Grandstander',\r\n  'Gravitas One',\r\n  'Great Vibes',\r\n  'Grenze',\r\n  'Grenze Gotisch',\r\n  'Griffy',\r\n  'Gruppo',\r\n  'Gudea',\r\n  'Gugi',\r\n  'Gupter',\r\n  'Gurajada',\r\n  'Habibi',\r\n  'Hachi Maru Pop',\r\n  'Halant',\r\n  'Hammersmith One',\r\n  'Hanalei',\r\n  'Hanalei Fill',\r\n  'Handlee',\r\n  'Hanuman',\r\n  'Happy Monkey',\r\n  'Harmattan',\r\n  'Headland One',\r\n  'Heebo',\r\n  'Henny Penny',\r\n  'Hepta Slab',\r\n  'Herr Von Muellerhoff',\r\n  'Hi Melody',\r\n  'Hind',\r\n  'Hind Guntur',\r\n  'Hind Madurai',\r\n  'Hind Siliguri',\r\n  'Hind Vadodara',\r\n  'Holtwood One SC',\r\n  'Homemade Apple',\r\n  'Homenaje',\r\n  'IBM Plex Mono',\r\n  'IBM Plex Sans',\r\n  'IBM Plex Sans Condensed',\r\n  'IBM Plex Serif',\r\n  'IM Fell DW Pica',\r\n  'IM Fell DW Pica SC',\r\n  'IM Fell Double Pica',\r\n  'IM Fell Double Pica SC',\r\n  'IM Fell English',\r\n  'IM Fell English SC',\r\n  'IM Fell French Canon',\r\n  'IM Fell French Canon SC',\r\n  'IM Fell Great Primer',\r\n  'IM Fell Great Primer SC',\r\n  'Ibarra Real Nova',\r\n  'Iceberg',\r\n  'Iceland',\r\n  'Imbue',\r\n  'Imprima',\r\n  'Inconsolata',\r\n  'Inder',\r\n  'Indie Flower',\r\n  'Inika',\r\n  'Inknut Antiqua',\r\n  'Inria Sans',\r\n  'Inria Serif',\r\n  'Inter',\r\n  'Irish Grover',\r\n  'Istok Web',\r\n  'Italiana',\r\n  'Italianno',\r\n  'Itim',\r\n  'Jacques Francois',\r\n  'Jacques Francois Shadow',\r\n  'Jaldi',\r\n  'JetBrains Mono',\r\n  'Jim Nightshade',\r\n  'Jockey One',\r\n  'Jolly Lodger',\r\n  'Jomhuria',\r\n  'Jomolhari',\r\n  'Josefin Sans',\r\n  'Josefin Slab',\r\n  'Jost',\r\n  'Joti One',\r\n  'Jua',\r\n  'Judson',\r\n  'Julee',\r\n  'Julius Sans One',\r\n  'Junge',\r\n  'Jura',\r\n  'Just Another Hand',\r\n  'Just Me Again Down Here',\r\n  'K2D',\r\n  'Kadwa',\r\n  'Kalam',\r\n  'Kameron',\r\n  'Kanit',\r\n  'Kantumruy',\r\n  'Karla',\r\n  'Karma',\r\n  'Katibeh',\r\n  'Kaushan Script',\r\n  'Kavivanar',\r\n  'Kavoon',\r\n  'Kdam Thmor',\r\n  'Keania One',\r\n  'Kelly Slab',\r\n  'Kenia',\r\n  'Khand',\r\n  'Khmer',\r\n  'Khula',\r\n  'Kirang Haerang',\r\n  'Kite One',\r\n  'Kiwi Maru',\r\n  'Knewave',\r\n  'KoHo',\r\n  'Kodchasan',\r\n  'Kosugi',\r\n  'Kosugi Maru',\r\n  'Kotta One',\r\n  'Koulen',\r\n  'Kranky',\r\n  'Kreon',\r\n  'Kristi',\r\n  'Krona One',\r\n  'Krub',\r\n  'Kufam',\r\n  'Kulim Park',\r\n  'Kumar One',\r\n  'Kumar One Outline',\r\n  'Kumbh Sans',\r\n  'Kurale',\r\n  'La Belle Aurore',\r\n  'Lacquer',\r\n  'Laila',\r\n  'Lakki Reddy',\r\n  'Lalezar',\r\n  'Lancelot',\r\n  'Langar',\r\n  'Lateef',\r\n  'Lato',\r\n  'League Script',\r\n  'Leckerli One',\r\n  'Ledger',\r\n  'Lekton',\r\n  'Lemon',\r\n  'Lemonada',\r\n  'Lexend',\r\n  'Lexend Deca',\r\n  'Lexend Exa',\r\n  'Lexend Giga',\r\n  'Lexend Mega',\r\n  'Lexend Peta',\r\n  'Lexend Tera',\r\n  'Lexend Zetta',\r\n  'Libre Barcode 128',\r\n  'Libre Barcode 128 Text',\r\n  'Libre Barcode 39',\r\n  'Libre Barcode 39 Extended',\r\n  'Libre Barcode 39 Extended Text',\r\n  'Libre Barcode 39 Text',\r\n  'Libre Barcode EAN13 Text',\r\n  'Libre Baskerville',\r\n  'Libre Caslon Display',\r\n  'Libre Caslon Text',\r\n  'Libre Franklin',\r\n  'Life Savers',\r\n  'Lilita One',\r\n  'Lily Script One',\r\n  'Limelight',\r\n  'Linden Hill',\r\n  'Literata',\r\n  'Liu Jian Mao Cao',\r\n  'Livvic',\r\n  'Lobster',\r\n  'Lobster Two',\r\n  'Londrina Outline',\r\n  'Londrina Shadow',\r\n  'Londrina Sketch',\r\n  'Londrina Solid',\r\n  'Long Cang',\r\n  'Lora',\r\n  'Love Ya Like A Sister',\r\n  'Loved by the King',\r\n  'Lovers Quarrel',\r\n  'Luckiest Guy',\r\n  'Lusitana',\r\n  'Lustria',\r\n  'M PLUS 1p',\r\n  'M PLUS Rounded 1c',\r\n  'Ma Shan Zheng',\r\n  'Macondo',\r\n  'Macondo Swash Caps',\r\n  'Mada',\r\n  'Magra',\r\n  'Maiden Orange',\r\n  'Maitree',\r\n  'Major Mono Display',\r\n  'Mako',\r\n  'Mali',\r\n  'Mallanna',\r\n  'Mandali',\r\n  'Manjari',\r\n  'Manrope',\r\n  'Mansalva',\r\n  'Manuale',\r\n  'Marcellus',\r\n  'Marcellus SC',\r\n  'Marck Script',\r\n  'Margarine',\r\n  'Markazi Text',\r\n  'Marko One',\r\n  'Marmelad',\r\n  'Martel',\r\n  'Martel Sans',\r\n  'Marvel',\r\n  'Mate',\r\n  'Mate SC',\r\n  'Maven Pro',\r\n  'McLaren',\r\n  'Meddon',\r\n  'MedievalSharp',\r\n  'Medula One',\r\n  'Meera Inimai',\r\n  'Megrim',\r\n  'Meie Script',\r\n  'Merienda',\r\n  'Merienda One',\r\n  'Merriweather',\r\n  'Merriweather Sans',\r\n  'Metal',\r\n  'Metal Mania',\r\n  'Metamorphous',\r\n  'Metrophobic',\r\n  'Michroma',\r\n  'Milonga',\r\n  'Miltonian',\r\n  'Miltonian Tattoo',\r\n  'Mina',\r\n  'Miniver',\r\n  'Miriam Libre',\r\n  'Mirza',\r\n  'Miss Fajardose',\r\n  'Mitr',\r\n  'Modak',\r\n  'Modern Antiqua',\r\n  'Mogra',\r\n  'Molengo',\r\n  'Molle',\r\n  'Monda',\r\n  'Monofett',\r\n  'Monoton',\r\n  'Monsieur La Doulaise',\r\n  'Montaga',\r\n  'Montez',\r\n  'Montserrat',\r\n  'Montserrat Alternates',\r\n  'Montserrat Subrayada',\r\n  'Moul',\r\n  'Moulpali',\r\n  'Mountains of Christmas',\r\n  'Mouse Memoirs',\r\n  'Mr Bedfort',\r\n  'Mr Dafoe',\r\n  'Mr De Haviland',\r\n  'Mrs Saint Delafield',\r\n  'Mrs Sheppards',\r\n  'Mukta',\r\n  'Mukta Mahee',\r\n  'Mukta Malar',\r\n  'Mukta Vaani',\r\n  'Mulish',\r\n  'MuseoModerno',\r\n  'Mystery Quest',\r\n  'NTR',\r\n  'Nanum Brush Script',\r\n  'Nanum Gothic',\r\n  'Nanum Gothic Coding',\r\n  'Nanum Myeongjo',\r\n  'Nanum Pen Script',\r\n  'Nerko One',\r\n  'Neucha',\r\n  'Neuton',\r\n  'New Rocker',\r\n  'New Tegomin',\r\n  'News Cycle',\r\n  'Newsreader',\r\n  'Niconne',\r\n  'Niramit',\r\n  'Nixie One',\r\n  'Nobile',\r\n  'Nokora',\r\n  'Norican',\r\n  'Nosifer',\r\n  'Notable',\r\n  'Nothing You Could Do',\r\n  'Noticia Text',\r\n  'Noto Sans',\r\n  'Noto Sans HK',\r\n  'Noto Sans JP',\r\n  'Noto Sans KR',\r\n  'Noto Sans SC',\r\n  'Noto Sans TC',\r\n  'Noto Serif',\r\n  'Noto Serif JP',\r\n  'Noto Serif KR',\r\n  'Noto Serif SC',\r\n  'Noto Serif TC',\r\n  'Nova Cut',\r\n  'Nova Flat',\r\n  'Nova Mono',\r\n  'Nova Oval',\r\n  'Nova Round',\r\n  'Nova Script',\r\n  'Nova Slim',\r\n  'Nova Square',\r\n  'Numans',\r\n  'Nunito',\r\n  'Nunito Sans',\r\n  'Odibee Sans',\r\n  'Odor Mean Chey',\r\n  'Offside',\r\n  'Oi',\r\n  'Old Standard TT',\r\n  'Oldenburg',\r\n  'Oleo Script',\r\n  'Oleo Script Swash Caps',\r\n  'Open Sans',\r\n  'Open Sans Condensed',\r\n  'Oranienbaum',\r\n  'Orbitron',\r\n  'Oregano',\r\n  'Orienta',\r\n  'Original Surfer',\r\n  'Oswald',\r\n  'Over the Rainbow',\r\n  'Overlock',\r\n  'Overlock SC',\r\n  'Overpass',\r\n  'Overpass Mono',\r\n  'Ovo',\r\n  'Oxanium',\r\n  'Oxygen',\r\n  'Oxygen Mono',\r\n  'PT Mono',\r\n  'PT Sans',\r\n  'PT Sans Caption',\r\n  'PT Sans Narrow',\r\n  'PT Serif',\r\n  'PT Serif Caption',\r\n  'Pacifico',\r\n  'Padauk',\r\n  'Palanquin',\r\n  'Palanquin Dark',\r\n  'Pangolin',\r\n  'Paprika',\r\n  'Parisienne',\r\n  'Passero One',\r\n  'Passion One',\r\n  'Pathway Gothic One',\r\n  'Patrick Hand',\r\n  'Patrick Hand SC',\r\n  'Pattaya',\r\n  'Patua One',\r\n  'Pavanam',\r\n  'Paytone One',\r\n  'Peddana',\r\n  'Peralta',\r\n  'Permanent Marker',\r\n  'Petit Formal Script',\r\n  'Petrona',\r\n  'Philosopher',\r\n  'Piazzolla',\r\n  'Piedra',\r\n  'Pinyon Script',\r\n  'Pirata One',\r\n  'Plaster',\r\n  'Play',\r\n  'Playball',\r\n  'Playfair Display',\r\n  'Playfair Display SC',\r\n  'Podkova',\r\n  'Poiret One',\r\n  'Poller One',\r\n  'Poly',\r\n  'Pompiere',\r\n  'Pontano Sans',\r\n  'Poor Story',\r\n  'Poppins',\r\n  'Port Lligat Sans',\r\n  'Port Lligat Slab',\r\n  'Potta One',\r\n  'Pragati Narrow',\r\n  'Prata',\r\n  'Preahvihear',\r\n  'Press Start 2P',\r\n  'Pridi',\r\n  'Princess Sofia',\r\n  'Prociono',\r\n  'Prompt',\r\n  'Prosto One',\r\n  'Proza Libre',\r\n  'Public Sans',\r\n  'Puritan',\r\n  'Purple Purse',\r\n  'Quando',\r\n  'Quantico',\r\n  'Quattrocento',\r\n  'Quattrocento Sans',\r\n  'Questrial',\r\n  'Quicksand',\r\n  'Quintessential',\r\n  'Qwigley',\r\n  'Racing Sans One',\r\n  'Radley',\r\n  'Rajdhani',\r\n  'Rakkas',\r\n  'Raleway',\r\n  'Raleway Dots',\r\n  'Ramabhadra',\r\n  'Ramaraja',\r\n  'Rambla',\r\n  'Rammetto One',\r\n  'Ranchers',\r\n  'Rancho',\r\n  'Ranga',\r\n  'Rasa',\r\n  'Rationale',\r\n  'Ravi Prakash',\r\n  'Recursive',\r\n  'Red Hat Display',\r\n  'Red Hat Text',\r\n  'Red Rose',\r\n  'Redressed',\r\n  'Reem Kufi',\r\n  'Reenie Beanie',\r\n  'Reggae One',\r\n  'Revalia',\r\n  'Rhodium Libre',\r\n  'Ribeye',\r\n  'Ribeye Marrow',\r\n  'Righteous',\r\n  'Risque',\r\n  'Roboto',\r\n  'Roboto Condensed',\r\n  'Roboto Mono',\r\n  'Roboto Slab',\r\n  'Rochester',\r\n  'Rock Salt',\r\n  'RocknRoll One',\r\n  'Rokkitt',\r\n  'Romanesco',\r\n  'Ropa Sans',\r\n  'Rosario',\r\n  'Rosarivo',\r\n  'Rouge Script',\r\n  'Rowdies',\r\n  'Rozha One',\r\n  'Rubik',\r\n  'Rubik Mono One',\r\n  'Ruda',\r\n  'Rufina',\r\n  'Ruge Boogie',\r\n  'Ruluko',\r\n  'Rum Raisin',\r\n  'Ruslan Display',\r\n  'Russo One',\r\n  'Ruthie',\r\n  'Rye',\r\n  'Sacramento',\r\n  'Sahitya',\r\n  'Sail',\r\n  'Saira',\r\n  'Saira Condensed',\r\n  'Saira Extra Condensed',\r\n  'Saira Semi Condensed',\r\n  'Saira Stencil One',\r\n  'Salsa',\r\n  'Sanchez',\r\n  'Sancreek',\r\n  'Sansita',\r\n  'Sansita Swashed',\r\n  'Sarabun',\r\n  'Sarala',\r\n  'Sarina',\r\n  'Sarpanch',\r\n  'Satisfy',\r\n  'Sawarabi Gothic',\r\n  'Sawarabi Mincho',\r\n  'Scada',\r\n  'Scheherazade',\r\n  'Schoolbell',\r\n  'Scope One',\r\n  'Seaweed Script',\r\n  'Secular One',\r\n  'Sedgwick Ave',\r\n  'Sedgwick Ave Display',\r\n  'Sen',\r\n  'Sevillana',\r\n  'Seymour One',\r\n  'Shadows Into Light',\r\n  'Shadows Into Light Two',\r\n  'Shanti',\r\n  'Share',\r\n  'Share Tech',\r\n  'Share Tech Mono',\r\n  'Shippori Mincho',\r\n  'Shippori Mincho B1',\r\n  'Shojumaru',\r\n  'Short Stack',\r\n  'Shrikhand',\r\n  'Siemreap',\r\n  'Sigmar One',\r\n  'Signika',\r\n  'Signika Negative',\r\n  'Simonetta',\r\n  'Single Day',\r\n  'Sintony',\r\n  'Sirin Stencil',\r\n  'Six Caps',\r\n  'Skranji',\r\n  'Slabo 13px',\r\n  'Slabo 27px',\r\n  'Slackey',\r\n  'Smokum',\r\n  'Smythe',\r\n  'Sniglet',\r\n  'Snippet',\r\n  'Snowburst One',\r\n  'Sofadi One',\r\n  'Sofia',\r\n  'Solway',\r\n  'Song Myung',\r\n  'Sonsie One',\r\n  'Sora',\r\n  'Sorts Mill Goudy',\r\n  'Source Code Pro',\r\n  'Source Sans Pro',\r\n  'Source Serif Pro',\r\n  'Space Grotesk',\r\n  'Space Mono',\r\n  'Spartan',\r\n  'Special Elite',\r\n  'Spectral',\r\n  'Spectral SC',\r\n  'Spicy Rice',\r\n  'Spinnaker',\r\n  'Spirax',\r\n  'Squada One',\r\n  'Sree Krushnadevaraya',\r\n  'Sriracha',\r\n  'Srisakdi',\r\n  'Staatliches',\r\n  'Stalemate',\r\n  'Stalinist One',\r\n  'Stardos Stencil',\r\n  'Stick',\r\n  'Stint Ultra Condensed',\r\n  'Stint Ultra Expanded',\r\n  'Stoke',\r\n  'Strait',\r\n  'Stylish',\r\n  'Sue Ellen Francisco',\r\n  'Suez One',\r\n  'Sulphur Point',\r\n  'Sumana',\r\n  'Sunflower',\r\n  'Sunshiney',\r\n  'Supermercado One',\r\n  'Sura',\r\n  'Suranna',\r\n  'Suravaram',\r\n  'Suwannaphum',\r\n  'Swanky and Moo Moo',\r\n  'Syncopate',\r\n  'Syne',\r\n  'Syne Mono',\r\n  'Syne Tactile',\r\n  'Tajawal',\r\n  'Tangerine',\r\n  'Taprom',\r\n  'Tauri',\r\n  'Taviraj',\r\n  'Teko',\r\n  'Telex',\r\n  'Tenali Ramakrishna',\r\n  'Tenor Sans',\r\n  'Text Me One',\r\n  'Texturina',\r\n  'Thasadith',\r\n  'The Girl Next Door',\r\n  'Tienne',\r\n  'Tillana',\r\n  'Timmana',\r\n  'Tinos',\r\n  'Titan One',\r\n  'Titillium Web',\r\n  'Tomorrow',\r\n  'Trade Winds',\r\n  'Train One',\r\n  'Trirong',\r\n  'Trispace',\r\n  'Trocchi',\r\n  'Trochut',\r\n  'Truculenta',\r\n  'Trykker',\r\n  'Tulpen One',\r\n  'Turret Road',\r\n  'Ubuntu',\r\n  'Ubuntu Condensed',\r\n  'Ubuntu Mono',\r\n  'Ultra',\r\n  'Uncial Antiqua',\r\n  'Underdog',\r\n  'Unica One',\r\n  'UnifrakturCook',\r\n  'UnifrakturMaguntia',\r\n  'Unkempt',\r\n  'Unlock',\r\n  'Unna',\r\n  'VT323',\r\n  'Vampiro One',\r\n  'Varela',\r\n  'Varela Round',\r\n  'Varta',\r\n  'Vast Shadow',\r\n  'Vesper Libre',\r\n  'Viaoda Libre',\r\n  'Vibes',\r\n  'Vibur',\r\n  'Vidaloka',\r\n  'Viga',\r\n  'Voces',\r\n  'Volkhov',\r\n  'Vollkorn',\r\n  'Vollkorn SC',\r\n  'Voltaire',\r\n  'Waiting for the Sunrise',\r\n  'Wallpoet',\r\n  'Walter Turncoat',\r\n  'Warnes',\r\n  'Wellfleet',\r\n  'Wendy One',\r\n  'Wire One',\r\n  'Work Sans',\r\n  'Xanh Mono',\r\n  'Yanone Kaffeesatz',\r\n  'Yantramanav',\r\n  'Yatra One',\r\n  'Yellowtail',\r\n  'Yeon Sung',\r\n  'Yeseva One',\r\n  'Yesteryear',\r\n  'Yrsa',\r\n  'Yusei Magic',\r\n  'ZCOOL KuaiLe',\r\n  'ZCOOL QingKe HuangYou',\r\n  'ZCOOL XiaoWei',\r\n  'Zeyada',\r\n  'Zhi Mang Xing',\r\n  'Zilla Slab',\r\n  'Zilla Slab Highlight'\r\n];\r\n\r\nexport default fonts;","import React, { useState } from 'react';\r\nimport styles from './FontsDropdown.module.css';\r\nimport search from '../../../../assets/editor/search.svg';\r\nimport fonts from './fontsData';\r\n\r\nconst FontsDropdown = ({ setIsDropDown, dispatch, isSub }) => {\r\n  const [input, setInput] = useState('');\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      let type = isSub ? 'setSubtitlesFontFamily' : 'setFontFamily';\r\n      dispatch({ type, data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n  \r\n  const options = fonts\r\n    .filter((font) => {\r\n      return font.toLowerCase().includes(input.toLowerCase());\r\n    })\r\n    .map((font) => {\r\n      return (\r\n        <li className={styles.FontOption} key={font}>\r\n          {font}\r\n        </li>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div className={styles.FontsDropdown}>\r\n      <div className={styles.SearchContainer}>\r\n        <img className={styles.SearchSvg} src={search} alt='search' />\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          className={styles.SearchInput}\r\n          placeholder='Search'\r\n          type='text'\r\n        />\r\n      </div>\r\n      <ul className={styles.FontOptionsContainer} onClick={optionsClickHandler}>\r\n        {options}\r\n      </ul>\r\n      <div className={styles.UploadFontContainer}>\r\n        <button className={styles.UploadFontButton}>Upload font</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FontsDropdown;\r\n","import React from 'react';\r\nimport styles from './FontSizeDropdown.module.css';\r\n\r\nconst FontSizeDropdown = ({ setIsDropDown, dispatch, isSub }) => {\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      let type = isSub ? 'setSubtitlesFontSize' : 'setFontSize';\r\n      dispatch({ type, data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.FontSizeDropdown} onClick={optionsClickHandler}>\r\n      <li className={styles.FontSizeOption}>14</li>\r\n      <li className={styles.FontSizeOption}>24</li>\r\n      <li className={styles.FontSizeOption}>30</li>\r\n      <li className={styles.FontSizeOption}>36</li>\r\n      <li className={styles.FontSizeOption}>48</li>\r\n      <li className={styles.FontSizeOption}>60</li>\r\n      <li className={styles.FontSizeOption}>72</li>\r\n      <li className={styles.FontSizeOption}>96</li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FontSizeDropdown;\r\n","import React from 'react';\r\nimport styles from './TextAlignDropdown.module.css';\r\nimport textLeft from '../../../../assets/editor/textLeft.svg';\r\nimport textRight from '../../../../assets/editor/textRight.svg';\r\nimport textCenter from '../../../../assets/editor/textCenter.svg';\r\nimport textJustify from '../../../../assets/editor/textJustify.svg';\r\n\r\nconst TextAlignDropdown = ({ setIsDropDown, dispatch, current }) => {\r\n  const optionsClickHandler = (e) => {\r\n    let data = null;\r\n    if (e.target.tagName === 'LI') data = e.target.childNodes[0].alt;\r\n    else if (e.target.tagName === 'P') data = e.target.textContent;\r\n    else if (e.target.tagName === 'IMG') data = e.target.alt;\r\n    if (data) {\r\n      dispatch({ type: 'setTextAlign', data: data.toLowerCase() });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.TextAlignDropdown} onClick={optionsClickHandler}>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'left' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textLeft} alt='left' />\r\n        <p className={styles.TextAlignText}>Left</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'center' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textCenter} alt='center' />\r\n        <p className={styles.TextAlignText}>Center</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'right' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textRight} alt='right' />\r\n        <p className={styles.TextAlignText}>Right</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'justify' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img\r\n          className={styles.TextAlignImage}\r\n          src={textJustify}\r\n          alt='justify'\r\n        />\r\n        <p className={styles.TextAlignText}>Justify</p>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TextAlignDropdown;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport FontsDropdown from './FontsDropdown/FontsDropdown';\r\nimport FontSizeDropdown from './FontSizeDropdown/FontSizeDropdown';\r\nimport TextAlignDropdown from './TextAlignDropdown/TextAlignDropdown';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './TextDropdowns.module.css';\r\n\r\nconst TextDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  isFontFamilyDropdown,\r\n  isFontSizeDropdown,\r\n  isColorDropdown,\r\n  isTextAlignDropDown,\r\n  setIsFontFamilyDropdown,\r\n  setIsFontSizeDropdown,\r\n  colorChangeCompleteHandler,\r\n  setIsTextAlignDropDown,\r\n  setColor,\r\n  color,\r\n  colorPickerRef,\r\n  isSub,\r\n  isBgColorDropdown,\r\n  setBgColor,\r\n  bgColor,\r\n  bgColorPickerRef\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const maxDropdownHeight = 301;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n  const fontSizeDropdownRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isFontSizeDropdown && isSub) {\r\n      fontSizeDropdownRef.current.style.right = '223px';\r\n    } else if (isFontSizeDropdown) {\r\n      fontSizeDropdownRef.current.style.right =  '151px';\r\n    }\r\n  }, [isSub, isFontSizeDropdown]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      coords &&\r\n      coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        state.canvasState.height\r\n    ) {\r\n      setDropdownStyle({ bottom: 41 });\r\n    }\r\n  }, [state.canvasState, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFontFamilyDropdown ? (\r\n        <div className={styles.FontsDropdown} style={dropDownStyle}>\r\n          <FontsDropdown\r\n            setIsDropDown={setIsFontFamilyDropdown}\r\n            dispatch={dispatch}\r\n            isSub={isSub}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isFontSizeDropdown ? (\r\n        <div\r\n          className={styles.FontSizeDropdown}\r\n          style={dropDownStyle}\r\n          ref={fontSizeDropdownRef}\r\n        >\r\n          <FontSizeDropdown\r\n            setIsDropDown={setIsFontSizeDropdown}\r\n            dispatch={dispatch}\r\n            isSub={isSub}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isColorDropdown ? (\r\n        <div className={styles.SketchPickerContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={color}\r\n            onChange={(c) => setColor(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              colorChangeCompleteHandler(\r\n                c,\r\n                colorPickerRef,\r\n                dispatch,\r\n                isSub,\r\n                isBgColorDropdown\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isTextAlignDropDown ? (\r\n        <div className={styles.TextAlignDropdown} style={dropDownStyle}>\r\n          <TextAlignDropdown\r\n            setIsDropDown={setIsTextAlignDropDown}\r\n            dispatch={dispatch}\r\n            current={state.textState.textAlign}\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isBgColorDropdown ? (\r\n        <div className={styles.SketchPickerContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={bgColor}\r\n            onChange={(c) => setBgColor(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              colorChangeCompleteHandler(\r\n                c,\r\n                bgColorPickerRef,\r\n                dispatch,\r\n                isSub,\r\n                isBgColorDropdown\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextDropdowns;\r\n","export const colorChangeCompleteHandler = (c, ref, dispatch, isSub, isBg) => {\r\n  let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n  if (isBg && ref.current) {\r\n    ref.current.style.background = colorString;\r\n    dispatch({ type: 'setSubtitlesbackgroundColor', data: colorString });\r\n  } else if (ref.current) {\r\n    let type = isSub ? 'setSubtitlesTextFill' : 'setTextFill';\r\n    ref.current.style.background = colorString;\r\n    dispatch({ type, data: colorString });\r\n  }\r\n};\r\n\r\nexport const handleClick = (e, dropdownHandlers, styleHandlers) => {\r\n  if (e.currentTarget.id === 'bold' || e.currentTarget.id === 'italic') {\r\n    styleHandlers[e.currentTarget.id]();\r\n  }\r\n  for (let [id, handler] of Object.entries(dropdownHandlers)) {\r\n    if (id === e.currentTarget.id) handler((prevState) => !prevState);\r\n    else handler(false);\r\n  }\r\n};\r\n\r\nexport const fontSizeChangeHandler = (e, setFontSizeInput, dispatch, isSub) => {\r\n  setFontSizeInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (data <= 0) data = 1;\r\n  else if (data > 1080) data = 1080;\r\n  let type = isSub ? 'setSubtitlesFontSize' : 'setFontSize';\r\n  dispatch({ type, data });\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './TextToolbar.module.css';\r\nimport downArrow from '../../../assets/editor/downArrow.svg';\r\nimport bold from '../../../assets/editor/bold.svg';\r\nimport subBackground from '../../../assets/editor/subBackground.svg';\r\nimport italic from '../../../assets/editor/italic.svg';\r\nimport textLeft from '../../../assets/editor/textLeft.svg';\r\nimport textRight from '../../../assets/editor/textRight.svg';\r\nimport textCenter from '../../../assets/editor/textCenter.svg';\r\nimport textJustify from '../../../assets/editor/textJustify.svg';\r\nimport TextDropdowns from '../TextDropdowns/TextDropdowns';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport {\r\n  handleClick,\r\n  fontSizeChangeHandler,\r\n  colorChangeCompleteHandler,\r\n} from './utils/handlers';\r\n\r\nconst TextToolbar = ({ coords, isSub }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [fontSizeInput, setFontSizeInput] = useState(0);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [isFontFamilyDropdown, setIsFontFamilyDropdown] = useState(false);\r\n  const [isFontSizeDropdown, setIsFontSizeDropdown] = useState(false);\r\n  const [isColorDropdown, setIsColorDropdown] = useState(false);\r\n  const [isTextAlignDropDown, setIsTextAlignDropDown] = useState(false);\r\n  const [isBgColorDropdown, setIsBgColorDropdown] = useState(false);\r\n  const [color, setColor] = useState({\r\n    r: 0,\r\n    g: 0,\r\n    b: 0,\r\n    a: 1,\r\n  });\r\n  const [bgColor, setBgColor] = useState({\r\n    r: 0,\r\n    g: 0,\r\n    b: 0,\r\n    a: 1,\r\n  });\r\n\r\n  const colorPickerRef = useRef(null);\r\n  const bgColorPickerRef = useRef(null);\r\n\r\n  // Active styles\r\n  const boldStlyes = [styles.FontWeightBoldContainer];\r\n  const italicStyles = [styles.FontStyleItalicContainer];\r\n  const state = isSub ? editorState.subtitlesState : editorState.textState;\r\n  const isBold = state.fontWeight === 'Bold';\r\n  const isItalic = state.fontStyle === 'Italic';\r\n  if (isBold) boldStlyes.push(styles.Active);\r\n  if (isItalic) italicStyles.push(styles.Active);\r\n\r\n  // Text Align SVG\r\n  let textAlignSrc = textLeft;\r\n  if (editorState.textState.textAlign === 'center') {\r\n    textAlignSrc = textCenter;\r\n  } else if (editorState.textState.textAlign === 'right') {\r\n    textAlignSrc = textRight;\r\n  } else if (editorState.textState.textAlign === 'justify') {\r\n    textAlignSrc = textJustify;\r\n  }\r\n\r\n  const boldHandler = () => {\r\n    let weight = 'Bold';\r\n    if (isBold) weight = 'Normal';\r\n    let type = isSub ? 'setSubtitlesFontWeight' : 'setFontWeight';\r\n    editorDispatch({ type, data: weight });\r\n  };\r\n\r\n  const italicHandler = () => {\r\n    let style = 'Italic';\r\n    if (isItalic) style = 'Normal';\r\n    let type = isSub ? 'setSubtitlesFontStyle' : 'setFontStyle';\r\n    editorDispatch({ type, data: style });\r\n  };\r\n\r\n  const dropdownHandlers = {\r\n    fontFamily: setIsFontFamilyDropdown,\r\n    fontSizeArrow: setIsFontSizeDropdown,\r\n    colorPicker: setIsColorDropdown,\r\n    textAlign: setIsTextAlignDropDown,\r\n    bgColor: setIsBgColorDropdown,\r\n  };\r\n\r\n  const styleHandlers = {\r\n    bold: boldHandler,\r\n    italic: italicHandler,\r\n  };\r\n\r\n  const clickHandler = (e) => handleClick(e, dropdownHandlers, styleHandlers);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      setFontSizeInput(state.fontSize);\r\n      let [r, g, b, a] = state.fill.split('(')[1].split(')')[0].split(',');\r\n      setColor({ r, g, b, a });\r\n      colorPickerRef.current.style.background = state.fill;\r\n      if (isSub) {\r\n        [r, g, b, a] = state.backgroundColor\r\n          .split('(')[1]\r\n          .split(')')[0]\r\n          .split(',');\r\n        setBgColor({ r, g, b, a });\r\n        bgColorPickerRef.current.style.background = state.backgroundColor;\r\n      }\r\n    }\r\n  }, [state, isFirstLoad, isSub]);\r\n\r\n  return (\r\n    <div className={styles.TextToolbar}>\r\n      <div\r\n        className={styles.FontsContainer}\r\n        id='fontFamily'\r\n        onClick={clickHandler}\r\n      >\r\n        <p>{state.fontFamily}</p>\r\n        <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.FontSizeContainer}>\r\n        <div className={styles.FontSizeInputContainer}>\r\n          <input\r\n            className={styles.FontSizeInput}\r\n            type='number'\r\n            value={fontSizeInput}\r\n            onChange={(e) =>\r\n              fontSizeChangeHandler(e, setFontSizeInput, editorDispatch, isSub)\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          className={styles.FontSizeArrowContainer}\r\n          id='fontSizeArrow'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={styles.ColorPickerContainer}\r\n        id='colorPicker'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={colorPickerRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div className={boldStlyes.join(' ')} id='bold' onClick={clickHandler}>\r\n        <img className={styles.Bold} src={bold} alt='bold' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={italicStyles.join(' ')}\r\n        id='italic'\r\n        onClick={clickHandler}\r\n      >\r\n        <img className={styles.Italic} src={italic} alt='italic' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      {!isSub ? (\r\n        <>\r\n          <div\r\n            className={styles.TextAlignContainer}\r\n            id='textAlign'\r\n            onClick={clickHandler}\r\n          >\r\n            <img\r\n              className={styles.TextAlign}\r\n              src={textAlignSrc}\r\n              alt='textAlign'\r\n            />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div\r\n          className={styles.BgColorContainer}\r\n          id='bgColor'\r\n          onClick={clickHandler}\r\n        >\r\n          <div className={styles.BgColor} ref={bgColorPickerRef}></div>\r\n          <img src={subBackground} alt='italic' />\r\n          <p>Background</p>\r\n        </div>\r\n      )}\r\n\r\n      <TextDropdowns\r\n        state={editorState}\r\n        dispatch={editorDispatch}\r\n        coords={coords}\r\n        isFontFamilyDropdown={isFontFamilyDropdown}\r\n        isFontSizeDropdown={isFontSizeDropdown}\r\n        isColorDropdown={isColorDropdown}\r\n        isTextAlignDropDown={isTextAlignDropDown}\r\n        setIsFontFamilyDropdown={setIsFontFamilyDropdown}\r\n        setIsFontSizeDropdown={setIsFontSizeDropdown}\r\n        colorChangeCompleteHandler={colorChangeCompleteHandler}\r\n        setIsTextAlignDropDown={setIsTextAlignDropDown}\r\n        setColor={setColor}\r\n        setBgColor={setBgColor}\r\n        color={color}\r\n        bgColor={bgColor}\r\n        colorPickerRef={colorPickerRef}\r\n        bgColorPickerRef={bgColorPickerRef}\r\n        isSub={isSub}\r\n        isBgColorDropdown={isBgColorDropdown}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextToolbar;\r\n","export default __webpack_public_path__ + \"static/media/cornerRadius.701d1dee.svg\";","import React from 'react';\r\nimport styles from './StrokeWidthDropdown.module.css';\r\n\r\nconst StrokeWidthDropdown = ({ setIsDropDown, dispatch, isLine }) => {\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      dispatch({ type: 'setShapeStrokeWidth', data: +e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n  let list = null;\r\n  if (isLine) {\r\n    list = (\r\n      <ul className={styles.LineDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>1</li>\r\n        <li className={styles.StrokeOption}>5</li>\r\n        <li className={styles.StrokeOption}>10</li>\r\n        <li className={styles.StrokeOption}>15</li>\r\n        <li className={styles.StrokeOption}>20</li>\r\n        <li className={styles.StrokeOption}>25</li>\r\n        <li className={styles.StrokeOption}>30</li>\r\n        <li className={styles.StrokeOption}>35</li>\r\n        <li className={styles.StrokeOption}>40</li>\r\n        <li className={styles.StrokeOption}>45</li>\r\n        <li className={styles.StrokeOption}>50</li>\r\n      </ul>\r\n    );\r\n  } else {\r\n    list = (\r\n      <ul className={styles.ShapeDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>0</li>\r\n        <li className={styles.StrokeOption}>4</li>\r\n        <li className={styles.StrokeOption}>8</li>\r\n        <li className={styles.StrokeOption}>12</li>\r\n        <li className={styles.StrokeOption}>24</li>\r\n        <li className={styles.StrokeOption}>48</li>\r\n        <li className={styles.StrokeOption}>96</li>\r\n        <li className={styles.StrokeOption}>120</li>\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return list;\r\n};\r\n\r\nexport default StrokeWidthDropdown;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './ShapeDropdowns.module.css';\r\nimport StrokeWidthDropdown from './StrokeWidthDropdown/StrokeWidthDropdown';\r\n\r\nconst ShapeDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  shapeToolbar,\r\n  isStrokeWidthDropdown,\r\n  isFillDropdown,\r\n  isStrokeDropdown,\r\n  fill,\r\n  setFill,\r\n  fillChangeCompleteHandler,\r\n  fillRef,\r\n  stroke,\r\n  setStroke,\r\n  strokeChangeCompleteHandler,\r\n  strokeRef,\r\n  setIsStrokeWidthDropdown,\r\n  isLine,\r\n  isRect,\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const [strokeWidthDropDownStyle, setStrokeWidthDropDownStyle] = useState({\r\n    top: 41,\r\n  });\r\n  const maxDropdownHeight = 301;\r\n  const maxDropdownWidth = 220;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n\r\n  const handleDropdownPosition = useCallback(\r\n    (coords, shapeToolbar, canvasHeight) => {\r\n      let toolbarWidth = shapeToolbar.offsetWidth;\r\n      let style = {};\r\n      if (\r\n        coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        canvasHeight\r\n      ) {\r\n        style.bottom = 41;\r\n        setStrokeWidthDropDownStyle({ bottom: 41, right: !isRect ? 0 : 66 });\r\n      }\r\n\r\n      if (coords.coordX + toolbarWidth - maxDropdownWidth < 0) {\r\n        style.left = 0;\r\n        if (!style.bottom) style.top = 41;\r\n      }\r\n      if (Object.keys(style).length !== 0) setDropdownStyle(style);\r\n    },\r\n    [isRect]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (coords && shapeToolbar) {\r\n      handleDropdownPosition(coords, shapeToolbar, state.canvasState.height);\r\n    }\r\n  }, [handleDropdownPosition, shapeToolbar, state.canvasState, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFillDropdown ? (\r\n        <div className={styles.FillDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={fill}\r\n            onChange={(c) => setFill(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              fillChangeCompleteHandler(c, dispatch, fillRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeDropdown ? (\r\n        <div className={styles.StrokeDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={stroke}\r\n            onChange={(c) => setStroke(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              strokeChangeCompleteHandler(c, dispatch, strokeRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeWidthDropdown ? (\r\n        <div\r\n          className={styles.StrokeWidthDropdownContainer}\r\n          style={strokeWidthDropDownStyle}\r\n        >\r\n          <StrokeWidthDropdown\r\n            setIsDropDown={setIsStrokeWidthDropdown}\r\n            isLine={isLine}\r\n            dispatch={dispatch}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdowns;\r\n","export const initialLoadHandler = (\r\n  isLine,\r\n  shapeState,\r\n  setIsFirstLoad,\r\n  setFill,\r\n  fillRef,\r\n  strokeContainerRef,\r\n  setStroke,\r\n  strokeRef\r\n) => {\r\n  setIsFirstLoad(false);\r\n  if (!isLine) {\r\n    let [r, g, b, a] = shapeState.fill.split('(')[1].split(')')[0].split(',');\r\n    setFill({ r, g, b, a });\r\n    fillRef.current.style.background = shapeState.fill;\r\n  } else {\r\n    strokeContainerRef.current.style.borderTopLeftRadius = '15px';\r\n    strokeContainerRef.current.style.borderBottomLeftRadius = '15px';\r\n  }\r\n  let [r, g, b, a] = shapeState.stroke.split('(')[1].split(')')[0].split(',');\r\n  setStroke({ r, g, b, a });\r\n  strokeRef.current.style.background = shapeState.stroke;\r\n};\r\n\r\nexport const fillChangeCompleteHandler = (c, dispatch, fillRef) => {\r\n  if (fillRef.current) {\r\n    let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n    dispatch({ type: 'setShapeFill', data: colorString });\r\n    fillRef.current.style.background = colorString;\r\n  }\r\n};\r\n\r\nexport const strokeChangeCompleteHandler = (c, dispatch, strokeRef) => {\r\n  if (strokeRef.current) {\r\n    let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n    dispatch({ type: 'setShapeStroke', data: colorString });\r\n    strokeRef.current.style.background = colorString;\r\n  }\r\n};\r\n\r\nexport const strokeWidthChangeHandler = (\r\n  e,\r\n  dispatch,\r\n  setStrokeWidthInput,\r\n  isLine\r\n) => {\r\n  setStrokeWidthInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (isLine && data <= 0) data = 1;\r\n  else if (isLine && data > 50) data = 50;\r\n  else if (!isLine && data > 120) data = 120;\r\n  else if (!isLine && data < 0) data = 0;\r\n  dispatch({ type: 'setShapeStrokeWidth', data });\r\n};\r\n\r\nexport const handleClick = (\r\n  e,\r\n  setIsFillDropdown,\r\n  setIsStrokeDropdown,\r\n  setIsStrokeWidthDropdown\r\n) => {\r\n  let clicked = e.currentTarget.id;\r\n  if (clicked === 'fill') {\r\n    setIsFillDropdown((prevState) => !prevState);\r\n    setIsStrokeDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else if (clicked === 'stroke') {\r\n    setIsStrokeDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else if (clicked === 'strokeWidth') {\r\n    setIsStrokeWidthDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeDropdown(false);\r\n  } else {\r\n    setIsStrokeWidthDropdown(false);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeDropdown(false);\r\n  }\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './ShapeToolbar.module.css';\r\nimport downArrow from '../../../assets/editor/downArrow.svg';\r\nimport cornerRadius from '../../../assets/editor/cornerRadius.svg';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport ShapeDropdowns from '../ShapeDropdowns/ShapeDropdowns';\r\nimport {\r\n  initialLoadHandler,\r\n  handleClick,\r\n  fillChangeCompleteHandler,\r\n  strokeChangeCompleteHandler,\r\n  strokeWidthChangeHandler,\r\n} from './utils/handlers';\r\n\r\nconst ShapeToolbar = ({ coords }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [fill, setFill] = useState('rgba(196,196,196,1)');\r\n  const [stroke, setStroke] = useState('rgba(255,255,255,1)');\r\n  const [isFillDropdown, setIsFillDropdown] = useState(false);\r\n  const [isStrokeDropdown, setIsStrokeDropdown] = useState(false);\r\n  const [isStrokeWidthDropdown, setIsStrokeWidthDropdown] = useState(false);\r\n  const [strokeWidthInput, setStrokeWidthInput] = useState(\r\n    editorState.shapeState.strokeWidth\r\n  );\r\n  const [radiusInput, setRadiusInput] = useState(editorState.shapeState.rx);\r\n  const shapeToolbarRef = useRef(null);\r\n  const fillRef = useRef(null);\r\n  const strokeRef = useRef(null);\r\n  const strokeContainerRef = useRef(null);\r\n  const isLine = editorState.currentObject.type === 'line';\r\n  const isRect = editorState.currentObject.type === 'rect';\r\n\r\n  const radiusChangeHandler = (e) => {\r\n    setRadiusInput(e.target.value);\r\n    let val = +e.target.value;\r\n    if (val < 0) val = 0;\r\n    if (val > 100) val = 100;\r\n    editorDispatch({ type: 'setShapeRadius', data: val });\r\n  };\r\n\r\n  const clickHandler = (e) =>\r\n    handleClick(\r\n      e,\r\n      setIsFillDropdown,\r\n      setIsStrokeDropdown,\r\n      setIsStrokeWidthDropdown\r\n    );\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      initialLoadHandler(\r\n        isLine,\r\n        editorState.shapeState,\r\n        setIsFirstLoad,\r\n        setFill,\r\n        fillRef,\r\n        strokeContainerRef,\r\n        setStroke,\r\n        strokeRef\r\n      );\r\n    }\r\n  }, [isLine, editorState.shapeState, isFirstLoad]);\r\n\r\n  return (\r\n    <div ref={shapeToolbarRef} className={styles.ShapeToolbar}>\r\n      {!isLine ? (\r\n        <>\r\n          <div\r\n            className={styles.FillContainer}\r\n            id='fill'\r\n            onClick={clickHandler}\r\n          >\r\n            <div className={styles.ColorPickerBorder}>\r\n              <div ref={fillRef} className={styles.ColorPicker}></div>\r\n            </div>\r\n            <p>Fill</p>\r\n          </div>\r\n          <div className={styles.BorderDiv}></div>\r\n        </>\r\n      ) : null}\r\n\r\n      <div\r\n        ref={strokeContainerRef}\r\n        className={styles.StrokeContainer}\r\n        id='stroke'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={strokeRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p>Stroke</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.StrokeWidthContainer}>\r\n        <div className={styles.StrokeWidthInputContainer}>\r\n          <input\r\n            className={styles.StrokeWidthInput}\r\n            type='number'\r\n            value={strokeWidthInput}\r\n            onChange={(e) =>\r\n              strokeWidthChangeHandler(\r\n                e,\r\n                editorDispatch,\r\n                setStrokeWidthInput,\r\n                isLine\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            borderTopRightRadius: isRect ? '0' : '15px',\r\n            borderBottomRightRadius: isRect ? '0' : '15px',\r\n          }}\r\n          className={styles.StrokeWidthArrowContainer}\r\n          id='strokeWidth'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n\r\n      {isRect ? (\r\n        <>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.RadiusContainer}\r\n            id='radius'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cornerRadius} alt='radius' />\r\n            <input\r\n              className={styles.RadiusInput}\r\n              type='number'\r\n              value={radiusInput}\r\n              onChange={radiusChangeHandler}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n      <ShapeDropdowns\r\n        state={editorState}\r\n        dispatch={editorDispatch}\r\n        coords={coords}\r\n        shapeToolbar={shapeToolbarRef.current}\r\n        isStrokeWidthDropdown={isStrokeWidthDropdown}\r\n        setIsStrokeWidthDropdown={setIsStrokeWidthDropdown}\r\n        isStrokeDropdown={isStrokeDropdown}\r\n        isFillDropdown={isFillDropdown}\r\n        fill={fill}\r\n        setFill={setFill}\r\n        fillChangeCompleteHandler={fillChangeCompleteHandler}\r\n        fillRef={fillRef}\r\n        stroke={stroke}\r\n        setStroke={setStroke}\r\n        strokeChangeCompleteHandler={strokeChangeCompleteHandler}\r\n        strokeRef={strokeRef}\r\n        isLine={isLine}\r\n        isRect={isRect}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeToolbar;\r\n","export default __webpack_public_path__ + \"static/media/replaceImage.24b71204.svg\";","export default __webpack_public_path__ + \"static/media/cropImage.06a8d86d.svg\";","import React, { useState, useContext } from 'react';\r\nimport styles from './ImageToolbar.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport replaceImage from '../../../assets/editor/replaceImage.svg';\r\nimport cornerRadius from '../../../assets/editor/cornerRadius.svg';\r\nimport cropImage from '../../../assets/editor/cropImage.svg';\r\n\r\nconst ImageToolbar = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [radiusInput, setRadiusInput] = useState(\r\n    editorState.imageState.cornerRadius\r\n  );\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.currentTarget.id === 'replace') {\r\n      editorDispatch({ type: 'setShouldReplaceImage', data: true });\r\n    } else if (e.currentTarget.id === 'crop') {\r\n      editorDispatch({ type: 'setIsCropMode', data: true });\r\n    }\r\n  };\r\n\r\n  const radiusChangeHandler = (e) => {\r\n    setRadiusInput(e.target.value);\r\n    let val = +e.target.value;\r\n    if (val < 0) val = 0;\r\n    if (val > 100) val = 100;\r\n    editorDispatch({ type: 'setImageCornerRadius', data: val });\r\n  };\r\n\r\n  const cropDoneHandler = () => {\r\n    editorDispatch({ type: 'setShouldCropImage', data: true });\r\n    editorDispatch({ type: 'setShowToolbar', data: false });\r\n  };\r\n\r\n  const content = (\r\n    <>\r\n      <div\r\n        className={[\r\n          styles.ReaplaceContainer,\r\n          editorState.imageState.isSvg ? styles.BorderStyle : null,\r\n        ].join(' ')}\r\n        id='replace'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={replaceImage} alt='replace' />\r\n        <p>Replace</p>\r\n      </div>\r\n\r\n      {!editorState.imageState.isSvg ? (\r\n        <>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.RadiusContainer}\r\n            id='radius'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cornerRadius} alt='radius' />\r\n            <input\r\n              className={styles.RadiusInput}\r\n              type='number'\r\n              value={radiusInput}\r\n              onChange={radiusChangeHandler}\r\n            />\r\n          </div>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.CropContainer}\r\n            id='crop'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cropImage} alt='replace' />\r\n            <p>Crop</p>\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className={styles.ImageToolbar}>\r\n      {!editorState.isCropMode ? (\r\n        content\r\n      ) : (\r\n        <div className={styles.DoneContainer} onClick={cropDoneHandler}>\r\n          Done\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageToolbar;\r\n","import React, {\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useCallback,\r\n  useState,\r\n} from 'react';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport styles from './Toolbar.module.css';\r\nimport { calcPosition } from './utils/toolbarPosition';\r\nimport TextToolbar from './TextToolbar/TextToolbar';\r\nimport ShapeToolbar from './ShapeToolbar/ShapeToolbar';\r\nimport ImageToolbar from './ImageToolbar/ImageToolbar';\r\n\r\nconst Toolbar = ({ canvas }) => {\r\n  const [coords, setCoords] = useState(null);\r\n  const { editorState } = useContext(EditorContext);\r\n  const toolbarRef = useRef(null);\r\n  const toolbarOffset = 28;\r\n  const toolbarPadding = 10;\r\n  const shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n  const setTransform = useCallback((c) => {\r\n    toolbarRef.current.style.transform = `translate(${c.coordX}px, ${c.coordY}px)`;\r\n    toolbarRef.current.style.opacity = 1;\r\n    setCoords(c);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (editorState.currentCoords) {\r\n      setTransform(\r\n        calcPosition(\r\n          editorState.currentCoords,\r\n          canvas.getWidth(),\r\n          canvas.getHeight(),\r\n          toolbarRef.current,\r\n          toolbarOffset,\r\n          toolbarPadding\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    canvas,\r\n    setTransform,\r\n    editorState.currentCoords,\r\n    editorState.isCroppingImage,\r\n  ]);\r\n\r\n  return (\r\n    <div ref={toolbarRef} className={styles.Toolbar}>\r\n      {editorState.currentObject.type === 'text' ? (\r\n        <TextToolbar coords={coords} isSub={false} />\r\n      ) : null}\r\n      {editorState.currentObject.type === 'subtitle' ? (\r\n        <TextToolbar coords={coords} isSub={true} />\r\n      ) : null}\r\n      {shapeArr.includes(editorState.currentObject.type) ? (\r\n        <ShapeToolbar coords={coords} />\r\n      ) : null}\r\n      {editorState.currentObject.type === 'image' ? <ImageToolbar /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","export const calcPosition = (\r\n  currentCoords,\r\n  canvasWidth,\r\n  canvasHeight,\r\n  toolbar,\r\n  toolbarOffset,\r\n  toolbarPadding,\r\n) => {\r\n  let toolbarWidth = toolbar.offsetWidth;\r\n  let toolbarHeight = toolbar.offsetHeight;\r\n\r\n  let isBottomCloser = currentCoords.tl.y > currentCoords.bl.y;\r\n  let offset = isBottomCloser ? toolbarOffset + toolbarHeight : toolbarOffset;\r\n\r\n  // Coord Y\r\n  let coordY =\r\n    Math.min(\r\n      currentCoords.tl.y,\r\n      currentCoords.tr.y,\r\n      currentCoords.br.y,\r\n      currentCoords.bl.y\r\n    ) -\r\n    toolbarHeight -\r\n    offset;\r\n  if (coordY - toolbarPadding < 0) {\r\n    let tempCoordY =\r\n      Math.max(\r\n        currentCoords.tl.y,\r\n        currentCoords.tr.y,\r\n        currentCoords.br.y,\r\n        currentCoords.bl.y\r\n      ) +\r\n      toolbarOffset +\r\n      (!isBottomCloser ? toolbarHeight : 0);\r\n    if (tempCoordY + toolbarPadding + toolbarHeight < canvasHeight)\r\n      coordY = tempCoordY;\r\n    else coordY = canvasHeight - toolbarHeight - toolbarOffset;\r\n  }\r\n\r\n  // Coord X\r\n  let coordX = Math.min(\r\n    currentCoords.tl.x,\r\n    currentCoords.tr.x,\r\n    currentCoords.br.x,\r\n    currentCoords.bl.x\r\n  );\r\n  if (coordX + toolbarWidth > canvasWidth) coordX = canvasWidth - toolbarWidth;\r\n  else if (coordX < 0) coordX = 0;\r\n  return { coordX, coordY };\r\n};\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst cropStartHandler = (active, box) => {\r\n  box.on('moving', (e) => {\r\n    let objectHeight = box.height * box.scaleY;\r\n    let objectWidth = box.width * box.scaleX;\r\n    let boundHeight = active.height * active.scaleY;\r\n    let boundWidth = active.width * active.scaleX;\r\n    let top = box.top;\r\n    let left = box.left;\r\n    let bottom = box.top + objectHeight;\r\n    let right = box.left + objectWidth;\r\n    let topBound = active.top;\r\n    let bottomBound = topBound + boundHeight;\r\n    let leftBound = active.left;\r\n    let rightBound = leftBound + boundWidth;\r\n    //left\r\n    if (left < leftBound) box.left = leftBound;\r\n    //top\r\n    if (top < topBound) box.top = topBound;\r\n    //right\r\n    if (right > rightBound) box.left = rightBound - objectWidth;\r\n    //bottom\r\n    if (bottom > bottomBound) box.top = bottomBound - objectHeight;\r\n  });\r\n\r\n  box.on('scaling', (e) => {\r\n    let objectHeight = box.height * box.scaleY;\r\n    let objectWidth = box.width * box.scaleX;\r\n    let boundHeight = active.height * active.scaleY;\r\n    let boundWidth = active.width * active.scaleX;\r\n    let top = box.top;\r\n    let bottom = top + objectHeight;\r\n    let left = box.left;\r\n    let right = left + objectWidth;\r\n    let topBound = active.top;\r\n    let bottomBound = topBound + boundHeight;\r\n    let leftBound = active.left;\r\n    let rightBound = leftBound + boundWidth;\r\n    box.left = Math.min(Math.max(left, leftBound), rightBound - objectWidth);\r\n    box.top = Math.min(Math.max(top, topBound), bottomBound - objectHeight);\r\n    if (box.scaleX > active.scaleX) {\r\n      box.scaleX = active.scaleX;\r\n      if (left < leftBound || right > rightBound) box.left = leftBound;\r\n    }\r\n    if (box.scaleY > active.scaleY) {\r\n      box.scaleY = active.scaleY;\r\n      if (top < topBound || bottom > bottomBound) box.top = topBound;\r\n    }\r\n  });\r\n};\r\n\r\nconst getCropBox = (topBound, leftBound, activeEl) => {\r\n  let box = new fabric.Rect({\r\n    fill: 'rgba(0,0,0,0)',\r\n    originX: 'left',\r\n    originY: 'top',\r\n    left: leftBound,\r\n    top: topBound,\r\n    borderDashArray: [2, 2],\r\n    borderColor: '#dbff17',\r\n    width: activeEl.width,\r\n    height: activeEl.height,\r\n    scaleX: activeEl.scaleX,\r\n    scaleY: activeEl.scaleY,\r\n    selectable: true,\r\n    lockScalingFlip: true,\r\n    type: 'cropbox',\r\n  });\r\n  box.controls.mtr.visible = false;\r\n  return box;\r\n};\r\n\r\nconst prepareForCrop = (active, dispatch, canvas, setAcitveEl, setCropbox) => {\r\n  canvas.getObjects().forEach((el) => (el.selectable = false));\r\n  let transformMatrix = active.calcTransformMatrix();\r\n  let cx = transformMatrix[4];\r\n  let cy = transformMatrix[5];\r\n  let angle = ((360 - active.angle) * Math.PI) / 180;\r\n\r\n  let leftBound =\r\n    cx -\r\n    Math.abs(\r\n      (active.left - cx) * Math.cos(angle) - (active.top - cy) * Math.sin(angle)\r\n    );\r\n  let topBound =\r\n    cy -\r\n    Math.abs(\r\n      (active.left - cx) * Math.sin(angle) + (active.top - cy) * Math.cos(angle)\r\n    );\r\n\r\n  active.angle = 0;\r\n  active.top = topBound;\r\n  active.left = leftBound;\r\n  let box = getCropBox(topBound, leftBound, active);\r\n  canvas.add(box);\r\n  canvas.setActiveObject(box);\r\n  dispatch({ type: 'setCurrentCoords', data: box.lineCoords });\r\n  setAcitveEl(active);\r\n  setCropbox(box);\r\n};\r\n\r\nconst useCropImage = (state, dispatch, canvas, idCount, updatetId) => {\r\n  const [isCropping, setIsCropping] = useState(false);\r\n  const [activeInfo, setActiveInfo] = useState(null);\r\n  const [activeEl, setAcitveEl] = useState(null);\r\n  const [cropbox, setCropbox] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n\r\n  const cropFinishHandler = useCallback((c, dispatch) => {\r\n    setActiveInfo(null);\r\n    setIsCropping(false);\r\n    setAcitveEl(null);\r\n    setCropbox(null);\r\n    setCroppedImage(null);\r\n    c.off('mouse:down');\r\n    c.requestRenderAll();\r\n    dispatch({ type: 'setShouldCropImage', data: false });\r\n    dispatch({ type: 'setShowToolbar', data: true });\r\n  }, []);\r\n\r\n  const cropImage = useCallback(\r\n    (active, box) => {\r\n      let ratioX = box.scaleX / active.scaleX;\r\n      let ratioY = box.scaleY / active.scaleY;\r\n      let newTop = (box.top - active.top) / active.scaleY;\r\n      let newLeft = (box.left - active.left) / active.scaleX;\r\n\r\n      let rect = new fabric.Rect({\r\n        fill: 'rgba(0,0,0,0)',\r\n        top: newTop,\r\n        left: newLeft,\r\n        width: box.width,\r\n        height: box.height,\r\n        scaleX: ratioX,\r\n        scaleY: ratioY,\r\n        absolutePositioned: true,\r\n      });\r\n\r\n      let newCanvas = new fabric.Canvas();\r\n      newCanvas.setDimensions({\r\n        width: active.width,\r\n        height: active.height,\r\n      });\r\n      fabric.Image.fromURL(active._element.currentSrc, (image) => {\r\n        newCanvas.add(image);\r\n        newCanvas.add(rect);\r\n        newCanvas.requestRenderAll();\r\n        let src = newCanvas.toDataURL({\r\n          left: rect.left,\r\n          top: rect.top,\r\n          width: rect.width * rect.scaleX,\r\n          height: rect.height * rect.scaleY,\r\n        });\r\n        fabric.Image.fromURL(src, (img) => {\r\n          img.scaleToWidth(box.width * box.scaleX);\r\n          img.id = active.id;\r\n          setCroppedImage(img);\r\n        });\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (state.shouldCropImage && activeEl && cropbox) {\r\n      cropImage(activeEl, cropbox);\r\n    }\r\n  }, [state.shouldCropImage, cropImage, activeEl, cropbox]);\r\n\r\n  // If Cropped Image\r\n  useEffect(() => {\r\n    if (croppedImage && state.shouldCropImage) {\r\n      croppedImage.controls.mtr.visible = true;\r\n      canvas.getObjects().forEach((el) => {\r\n        if (el.type === 'cropbox') canvas.remove(el);\r\n        else if (el.id !== 'background') el.selectable = true;\r\n      });\r\n      for (let [key, value] of Object.entries(activeInfo)) {\r\n        croppedImage[key] = value;\r\n      }\r\n      croppedImage.id = idCount;\r\n      updatetId()\r\n      canvas.remove(activeEl);\r\n      dispatch({\r\n        type: 'setCurrentObject',\r\n        data: { type: 'image', data: croppedImage },\r\n      });\r\n      dispatch({\r\n        type: 'setImageCornerRadius',\r\n        data: activeInfo.cornerRadius,\r\n      });\r\n      canvas.add(croppedImage).setActiveObject(croppedImage);\r\n      dispatch({\r\n        type: 'setCurrentCoords',\r\n        data: croppedImage.lineCoords,\r\n      });\r\n      dispatch({ type: 'setIsCropMode', data: false });\r\n      cropFinishHandler(canvas, dispatch);\r\n    }\r\n  }, [\r\n    idCount,\r\n    updatetId,\r\n    activeEl,\r\n    cropbox,\r\n    activeInfo,\r\n    croppedImage,\r\n    state,\r\n    dispatch,\r\n    canvas,\r\n    cropFinishHandler,\r\n  ]);\r\n\r\n  /// Preparation For Crop\r\n  useEffect(() => {\r\n    if (state.isCropMode) {\r\n      let active = canvas.getActiveObject();\r\n      setActiveInfo({\r\n        id: active.id,\r\n        cornerRadius: active.cornerRadius,\r\n        top: active.top,\r\n        left: active.left,\r\n        angle: active.angle,\r\n      });\r\n      prepareForCrop(active, dispatch, canvas, setAcitveEl, setCropbox);\r\n    }\r\n  }, [state.isCropMode, canvas, dispatch]);\r\n\r\n  /// If Cropbox and Active El start Crop\r\n  useEffect(() => {\r\n    if (cropbox && activeEl) {\r\n      cropStartHandler(activeEl, cropbox);\r\n      setIsCropping(true);\r\n    }\r\n  }, [cropbox, activeEl]);\r\n\r\n  // Listen to Canvas Click\r\n  useEffect(() => {\r\n    if (cropbox && state.isCropMode) {\r\n      canvas.on('mouse:down', (e) => {\r\n        if (e.target && e.target.id === activeInfo.id) {\r\n          canvas.setActiveObject(cropbox);\r\n        } else if (!e.target || e.target.type !== 'cropbox') {\r\n          dispatch({ type: 'setShouldCropImage', data: true });\r\n          dispatch({ type: 'setShowToolbar', data: false });\r\n        }\r\n      });\r\n    }\r\n  }, [cropbox, state, dispatch, canvas, activeInfo]);\r\n\r\n  // Dispose of Crop\r\n  useEffect(() => {\r\n    if (isCropping && !state.isCropMode && !state.shouldCropImage) {\r\n      canvas.getObjects().forEach((el) => {\r\n        if (el.type === 'cropbox') canvas.remove(el);\r\n        else if (el.id === state.currentObject.object.id) {\r\n          canvas.setActiveObject(el);\r\n          el.left = activeInfo.left;\r\n          el.top = activeInfo.top;\r\n          el.angle = activeInfo.angle;\r\n        }\r\n        el.controls.mtr.visible = true;\r\n        el.selectable = true;\r\n      });\r\n      cropFinishHandler(canvas, dispatch);\r\n    }\r\n  }, [activeInfo, isCropping, state, cropFinishHandler, canvas, dispatch]);\r\n};\r\n\r\nexport default useCropImage;\r\n","import { useState, useEffect } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst addCanvas = (state, id) => {\r\n  let canvas = new fabric.Canvas(id, {\r\n    width: state.initialWidth,\r\n    height: state.initialHeight,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    preserveObjectStacking: true,\r\n    fireRightClick: true,  \r\n    stopContextMenu: true,  \r\n  });\r\n  \r\n  let ratio = Math.min(\r\n    state.width / state.initialWidth,\r\n    state.height / state.initialHeight\r\n  );\r\n  canvas.setZoom(ratio);\r\n  canvas.setDimensions({\r\n    width: state.width,\r\n    height: state.height,\r\n  });\r\n  return canvas;\r\n};\r\n\r\nconst useAddCanvas = (state, setCanvas, setIsCanvasSet) => {\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad && state.canvasState.initialWidth > 0) {\r\n      let canvas = addCanvas(state.canvasState, 'canvas');\r\n      setCanvas(canvas);\r\n      setIsCanvasSet(true);\r\n      setIsFirstLoad(false);\r\n    }\r\n  }, [setCanvas, setIsCanvasSet, state.canvasState, isFirstLoad]);\r\n};\r\n\r\nexport default useAddCanvas;\r\n","import { useEffect, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst useAddVideo = (video, canvas, currentTime) => {\r\n  const [isFirtLoad, setIsFirtLoad] = useState(true);\r\n  useEffect(() => {\r\n    if (isFirtLoad && video && canvas) {\r\n      setIsFirtLoad(false);\r\n      let fabricVideo = new fabric.Image(video, {\r\n        top: 0,\r\n        left: 0,\r\n        objectCaching: false,\r\n        id: 'video',\r\n        excludeFromExport: true,\r\n        lockScalingFlip: true,\r\n      });\r\n      fabricVideo.controls.mtr.visible = false;\r\n      canvas.add(fabricVideo);\r\n      video.currentTime = currentTime > 0 ? currentTime : 0.001;\r\n      // fabricVideo.scaleToWidth(canvas.getWidth());s\r\n      fabricVideo.scaleToHeight(canvas.getHeight());\r\n      // console.log(canvas.getHeight());\r\n      // console.log(fabricVideo.height);\r\n      // console.log(fabricVideo.height * fabricVideo.scaleY);\r\n      // console.log('/////////////////////////////');\r\n      // console.log(canvas.getWidth());\r\n      // console.log(fabricVideo.width);\r\n      // console.log(fabricVideo.width * fabricVideo.scaleX);\r\n      // fabricVideo.getElement().play();\r\n      fabric.util.requestAnimFrame(function render() {\r\n        canvas.requestRenderAll();\r\n        fabric.util.requestAnimFrame(render);\r\n      });\r\n    }\r\n  }, [video, canvas, isFirtLoad, currentTime]);\r\n};\r\n\r\nexport default useAddVideo;\r\n","export const handlePaste = (\r\n  canvas,\r\n  clipboard,\r\n  objId,\r\n  updateId,\r\n  setClipboard,\r\n  dispatch,\r\n  currentSub\r\n) => {\r\n  let top = clipboard.coords.top + 15;\r\n  let left = clipboard.coords.left + 15;\r\n  let type = clipboard.object.type;\r\n  clipboard.object.clone((cloned) => {\r\n    cloned.id = objId;\r\n    cloned.top = top;\r\n    cloned.left = left;\r\n    if (type === 'image') {\r\n      cloned.isSvg = clipboard.object.isSvg;\r\n      cloned.cornerRadius = clipboard.object.cornerRadius;\r\n    } else if (type === 'textbox') {\r\n      cloned.padding = 10;\r\n      cloned.cursorWidth = 0.5;\r\n    } else if (type === 'line') {\r\n      cloned.borderColor = 'transparent';\r\n      cloned.noScaleCache = false;\r\n    } else {\r\n      cloned.noScaleCache = false;\r\n      cloned.strokeUniform = true;\r\n    }\r\n    canvas.add(cloned).setActiveObject(cloned);\r\n    if (currentSub) canvas.bringToFront(currentSub);\r\n    canvas.requestRenderAll();\r\n    setClipboard({\r\n      object: clipboard.object,\r\n      coords: { top, left },\r\n    });\r\n    updateId();\r\n    if (dispatch) dispatch({ type: 'setRightClickEvent', data: null });\r\n  });\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { handlePaste } from './utils/pasteObject';\r\n\r\nconst deleteHandler = (canvas) => {\r\n  let active = canvas.getActiveObject();\r\n  let isInput = document.activeElement.tagName === 'INPUT';\r\n  if (\r\n    !isInput &&\r\n    active &&\r\n    !active.isEditing &&\r\n    active.id !== 'video' &&\r\n    active.id !== 'subtitle'\r\n  ) {\r\n    canvas.remove(active);\r\n    canvas.discardActiveObject().requestRenderAll();\r\n  }\r\n};\r\n\r\nconst keyDownHandler = (\r\n  e,\r\n  canvas,\r\n  setIsPasting,\r\n  setIsCopying,\r\n  setIsBringToFront,\r\n  setIsSendToBack\r\n) => {\r\n  if (canvas) {\r\n    let ctrl = e.ctrlKey || e.metaKey;\r\n    if (\r\n      e.code === 'Delete' ||\r\n      e.key === 'Delete' ||\r\n      e.code === 'Backspace' ||\r\n      e.key === 'Backspace'\r\n    ) {\r\n      deleteHandler(canvas);\r\n    } else if (e.code === 'KeyC' || e.key === 'c') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsCopying(true);\r\n      }\r\n    } else if (e.code === 'KeyV' || e.key === 'v') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsPasting(true);\r\n      }\r\n    } else if (e.code === 'BracketRight' || e.key === ']') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsBringToFront(true);\r\n      }\r\n    } else if (e.code === 'BracketLeft' || e.key === '[') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsSendToBack(true);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst keyUpHandler = (\r\n  setIsPasting,\r\n  setIsCopying,\r\n  setIsBringToFront,\r\n  setIsSendToBack,\r\n  setShouldRun\r\n) => {\r\n  setIsCopying(false);\r\n  setIsPasting(false);\r\n  setIsBringToFront(false);\r\n  setIsSendToBack(false);\r\n  setShouldRun(true);\r\n};\r\n\r\nconst useKeyEvents = (\r\n  canvas,\r\n  clipboard,\r\n  setClipboard,\r\n  objId,\r\n  updateId,\r\n  currentSub\r\n) => {\r\n  const [isPasting, setIsPasting] = useState(false);\r\n  const [isCopying, setIsCopying] = useState(false);\r\n  const [isBringToFront, setIsBringToFront] = useState(false);\r\n  const [isSendToBack, setIsSendToBack] = useState(false);\r\n  const [shouldRun, setShouldRun] = useState(true);\r\n  useEffect(() => {\r\n    if (shouldRun && isPasting && clipboard) {\r\n      setShouldRun(false);\r\n      handlePaste(\r\n        canvas,\r\n        clipboard,\r\n        objId,\r\n        updateId,\r\n        setClipboard,\r\n        null,\r\n        currentSub\r\n      );\r\n    } else if (shouldRun && isCopying) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.id !== 'video' && active.id !== 'subtitle') {\r\n        setClipboard({\r\n          object: active,\r\n          coords: { top: active.top, left: active.left },\r\n        });\r\n      }\r\n    } else if (shouldRun && isBringToFront) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.id !== 'subtitle') {\r\n        canvas.bringToFront(active);\r\n        if (currentSub) canvas.bringToFront(currentSub);\r\n      }\r\n    } else if (shouldRun && isSendToBack) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.id !== 'subtitle') canvas.sendToBack(active);\r\n    }\r\n  }, [\r\n    canvas,\r\n    isPasting,\r\n    isCopying,\r\n    isBringToFront,\r\n    isSendToBack,\r\n    objId,\r\n    setClipboard,\r\n    clipboard,\r\n    updateId,\r\n    shouldRun,\r\n    currentSub,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', (e) =>\r\n      keyDownHandler(\r\n        e,\r\n        canvas,\r\n        setIsPasting,\r\n        setIsCopying,\r\n        setIsBringToFront,\r\n        setIsSendToBack\r\n      )\r\n    );\r\n    document.addEventListener('keyup', (e) => {\r\n      keyUpHandler(\r\n        setIsPasting,\r\n        setIsCopying,\r\n        setIsBringToFront,\r\n        setIsSendToBack,\r\n        setShouldRun\r\n      );\r\n    });\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', keyDownHandler);\r\n      document.removeEventListener('keyup', keyUpHandler);\r\n    };\r\n  }, [canvas]);\r\n};\r\n\r\nexport default useKeyEvents;\r\n","import { useEffect, useCallback } from 'react';\r\n\r\nconst useClickListener = (canvas, state) => {\r\n  const clickHandler = useCallback(\r\n    (e) => {\r\n      if (\r\n        canvas &&\r\n        !state.isCropMode &&\r\n        !state.shouldCropImage &&\r\n        !state.shouldReplaceImage\r\n      ) {\r\n        for (let i = 0; i < e.path.length; i++) {\r\n          if (e.path[i].id === 'canvasComponent') return;\r\n        }\r\n        canvas.discardActiveObject().requestRenderAll();\r\n      }\r\n    },\r\n    [canvas, state.isCropMode, state.shouldCropImage, state.shouldReplaceImage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', clickHandler);\r\n    return () => document.removeEventListener('click', clickHandler);\r\n  }, [canvas, clickHandler]);\r\n};\r\n\r\nexport default useClickListener;\r\n","import React, {\r\n  useEffect,\r\n  useCallback,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styles from './ContextMenu.module.css';\r\nimport EventContext from '../../../contexts/EventContext';\r\nimport { handlePaste } from '../canvasHooks/utils/pasteObject';\r\n\r\nconst ContextMenu = ({\r\n  canvas,\r\n  isCanvasSet,\r\n  objId,\r\n  updateId,\r\n  clipboard,\r\n  setClipboard,\r\n  currentSub,\r\n}) => {\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [activeObj, setActiveObj] = useState(false);\r\n  const [canOnlyPaste, setCanOnlyPaste] = useState(false);\r\n  const menuRef = useRef(null);\r\n\r\n  const handleClick = useCallback(\r\n    (e) => {\r\n      if ((e.currentTarget && e.currentTarget.id !== 'subtitle') || clipboard) {\r\n        if (e.currentTarget && e.currentTarget.id !== 'subtitle') {\r\n          let active = canvas.getActiveObject();\r\n          if (!active || active.id !== e.currentTarget.id) {\r\n            canvas.setActiveObject(e.currentTarget);\r\n          }\r\n          setActiveObj(e.currentTarget);\r\n          setCanOnlyPaste(false);\r\n        } else setCanOnlyPaste(true);\r\n        if (e.pointer.x + menuRef.current.offsetWidth > canvas.getWidth()) {\r\n          menuRef.current.style.left =\r\n            e.pointer.x - menuRef.current.offsetWidth + 'px';\r\n        } else menuRef.current.style.left = e.pointer.x + 'px';\r\n        menuRef.current.style.top = e.pointer.y + 'px';\r\n      } else {\r\n        eventDispatch({ type: 'setRightClickEvent', data: null });\r\n      }\r\n    },\r\n    [canvas, eventDispatch, clipboard]\r\n  );\r\n\r\n  const overlayClickHandler = (e) => {\r\n    e.preventDefault();\r\n    if (isMounted) {\r\n      setIsMounted(false);\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    }\r\n  };\r\n\r\n  const optionClickHandler = (e) => {\r\n    let id = e.currentTarget.id;\r\n    if (id === 'delete' && activeObj.id !== 'video') {\r\n      canvas.remove(activeObj);\r\n      canvas.discardActiveObject().requestRenderAll();\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'bringToFront') {\r\n      canvas.bringToFront(activeObj);\r\n      if (currentSub) canvas.bringToFront(currentSub);\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'sendToBack') {\r\n      canvas.sendToBack(activeObj);\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'copy') {\r\n      setClipboard({\r\n        object: activeObj,\r\n        coords: { top: activeObj.top, left: activeObj.left },\r\n      });\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'paste') {\r\n      if (clipboard) {\r\n        handlePaste(\r\n          canvas,\r\n          clipboard,\r\n          objId,\r\n          updateId,\r\n          setClipboard,\r\n          eventDispatch,\r\n          currentSub\r\n        );\r\n      } else eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet && eventState.rightClickEvent) {\r\n      handleClick(eventState.rightClickEvent);\r\n      setTimeout(() => {\r\n        setIsMounted(true);\r\n      }, 400);\r\n    }\r\n    return () => setIsMounted(false);\r\n  }, [isCanvasSet, eventState.rightClickEvent, handleClick]);\r\n  let isVideo = activeObj && activeObj.id === 'video';\r\n  let content = (\r\n    <>\r\n      <div\r\n        className={styles.Overlay}\r\n        onContextMenu={overlayClickHandler}\r\n        onClick={overlayClickHandler}\r\n      ></div>\r\n      <ul\r\n        onContextMenu={(e) => e.preventDefault()}\r\n        ref={menuRef}\r\n        className={styles.Menu}\r\n        id='contextMenu'\r\n      >\r\n        {!canOnlyPaste && !isVideo ? (\r\n          <li className={styles.Option} id='copy' onClick={optionClickHandler}>\r\n            <p>Copy</p>\r\n            <p>⌘C</p>\r\n          </li>\r\n        ) : null}\r\n\r\n        <li className={styles.Option} id='paste' onClick={optionClickHandler}>\r\n          <p>Paste</p>\r\n          <p>⌘V</p>\r\n        </li>\r\n\r\n        {!canOnlyPaste && !isVideo ? (\r\n          <li\r\n            className={styles.Option}\r\n            id='delete'\r\n            onClick={optionClickHandler}\r\n          >\r\n            <p>Delete</p>\r\n            <p>DEL</p>\r\n          </li>\r\n        ) : null}\r\n        {!canOnlyPaste ? <li className={styles.Border}></li> : null}\r\n        {!canOnlyPaste ? (\r\n          <>\r\n            <li\r\n              className={styles.Option}\r\n              id='bringToFront'\r\n              onClick={optionClickHandler}\r\n            >\r\n              <p>Bring to front</p>\r\n              <p>{'⌘]'}</p>\r\n            </li>\r\n            <li\r\n              className={styles.Option}\r\n              id='sendToBack'\r\n              onClick={optionClickHandler}\r\n            >\r\n              <p>Send to back</p>\r\n              <p>{'⌘['}</p>\r\n            </li>\r\n          </>\r\n        ) : null}\r\n      </ul>\r\n    </>\r\n  );\r\n\r\n  return eventState.rightClickEvent ? content : null;\r\n};\r\n\r\nexport default ContextMenu;\r\n","import React, { useState, useContext, useCallback } from 'react';\r\nimport styles from './Canvas.module.css';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport fabricConfig from './fabricConfig';\r\nimport useAddObject from './canvasHooks/useAddObject';\r\nimport useSelectionObserver from './canvasHooks/useSelectionObserver';\r\nimport useGuidelines from './canvasHooks/useGuideLines';\r\nimport useUpdateObject from './canvasHooks/useUpdateObject';\r\nimport Toolbar from '../Toolbar/Toolbar';\r\nimport useCropImage from './canvasHooks/useCropImage';\r\nimport useAddCanvas from './canvasHooks/useAddCanvas';\r\nimport useAddVideo from './canvasHooks/useAddVideo';\r\nimport useKeyEvents from './canvasHooks/useKeyEvents';\r\nimport useClickListener from './canvasHooks/useClickListener';\r\nimport ContextMenu from './ContextMenu/ContextMenu';\r\nfabricConfig();\r\n\r\nconst Canvas = ({\r\n  canvas,\r\n  setCanvas,\r\n  video,\r\n  currentSub,\r\n  currentTime,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [objectIdCount, setObjectIdCount] = useState(1);\r\n  const [isCanvasSet, setIsCanvasSet] = useState(false);\r\n  const [clipboard, setClipboard] = useState(null);\r\n  const updatetObjectId = useCallback(() => setObjectIdCount((i) => i + 1), []);\r\n\r\n  useGuidelines(editorState, isCanvasSet, canvas);\r\n  useAddObject(\r\n    editorState,\r\n    editorDispatch,\r\n    canvas,\r\n    objectIdCount,\r\n    updatetObjectId\r\n  );\r\n  useSelectionObserver(isCanvasSet, canvas, editorState, editorDispatch);\r\n  useUpdateObject(editorState, editorDispatch, canvas);\r\n  useCropImage(\r\n    editorState,\r\n    editorDispatch,\r\n    canvas,\r\n    objectIdCount,\r\n    updatetObjectId\r\n  );\r\n  useAddCanvas(editorState, setCanvas, setIsCanvasSet);\r\n  useKeyEvents(\r\n    canvas,\r\n    clipboard,\r\n    setClipboard,\r\n    objectIdCount,\r\n    updatetObjectId,\r\n    currentSub\r\n  );\r\n  useClickListener(canvas, editorState);\r\n  useAddVideo(video, canvas, currentTime);\r\n\r\n  return (\r\n    <div className={styles.CanvasComponent} id='canvasComponent'>\r\n      <div className={styles.Canvas}>\r\n        <canvas id='canvas' />\r\n      </div>\r\n      {editorState.showToolbar ? <Toolbar canvas={canvas} /> : null}\r\n      <ContextMenu\r\n        canvas={canvas}\r\n        isCanvasSet={isCanvasSet}\r\n        objId={objectIdCount}\r\n        updateId={updatetObjectId}\r\n        clipboard={clipboard}\r\n        setClipboard={setClipboard}\r\n        currentSub={currentSub}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTemplates(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTemplates);\nexport default __webpack_public_path__ + \"static/media/templates.651bdcb8.svg\";\nexport { ForwardRef as ReactComponent };","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  isMoving: false,\r\n  rightClickEvent: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setIsMoving':\r\n      return { ...state, isMoving: action.data };\r\n    case 'setRightClickEvent':\r\n      return { ...state, rightClickEvent: action.data };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useEventState = () => {\r\n  const [eventState, eventDispatch] = useReducer(reducer, initialState);\r\n  return [eventState, eventDispatch];\r\n};\r\n\r\nexport default useEventState;\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport styles from './ResizeDropdown.module.css';\r\n\r\nconst ResizeDropdown = ({ state, dispatch }) => {\r\n  const [current, setCurrent] = useState(null);\r\n  const sizes = useMemo(\r\n    () => ({\r\n      original: { width: 526, height: 741, zoom: 1 },\r\n      slide: { width: 1920, height: 1080, zoom: 0.5 },\r\n      a4: { width: 2480, height: 3508, zoom: 0.2 },\r\n      facebook: { width: 940, height: 788, zoom: 0.75 },\r\n      linkedin: { width: 1128, height: 191, zoom: 0.9 },\r\n      video: { width: 1280, height: 720, zoom: 0.8 },\r\n    }),\r\n    []\r\n  );\r\n   \r\n  let options = [\r\n    { content: 'Original', id: 'original' },\r\n    { content: 'Slide 16:9', id: 'slide' },\r\n    { content: 'A4', id: 'a4' },\r\n    { content: 'Facebook post', id: 'facebook' },\r\n    { content: 'Linkedin cover', id: 'linkedin' },\r\n    { content: 'Video thumbnail', id: 'video' },\r\n  ];\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.target.classList.contains(styles.SizeOption)) {\r\n      dispatch({\r\n        type: 'setCanvasSize',\r\n        data: { ...sizes[e.target.id] },\r\n      });\r\n      dispatch({ type: 'setIsResizeDropdown', data: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    for (let [key, value] of Object.entries(sizes)) {\r\n      if (value.width === state.width && value.height === state.height) {\r\n        setCurrent(key);\r\n      }\r\n    }\r\n  }, [sizes, state]);\r\n\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <ul className={styles.SizeOptions} onClick={clickHandler}>\r\n        {options.map((el) => {\r\n          return (\r\n            <li\r\n              key={el.id}\r\n              id={el.id}\r\n              className={[\r\n                styles.SizeOption,\r\n                current && el.id === current ? styles.Current : null,\r\n              ].join(' ')}\r\n            >\r\n              {el.content}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResizeDropdown;\r\n","import React, { useContext } from 'react';\r\nimport styles from './Backdrop.module.css';\r\nimport EditorContext from '../../contexts/EditorContext';\r\n\r\nconst Backdrop = (props) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.target.id === 'backdrop') {\r\n      let actionType = '';\r\n      if (editorState.isImageDropdown) actionType = 'setIsImageDropdown';\r\n      else if (editorState.isShapeDropdown) actionType = 'setIsShapeDropdown';\r\n      else if (editorState.isSubtitlesDropdown)\r\n        actionType = 'setIsSubtitlesDropdown';\r\n      else if (editorState.shouldReplaceImage)\r\n        actionType = 'setShouldReplaceImage';\r\n      else if (editorState.isResizeDropdown) actionType = 'setIsResizeDropdown';\r\n      else if (editorState.isCanvasBgColorDropdown)\r\n        actionType = 'setIsCanvasBgColorDropdown';\r\n      else if (editorState.isZoomDropdown) actionType = 'setIsZoomDropdown';\r\n      else if (editorState.shouldAddCanvasBgImage)\r\n        actionType = 'setShouldAddCanvasBgImage';\r\n      else if (editorState.isDownloadDropdown)\r\n        actionType = 'setIsDownloadDropdown';\r\n      editorDispatch({ type: actionType, data: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Backdrop} onClick={clickHandler} id='backdrop'>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgResize(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 13,\n    viewBox: \"0 0 15 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgResize);\nexport default __webpack_public_path__ + \"static/media/resize.cdd72beb.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubtitlesOn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z\",\n    fill: \"current\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z\",\n    fill: \"current\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z\",\n    fill: \"current\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z\",\n    fill: \"current\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z\",\n    fill: \"current\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z\",\n    fill: \"current\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z\",\n    fill: \"current\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubtitlesOn);\nexport default __webpack_public_path__ + \"static/media/subtitlesOn.17657f5a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport styles from './CanvasToolbar.module.css';\r\nimport ResizeDropdown from './ResizeDropdown/ResizeDropdown';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport Backdrop from '../../components/Backdrop/Backdrop';\r\nimport { ReactComponent as Templates } from '../../assets/editor/templates.svg';\r\nimport { ReactComponent as Resize } from '../../assets/editor/resize.svg';\r\nimport { SketchPicker } from 'react-color';\r\n\r\nconst CanvasToolbar = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [bgColor, setBgColor] = useState(\r\n    editorState.canvasState.backgroundColor\r\n  );\r\n  const backgroundColorRef = useRef(null);\r\n  const bgDropdownRef = useRef(null);\r\n  const resizeDropdownRef = useRef(null);\r\n  const clickHandler = (e) => {\r\n    if (!editorState.shouldCropImage) {\r\n      if (editorState.isCropMode) {\r\n        editorDispatch({ type: 'setIsCropMode', data: false });\r\n      }\r\n      let id = e.currentTarget.id;\r\n      if (id === 'resize') {\r\n        // editorDispatch({ type: 'setIsResizeDropdown', data: true });\r\n      } else if (id === 'bgColor') {\r\n        editorDispatch({ type: 'setIsCanvasBgColorDropdown', data: true });\r\n      }\r\n    }\r\n  };\r\n\r\n  const colorChangeCompleteHandler = (c) => {\r\n    if (backgroundColorRef.current) {\r\n      let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n      backgroundColorRef.current.style.background = colorString;\r\n      editorDispatch({ type: 'setCanvasBackgroundColor', data: colorString });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    backgroundColorRef.current.style.background = bgColor;\r\n  }, [bgColor]);\r\n\r\n  return (\r\n    <div className={styles.CanvasToolbar}>\r\n      <div\r\n        className={styles.TemplatesContainer}\r\n        id='templates'\r\n        onClick={clickHandler}\r\n      >\r\n        <Templates />\r\n        <p className={styles.OptionText}>Templates</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={styles.ResizeContainer}\r\n        id='resize'\r\n        onClick={clickHandler}\r\n      >\r\n        <Resize />\r\n        <p className={styles.OptionText}>Resize</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={styles.ColorContainer}\r\n        id='bgColor'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={backgroundColorRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p className={styles.OptionText}>Background color</p>\r\n      </div>\r\n      {editorState.isResizeDropdown ? (\r\n        <>\r\n          <Backdrop></Backdrop>\r\n          <div className={styles.ResizeDropdown} ref={resizeDropdownRef}>\r\n            <ResizeDropdown\r\n              state={editorState.canvasState}\r\n              dispatch={editorDispatch}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n\r\n      {editorState.isCanvasBgColorDropdown ? (\r\n        <>\r\n          <Backdrop></Backdrop>\r\n          <div className={styles.ColorDropdownContainer} ref={bgDropdownRef}>\r\n            <SketchPicker\r\n              color={bgColor}\r\n              onChange={(c) => setBgColor(c.rgb)}\r\n              onChangeComplete={colorChangeCompleteHandler}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasToolbar;\r\n","export default __webpack_public_path__ + \"static/media/play.f149d237.svg\";","import { useEffect, useCallback } from 'react';\r\n\r\nconst usePlayerSize = (\r\n  isFirstLoad,\r\n  videoSize,\r\n  playerSize,\r\n  dispatch,\r\n  getPlayerSize,\r\n  playerRef,\r\n  setPlayerSize\r\n) => {\r\n  \r\n  const handleSize = useCallback(() => {\r\n    getPlayerSize(playerRef, setPlayerSize);\r\n  }, [getPlayerSize, playerRef, setPlayerSize]);\r\n\r\n  useEffect(() => {\r\n    handleSize();\r\n  }, [handleSize]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleSize);\r\n    return () => window.removeEventListener('resize', handleSize);\r\n  }, [handleSize]);\r\n\r\n  useEffect(() => {\r\n    if (videoSize && playerSize) {\r\n      // console.log('video: ', videoSize);\r\n      // console.log('player: ', playerSize);\r\n      let width = playerSize.width;\r\n      let height = (videoSize.height * width) / videoSize.width;\r\n      // console.log(width, height);\r\n      let isInRange = width > 100;\r\n      if (isFirstLoad.current && isInRange) {\r\n        isFirstLoad.current = false;\r\n        dispatch({\r\n          type: 'setCanvasInitialSize',\r\n          data: {\r\n            initialWidth: videoSize.width,\r\n            initialHeight: videoSize.height,\r\n            width,\r\n            height,\r\n          },\r\n        });\r\n      } else if (isInRange) {\r\n        dispatch({ type: 'setCanvasSize', data: { width, height } });\r\n      }\r\n    }\r\n  }, [isFirstLoad, playerSize, videoSize, dispatch]);\r\n};\r\n\r\nexport default usePlayerSize;\r\n","import { useEffect, useCallback } from 'react';\r\n\r\nconst usePlayerTime = (\r\n  videoRef,\r\n  videoCuts,\r\n  words,\r\n  isPlaying,\r\n  currentTime,\r\n  nextCutIndex,\r\n  setNextCutIndex,\r\n  currentWordIndex,\r\n  setCurrentWordIndex,\r\n  subArr,\r\n  currentSubIndex,\r\n  setCurrentSubIndex,\r\n  currentSub\r\n) => {\r\n  const handleVideoCuts = useCallback(\r\n    (time) => {\r\n      if (videoCuts.length > 0 && videoCuts[nextCutIndex]) {\r\n        time = +time + 0.05;\r\n        let moreThanStart = time >= +videoCuts[nextCutIndex].start;\r\n        let lessThanEnd = time <= +videoCuts[nextCutIndex].end;\r\n        let isShortTime =\r\n          +videoCuts[nextCutIndex].end - videoCuts[nextCutIndex].start <=\r\n            0.05 && moreThanStart;\r\n        if ((moreThanStart && lessThanEnd) || isShortTime) {\r\n          videoRef.current.currentTime = +videoCuts[nextCutIndex].end;\r\n          // console.log(\r\n          //   `%c setting to: ${+videoCuts[nextCutIndex].end}`,\r\n          //   'background:red; color:white'\r\n          // );\r\n\r\n          if (videoCuts[nextCutIndex + 1]) setNextCutIndex(nextCutIndex + 1);\r\n          else setNextCutIndex(null);\r\n        }\r\n      }\r\n    },\r\n    [videoCuts, nextCutIndex, videoRef, setNextCutIndex]\r\n  );\r\n\r\n  const handleCurrentWord = useCallback(\r\n    (time, index) => {\r\n      time = +time + 0.05;\r\n      let word = words[index];\r\n      let nextWord = words[index + 1];\r\n      // if (word) {\r\n      //   console.log('comparing: ', time, '>', +word.end, time >= +word.end);\r\n      // }\r\n      if (index !== null && nextWord && time > +word.end) {\r\n        let isShortTime = +word.end - word.start <= 0.05 && !isPlaying;\r\n        if (!isShortTime && !nextWord.active && nextWord.next !== null) {\r\n          setCurrentWordIndex(nextWord.next);\r\n        } else if (!isShortTime) {\r\n          setCurrentWordIndex((prevState) => prevState + 1);\r\n        }\r\n      }\r\n    },\r\n    [isPlaying, words, setCurrentWordIndex]\r\n  );\r\n\r\n  const handleCurrentSub = useCallback(\r\n    (time, index, arr) => {\r\n      time = +time + 0.05;\r\n      let sub = arr[index];\r\n      let nextSub = arr[index + 1];\r\n      // if (word) {\r\n      //   console.log('comparing: ', time, '>', +word.end, time >= +word.end);\r\n      // }\r\n      if (index !== null && nextSub && time > +sub.end) {\r\n        if(nextSub.active) setCurrentSubIndex((prevState) => prevState + 1);\r\n        else setCurrentSubIndex(nextSub.nextSub);\r\n      }\r\n    },\r\n    [setCurrentSubIndex]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isPlaying && currentSub  && subArr && currentTime !== null) {\r\n      handleCurrentSub(currentTime, currentSubIndex, subArr);\r\n    }\r\n  }, [isPlaying, currentSub, currentTime, handleCurrentSub, currentSubIndex, subArr]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleCurrentWord(currentTime, currentWordIndex);\r\n  }, [currentTime, handleCurrentWord, currentWordIndex]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleVideoCuts(currentTime);\r\n  }, [currentTime, handleVideoCuts]);\r\n};\r\n\r\nexport default usePlayerTime;\r\n","import { useEffect } from 'react';\r\nimport {\r\n  newSubtitle,\r\n  generateSubtitles,\r\n  displaySub,\r\n} from '../utils/subtitle.js';\r\nimport { findSubIndexWithWordIndex } from '../../utils/findIndex';\r\n\r\nconst useSubtitles = (\r\n  state,\r\n  canvas,\r\n  currentSub,\r\n  setCurrentSub,\r\n  words,\r\n  subArr,\r\n  setSubArr,\r\n  currentSubIndex,\r\n  setCurrentSubIndex,\r\n  currentWordIndex,\r\n  videoCuts,\r\n  shouldRerenderSub,\r\n  setShouldRerenderSub,\r\n  isPlaying,\r\n  videoRef\r\n) => {\r\n\r\n  useEffect(() => {\r\n    if (currentSub && subArr && subArr[currentSubIndex]) {\r\n      if (shouldRerenderSub) setShouldRerenderSub(false);\r\n      displaySub(currentSub, currentSubIndex, subArr);\r\n    }\r\n  }, [\r\n    subArr,\r\n    currentSub,\r\n    currentSubIndex,\r\n    shouldRerenderSub,\r\n    setShouldRerenderSub,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (subArr && !isPlaying) {\r\n      let subIndex = findSubIndexWithWordIndex(currentWordIndex, words, subArr);\r\n      if (subIndex !== null) setCurrentSubIndex(subIndex);\r\n    }\r\n  }, [\r\n    subArr,\r\n    setCurrentSubIndex,\r\n    words,\r\n    currentWordIndex,\r\n    isPlaying,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (currentSub && videoCuts) {\r\n      generateSubtitles(words, setSubArr);\r\n    }\r\n  }, [currentSub, videoCuts, setSubArr, words]);\r\n\r\n  useEffect(() => {\r\n    if (canvas && !currentSub && state.isSubtitles) {\r\n      if (isPlaying) videoRef.current.pause();\r\n      let sub = newSubtitle(canvas, state);\r\n      // console.log('added: ', sub);\r\n      canvas.add(sub);\r\n      canvas.requestRenderAll();\r\n      setCurrentSub(sub);\r\n    } else if (currentSub && !state.isSubtitles) {\r\n      canvas.remove(currentSub);\r\n      setCurrentSub(null);\r\n    }\r\n  }, [\r\n    videoRef,\r\n    isPlaying,\r\n    state.isSubtitles,\r\n    currentSub,\r\n    setCurrentSub,\r\n    canvas,\r\n    state,\r\n    subArr,\r\n    words,\r\n    setSubArr,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (canvas && currentSub) {\r\n      canvas.on('object:added', (e) => {\r\n        canvas.bringToFront(currentSub);\r\n      });\r\n    }\r\n    return () => {\r\n      if (canvas) canvas.off('object:added');\r\n    };\r\n  }, [canvas, currentSub]);\r\n};\r\n\r\nexport default useSubtitles;\r\n","import { fabric } from 'fabric';\r\n\r\nexport const generateSubtitles = (words, setSubArr) => {\r\n  let arr = [];\r\n  let sub = null;\r\n  let firstDeletedIndex = null;\r\n\r\n  const checkForPrevDeleted = (word, what, i) => {\r\n    if (firstDeletedIndex) {\r\n      arr[firstDeletedIndex].nextSub = arr.length - 1;\r\n      // console.log(i);\r\n      // console.log(\r\n      //   arr[firstDeletedIndex],\r\n      //   arr[firstDeletedIndex].nextSub,\r\n      //   'setting nextSub Sub',\r\n      //   word,\r\n      //   arr.length - 1,\r\n      //   what\r\n      // );\r\n      firstDeletedIndex = null;\r\n    }\r\n  };\r\n\r\n  for (let i = 0; i < words.length; i++) {\r\n    let word = words[i];\r\n    let nextWord = words[i + 1];\r\n    if (!word.active) {\r\n      if (sub) {\r\n        arr.push({ ...sub });\r\n        checkForPrevDeleted(word, 'not active and is Sub', i);\r\n        sub = null;\r\n        arr.push({ ...word });\r\n        firstDeletedIndex = arr.length - 1;\r\n        // console.log('setting reference for nextSub', word, arr.length - 1);\r\n      } else {\r\n        arr.push({ ...word });\r\n        if (!firstDeletedIndex) {\r\n          firstDeletedIndex = arr.length - 1;\r\n          // console.log('setting reference for nextSub', word, arr.length - 1);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    let isLast = i === words.length - 1;\r\n    let wordTimeLength = +word.end - +word.start;\r\n    let isLongSilence =\r\n      !!word.silence &&\r\n      ((!sub && nextWord && !nextWord.active) || wordTimeLength >= 0.4);\r\n    if (isLongSilence) {\r\n      if (sub) {\r\n        arr.push({ ...sub });\r\n        checkForPrevDeleted(word, 'isSub and isLongSilence', i);\r\n        sub = null;\r\n        // console.log('isSub and isLongSilence', i, word.text);\r\n      }\r\n      // console.log(' isLongSilence', i, word.text);\r\n      arr.push({ ...word });\r\n      checkForPrevDeleted(word, 'isLongSilence', i);\r\n      continue;\r\n    } else if (word.silence) {\r\n      if (sub) {\r\n        sub.end += word.end;\r\n        sub.words.push({\r\n          ...word,\r\n          text: '',\r\n        });\r\n        if (isLast) {\r\n          arr.push(sub);\r\n          checkForPrevDeleted(word, 'isSub and isLongSilence', i);\r\n        }\r\n        // console.log('isSub and silence', i, word.text);\r\n      } else {\r\n        sub = {\r\n          words: [{ ...word, text: '' }],\r\n          start: word.start,\r\n          end: word.end,\r\n          strLength: 0,\r\n          active: true,\r\n        };\r\n        if (isLast) {\r\n          arr.push({ ...word });\r\n          checkForPrevDeleted(word, 'silence', i);\r\n        }\r\n        // console.log('silence', i, word.text);\r\n      }\r\n      continue;\r\n    }\r\n\r\n    let containsMark = !!word.text.match(/[.,:!?]$/);\r\n\r\n    let isRoomForWord =\r\n      sub !== null && sub.strLength + word.text.length + 1 < 48;\r\n    // if (sub) console.log(sub.words, sub.strLength, word.text, isRoomForWord);\r\n\r\n    if (isRoomForWord && containsMark && sub) {\r\n      let text = '';\r\n      if (sub.strLength > 0) text = ' ';\r\n      text += word.text;\r\n      sub.words.push({ ...word, text });\r\n      sub.end = word.end;\r\n      sub.strLength += text.length;\r\n      arr.push({ ...sub });\r\n      checkForPrevDeleted(word, 'isRoomForWord && containsMark && sub', i);\r\n      sub = null;\r\n      // console.log('isRoomForWord && containsMark && sub', i, word.text);\r\n    } else if (containsMark && sub) {\r\n      arr.push({ ...sub });\r\n      checkForPrevDeleted(word, 'containsMark && sub', i);\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      arr.push({ ...sub });\r\n      sub = null;\r\n      // console.log('containsMark && sub', i, word.text);\r\n    } else if (containsMark) {\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      arr.push({ ...sub });\r\n      checkForPrevDeleted(word, 'containsMark && sub', i);\r\n      sub = null;\r\n      // console.log('containsMark && sub', i, word.text);\r\n    } else if (isRoomForWord) {\r\n      let text = '';\r\n      if (sub.strLength > 0) text = ' ';\r\n      text += word.text;\r\n      sub.words.push({ ...word, text });\r\n      sub.end = word.end;\r\n      sub.strLength += text.length;\r\n      if (isLast) {\r\n        arr.push(sub);\r\n        checkForPrevDeleted(word, 'isRoomForWord', i);\r\n      }\r\n      // console.log('isRoomForWord', i, word.text);\r\n    } else if (sub) {\r\n      arr.push({ ...sub });\r\n      checkForPrevDeleted(word, 'sub', i);\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      if (isLast) arr.push(sub);\r\n      // console.log('sub', i, word.text);\r\n    } else {\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      if (isLast) {\r\n        arr.push(sub);\r\n        checkForPrevDeleted(word, 'end', i);\r\n      }\r\n      // console.log('elsee', i, word.text);\r\n    }\r\n  }\r\n\r\n  // console.log(arr);\r\n  setSubArr(arr);\r\n};\r\n\r\nexport const newSubtitle = (canvas, state) => {\r\n  let subtitle = new fabric.Subtitle(' ', {\r\n    paddingX: 20,\r\n    paddingY: 20,\r\n    // bgCornerRadius: 5,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    editable: false,\r\n    textAlign: 'center',\r\n    ...state.subtitlesState,\r\n    id: 'subtitle',\r\n    excludeFromExport: true,\r\n    prevTop: null,\r\n    prevLeft: null,\r\n    visible: false,\r\n  });\r\n  let x = canvas.getWidth() / (canvas.getZoom() * 2);\r\n  let y =\r\n    canvas.getHeight() / canvas.getZoom() - subtitle.height - subtitle.paddingY;\r\n  subtitle.setPositionByOrigin(new fabric.Point(x, y), 'center', 'center');\r\n  return subtitle;\r\n};\r\n\r\nexport const displaySub = (sub, subIndex, arr) => {\r\n  if (arr[subIndex].silence) sub.visible = false;\r\n  else if (arr[subIndex].active) {\r\n    let text = '';\r\n    for (let i = 0; i < arr[subIndex].words.length; i++) {\r\n      let word = arr[subIndex].words[i];\r\n      text += word.text;\r\n    }\r\n    sub.set({ text, visible: true });\r\n  }\r\n};\r\n","import { findSubIndexWithWordIndex } from '../utils/findIndex';\r\n\r\nexport const getPlayerSize = (playerRef, setPlayerSize) => {\r\n  const playerPadding = 32;\r\n  let width = window.innerWidth - playerRef.current.offsetLeft - playerPadding;\r\n  let height = playerRef.current.offsetHeight;\r\n  if (width > 800) {\r\n    height = (height * 800) / width;\r\n    width = 800;\r\n  }\r\n  setPlayerSize({ width, height });\r\n  // setPlayerSize({ width: 640, height: 360 });\r\n};\r\n\r\nexport const getDimensions = (videoRef, setVideoSize) => {\r\n  let width = videoRef.current.videoWidth;\r\n  let height = videoRef.current.videoHeight;\r\n  setVideoSize({ width, height });\r\n};\r\n\r\nexport const playClickHandler = (isPlaying, videoRef, state) => {\r\n  if (isPlaying) videoRef.current.pause();\r\n  else if (!state.isCropMode && !state.shouldCropImage) {\r\n    videoRef.current.play();\r\n  }\r\n};\r\n\r\nexport const handlePlay = (\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setIsPlaying,\r\n  setCurrentTime,\r\n  videoRef,\r\n  setIntervalId\r\n) => {\r\n  let selection = document.getSelection();\r\n  selection.removeAllRanges();\r\n  if (currentSelection) setCurrentSelection(null);\r\n  setIsPlaying(true);\r\n  let interval = setInterval(() => {\r\n    // console.log('interval: ', videoRef.current.currentTime);\r\n    setCurrentTime(videoRef.current.currentTime);\r\n  }, 10);\r\n  setIntervalId(interval);\r\n};\r\n\r\nexport const handlePause = (setIsPlaying, intervalId) => {\r\n  setIsPlaying(false);\r\n  clearInterval(intervalId);\r\n};\r\n\r\nexport const handleEnd = (\r\n  videoCuts,\r\n  setNextCutIndex,\r\n  words,\r\n  setCurrentWordIndex,\r\n  setCurrentTime,\r\n  setCurrentSubIndex,\r\n  subArr\r\n) => {\r\n  if (videoCuts.length > 0) setNextCutIndex(0);\r\n  let word = words[0];\r\n  let wordIndex = 0;\r\n  let start = word.start;\r\n  if (!word.active && word.next !== null) {\r\n    wordIndex = word.next;\r\n    start = words[wordIndex].start;\r\n  }\r\n  setCurrentWordIndex(wordIndex);\r\n  let subIndex = findSubIndexWithWordIndex(wordIndex, words, subArr);\r\n  // console.log(subIndex);\r\n  setCurrentSubIndex(subIndex);\r\n  setCurrentTime(+start);\r\n  // console.log('start time: ', start);\r\n  // console.log('start index: ', index);\r\n  // console.log(words);\r\n};\r\n","import React, { useRef, useContext, useState } from 'react';\r\nimport styles from './Player.module.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport EventContext from '../../contexts/EventContext';\r\nimport useEventState from '../../hooks/useEventsState';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport CanvasToolbar from '../CanvasToolbar/CanvasToolbar';\r\nimport play from '../../assets/editor/play.svg';\r\nimport usePlayerSize from './playerHooks/usePlayerSize';\r\nimport usePlayerTime from './playerHooks/usePlayerTime';\r\nimport useSubtitles from './playerHooks/useSubtitles';\r\nimport { getPlayerSize, playClickHandler } from '../utils/playerEvents';\r\n\r\nconst Player = ({\r\n  videoRef,\r\n  canvas,\r\n  setCanvas,\r\n  isPlaying,\r\n  words,\r\n  currentTime,\r\n  videoSize,\r\n  videoCuts,\r\n  setNextCutIndex,\r\n  setCurrentWordIndex,\r\n  nextCutIndex,\r\n  currentWordIndex,\r\n  subArr,\r\n  setSubArr,\r\n  currentSub,\r\n  setCurrentSub,\r\n  currentSubIndex,\r\n  setCurrentSubIndex,\r\n  shouldRerenderSub,\r\n  setShouldRerenderSub,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [eventState, eventDispatch] = useEventState();\r\n  const [playerSize, setPlayerSize] = useState(null);\r\n  const playerRef = useRef(null);\r\n  const isFirstLoad = useRef(true);\r\n  usePlayerSize(\r\n    isFirstLoad,\r\n    videoSize,\r\n    playerSize,\r\n    editorDispatch,\r\n    getPlayerSize,\r\n    playerRef,\r\n    setPlayerSize\r\n  );\r\n\r\n  usePlayerTime(\r\n    videoRef,\r\n    videoCuts,\r\n    words,\r\n    isPlaying,\r\n    currentTime,\r\n    nextCutIndex,\r\n    setNextCutIndex,\r\n    currentWordIndex,\r\n    setCurrentWordIndex,\r\n    subArr,\r\n    currentSubIndex,\r\n    setCurrentSubIndex,\r\n    currentSub\r\n  );\r\n\r\n  useSubtitles(\r\n    editorState,\r\n    canvas,\r\n    currentSub,\r\n    setCurrentSub,\r\n    words,\r\n    subArr,\r\n    setSubArr,\r\n    currentSubIndex,\r\n    setCurrentSubIndex,\r\n    currentWordIndex,\r\n    videoCuts,\r\n    shouldRerenderSub,\r\n    setShouldRerenderSub,\r\n    isPlaying,\r\n    videoRef\r\n  );\r\n\r\n  return (\r\n    <div className={styles.Player} ref={playerRef}>\r\n      <EventContext.Provider value={{ eventState, eventDispatch }}>\r\n        {/* <p className={styles.Sub}>Adina Jackson family,</p> */}\r\n        <div className={styles.PlayerContent}>\r\n          <Canvas\r\n            canvas={canvas}\r\n            setCanvas={setCanvas}\r\n            video={videoRef.current}\r\n            currentSub={currentSub}\r\n            currentTime={currentTime}\r\n          />\r\n          {canvas ? (\r\n            <>\r\n              <div className={styles.PlayerControls}>\r\n                <div\r\n                  className={styles.PlayButton}\r\n                  onClick={() =>\r\n                    playClickHandler(isPlaying, videoRef, editorState)\r\n                  }\r\n                >\r\n                  <img src={play} alt='play' />\r\n                </div>\r\n              </div>\r\n              <CanvasToolbar />\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </EventContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Video.module.css';\r\nimport {\r\n  getDimensions,\r\n  handlePlay,\r\n  handleEnd,\r\n  handlePause,\r\n} from '../utils/playerEvents';\r\n\r\nconst Video = ({\r\n  videoRef,\r\n  setIsPlaying,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCurrentTime,\r\n  videoSize,\r\n  videoCuts,\r\n  words,\r\n  setVideoSize,\r\n  setNextCutIndex,\r\n  setCurrentWordIndex,\r\n  setCurrentSubIndex,\r\n  subArr,\r\n}) => {\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  // const seeking = (e) => {\r\n  //   console.log(e);\r\n  //   console.log(videoRef.current.seekable);\r\n  // };\r\n\r\n  // const seeked = (e) => {\r\n  //   console.log(e);\r\n  //   console.log(videoRef.current.seekable);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if(intervalId) clearInterval(intervalId)\r\n    }\r\n  }, [intervalId])\r\n\r\n \r\n  return (\r\n    <video\r\n      // style={{ display: viedoForUpload ? 'block' : 'none' }}\r\n      width={videoSize ? videoSize.width : 0}\r\n      height={videoSize ? videoSize.height : 0}\r\n      id='video'\r\n      preload='auto'\r\n      className={styles.Video}\r\n      ref={videoRef}\r\n      controls\r\n      onPause={() => handlePause(setIsPlaying, intervalId)}\r\n      onPlay={() =>\r\n        handlePlay(\r\n          currentSelection,\r\n          setCurrentSelection,\r\n          setIsPlaying,\r\n          setCurrentTime,\r\n          videoRef,\r\n          setIntervalId\r\n        )\r\n      }\r\n      onEnded={() =>\r\n        handleEnd(\r\n          videoCuts,\r\n          setNextCutIndex,\r\n          words,\r\n          setCurrentWordIndex,\r\n          setCurrentTime,\r\n          setCurrentSubIndex,\r\n          subArr\r\n          )\r\n        }\r\n        onLoadedMetadata={() => getDimensions(videoRef, setVideoSize)}\r\n      // onSeeking={seeking}\r\n      // onSeeked={seeked}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import { fabric } from 'fabric';\r\n\r\nconst toBase64 = (file) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n\r\nconst getVideoData = async (canvas, setVideoInfo, viedoForUpload, isMounted) => {\r\n  let objects = canvas.getObjects();\r\n  let video = null;\r\n  let videoIndex = 0;\r\n  for (let i = 0; i < objects.length; i++) {\r\n    let el = objects[i];\r\n    if (el.id === 'video') {\r\n      videoIndex = i;\r\n      video = el;\r\n      // console.log('angle: ', el.angle);\r\n    }\r\n  }\r\n\r\n  let base64Video = await toBase64(viedoForUpload);\r\n  let info = {\r\n    source: base64Video,\r\n    position: {\r\n      x: video.left,\r\n      y: video.top,\r\n      w: video.width * video.scaleX,\r\n      h: video.height * video.scaleY,\r\n      z: 1,\r\n      degrees: 0,\r\n    },\r\n  };\r\n  if(isMounted.current) setVideoInfo(info);\r\n  return videoIndex;\r\n};\r\n\r\nconst handleFrontImg = (newCanvas, objects, index, setFrontImage) => {\r\n  newCanvas.backgroundColor = 'rgba(255, 255, 255, 0)';\r\n  let count = 0;\r\n  for (let i = 0; i < objects.length; i++) {\r\n    let el = objects[i];\r\n    if (i >= index) {\r\n      el.opacity = 1;\r\n      count++;\r\n    } else el.opacity = 0;\r\n  }\r\n  newCanvas.renderAll();\r\n  if (count > 0) {\r\n    let frontImg = newCanvas.toDataURL({\r\n      format: 'image/jpg',\r\n      quality: 1,\r\n    });\r\n    setFrontImage({\r\n      image: frontImg,\r\n      position: {\r\n        x: 0,\r\n        y: 0,\r\n        w: newCanvas.getWidth(),\r\n        h: newCanvas.getHeight(),\r\n        z: 2,\r\n      },\r\n    });\r\n  } else {\r\n    setFrontImage(false);\r\n  }\r\n};\r\n\r\nconst handleBackImg = (newCanvas, objects, index, setBackImage) => {\r\n  for (let i = 0; i < objects.length; i++) {\r\n    let el = objects[i];\r\n    if (i >= index) el.opacity = 0;\r\n  }\r\n  newCanvas.renderAll();\r\n  let backImg = newCanvas.toDataURL({\r\n    format: 'jpeg',\r\n    quality: 1,\r\n  });\r\n  setBackImage({\r\n    image: backImg,\r\n    position: {\r\n      x: 0,\r\n      y: 0,\r\n      w: newCanvas.getWidth(),\r\n      h: newCanvas.getHeight(),\r\n      z: 0,\r\n    },\r\n  });\r\n};\r\n\r\nexport const prepareCanvas = async (\r\n  canvas,\r\n  setBackImage,\r\n  setFrontImage,\r\n  setVideoInfo,\r\n  viedoForUpload,\r\n  isMounted\r\n) => {\r\n  let videoIndex = await getVideoData(canvas, setVideoInfo, viedoForUpload, isMounted);\r\n  let newCanvas = new fabric.Canvas();\r\n  let jsonCanvas = JSON.stringify(canvas);\r\n  newCanvas.loadFromJSON(jsonCanvas, () => {\r\n    newCanvas.setDimensions({\r\n      width: canvas.getWidth() / canvas.getZoom(),\r\n      height: canvas.getHeight() / canvas.getZoom(),\r\n    });\r\n    let objects = newCanvas.getObjects();\r\n    handleBackImg(newCanvas, objects, videoIndex, setBackImage);\r\n    handleFrontImg(newCanvas, objects, videoIndex, setFrontImage);\r\n  });\r\n};\r\n","const randomUUID = () =>\r\n  Math.random().toString(36).substring(2, 15) +\r\n  Math.random().toString(36).substring(2, 15);\r\n\r\nexport default randomUUID;\r\n","const rgbaTohex = (color) => {\r\n  let rgb = color\r\n      .replace(/\\s/g, '')\r\n      .match(/^rgba?\\((\\d+),(\\d+),(\\d+),?([^,\\s)]+)?/i),\r\n    alpha = ((rgb && rgb[4]) || '').trim(),\r\n    hex = rgb\r\n      ? (rgb[1] | (1 << 8)).toString(16).slice(1) +\r\n        (rgb[2] | (1 << 8)).toString(16).slice(1) +\r\n        (rgb[3] | (1 << 8)).toString(16).slice(1)\r\n      : color;\r\n\r\n  let a = alpha !== '' ? alpha : '01';\r\n\r\n  a = ((+a * 255) | (1 << 8)).toString(16).slice(1);\r\n  hex = hex + a;\r\n  return hex;\r\n};\r\n\r\nexport default rgbaTohex;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useDownloadVideo = () => {\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const [downloadedVideo, setDownloadedVideo] = useState(false);\r\n  const isMounted = useRef(false);\r\n\r\n  const onUploadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    console.log(`%cuploading ${currentProgress}%`, 'color: #3153fb');\r\n  };\r\n\r\n  const onDownloadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    console.log(`%cdownloading ${currentProgress}%`, 'color: #0cc700');\r\n  };\r\n\r\n  const axiosDownloadVideo = useCallback((data) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/videos/download', data, {\r\n          onUploadProgress,\r\n          onDownloadProgress,\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const downloadVideo = useCallback(\r\n    async (data) => {\r\n      setIsDownloading(true);\r\n      try {\r\n        const res = await axiosDownloadVideo(data);\r\n        console.log(res);\r\n        if (isMounted.current) setDownloadedVideo(res.data.url);\r\n      } catch (err) {\r\n        console.log('Error Downloading Video', err);\r\n      } finally {\r\n        if (isMounted.current) setIsDownloading(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosDownloadVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isDownloading, downloadVideo, downloadedVideo, setDownloadedVideo };\r\n};\r\n\r\nexport default useDownloadVideo;\r\n","import React, { useContext, useRef } from 'react';\r\nimport styles from './ImageDropdown.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\n\r\nconst ImageDropdown = ({ setUserFiles, userFiles }) => {\r\n  const {  editorDispatch } = useContext(EditorContext);\r\n  const fileInput = useRef(null);\r\n  const clickHandler = (e) => {\r\n    let type = 'setImageToAdd';\r\n    let imageType = 'image';\r\n    if (e.target.classList.contains('isSvg')) imageType = 'svg';\r\n    if (e.target.tagName === 'IMG') {\r\n      editorDispatch({ type, data: { type: imageType, src: e.target.src } });\r\n    } else if (e.target.classList.contains(styles.ImageContainer)) {\r\n      editorDispatch({\r\n        type,\r\n        data: { type: imageType, src: e.target.childNodes[0].src },\r\n      });\r\n    }\r\n  };\r\n\r\n  const inputChangeHandler = () => {\r\n    if (fileInput.current.files[0]) {\r\n      let file = fileInput.current.files[0];\r\n      let type = 'image';\r\n      if (file.type === 'image/svg+xml') type = 'svg';\r\n      setUserFiles((prevSate) => [\r\n        { src: URL.createObjectURL(file), type },\r\n        ...prevSate,\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const uploadClickHandler = () => {\r\n    fileInput.current.click();\r\n  };\r\n\r\n  const oddArr = userFiles.filter((_, i) => (i + 1) % 2 !== 0);\r\n  const evenArr = userFiles.filter((_, i) => (i + 1) % 2 === 0);\r\n\r\n  return (\r\n    <div className={styles.Dropdown} onClick={clickHandler}>\r\n      <div className={styles.UplaodButtonContainer}>\r\n        <button onClick={uploadClickHandler} className={styles.UploadButton}>\r\n          Upload image\r\n        </button>\r\n        <input\r\n          accept='image/png, image/gif, image/jpeg, image/svg+xml'\r\n          className={styles.FileInput}\r\n          ref={fileInput}\r\n          type='file'\r\n          onChange={inputChangeHandler}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.Images}>\r\n        <div className={styles.Column}>\r\n          {oddArr.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={'odd' + i}\r\n                className={[\r\n                  styles.ImageContainer,\r\n                  el.type === 'svg' ? 'isSvg' : null,\r\n                ].join(' ')}\r\n              >\r\n                <img\r\n                  className={[\r\n                    styles.Image,\r\n                    el.type === 'svg' ? 'isSvg' : null,\r\n                  ].join(' ')}\r\n                  src={el.src}\r\n                  alt='asset'\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className={styles.Column}>\r\n          {evenArr.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={'even' + i}\r\n                className={[\r\n                  styles.ImageContainer,\r\n                  el.type === 'svg' ? 'isSvg' : null,\r\n                ].join(' ')}\r\n              >\r\n                <img\r\n                  className={[\r\n                    styles.Image,\r\n                    el.type === 'svg' ? 'isSvg' : null,\r\n                  ].join(' ')}\r\n                  src={el.src}\r\n                  alt='asset'\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageDropdown;\r\n","export default __webpack_public_path__ + \"static/media/square.5e888dd3.svg\";","export default __webpack_public_path__ + \"static/media/circle.0bedfa10.svg\";","export default __webpack_public_path__ + \"static/media/triangle.76f36a5f.svg\";","export default __webpack_public_path__ + \"static/media/line.60fd0829.svg\";","import React, { useContext } from 'react';\r\nimport styles from './ShapeDropdown.module.css';\r\nimport square from '../../../assets/editor/square.svg';\r\nimport circle from '../../../assets/editor/circle.svg';\r\nimport triangle from '../../../assets/editor/triangle.svg';\r\nimport line from '../../../assets/editor/line.svg';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\n\r\nconst ShapeDropdown = () => {\r\n  const { editorDispatch } = useContext(EditorContext);\r\n  const clickHandler = (e) => {\r\n    if (e.target.tagName === 'IMG') {\r\n      editorDispatch({ type: 'setShapeToAdd', data: e.target.id });\r\n    } else if (e.target.classList.contains(styles.ShapeContainer)) {\r\n      editorDispatch({ type: 'setShapeToAdd', data: e.target.childNodes[0].id });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown} onClick={clickHandler}>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={square} alt='square' id='square' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={circle} alt='circle' id='circle' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img\r\n          className={styles.Shape}\r\n          src={triangle}\r\n          alt='triangle'\r\n          id='triangle'\r\n        />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={line} alt='line' id='line' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdown;\r\n","var _g, _defs;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubtitlesOff(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z\",\n    fill: \"current\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z\",\n    fill: \"current\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z\",\n    fill: \"current\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubtitlesOff);\nexport default __webpack_public_path__ + \"static/media/subtitlesOff.a3499246.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\r\nimport styles from './SubtitlesDropdown.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport { ReactComponent as SubtitlesOn } from '../../../assets/editor/subtitlesOn.svg';\r\nimport { ReactComponent as SubtitlesOff } from '../../../assets/editor/subtitlesOff.svg';\r\n\r\nconst SubtitlesDropdown = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const clickHandler = (e) => {\r\n    let data = true;\r\n    if (e.currentTarget.id === 'subOff') data = false;\r\n    editorDispatch({ type: 'setIsSubtitles', data });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <p className={styles.Text}>Subtitles</p>\r\n      <div className={styles.Buttons}>\r\n        <div\r\n          className={[\r\n            styles.Button,\r\n            !editorState.isSubtitles ? styles.Active : null,\r\n          ].join(' ')}\r\n          id='subOff'\r\n          onClick={clickHandler}\r\n        >\r\n          <SubtitlesOff fill={!editorState.isSubtitles ? '#6F7BD0' : '#000000'} />\r\n          <p className={styles.ButtonText}>Off</p>\r\n        </div>\r\n        <div\r\n          className={[\r\n            styles.Button,\r\n            editorState.isSubtitles ? styles.Active : null,\r\n          ].join(' ')}\r\n          id='subOn'\r\n          onClick={clickHandler}\r\n        >\r\n          <SubtitlesOn fill={editorState.isSubtitles ? '#6F7BD0' : '#000000'} />\r\n          <p className={styles.ButtonText}>On</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubtitlesDropdown;\r\n","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","export default __webpack_public_path__ + \"static/media/subtitles.7c1e1dd4.svg\";","export default __webpack_public_path__ + \"static/media/photo.3b16c800.jpg\";","export default __webpack_public_path__ + \"static/media/photo2.92a250e9.jpg\";","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useState, useContext } from 'react';\r\nimport styles from './DesignControls.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport Backdrop from '../../../components/Backdrop/Backdrop';\r\nimport ImageDropdown from '../ImageDropdown/ImageDropdown';\r\nimport ShapeDropdown from '../ShapeDropdown/ShapeDropdown';\r\nimport SubtitlesDropdown from '../SubtitlesDropdown/SubtitlesDropdown';\r\nimport addText from '../../../assets/editor/addText.svg';\r\nimport addImage from '../../../assets/editor/addImage.svg';\r\nimport addShape from '../../../assets/editor/addShape.svg';\r\nimport subtitles from '../../../assets/editor/subtitles.svg';\r\nimport photo from '../../../assets/editor/photo.jpg';\r\nimport photo2 from '../../../assets/editor/photo2.jpg';\r\n\r\nconst DesignControls = ({ canvas }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [userFiles, setUserFiles] = useState([\r\n    { src: photo, type: 'image' },\r\n    { src: photo2, type: 'image' },\r\n  ]);\r\n\r\n  const clickHandler = (e) => {\r\n    if (canvas && !editorState.shouldCropImage) {\r\n      let type = '';\r\n      let id = e.currentTarget.id;\r\n      if (id === 'addText') type = 'setShouldAddText';\r\n      else if (id === 'addImage') type = 'setIsImageDropdown';\r\n      else if (id === 'addShape') type = 'setIsShapeDropdown';\r\n      else if (id === 'subtitles') type = 'setIsSubtitlesDropdown';\r\n      editorDispatch({ type, data: true });\r\n      if (editorState.isCropMode) {\r\n        editorDispatch({ type: 'setIsCropMode', data: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.ControlsContainer}>\r\n      <div\r\n        className={styles.AddTextContainer}\r\n        id='addText'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={addText} alt='add text' />\r\n        <div className={styles.HoverContent}>\r\n          <div className={styles.HoverTriangle}></div>\r\n          <p className={styles.HoverText}>Add text</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddImageContainer}\r\n          id='addImage'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={addImage} alt='add image' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add image</p>\r\n          </div>\r\n        </div>\r\n        {editorState.isImageDropdown ||\r\n        editorState.shouldReplaceImage ||\r\n        editorState.shouldAddCanvasBgImage ? (\r\n          <>\r\n            <Backdrop />\r\n            <div className={styles.ImageDropdown}>\r\n              <ImageDropdown\r\n                userFiles={userFiles}\r\n                setUserFiles={setUserFiles}\r\n              />\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddShapeContainer}\r\n          id='addShape'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={addShape} alt='add shape' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add shape</p>\r\n          </div>\r\n        </div>\r\n        {editorState.isShapeDropdown ? (\r\n          <>\r\n            <Backdrop />\r\n            <div className={styles.ShapeDropdown}>\r\n              <ShapeDropdown />\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddShapeContainer}\r\n          id='subtitles'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={subtitles} alt='subtitles' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Subtitles</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {editorState.isSubtitlesDropdown ? (\r\n        <>\r\n          <Backdrop />\r\n          <div className={styles.SubtitlesDropdown}>\r\n            <SubtitlesDropdown />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesignControls;\r\n","import React, {\r\n  useRef,\r\n  useState,\r\n  useContext,\r\n  useEffect,\r\n  useCallback,\r\n} from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport { prepareCanvas } from './utils/prepareCanvas';\r\nimport { prepareBreaks, prepareSubs } from './utils/prepareBreaksAndSubs';\r\nimport useDownloadVideo from '../../hooks/useDownloadVideo';\r\nimport DesignControls from './DesignControls/DesignControls';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\n\r\nconst Navigation = ({\r\n  viedoForUpload,\r\n  setVideoForUpload,\r\n  canvas,\r\n  videoRef,\r\n  videoCuts,\r\n  duration,\r\n  subArr,\r\n  currentSub,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const { isDownloading, downloadVideo, downloadedVideo, setDownloadedVideo } =\r\n    useDownloadVideo();\r\n  const [downloadData, setDownloadData] = useState(null);\r\n  const [backImage, setBackImage] = useState(null);\r\n  const [frontImage, setFrontImage] = useState(null);\r\n  const [videoInfo, setVideoInfo] = useState(null);\r\n  const [breaks, setBreaks] = useState(null);\r\n  const [subs, setSubs] = useState(null);\r\n  const downloadRef = useRef(null);\r\n  const isMounted = useRef(false);\r\n  // const uploadRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  const closeHandler = (e) => {\r\n    setDownloadedVideo(null);\r\n  };\r\n\r\n  // const uploadHandler = () => {\r\n  //   setVideoForUpload(uploadRef.current.files[0]);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    if (downloadData) {\r\n      downloadVideo(downloadData);\r\n      setDownloadData(null);\r\n    }\r\n  }, [downloadData, downloadVideo]);\r\n\r\n  // const imageDownloadHandler = useCallback((back, front) => {\r\n  //   downloadRef.current.href = back;\r\n  //   downloadRef.current.download = 'design.png';\r\n  //   downloadRef.current.click();\r\n  //   if (front) {\r\n  //     downloadRef.current.href = front;\r\n  //     downloadRef.current.download = 'design2.png';\r\n  //     downloadRef.current.click();\r\n  //     setBackImage(null);\r\n  //     setFrontImage(null);\r\n  //   }\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   if (backImage && frontImage !== null) {\r\n  //     imageDownloadHandler(backImage, frontImage);\r\n  //   }\r\n  // }, [backImage, frontImage, imageDownloadHandler]);\r\n\r\n  const downloadClickHandler = () => {\r\n    if (editorState.isCropMode) {\r\n      editorDispatch({ type: 'setIsCropMode', data: false });\r\n    } else if (canvas) {\r\n      videoRef.current.pause();\r\n      prepareBreaks(videoCuts, duration, setBreaks);\r\n      if (currentSub && subArr) {\r\n        prepareSubs(subArr, currentSub, editorState.subtitlesState, setSubs);\r\n      } else setSubs({ captions: [], config: {} });\r\n      prepareCanvas(\r\n        canvas,\r\n        setBackImage,\r\n        setFrontImage,\r\n        setVideoInfo,\r\n        viedoForUpload,\r\n        isMounted\r\n      );\r\n    }\r\n  };\r\n\r\n  const prepareData = useCallback(\r\n    (backImg, frontImg, videoData, breaksData, subsData) => {\r\n      let elements = [{ ...backImg }];\r\n      if (frontImg) elements.push({ ...frontImg });\r\n      let data = {\r\n        video: { ...videoData },\r\n        elements,\r\n        breaks: [...breaksData],\r\n        subtitles: { ...subsData },\r\n      };\r\n      console.log(data);\r\n      let jsonData = JSON.stringify(data);\r\n      console.log(jsonData);\r\n      setDownloadData(jsonData);\r\n      setBackImage(null);\r\n      setFrontImage(null);\r\n      setBreaks(null);\r\n      setVideoInfo(null);\r\n      setSubs(null);\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (backImage && frontImage !== null && videoInfo && breaks && subs) {\r\n      prepareData(backImage, frontImage, videoInfo, breaks, subs);\r\n    }\r\n  }, [backImage, frontImage, videoInfo, prepareData, breaks, subs]);\r\n\r\n  return (\r\n    <Navbar>\r\n      <div className={styles.Navigation}>\r\n        {/* <button\r\n          className={styles.UploadVideo}\r\n          onClick={() => uploadRef.current.click()}\r\n        >\r\n          Upload video\r\n        </button>\r\n        <input\r\n          ref={uploadRef}\r\n          type='file'\r\n          accept='video/mp4'\r\n          style={{ display: 'none' }}\r\n          onChange={uploadHandler}\r\n        /> */}\r\n        {canvas ? (\r\n          <>\r\n            <DesignControls canvas={canvas} />\r\n            <button\r\n              id='downloadDesign'\r\n              className={styles.DownloadButton}\r\n              onClick={downloadClickHandler}\r\n            >\r\n              {!isDownloading ? 'Download' : 'Loading...'}\r\n            </button>\r\n          </>\r\n        ) : null}\r\n\r\n        <a className={styles.DownloadLink} ref={downloadRef} href='/'>\r\n          Download\r\n        </a>\r\n        {downloadedVideo ? (\r\n          <div className={styles.DownloadVideoContainer}>\r\n            <h2 className={styles.Close} onClick={closeHandler}>\r\n              Close\r\n            </h2>\r\n            <video\r\n              className={styles.DownloadVideo}\r\n              style={{\r\n                width: canvas.getWidth(),\r\n                height: 'auto',\r\n              }}\r\n              // style={{ display: 'absolute' }}\r\n              // onPlay={() => videoRef.current.play()}\r\n              id='video'\r\n              preload='true'\r\n              src={downloadedVideo}\r\n              controls\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import generateUUID from '../../utils/generateRandomUUID';\r\nimport rgbaToHex from './rgbaToHex';\r\n\r\nexport const prepareBreaks = (cuts, endTime, setBreaks) => {\r\n  let videoBreaks = [];\r\n  let prev = null;\r\n  for (let i = 0; i < cuts.length; i++) {\r\n    let el = cuts[i];\r\n    if (i === 0 && el.start !== 0) {\r\n      videoBreaks.push({ start: 0, end: el.start });\r\n    } else if (el.start !== 0) {\r\n      videoBreaks.push({ start: prev, end: el.start });\r\n    }\r\n    prev = el.end;\r\n\r\n    if (i === cuts.length - 1 && el.end !== endTime) {\r\n      videoBreaks.push({ start: el.end, end: endTime });\r\n    }\r\n  }\r\n  setBreaks(videoBreaks);\r\n};\r\n\r\nexport const prepareSubs = (arr, object, subState, setSubs) => {\r\n  let zoom = object.canvas.getZoom();\r\n  let width = object.canvas.getWidth() / zoom;\r\n  let height = object.canvas.getHeight() / zoom;\r\n  let x = (object.left * 100) / width;\r\n  let y = (object.top * 100) / height;\r\n  let captions = [];\r\n  let config = {\r\n    x,\r\n    y,\r\n    fontSize: subState.fontSize,\r\n    fontColor: rgbaToHex(subState.fill),\r\n    fontFamily: subState.fontFamily,\r\n    backgroundColor: rgbaToHex(subState.backgroundColor),\r\n    textAlign: 'center',\r\n    padding: object.paddingY !== 0 ? object.paddingY / 2 : 0,\r\n    fontWeight: subState.fontWeight,\r\n    fontStyle: subState.fontStyle,\r\n  };\r\n  // console.log(config);\r\n  // let prev = null;\r\n  let deleteStart = 0;\r\n  let deleteEnd = 0;\r\n  let isLastDeleted = false;\r\n  for (let i = 0; i < arr.length; i++) {\r\n    let el = arr[i];\r\n    if (el.active && isLastDeleted) {\r\n      let _id = generateUUID();\r\n      isLastDeleted = false;\r\n      captions.push({\r\n        start: deleteStart,\r\n        end: deleteEnd,\r\n        active: false,\r\n        silence: true,\r\n        _id,\r\n      });\r\n    } else if (!el.active && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      deleteStart = el.start;\r\n      deleteEnd = el.end;\r\n    } else if (!el.active && isLastDeleted) {\r\n      deleteEnd = el.end;\r\n    }\r\n\r\n    if (el.silence && el.active) {\r\n      let _id = generateUUID();\r\n      captions.push({\r\n        start: el.start,\r\n        end: el.end,\r\n        silence: true,\r\n        _id,\r\n        active: true,\r\n      });\r\n    } else if (el.active) {\r\n      let _id = generateUUID();\r\n      let text = '';\r\n      for (let i = 0; i < el.words.length; i++) {\r\n        let word = el.words[i];\r\n        text += word.text;\r\n      }\r\n      captions.push({\r\n        start: el.start,\r\n        end: el.end,\r\n        text,\r\n        silence: false,\r\n        active: true,\r\n        _id,\r\n      });\r\n    }\r\n  }\r\n\r\n  if (isLastDeleted) {\r\n    let _id = generateUUID();\r\n    captions.push({\r\n      start: deleteStart,\r\n      end: deleteEnd,\r\n      active: false,\r\n      silence: true,\r\n      _id,\r\n    });\r\n  }\r\n  let subtitles = { captions, config };\r\n  console.log(subtitles);\r\n  setSubs(subtitles);\r\n};\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  canvasState: {\r\n    initialWidth: 0,\r\n    initialHeight: 0,\r\n    width: 0,\r\n    height: 0,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n  },\r\n  shouldUpdateCanvas: false,\r\n  shouldUpdateCanvasSize: false,\r\n  shapeToAdd: null,\r\n  imageToAdd: null,\r\n  currentCoords: null,\r\n  showToolbar: false,\r\n  shapeState: {\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  },\r\n  imageState: {\r\n    cornerRadius: 0,\r\n    isSvg: false,\r\n  },\r\n  isSubtitles: false,\r\n  isCropMode: false,\r\n  shouldCropImage: false,\r\n  isImageDropdown: false,\r\n  isSubtitlesDropdown: false,\r\n  isShapeDropdown: false,\r\n  isResizeDropdown: false,\r\n  isCanvasBgColorDropdown: false,\r\n  isDownloadDropdown: false,\r\n  shouldAddText: false,\r\n  shouldUpdateText: false,\r\n  shouldUpdateSubtitles: false,\r\n  shouldUpdateShape: false,\r\n  shouldUpdateImage: false,\r\n  shouldReplaceImage: false,\r\n  currentObject: {\r\n    type: '',\r\n    object: null,\r\n  },\r\n  textState: {\r\n    fontFamily: 'Inter',\r\n    fontStyle: 'Normal',\r\n    fontWeight: 'Normal',\r\n    fontSize: 30,\r\n    fill: 'rgba(0,0,0,1)',\r\n    textAlign: 'left',\r\n  },\r\n  subtitlesState: {\r\n    fontFamily: 'Inter',\r\n    fontStyle: 'Normal',\r\n    fontWeight: 'Normal',\r\n    fontSize: 24,\r\n    fill: 'rgba(0,0,0,1)',\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    initialBackground: 'rgba(255,255,255,1)',\r\n  },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setCanvasState':\r\n      return { ...state, canvasState: action.data };\r\n    case 'setIsDownloadDropdown':\r\n      return { ...state, isDownloadDropdown: action.data };\r\n    case 'setIsSubtitles':\r\n      return { ...state, isSubtitles: action.data, isSubtitlesDropdown: false };\r\n    case 'setIsCropMode':\r\n      return { ...state, isCropMode: action.data };\r\n    case 'setShouldCropImage':\r\n      return { ...state, shouldCropImage: action.data };\r\n    case 'setIsImageDropdown':\r\n      return { ...state, isImageDropdown: action.data };\r\n    case 'setIsSubtitlesDropdown':\r\n      return { ...state, isSubtitlesDropdown: action.data };\r\n    case 'setIsShapeDropdown':\r\n      return { ...state, isShapeDropdown: action.data };\r\n    case 'setIsResizeDropdown':\r\n      return { ...state, isResizeDropdown: action.data };\r\n    case 'setIsCanvasBgColorDropdown':\r\n      return { ...state, isCanvasBgColorDropdown: action.data };\r\n    case 'setCurrentCoords':\r\n      return { ...state, currentCoords: action.data };\r\n    case 'setShowToolbar':\r\n      return { ...state, showToolbar: action.data };\r\n    case 'setShowCanvasToolbar':\r\n      return { ...state, showCanvasToolbar: action.data };\r\n    case 'setShouldAddText':\r\n      return { ...state, shouldAddText: action.data };\r\n    case 'setShouldUpdateText':\r\n      return { ...state, shouldUpdateText: action.data };\r\n    case 'setShouldUpdateSubtitles':\r\n      return { ...state, shouldUpdateSubtitles: action.data };\r\n    case 'setShouldUpdateShape':\r\n      return { ...state, shouldUpdateShape: action.data };\r\n    case 'setShouldUpdateImage':\r\n      return { ...state, shouldUpdateImage: action.data };\r\n    case 'setShouldUpdateCanvas':\r\n      return { ...state, shouldUpdateCanvas: action.data };\r\n    case 'setShouldUpdateCanvasSize':\r\n      return { ...state, shouldUpdateCanvasSize: action.data };\r\n    case 'setCurrentObject':\r\n      return { ...state, currentObject: action.data };\r\n    case 'setShapeToAdd':\r\n      return { ...state, shapeToAdd: action.data, isShapeDropdown: false };\r\n    case 'setImageToAdd':\r\n      return { ...state, imageToAdd: action.data, isImageDropdown: false };\r\n    case 'setShapeState':\r\n      return { ...state, shapeState: { ...action.data } };\r\n    case 'setImageState':\r\n      return { ...state, imageState: { ...action.data } };\r\n    case 'setTextState':\r\n      return { ...state, textState: { ...action.data } };\r\n    case 'setSubtitlesState':\r\n      return { ...state, subtitlesState: { ...action.data } };\r\n    case 'setShouldReplaceImage':\r\n      return { ...state, shouldReplaceImage: action.data };\r\n    case 'setCanvasBackgroundColor':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvas: true,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          backgroundColor: action.data,\r\n        },\r\n      };\r\n    case 'setCanvasSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvasSize: true,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          width: action.data.width,\r\n          height: action.data.height,\r\n        },\r\n      };\r\n    case 'setCanvasInitialSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          initialWidth: action.data.initialWidth,\r\n          initialHeight: action.data.initialHeight,\r\n          width: action.data.width,\r\n          height: action.data.height,\r\n        },\r\n      };\r\n    case 'setImageCornerRadius':\r\n      return {\r\n        ...state,\r\n        shouldUpdateImage: true,\r\n        imageState: {\r\n          ...state.imageState,\r\n          cornerRadius: action.data,\r\n        },\r\n      };\r\n    case 'setShapeRadius':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          rx: action.data,\r\n          ry: action.data,\r\n        },\r\n      };\r\n    case 'setShapeFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStroke':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          stroke: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStrokeWidth':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          strokeWidth: action.data,\r\n        },\r\n      };\r\n\r\n    case 'setFontFamily':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontFamily: action.data,\r\n        },\r\n      };\r\n    case 'setFontStyle':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontStyle: action.data,\r\n        },\r\n      };\r\n    case 'setFontWeight':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontWeight: action.data,\r\n        },\r\n      };\r\n    case 'setFontSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontSize: action.data,\r\n        },\r\n      };\r\n    case 'setTextFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setTextAlign':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          textAlign: action.data,\r\n        },\r\n      };\r\n\r\n    case 'setSubtitlesbackgroundColor':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          backgroundColor: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontFamily':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontFamily: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontStyle':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontStyle: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontWeight':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontWeight: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontSize: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesTextFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesTextAlign':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          textAlign: action.data,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useEditorState = () => {\r\n  const [editorState, editorDispatch] = useReducer(reducer, initialState);\r\n  return [editorState, editorDispatch];\r\n};\r\n\r\nexport default useEditorState;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './VideoEditor.module.css';\r\nimport Transcription from '../Transcription/Transcription';\r\nimport Player from '../Player/Player';\r\nimport Video from '../Video/Video';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport useEditorState from '../../hooks/useEditorState';\r\nimport EditorContext from '../../contexts/EditorContext';\r\n\r\nconst VideoEditor = ({\r\n  canvas,\r\n  setCanvas,\r\n  subArr,\r\n  setSubArr,\r\n  currentSub,\r\n  setCurrentSub,\r\n  videoCuts,\r\n  setVideoCuts,\r\n  viedoForUpload,\r\n  videoUrl,\r\n  words,\r\n  videoRef,\r\n  duration,\r\n  setVideoForUpload,\r\n  clearState\r\n}) => {\r\n  const [editorState, editorDispatch] = useEditorState();\r\n  const [currentSelection, setCurrentSelection] = useState(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(null);\r\n  const [nextCutIndex, setNextCutIndex] = useState(null);\r\n  const [currentSubIndex, setCurrentSubIndex] = useState(null);\r\n  const [videoSize, setVideoSize] = useState(null);\r\n  const [shouldRerenderSub, setShouldRerenderSub] = useState(false);\r\n\r\n  useEffect(() => {\r\n    return () => clearState();\r\n  }, [clearState]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log('currentSubIndex:', currentSubIndex);\r\n  // }, [currentSubIndex]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(nextCutIndex);\r\n  // }, [nextCutIndex]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(currentWordIndex);\r\n  // }, [currentWordIndex]);\r\n\r\n  // useEffect(() => {\r\n  //   videoCuts.forEach((el) => {\r\n  //     console.log(el);\r\n  //   });\r\n  // }, [videoCuts]);\r\n\r\n  useEffect(() => {\r\n    if (videoUrl) videoRef.current.src = videoUrl;\r\n  }, [videoUrl, videoRef]);\r\n\r\n  // useEffect(() => {\r\n  //   if (viedoForUpload)\r\n  //     videoRef.current.src = URL.createObjectURL(viedoForUpload);\r\n  // }, [viedoForUpload, videoRef]);\r\n\r\n  const setPlayerTime = (wordIndex) => {\r\n    let endTime = '0';\r\n    if (wordIndex !== null) {\r\n      let word = words[wordIndex];\r\n      endTime = word.end;\r\n      videoRef.current.currentTime = +word.start;\r\n      setCurrentTime(+word.start);\r\n      // console.log('seting player time: ', +word.start);\r\n    }\r\n    let cutIndex = 0;\r\n    for (let i = 0; i < videoCuts.length; i++) {\r\n      let cut = videoCuts[i];\r\n      if (+endTime > +cut.end) {\r\n        cutIndex++;\r\n      }\r\n    }\r\n    setNextCutIndex(cutIndex);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <EditorContext.Provider value={{ editorState, editorDispatch }}>\r\n        <Navigation\r\n          viedoForUpload={viedoForUpload}\r\n          setVideoForUpload={setVideoForUpload}\r\n          canvas={canvas}\r\n          videoRef={videoRef}\r\n          videoCuts={videoCuts}\r\n          duration={duration}\r\n          words={words}\r\n          subArr={subArr}\r\n          currentSub={currentSub}\r\n        />\r\n        <main className={styles.Main}>\r\n          <Transcription\r\n            className={styles.VideoEditor}\r\n            words={words}\r\n            currentWordIndex={currentWordIndex}\r\n            setCurrentWordIndex={setCurrentWordIndex}\r\n            isPlaying={isPlaying}\r\n            videoRef={videoRef}\r\n            setCuts={setVideoCuts}\r\n            currentSelection={currentSelection}\r\n            setCurrentSelection={setCurrentSelection}\r\n            setPlayerTime={setPlayerTime}\r\n            subArr={subArr}\r\n            setCurrentSubIndex={setCurrentSubIndex}\r\n            currentSub={currentSub}\r\n            currentSubIndex={currentSubIndex}\r\n            setShouldRerenderSub={setShouldRerenderSub}\r\n          />\r\n          <Player\r\n            videoRef={videoRef}\r\n            canvas={canvas}\r\n            setCanvas={setCanvas}\r\n            isPlaying={isPlaying}\r\n            words={words}\r\n            currentTime={currentTime}\r\n            videoCuts={videoCuts}\r\n            setNextCutIndex={setNextCutIndex}\r\n            setCurrentWordIndex={setCurrentWordIndex}\r\n            nextCutIndex={nextCutIndex}\r\n            currentWordIndex={currentWordIndex}\r\n            subArr={subArr}\r\n            setSubArr={setSubArr}\r\n            currentSub={currentSub}\r\n            setCurrentSub={setCurrentSub}\r\n            currentSubIndex={currentSubIndex}\r\n            setCurrentSubIndex={setCurrentSubIndex}\r\n            videoSize={videoSize}\r\n            shouldRerenderSub={shouldRerenderSub}\r\n            setShouldRerenderSub={setShouldRerenderSub}\r\n          />\r\n          <Video\r\n            videoRef={videoRef}\r\n            setIsPlaying={setIsPlaying}\r\n            currentSelection={currentSelection}\r\n            setCurrentSelection={setCurrentSelection}\r\n            setCurrentTime={setCurrentTime}\r\n            videoSize={videoSize}\r\n            videoCuts={videoCuts}\r\n            words={words}\r\n            setVideoSize={setVideoSize}\r\n            setNextCutIndex={setNextCutIndex}\r\n            setCurrentWordIndex={setCurrentWordIndex}\r\n            setCurrentSubIndex={setCurrentSubIndex}\r\n            subArr={subArr}\r\n          />\r\n          {/* <div className={styles.DownloadCanvas}>\r\n          <canvas id='downloadCanvas' />\r\n        </div> */}\r\n        </main>\r\n      </EditorContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst CustomRoute = ({ component: Component, where, allowed, redirect, ...rest }) => {\r\n  // console.log(rest, where);\r\n  return (\r\n    <Route {...rest}>\r\n      {allowed ? <Component {...rest} /> : <Redirect to={redirect} />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default CustomRoute;\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport styles from './Editor.module.css';\r\nimport Uploader from '../Uploader/Uploader';\r\nimport VideoEditor from '../VideoEditor/VideoEditor';\r\nimport { useRouteMatch, Switch, Redirect } from 'react-router-dom';\r\nimport CustomRoute from '../../components/CustomRoute/CustomRoute';\r\n// import { words } from './sampleWords/sampleWords';\r\n\r\nconst Editor = () => {\r\n  const [viedoForUpload, setVideoForUpload] = useState(null);\r\n  const [videoCuts, setVideoCuts] = useState([]);\r\n  const [canvas, setCanvas] = useState(null);\r\n  const [subArr, setSubArr] = useState(null);\r\n  const [currentSub, setCurrentSub] = useState(null);\r\n  const [isFinishedTranscribing, setIsFinishedTranscribing] = useState(false);\r\n  const [duration, setDuration] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const videoRef = useRef(null);\r\n  const match = useRouteMatch();\r\n  const words = useRef(null);\r\n\r\n  const clearState = useCallback(() => {\r\n    words.current = null;\r\n    setDuration(null);\r\n    setVideoUrl(null);\r\n    setIsFinishedTranscribing(false);\r\n    setCanvas(null);\r\n    setSubArr(null);\r\n    setVideoCuts(null);\r\n    setVideoForUpload(null);\r\n    setCurrentSub(null);\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   if (isFinishedTranscribing) history.push(`${match.path}/video-editor`);\r\n  // }, [isFinishedTranscribing, history, match]);\r\n\r\n  return (\r\n    <div className={styles.Editor}>\r\n      <Switch>\r\n        <CustomRoute\r\n          path={`${match.path}/new`}\r\n          redirect={`${match.path}/video-editor`}\r\n          where='in the Editor new route'\r\n          allowed={!isFinishedTranscribing}\r\n          component={Uploader}\r\n          viedoForUpload={viedoForUpload}\r\n          setVideoForUpload={setVideoForUpload}\r\n          setIsFinished={setIsFinishedTranscribing}\r\n          setVideoUrl={setVideoUrl}\r\n          setDuration={setDuration}\r\n          wordsRef={words}\r\n        />\r\n        <CustomRoute\r\n          path={`${match.path}/video-editor`}\r\n          redirect={`${match.path}/new`}\r\n          where='in the Editor video-editor route'\r\n          allowed={isFinishedTranscribing}\r\n          component={VideoEditor}\r\n          canvas={canvas}\r\n          setCanvas={setCanvas}\r\n          subArr={subArr}\r\n          setSubArr={setSubArr}\r\n          currentSub={currentSub}\r\n          setCurrentSub={setCurrentSub}\r\n          videoCuts={videoCuts}\r\n          setVideoCuts={setVideoCuts}\r\n          viedoForUpload={viedoForUpload}\r\n          videoUrl={videoUrl}\r\n          words={words.current}\r\n          videoRef={videoRef}\r\n          duration={duration}\r\n          clearState={clearState}\r\n        />\r\n        <Redirect to={`${match.path}/new`} />\r\n        {/* <Redirect\r\n              to={`${match.path}${\r\n                isFinishedTranscribing ? '/video-editor' : '/new'\r\n              }`}\r\n            /> */}\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","export default __webpack_public_path__ + \"static/media/saly.d86e3215.png\";","export default __webpack_public_path__ + \"static/media/twiso.2070abef.svg\";","export default __webpack_public_path__ + \"static/media/google.7575ce4f.svg\";","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={styles.Button}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport styles from './Or.module.css';\r\n\r\nconst Or = () => {\r\n  return (\r\n    <div className={styles.Or}>\r\n      <div className={styles.Line}></div>\r\n      <span className={styles.Text}>or</span>\r\n      <div className={styles.Line}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Or;\r\n","import React from 'react';\r\nimport styles from './Input.module.css';\r\n\r\nconst Input = ({\r\n  placeholder,\r\n  type,\r\n  invalid,\r\n  setValue,\r\n  value,\r\n  errorMessage,\r\n}) => {\r\n  const blurHandler = () => {\r\n    let isEmpty = value.trim() === '';\r\n    if (invalid && !isEmpty)\r\n      setValue((prevState) => ({ ...prevState, invalid: false }));\r\n  };\r\n  \r\n  const focusHandler = () => {\r\n    if (invalid) setValue((prevState) => ({ ...prevState, value: '' }));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.InputContainer}>\r\n      <input\r\n        className={[styles.Input, invalid ? styles.Invalid : null].join(' ')}\r\n        placeholder={placeholder}\r\n        type={type}\r\n        value={value}\r\n        onBlur={blurHandler}\r\n        onFocus={focusHandler}\r\n        onChange={(e) =>\r\n          setValue((prevState) => ({ ...prevState, value: e.target.value }))\r\n        }\r\n      ></input>\r\n      {invalid ? (\r\n        <div className={styles.ErrorMessage}>{errorMessage}</div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { createContext } from 'react';\r\n\r\nconst UserContext = createContext(null);\r\nexport default UserContext;\r\n","export default __webpack_public_path__ + \"static/media/mail.4d849a6e.svg\";","import React, { useContext } from 'react';\r\nimport styles from './CheckMail.module.css';\r\nimport UserContext from '../../../contexts/UserContext';\r\nimport mail from '../../../assets/auth/mail.svg';\r\n\r\nconst CheckMail = () => {\r\n  const { userDispatch } = useContext(UserContext);\r\n  const clickHandler = () => {\r\n    userDispatch({ type: 'setIsAuthenticated', data: true });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.CheckMail}>\r\n      <img src={mail} alt='mail' className={styles.Mail} />\r\n      <h2 className={styles.Heading}>Check your inbox</h2>\r\n      <p className={styles.Subheading}>\r\n        We sent you an activation link. Please be sure to check your spam folder\r\n        too.\r\n      </p>\r\n      <div className={styles.EditorLink} onClick={clickHandler}>\r\n        Go to editor\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckMail;\r\n","export const checkEmailValidity = (value) => {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\r\n};","import React, { useState } from 'react';\r\nimport styles from './SignIn.module.css';\r\nimport google from '../../../assets/auth/google.svg';\r\nimport Button from '../Button/Button';\r\nimport Or from '../Or/Or';\r\nimport Input from '../Input/Input';\r\nimport CheckMail from '../CheckMail/CheckMail';\r\nimport { checkEmailValidity } from '../utils/validation';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SignIn = ({ authUrl }) => {\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [email, setEmail] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'email',\r\n    placeholder: 'Email address',\r\n    validation: true,\r\n    errorMessage: 'Please enter your email',\r\n  });\r\n\r\n  const signInClickHandler = (e) => {\r\n    e.preventDefault();\r\n    let isValid = checkEmailValidity(email.value);\r\n    if (!isValid) setEmail((prevState) => ({ ...prevState, invalid: true }));\r\n    else setIsSent(true);\r\n  };\r\n\r\n  const signInWithGoogleClickHandler = (e) => {\r\n    console.log('Sign in with google');\r\n  };\r\n\r\n  const signInContent = (\r\n    <div className={styles.SignIn}>\r\n      <h2 className={styles.Heading}>Welcome to Twiso!</h2>\r\n      <p className={styles.Subheading}>\r\n        Don't have an account?{' '}\r\n        <Link to={`${authUrl}/sign-up`} className={styles.SignUpLink}>\r\n          Sign up for free\r\n        </Link>\r\n      </p>\r\n      <div className={styles.FormContent}>\r\n        <Button onClick={signInWithGoogleClickHandler}>\r\n          <img src={google} alt='google' className={styles.GoogleLogo} />\r\n          Continue with Google\r\n        </Button>\r\n        <Or />\r\n        <form className={styles.Form}>\r\n          <Input {...email} setValue={setEmail} />\r\n          <Button onClick={signInClickHandler}>Sign in</Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return !isSent ? signInContent : <CheckMail />;\r\n};\r\n\r\nexport default SignIn;\r\n","export default __webpack_public_path__ + \"static/media/downArrow.2770f0b5.svg\";","export default __webpack_public_path__ + \"static/media/checkMark.707a0281.svg\";","import React, { useEffect, useCallback } from 'react';\r\nimport styles from './Dropdown.module.css';\r\nimport checkMark from '../../../../assets/auth/checkMark.svg';\r\n\r\nconst Dropdown = ({ options, value, setValue, setIsDropdown }) => {\r\n  const clickHandler = useCallback(() => setIsDropdown(false), [setIsDropdown]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', clickHandler);\r\n    return () => document.removeEventListener('click', clickHandler);\r\n  }, [clickHandler]);\r\n\r\n  return (\r\n    <ul className={styles.Dropdown}>\r\n      {options.map((option) => {\r\n        let isCurrent = value && value.id === option.id;\r\n        return (\r\n          <li\r\n            key={option.id}\r\n            id={option.id}\r\n            className={[styles.Option, isCurrent ? styles.Current : null].join(\r\n              ' '\r\n            )}\r\n            onClick={() => setValue((prevState) => ({ ...prevState, value: option }))}\r\n          >\r\n            <span className={styles.CheckMark}>\r\n              {isCurrent ? <img src={checkMark} alt='check mark' /> : null}\r\n            </span>\r\n\r\n            {option.type}\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import React, { useState } from 'react';\r\nimport styles from './Select.module.css';\r\nimport downArrow from '../../../assets/auth/downArrow.svg';\r\nimport Dropdown from './Dropdown/Dropdown';\r\n\r\nconst Select = ({ options, invalid, value, setValue, errorMessage }) => {\r\n  const [isDropdown, setIsDropdown] = useState(null);\r\n\r\n  const clickHandler = () => {\r\n    if (invalid) setValue((prevState) => ({ ...prevState, invalid: false }));\r\n    setIsDropdown(true);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.SelectContainer}>\r\n      <div\r\n        className={[styles.Select, invalid ? styles.Invalid : null].join(' ')}\r\n        onClick={clickHandler}\r\n      >\r\n        <p\r\n          className={[\r\n            styles.Selected,\r\n            value.id !== 'placeholder' ? styles.Valid : null,\r\n          ].join(' ')}\r\n        >\r\n          {value.type}\r\n        </p>\r\n        <img src={downArrow} alt='arrow' />\r\n        {isDropdown ? (\r\n          <Dropdown\r\n            options={options}\r\n            value={value}\r\n            setValue={setValue}\r\n            setIsDropdown={setIsDropdown}\r\n          />\r\n        ) : null}\r\n      </div>\r\n      {invalid ? (\r\n        <div className={styles.ErrorMessage}>{errorMessage}</div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React, { useState } from 'react';\r\nimport styles from './SignUp.module.css';\r\nimport google from '../../../assets/auth/google.svg';\r\nimport Button from '../Button/Button';\r\nimport Or from '../Or/Or';\r\nimport Input from '../Input/Input';\r\nimport Select from '../Select/Select';\r\nimport CheckMail from '../CheckMail/CheckMail';\r\nimport { checkEmailValidity } from '../utils/validation';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SignUp = ({ authUrl }) => {\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [name, setName] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'text',\r\n    placeholder: 'First name',\r\n    errorMessage: 'Please enter your name',\r\n  });\r\n\r\n  const [email, setEmail] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'email',\r\n    placeholder: 'Email address',\r\n    errorMessage: 'Please enter your email',\r\n  });\r\n\r\n  const [workType, setWorkType] = useState({\r\n    value: { type: 'What kind of work do you do?', id: 'placeholder' },\r\n    options: [\r\n      { type: 'What kind of work do you do?', id: 'placeholder' },\r\n      { type: 'Marketing', id: 'marketing' },\r\n      { type: 'Design', id: 'design' },\r\n      { type: 'Influencer', id: 'influencer' },\r\n      { type: 'Public Speaker', id: 'publicSpeaker' },\r\n      { type: 'Student', id: 'student' },\r\n      { type: 'Other', id: 'other' },\r\n    ],\r\n    invalid: false,\r\n    errorMessage: 'Please fill out this field',\r\n  });\r\n\r\n  const createAccountClickHandler = (e) => {\r\n    e.preventDefault();\r\n    let isEmailValid = checkEmailValidity(email.value);\r\n    let isNameValid = name.value.trim() !== '';\r\n    let isWorkTypeValid = workType.value.id !== 'placeholder';\r\n    if (!isEmailValid) {\r\n      setEmail((prevState) => ({ ...prevState, invalid: true }));\r\n    }\r\n    if (!isNameValid) setName((prevState) => ({ ...prevState, invalid: true }));\r\n    if (!isWorkTypeValid) {\r\n      setWorkType((prevState) => ({ ...prevState, invalid: true }));\r\n    }\r\n    if (isEmailValid && isNameValid && isWorkTypeValid) setIsSent(true);\r\n  };\r\n\r\n  const signUpWithGoogleClickHandler = (e) => {\r\n    console.log('Sign up with google');\r\n  };\r\n\r\n  const signUpContent = (\r\n    <div className={styles.SignUp}>\r\n      <h2 className={styles.Heading}>Create Account</h2>\r\n      <p className={styles.Subheading}>\r\n        Already have an account?{' '}\r\n        <Link to={`${authUrl}/sign-in`} className={styles.SignInLink}>\r\n          Sign in\r\n        </Link>\r\n      </p>\r\n      <div className={styles.FormContent}>\r\n        <Button onClick={signUpWithGoogleClickHandler}>\r\n          <img src={google} alt='google' className={styles.GoogleLogo} />\r\n          Sign Up with Google\r\n        </Button>\r\n        <Or />\r\n        <form className={styles.Form}>\r\n          <Input {...name} setValue={setName} />\r\n          <Input {...email} setValue={setEmail} />\r\n          <Select {...workType} setValue={setWorkType} />\r\n          <Button onClick={createAccountClickHandler}>Create Account</Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return !isSent ? signUpContent : <CheckMail />;\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport styles from './Auth.module.css';\r\nimport saly from '../../assets/auth/saly.png';\r\nimport twiso from '../../assets/auth/twiso.svg';\r\nimport SignIn from './SignIn/SignIn';\r\nimport SignUp from './SignUp/SignUp';\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nconst Auth = () => {\r\n  const match = useRouteMatch();\r\n\r\n  return (\r\n    <div className={styles.Auth}>\r\n      <div className={styles.Testimonial}>\r\n        <div className={styles.Background}></div>\r\n        <div className={styles.TestimonialContent}>\r\n          <img src={twiso} alt='twiso' className={styles.Twiso} />\r\n          <p className={styles.Heading}>Transcribe. Edit. Design.</p>\r\n          <p className={styles.Subheading}>All in one place.</p>\r\n          <img src={saly} alt='saly' className={styles.Mascot} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.Account}>\r\n        <Switch>\r\n          <Route exact path={`${match.path}/sign-in`}>\r\n            <SignIn authUrl={match.path} />\r\n          </Route>\r\n          <Route exact path={`${match.path}/sign-up`}>\r\n            <SignUp authUrl={match.path} />\r\n          </Route>\r\n          <Redirect to={`${match.path}/sign-in`} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/dot.fc2c6ed1.svg\";","import React from 'react';\r\nimport styles from './User.module.css';\r\nimport dot from '../../../../assets/homepage/dot.svg';\r\n\r\nconst User = () => {\r\n  return (\r\n    <div className={styles.User}>\r\n      <div className={styles.UserName}>\r\n        <div className={styles.Initials}>\r\n          <span className={styles.Letter}>D</span>\r\n        </div>\r\n        <div className={styles.Name}>Dmitry</div>\r\n      </div>\r\n      <div className={styles.Dots}>\r\n        <img src={dot} alt='dot' />\r\n        <img src={dot} alt='dot' />\r\n        <img src={dot} alt='dot' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","export default __webpack_public_path__ + \"static/media/templates.682f97fb.svg\";","export default __webpack_public_path__ + \"static/media/projects.1b448b51.svg\";","export default __webpack_public_path__ + \"static/media/settings.196926de.svg\";","import React from 'react';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\nimport styles from './SideDrawer.module.css';\r\nimport User from './User/User';\r\nimport templates from '../../../assets/homepage/templates.svg';\r\nimport projects from '../../../assets/homepage/projects.svg';\r\nimport settings from '../../../assets/homepage/settings.svg';\r\n\r\nconst SideDrawer = () => {\r\n  const match = useRouteMatch();\r\n\r\n  return (\r\n    <div className={styles.SideDrawer}>\r\n      <User />\r\n      <div className={styles.Links}>\r\n        <NavLink\r\n          to={`${match.path}/templates`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={templates} alt='templates' />\r\n          <span className={styles.LinkText}>Templates</span>\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/projects`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={projects} alt='templates' />\r\n          <span className={styles.LinkText}>My projects</span>\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/settings`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={settings} alt='templates' />\r\n          <span className={styles.LinkText}>Settings</span>\r\n        </NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n\r\n  return (\r\n    <header className={styles.Navbar}>\r\n      <Link className={styles.NewButton} to='/editor/new'>\r\n        <span className={styles.Plus}>+</span>New Project\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport styles from './Project.module.css';\r\n\r\nconst Project = ({ color, name, date }) => {\r\n  return (\r\n    <div style={{ background: color }} className={styles.Project}>\r\n      <div className={styles.Info}>\r\n        <p className={styles.Name}>{name}</p>\r\n        <p className={styles.Date}>{date}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Project;\r\n","import React from 'react';\r\nimport styles from './Projects.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Project from './Project/Project';\r\nconst Projects = () => {\r\n  return (\r\n    <div className={styles.Projects}>\r\n      <h2 className={styles.Heading}>My projects</h2>\r\n      <p className={styles.Subheading}>\r\n        All your video and audio files in one place.\r\n      </p>\r\n      <div className={styles.ProjectsList}>\r\n        <div className={styles.AddProject}>\r\n          <Link className={styles.AddProjectInner} to='/editor/new'>\r\n            <div className={styles.AddProjectText}>\r\n              <span>+ Add new</span>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className={styles.ProjectContainer}>\r\n          <Project color='#eabd4b' name='Name' date='12.02.2021' />\r\n        </div>\r\n        <div className={styles.ProjectContainer}>\r\n          <Project color='#6F7BD0' name='Name' date='12.02.2021' />\r\n        </div>\r\n        <div className={styles.ProjectContainer}>\r\n          <Project color='#DF7C6E' name='Name' date='12.02.2021' />\r\n        </div>\r\n        <div className={styles.ProjectContainer}>\r\n          <Project color='#eabd4b' name='Name' date='12.02.2021' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n","export default __webpack_public_path__ + \"static/media/pic1.c02db87d.png\";","export default __webpack_public_path__ + \"static/media/pic2.52a36858.png\";","export default __webpack_public_path__ + \"static/media/pic3.575c1345.png\";","export default __webpack_public_path__ + \"static/media/pic4.f225bae3.png\";","export default __webpack_public_path__ + \"static/media/pic5.4c4aa83f.png\";","export default __webpack_public_path__ + \"static/media/pic6.ab8ce737.png\";","import React from 'react';\r\nimport styles from './Webinar.module.css';\r\nimport pic1 from '../../../../assets/homepage/pic1.png';\r\nimport pic2 from '../../../../assets/homepage/pic2.png';\r\nimport pic3 from '../../../../assets/homepage/pic3.png';\r\nimport pic4 from '../../../../assets/homepage/pic4.png';\r\nimport pic5 from '../../../../assets/homepage/pic5.png';\r\nimport pic6 from '../../../../assets/homepage/pic6.png';\r\n\r\nconst Webinar = () => {\r\n  return (\r\n    <div className={styles.Webinar}>\r\n      <h2 className={styles.Heading}>Webinar</h2>\r\n      <p className={styles.Subheading}>\r\n        Make your webinar branded and professional looking\r\n      </p>\r\n      <div className={styles.TemplatesList}>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic1})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic2})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic3})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic4})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic5})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic6})` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Webinar;\r\n","import React from 'react';\r\nimport styles from './Templates.module.css';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  useRouteMatch,\r\n  NavLink,\r\n} from 'react-router-dom';\r\nimport Webinar from './Webinar/Webinar';\r\n\r\nconst Templates = () => {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <div className={styles.Templates}>\r\n      <div className={styles.NavLinks}>\r\n        <NavLink\r\n          to={`${match.path}/webinar`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Webinar\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/podcast`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Podcast\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/vlog`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Vlog\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/demo-recording`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Demo recording\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/video-testimonial`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Video testimonial\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/training-onboarding`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Training & onboarding\r\n        </NavLink>\r\n      </div>\r\n\r\n      <Switch>\r\n        <Route exact path={`${match.path}/webinar`}>\r\n          <Webinar />\r\n        </Route>\r\n        <Route exact path={`${match.path}/podcast`}>\r\n          <h1 className={styles.Heading}>Podcast</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/vlog`}>\r\n          <h1 className={styles.Heading}>Vlog</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/demo-recording`}>\r\n          <h1 className={styles.Heading}>Demo recording</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/video-testimonial`}>\r\n          <h1 className={styles.Heading}>Video testimonial</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/training-onboarding`}>\r\n          <h1 className={styles.Heading}>Training & onboarding</h1>\r\n        </Route>\r\n        <Redirect to={`${match.path}/webinar`} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Templates;\r\n","import React from 'react';\r\nimport styles from './Homepage.module.css';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport Navbar from './Navbar/Navbar';\r\nimport Projects from './Projects/Projects';\r\nimport Templates from './Templates/Templates';\r\n\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom';\r\nconst Homepage = () => {\r\n  const match = useRouteMatch();\r\n\r\n  return (\r\n    <div className={styles.Homepage}>\r\n      <SideDrawer />\r\n      <div className={styles.Main}>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path={`${match.path}/templates`}>\r\n            <Templates />\r\n          </Route>\r\n          <Route exact path={`${match.path}/projects`}>\r\n            <Projects />\r\n          </Route>\r\n          <Route exact path={`${match.path}/settings`}>\r\n            <h1>Settings</h1>\r\n          </Route>\r\n          <Redirect to={`${match.path}/projects`} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setIsAuthenticated':\r\n      return { ...state, isAuthenticated: action.data };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useUserState = () => {\r\n  const [userState, userDispatch] = useReducer(reducer, initialState);\r\n  return [userState, userDispatch];\r\n};\r\n\r\nexport default useUserState;\r\n","import React from 'react';\nimport './App.css';\nimport Editor from './containers/Editor/Editor';\nimport Auth from './containers/Auth/Auth';\nimport Homepage from './containers/Homepage/Homepage';\nimport UserContext from './contexts/UserContext';\nimport useUserState from './hooks/useUserState';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport CustomRoute from './components/CustomRoute/CustomRoute';\n\nconst App = () => {\n  const [userState, userDispatch] = useUserState();\n\n  return (\n    <div className='App'>\n      <UserContext.Provider value={{ userState, userDispatch }}>\n        <Router basename='/'>\n          <Switch>\n            <CustomRoute\n              path='/auth'\n              redirect='/home'\n              where='in the App auth route'\n              allowed={!userState.isAuthenticated}\n              component={Auth}\n            />\n            <CustomRoute\n              path='/home'\n              redirect='/auth'\n              where='in the App home route'\n              allowed={userState.isAuthenticated}\n              component={Homepage}\n            />\n            <CustomRoute\n              path='/editor'\n              redirect='/auth'\n              where='in the App editor route'\n              allowed={userState.isAuthenticated}\n              component={Editor}\n            />\n            <Route path='/'>\n              {userState.isAuthenticated ? (\n                <Redirect to='/home' />\n              ) : (\n                <Redirect to='/auth' />\n              )}\n            </Route>\n          </Switch>\n        </Router>\n      </UserContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3RMWK\",\"BackFileInfoContainer\":\"Navbar_BackFileInfoContainer__3ky9K\",\"BackButton\":\"Navbar_BackButton__1R1aO\",\"BackArrow\":\"Navbar_BackArrow__2uTRU\",\"FileInfoContainer\":\"Navbar_FileInfoContainer__3b5oQ\",\"FileName\":\"Navbar_FileName__23abe\",\"Creater\":\"Navbar_Creater__j3mKP\",\"UserInfoContainer\":\"Navbar_UserInfoContainer__w_iEs\",\"User\":\"Navbar_User__2G6Ae\",\"UserInitials\":\"Navbar_UserInitials__1Z-As\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ShapeDropdown_Dropdown__3aeLl\",\"ShapeContainer\":\"ShapeDropdown_ShapeContainer__21oDr\",\"LineShapeContainer\":\"ShapeDropdown_LineShapeContainer__1eEMT\",\"Shape\":\"ShapeDropdown_Shape__3ZdgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontSizeDropdown\":\"FontSizeDropdown_FontSizeDropdown__3vQgK\",\"FontSizeOption\":\"FontSizeDropdown_FontSizeOption__5LIdC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageToolbar\":\"ImageToolbar_ImageToolbar__1bSOG\",\"BorderDiv\":\"ImageToolbar_BorderDiv__2L57I\",\"ReaplaceContainer\":\"ImageToolbar_ReaplaceContainer__Bvs6n\",\"RadiusContainer\":\"ImageToolbar_RadiusContainer__1809i\",\"CropContainer\":\"ImageToolbar_CropContainer__3a9ik\",\"DoneContainer\":\"ImageToolbar_DoneContainer__1sU7m\",\"RadiusInput\":\"ImageToolbar_RadiusInput__3neeS\",\"StrokeWidthArrowContainer\":\"ImageToolbar_StrokeWidthArrowContainer__2ZaEx\",\"BorderStyle\":\"ImageToolbar_BorderStyle__2Np8t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"SubtitlesDropdown_Dropdown__3CPKs\",\"Text\":\"SubtitlesDropdown_Text__mqlQv\",\"Buttons\":\"SubtitlesDropdown_Buttons__1LolQ\",\"Button\":\"SubtitlesDropdown_Button__rnGL5\",\"ButtonText\":\"SubtitlesDropdown_ButtonText__3zZ2n\",\"Active\":\"SubtitlesDropdown_Active__1vfsr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__2-Tih\",\"Testimonial\":\"Auth_Testimonial__Gdo6e\",\"Background\":\"Auth_Background__Sn6Rs\",\"TestimonialContent\":\"Auth_TestimonialContent__1xfBA\",\"Twiso\":\"Auth_Twiso__1yuUr\",\"Heading\":\"Auth_Heading__219Co\",\"Subheading\":\"Auth_Subheading__3iXme\",\"Mascot\":\"Auth_Mascot__1P0gq\",\"Account\":\"Auth_Account__FNRoH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"FontsDropdown_FontsDropdown__2cMmK\",\"SearchContainer\":\"FontsDropdown_SearchContainer__2xV2U\",\"SearchSvg\":\"FontsDropdown_SearchSvg__2fL_Y\",\"SearchInput\":\"FontsDropdown_SearchInput__1YJKM\",\"FontOptionsContainer\":\"FontsDropdown_FontOptionsContainer__3NL_l\",\"FontOption\":\"FontsDropdown_FontOption__YA26x\",\"UploadFontContainer\":\"FontsDropdown_UploadFontContainer__BN5oN\",\"UploadFontButton\":\"FontsDropdown_UploadFontButton__2fdT4\",\"UploadFontFile\":\"FontsDropdown_UploadFontFile__17exH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"ContextMenu_Menu__3Crct\",\"Option\":\"ContextMenu_Option__2sY3r\",\"Border\":\"ContextMenu_Border__2fUH-\",\"Overlay\":\"ContextMenu_Overlay__1PFYP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Transcription\":\"Transcription_Transcription__13teg\",\"TextControls\":\"Transcription_TextControls__1U4fb\",\"CutContainer\":\"Transcription_CutContainer__3Pv4S\",\"SearchContainer\":\"Transcription_SearchContainer__3q-zR\",\"SearchInput\":\"Transcription_SearchInput__3ojca\",\"Text\":\"Transcription_Text__3pvrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignIn\":\"SignIn_SignIn__2rDwX\",\"Heading\":\"SignIn_Heading__3_D8_\",\"Subheading\":\"SignIn_Subheading__25WFn\",\"SignUpLink\":\"SignIn_SignUpLink__19pi6\",\"FormContent\":\"SignIn_FormContent__2RCot\",\"Form\":\"SignIn_Form__Qj1Re\",\"GoogleLogo\":\"SignIn_GoogleLogo__2dqJk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignUp\":\"SignUp_SignUp__FrU6o\",\"Heading\":\"SignUp_Heading__3VK7d\",\"Subheading\":\"SignUp_Subheading__3Fzc1\",\"SignInLink\":\"SignUp_SignInLink__2n2-H\",\"FormContent\":\"SignUp_FormContent__2PhXm\",\"Form\":\"SignUp_Form__2HSyr\",\"GoogleLogo\":\"SignUp_GoogleLogo__veA94\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UploadProgress\":\"UploadProgress_UploadProgress__u7hxD\",\"Percentage\":\"UploadProgress_Percentage__IJKYZ\",\"Heading\":\"UploadProgress_Heading__1BSO0\",\"ProgressBar\":\"UploadProgress_ProgressBar__hfMfg\",\"ProgressBarInner\":\"UploadProgress_ProgressBarInner__1AOYq\",\"Subheading\":\"UploadProgress_Subheading__FMja8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1vpyv\",\"DownloadButton\":\"Navigation_DownloadButton__2FuTK\",\"DownloadDropdown\":\"Navigation_DownloadDropdown__2IsbQ\",\"DownloadLink\":\"Navigation_DownloadLink__3PFN5\",\"UploadVideo\":\"Navigation_UploadVideo__3uZ5a\",\"DownloadVideoContainer\":\"Navigation_DownloadVideoContainer__3mjYd\",\"DownloadVideo\":\"Navigation_DownloadVideo__1Kc0Z\",\"Close\":\"Navigation_Close__12UHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectContainer\":\"Select_SelectContainer__1RMVl\",\"Select\":\"Select_Select__1aFjD\",\"Selected\":\"Select_Selected__w1Ai2\",\"Valid\":\"Select_Valid__2h_nP\",\"Invalid\":\"Select_Invalid__2e9oA\",\"ErrorMessage\":\"Select_ErrorMessage__1bWOP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"User_User__1OH6i\",\"UserName\":\"User_UserName__34wjX\",\"Initials\":\"User_Initials__2M7AZ\",\"Letter\":\"User_Letter__12cie\",\"Name\":\"User_Name__xOAh7\",\"Dots\":\"User_Dots__1mxvn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"TextDropdowns_FontsDropdown__lZ_Yz\",\"FontSizeDropdown\":\"TextDropdowns_FontSizeDropdown__zNPWy\",\"SketchPickerContainer\":\"TextDropdowns_SketchPickerContainer__1ap0H\",\"TextAlignDropdown\":\"TextDropdowns_TextAlignDropdown___lslt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ResizeDropdown_Dropdown__1YZKt\",\"SizeOptions\":\"ResizeDropdown_SizeOptions__2PmX4\",\"SizeOption\":\"ResizeDropdown_SizeOption__3MBs1\",\"Current\":\"ResizeDropdown_Current__2rsB4\",\"CustomSizeOption\":\"ResizeDropdown_CustomSizeOption__24EiF\",\"CustomSizeText\":\"ResizeDropdown_CustomSizeText__1TGCQ\",\"InputsContainer\":\"ResizeDropdown_InputsContainer__cUM6V\",\"InputWidth\":\"ResizeDropdown_InputWidth__18mBb\",\"InputHeight\":\"ResizeDropdown_InputHeight__1A-ho\",\"PxText\":\"ResizeDropdown_PxText__cacdv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckMail\":\"CheckMail_CheckMail__2juXE\",\"Heading\":\"CheckMail_Heading__2JEwf\",\"Subheading\":\"CheckMail_Subheading__3AHm5\",\"EditorLink\":\"CheckMail_EditorLink__IbMoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Player\":\"Player_Player__29WZA\",\"PlayerContent\":\"Player_PlayerContent__GS7Av\",\"PlayerControls\":\"Player_PlayerControls__1cImT\",\"PlayButton\":\"Player_PlayButton__1jzX7\",\"Sub\":\"Player_Sub__VHkeE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Or\":\"Or_Or__3D8lV\",\"Line\":\"Or_Line__3NIcd\",\"Text\":\"Or_Text__3K4vP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputContainer\":\"Input_InputContainer__FRPf0\",\"Input\":\"Input_Input__2JU04\",\"Inpit\":\"Input_Inpit__B7DHg\",\"Invalid\":\"Input_Invalid__2bXHj\",\"ErrorMessage\":\"Input_ErrorMessage__NGuQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"Dropdown_Dropdown__3ndzl\",\"Option\":\"Dropdown_Option__2rSF0\",\"Current\":\"Dropdown_Current__1ur6I\",\"CheckMark\":\"Dropdown_CheckMark__-dXeR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Project\":\"Project_Project__2FloU\",\"Info\":\"Project_Info__cXMOT\",\"Name\":\"Project_Name__1iMCC\",\"Date\":\"Project_Date__1IAn8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextToolbar\":\"TextToolbar_TextToolbar__30rxF\",\"BorderDiv\":\"TextToolbar_BorderDiv__XlYMr\",\"DownArrow\":\"TextToolbar_DownArrow__3bu3E\",\"TextAlign\":\"TextToolbar_TextAlign__2KX5Y\",\"Bold\":\"TextToolbar_Bold__38wPs\",\"Italic\":\"TextToolbar_Italic__I_P46\",\"FontsContainer\":\"TextToolbar_FontsContainer__2NtOu\",\"FontSizeContainer\":\"TextToolbar_FontSizeContainer__1QFbt\",\"ColorPickerContainer\":\"TextToolbar_ColorPickerContainer__1EnTr\",\"FontWeightBoldContainer\":\"TextToolbar_FontWeightBoldContainer__2-Bfx\",\"FontStyleItalicContainer\":\"TextToolbar_FontStyleItalicContainer__6Diha\",\"TextAlignContainer\":\"TextToolbar_TextAlignContainer__HLDJn\",\"BgColorContainer\":\"TextToolbar_BgColorContainer__3QNkE\",\"FontSizeInputContainer\":\"TextToolbar_FontSizeInputContainer__p2Uno\",\"FontSizeInput\":\"TextToolbar_FontSizeInput__3nD-x\",\"FontSizeArrowContainer\":\"TextToolbar_FontSizeArrowContainer__1N8MA\",\"ColorPickerBorder\":\"TextToolbar_ColorPickerBorder__EGOSu\",\"ColorPicker\":\"TextToolbar_ColorPicker__2Mme4\",\"Active\":\"TextToolbar_Active__2gO17\",\"BgColor\":\"TextToolbar_BgColor__19qDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FillDropdownContainer\":\"ShapeDropdowns_FillDropdownContainer__XKdBu\",\"StrokeDropdownContainer\":\"ShapeDropdowns_StrokeDropdownContainer__2g9Q8\",\"StrokeWidthDropdownContainer\":\"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3oWEF\",\"NewButton\":\"Navbar_NewButton__38UcV\",\"Plus\":\"Navbar_Plus__3mZZD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlsContainer\":\"DesignControls_ControlsContainer__2Nypq\",\"DesignControl\":\"DesignControls_DesignControl__1FKA0\",\"AddTextContainer\":\"DesignControls_AddTextContainer__2kzlD\",\"AddImageContainer\":\"DesignControls_AddImageContainer__1-kZJ\",\"AddShapeContainer\":\"DesignControls_AddShapeContainer__2l0qj\",\"HoverContent\":\"DesignControls_HoverContent__RaV8d\",\"HoverTriangle\":\"DesignControls_HoverTriangle__uOTqR\",\"HoverText\":\"DesignControls_HoverText__3mdpQ\",\"ShapeDropdown\":\"DesignControls_ShapeDropdown__3m4QA\",\"ImageDropdown\":\"DesignControls_ImageDropdown__1kbq4\",\"SubtitlesDropdown\":\"DesignControls_SubtitlesDropdown__1E3X-\"};"],"sourceRoot":""}