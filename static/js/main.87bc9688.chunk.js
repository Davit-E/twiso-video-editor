(this["webpackJsonptwiso-video-editor"]=this["webpackJsonptwiso-video-editor"]||[]).push([[0],{106:function(e,t,a){e.exports={DownloadCanvas:"VideoEditor_DownloadCanvas__3rCEz",Main:"VideoEditor_Main__RsHdg"}},107:function(e,t,a){e.exports={CanvasComponent:"PlayerCanvas_CanvasComponent__2ZNRl",Canvas:"PlayerCanvas_Canvas__3KakF"}},11:function(e,t,a){e.exports={LineDropdown:"StrokeWidthDropdown_LineDropdown__102cb",ShapeDropdown:"StrokeWidthDropdown_ShapeDropdown__y2mdf",StrokeOption:"StrokeWidthDropdown_StrokeOption__3PBYq"}},110:function(e,t,a){e.exports={VideoContainer:"CustomPlayer_VideoContainer__3sLMV",Video:"CustomPlayer_Video__3yEBQ"}},111:function(e,t,a){e.exports={Time:"Time_Time__2bwh7",Timeline:"Time_Timeline__2XAL4"}},112:function(e,t,a){e.exports={UploaderMock:"UploaderMock_UploaderMock__1aHjN",UploadVideo:"UploaderMock_UploadVideo__3dcZx"}},113:function(e,t,a){e.exports={Homepage:"Homepage_Homepage__3OyFd",Main:"Homepage_Main__1n7s2"}},13:function(e,t,a){e.exports={Templates:"Templates_Templates__18kjm",NavLinks:"Templates_NavLinks__39YJI",Link:"Templates_Link__BofFD",Active:"Templates_Active__21pqj",Heading:"Templates_Heading__uEwga"}},149:function(e,t,a){e.exports={Editor:"Editor_Editor__3ckPM"}},15:function(e,t,a){e.exports={TextAlignDropdown:"TextAlignDropdown_TextAlignDropdown__PkoUd",TextAlignOption:"TextAlignDropdown_TextAlignOption__2NPzu",Current:"TextAlignDropdown_Current__2vk5u",TextAlignImage:"TextAlignDropdown_TextAlignImage__wtSLz",TextAlignText:"TextAlignDropdown_TextAlignText__nuEMl"}},150:function(e,t,a){e.exports={Uploader:"Uploader_Uploader__lgMfw"}},154:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1YXGU"}},159:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__ko406"}},16:function(e,t,a){e.exports={ShapeToolbar:"ShapeToolbar_ShapeToolbar__3ltKA",BorderDiv:"ShapeToolbar_BorderDiv__1MpYU",DownArrow:"ShapeToolbar_DownArrow__MgRL3",FillContainer:"ShapeToolbar_FillContainer__dFbZJ",StrokeContainer:"ShapeToolbar_StrokeContainer__21-kB",StrokeWidthContainer:"ShapeToolbar_StrokeWidthContainer__1IzFk",RadiusContainer:"ShapeToolbar_RadiusContainer__3GI8W",ColorPickerBorder:"ShapeToolbar_ColorPickerBorder__qXCuh",ColorPicker:"ShapeToolbar_ColorPicker__2vzHo",StrokeWidthInputContainer:"ShapeToolbar_StrokeWidthInputContainer__1ISoG",StrokeWidthInput:"ShapeToolbar_StrokeWidthInput__239HS",StrokeWidthArrowContainer:"ShapeToolbar_StrokeWidthArrowContainer__2MBk5",RadiusInput:"ShapeToolbar_RadiusInput__19zGn"}},161:function(e,t,a){e.exports={Video:"Video_Video__3P9at"}},162:function(e,t,a){e.exports={Slider:"TimelineSlider_Slider__3FZvE"}},163:function(e,t,a){e.exports={Slider:"VolumeSlider_Slider__3Dz_-"}},164:function(e,t,a){e.exports={Canvas:"SpeakersCanvas_Canvas__1_qgr"}},165:function(e,t,a){e.exports={Button:"Button_Button__364Yd"}},166:function(e,t,a){e.exports={Token:"Token_Token__dZAfL"}},172:function(e,t,a){},173:function(e,t,a){},19:function(e,t,a){e.exports={Webinar:"Webinar_Webinar__3CCu4",Heading:"Webinar_Heading__2-VYO",Subheading:"Webinar_Subheading__wvhlo",TemplatesList:"Webinar_TemplatesList__3YOqH",Template:"Webinar_Template__2t8zc",TemplateInner:"Webinar_TemplateInner__3GfSd"}},20:function(e,t,a){e.exports={SelectSpeakers:"SelectSpeakers_SelectSpeakers__1sJES",Heading:"SelectSpeakers_Heading__8zH9K",Video:"SelectSpeakers_Video__3v4_Z",SelectedText:"SelectSpeakers_SelectedText__29VjD",SelectedNumber:"SelectSpeakers_SelectedNumber__u1ZaC",SpeakerButtons:"SelectSpeakers_SpeakerButtons__2E6zY",AddSpeakerButton:"SelectSpeakers_AddSpeakerButton__2jPJf",RemoveSpeakerButton:"SelectSpeakers_RemoveSpeakerButton__3EhX6",AddSpeakers:"SelectSpeakers_AddSpeakers__yU4j4",RemoveSpeakers:"SelectSpeakers_RemoveSpeakers__1IG3b",AddSpeakersText:"SelectSpeakers_AddSpeakersText__bYScV",RemoveSpeakersText:"SelectSpeakers_RemoveSpeakersText__2jvXO",NextSteps:"SelectSpeakers_NextSteps__nYc_K",Confirm:"SelectSpeakers_Confirm__29WEc",Skip:"SelectSpeakers_Skip__10Iwh"}},202:function(e,t){},203:function(e,t){},204:function(e,t){},21:function(e,t,a){e.exports={CanvasToolbar:"CanvasToolbar_CanvasToolbar__2hdMU",BorderDiv:"CanvasToolbar_BorderDiv__1KyoH",DownArrow:"CanvasToolbar_DownArrow__2Ii5A",TemplatesContainer:"CanvasToolbar_TemplatesContainer__23oBW",ResizeContainer:"CanvasToolbar_ResizeContainer__198p0",ColorContainer:"CanvasToolbar_ColorContainer__3uL9Q",OptionText:"CanvasToolbar_OptionText__cr_ng",ResizeDropdown:"CanvasToolbar_ResizeDropdown__2Fhs4",ColorPickerBorder:"CanvasToolbar_ColorPickerBorder__1sugA",ColorPicker:"CanvasToolbar_ColorPicker__3ROju",ColorDropdownContainer:"CanvasToolbar_ColorDropdownContainer__L8SXX"}},22:function(e,t,a){e.exports={Preview:"Preview_Preview__17wzV",Main:"Preview_Main__1ts9X",MainContent:"Preview_MainContent__3yphW",CustomPlayer:"Preview_CustomPlayer__2cIUh",VideoFooter:"Preview_VideoFooter__14BqQ",Title:"Preview_Title__1FDCi",DownloadAndLink:"Preview_DownloadAndLink__2b3Hg",Download:"Preview_Download__1l2FY",CopyLink:"Preview_CopyLink__g0mcY",HeadlineAndExport:"Preview_HeadlineAndExport__3vxHH",Headline:"Preview_Headline__2yd8P",ExportButton:"Preview_ExportButton__3t5_Z",Text:"Preview_Text__3m3nn"}},26:function(e,t,a){e.exports={DragDrop:"DragDrop_DragDrop__69U1q",UploadText:"DragDrop_UploadText__3BF2H",DropArea:"DragDrop_DropArea__3Ck_W",DropAreaContent:"DragDrop_DropAreaContent__2FbMw",DropAreaText:"DragDrop_DropAreaText__3Nk_9",DropAreaHeading:"DragDrop_DropAreaHeading__3SZMc",DropAreaSubheading:"DragDrop_DropAreaSubheading__37y0F",DropAreaBrowse:"DragDrop_DropAreaBrowse__1ku5G",Active:"DragDrop_Active__2Le0T"}},27:function(e,t,a){e.exports={Dropdown:"ImageDropdown_Dropdown__2eYxV",UplaodButtonContainer:"ImageDropdown_UplaodButtonContainer__1lY8g",UploadButton:"ImageDropdown_UploadButton__1lQXO",FileInput:"ImageDropdown_FileInput__2Rzkx",Images:"ImageDropdown_Images__LZdgK",Column:"ImageDropdown_Column__27Nmx",ImageContainer:"ImageDropdown_ImageContainer__1YX4Q",Image:"ImageDropdown_Image__2oCLN"}},29:function(e,t,a){e.exports={WordContainer:"Words_WordContainer__2MxYw",Word:"Words_Word__3b2m1",Pause:"Words_Pause__33kzp",Deleted:"Words_Deleted__3CMYk",DeletedText:"Words_DeletedText__1n8km",WordInput:"Words_WordInput__3lLIb",CurrentWord:"Words_CurrentWord__3w6qS",Highlight:"Words_Highlight__cba72",DeletedImgContainer:"Words_DeletedImgContainer__2Mj9-",DeletedImg:"Words_DeletedImg__2JxpA",InSelection:"Words_InSelection__33LHP"}},30:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__1Hp4L",Links:"SideDrawer_Links__3agJG",Link:"SideDrawer_Link__26bLH",LinkText:"SideDrawer_LinkText__37vsx",Active:"SideDrawer_Active__3v6LT"}},31:function(e,t,a){e.exports={Projects:"Projects_Projects__Ml6Tj",Heading:"Projects_Heading__1sNm8",Subheading:"Projects_Subheading__jSsjo",ProjectsList:"Projects_ProjectsList__3ZhTK",AddProject:"Projects_AddProject__3o80h",ProjectContainer:"Projects_ProjectContainer__dr8O4",AddProjectInner:"Projects_AddProjectInner__1q9TS",AddProjectText:"Projects_AddProjectText__2pD9X"}},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c=a(0),s=a.n(c),l=a(148),d=a.n(l),u=(a(172),a(3)),b=(a(173),a(149)),j=a.n(b),h=a(17),p=(a(150),a(26),a.p,a(1)),f=(a(52),a(18)),O=a.n(f),g=a(33),m=a(151),v=a.n(m),x=v.a.create({baseURL:"".concat("https://holovan.eu.ngrok.io","/api/v1")}),S=x,_=a(34),C=a.n(_),k=a.p+"static/media/backArrow.0fa2b863.svg",w=a(12),y=function(e){var t=e.children,a=e.setPreviewUrl,n=Object(w.g)();return Object(p.jsxs)("header",{className:C.a.Navbar,children:[Object(p.jsxs)("div",{className:C.a.BackFileInfoContainer,children:[Object(p.jsx)("div",{className:C.a.BackButton,onClick:function(){a?a(null):n.goBack()},children:Object(p.jsx)("img",{className:C.a.BackArrow,src:k,alt:"back"})}),Object(p.jsxs)("div",{className:C.a.FileInfoContainer,children:[Object(p.jsx)("p",{className:C.a.FileName,children:"Untitled"}),Object(p.jsx)("p",{className:C.a.Creater,children:"Dmitry"})]})]}),t,Object(p.jsx)("div",{className:C.a.UserInfoContainer,children:Object(p.jsx)("div",{className:C.a.User,children:Object(p.jsx)("p",{className:C.a.UserInitials,children:"DE"})})})]})},N=a(106),T=a.n(N),D=a(47),I=a.n(D),A=a.p+"static/media/cut.50fbea68.svg",P=a.p+"static/media/search.01416d75.svg",R=function(e,t,a,n){for(var r=[],i=!1,o=0,c=0,s=0,l=0,d=0;d<e.length;d++){var u=e[d];u.active&&i?(i=!1,e[c].next=d,r.push({start:o,end:l})):u.active||i?!u.active&&i&&(l=u.end,s=d):(i=!0,o=u.start,c=d,l=u.end)}i&&r.push({start:o,end:l}),i&&c!==e.length-1?e[c].next=s:i&&(e[c].next=e.length-1),null!==n&&a(n),t([].concat(r))},F=function(e,t,a,n,r,i){"delete"===e?R(t,a,n,r):"restore"===e&&function(e,t,a,n){e((function(e){for(var r=[],i=0;i<e.length;i++){var o=e[i];o.start!==n&&r.push(o)}return t(a),[].concat(r)}))}(a,n,r,i)},M=function(e,t,a,n,r){for(var i=null,o=e;o>=0;o--){if(t[o].active){i=o;break}}if(null===i)for(var c=e;c<t.length;c++){if(t[c].active){i=c;break}}a(i),F("delete",t,n,r,i)},B=a(2),L=a(29),E=a.n(L),z=a.p+"static/media/restoreText.63dbbf27.svg",U=function(e){var t=e.wordsArr,a=e.currentWordIndex,n=e.searchInput,r=e.wordClickHandler,i=e.inputIndex,o=e.setInputIndex,s=e.currentSelection,l=e.fabricSub,d=e.currentSub,b=e.setShouldRerenderSub,j=Object(c.useState)(""),h=Object(u.a)(j,2),f=h[0],O=h[1],g=Object(c.useRef)(null),m=function(e,t,a){!a&&t&&e?function(e,t){for(var a=d.val.words,n=0;n<a.length;n++){var r=a[n];if(r._id===e){var i=0===r.text.indexOf(" ");r.text=i?" "+t:t,r.silence&&(r.silence=!1);break}}}(e,t):t&&a?function(e,t){var a=d.val.words;if(a)for(var n=0;n<a.length;n++){var r=a[n];if(r._id===e){var i=0===n;t=i?t+" ":t;var o=0!==r.text.indexOf(" ");r.text=o&&!i?" "+t:t,r.silence&&(r.silence=!1);break}}else d.val.silence=!1,d.val.words=[Object(B.a)(Object(B.a)({},d.val),{},{text:t})]}(e,t):e&&function(e){for(var t=d.val.words,a=0,n=0;n<t.length;n++){var r=t[n];r._id===e&&(r.text="",r.silence=!0),r.silence&&a++}a===t.length&&(d.val.silence=!0,d.val.words=null)}(e),b(!0)},v=function(e){var a=e.target.parentNode.id,n=f.trim().length>0?f:null;t[i]&&(n&&!t[i].silence?(t[i].text=n,l&&m(a,n,!1)):n?(t[i].text=n,t[i].silence=!1,l&&m(a,n,!0)):(l&&!t[i].silence&&m(a,n,!1),t[i].silence=!0)),O(""),o(null)},x=!1,S=!0,_=!1,C=!1;return Object(c.useEffect)((function(){null!==i&&(g.current.focus(),t[i]&&!t[i].silence&&O(t[i].text))}),[i,t]),t.map((function(e,t){S=!(x&&!e.active);var o=t===a&&!s&&e.active,c=!e.silence&&e.active&&n.trim().length>1&&e.text.trim().toLowerCase().includes(n.trim().toLowerCase());x||e.active||(x=!0),x&&e.active&&(x=!1),s&&s.start===t?_=!0:s&&s.end===t?C=!0:C&&(_=!1,C=!1);var l=null!==i&&o,d=l?Object(p.jsx)("input",{ref:g,className:E.a.WordInput,type:"text",value:f,onBlur:v,onChange:function(e){return O(e.target.value)}}):Object(p.jsx)("span",{className:e.silence?E.a.Pause:E.a.Word,children:e.silence?"\u2022\u2022\u2022\u2022 ":e.text+" "}),u=e.active?d:Object(p.jsxs)("span",{className:E.a.Deleted,children:[Object(p.jsx)("span",{className:E.a.DeletedImgContainer,children:Object(p.jsx)("img",{className:E.a.DeletedImg,src:z,alt:"restore text"})}),Object(p.jsx)("span",{className:E.a.DeletedText,children:"[...] "})]}),b={width:"auto"};return l&&(b.width=e.silence?"70px":1.5*e.text.length+"ch",b.marginRight="0.4rem"),S?Object(p.jsx)("span",{style:b,id:e._id,className:[E.a.WordContainer,o?E.a.CurrentWord:null,c?E.a.Highlight:null,_?E.a.InSelection:null].join(" "),onClick:function(t){return r(t,!e.active)},children:u},e._id):null}))},H=function(e,t,a){var n=t[e];if(a&&n){for(var r=a.head,i=0;i<a.length;i++){var o=r.val;if(o.words&&+o.end>=+n.start)for(var c=0;c<o.words.length;c++){var s=o.words[c];if(s&&s._id===n._id)return r}else if(o.silence&&n._id===o._id)return r;r=r.next}return null}return null},W=function(e,t){for(var a=0;a<t.length;a++){if(t[a]._id===e)return a}return null},V=function(e){var t=e.words,a=e.currentWordIndex,n=e.setCurrentWordIndex,r=e.isPlaying,i=e.videoRef,o=e.setCuts,s=e.currentSelection,l=e.setCurrentSelection,d=e.setPlayerTime,b=e.currentSub,j=e.fabricSub,h=e.setShouldRerenderSub,f=Object(c.useState)(""),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)(null),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)(!0),k=Object(u.a)(C,2),w=k[0],y=k[1];Object(c.useEffect)((function(){w&&(y(null),R(t,o,null,null))}),[w,t,o,d,a,n]);var N=Object(c.useCallback)((function(e,a,r,i,o,c){var s="",u="";if(a.parentNode.id===r.parentNode.id){var b=W(a.parentNode.id,t);a.parentNode.id&&null!==b&&(d(b),n(b)),e.removeAllRanges(),l(null)}else i&&o?4===c?(s=a.parentNode.id,u=r.parentNode.id):2===c&&(s=r.parentNode.id,u=a.parentNode.id):i?4===c?(s=a.parentNode.id,u=a.parentNode.parentNode.lastChild.id):2===c&&(s=a.parentNode.parentNode.firstChild.id,u=a.parentNode.id):o&&(4===c?(s=a.parentNode.parentNode.firstChild.parentNode.id,u=r.id):2===c&&(s=r.id,u=a.parentNode.parentNode.lastChild.parentNode.id));if(""!==s&&""!==u){var j=W(s,t),h=W(u,t);null!==j&&null!==h&&(l({start:j,end:h}),d(j),n(j))}}),[n,l,d,t]),T=Object(c.useCallback)((function(e){var t=document.getSelection();if(e.detail<2&&t.anchorNode&&t.focusNode){var a=t.anchorNode.parentNode,n=t.focusNode.parentNode,o="SPAN"===a.tagName,c="SPAN"===n.tagName,s=t.anchorNode.compareDocumentPosition(t.focusNode);!o&&!c||t.isCollapsed||(r&&i.current.pause(),N(t,a,n,o,c,s))}}),[N,r,i]);Object(c.useEffect)((function(){return document.addEventListener("mouseup",T),function(){return document.removeEventListener("mouseup",T)}}),[T]);return Object(p.jsxs)("div",{className:I.a.Transcription,children:[Object(p.jsxs)("div",{className:I.a.TextControls,children:[Object(p.jsxs)("div",{className:I.a.CutContainer,onClick:function(){r&&i.current.pause(),s||null===a?s&&function(e,t,a,n,r,i){for(var o=a.start,c=a.end,s=o;s<e.length&&(e[s].active=!1,s!==c);s++);M(o,e,t,r,i),n(null)}(t,n,s,l,o,d):function(e,t,a,n,r){e[t].active=!1,M(t,e,a,n,r)}(t,a,n,o,d),document.getSelection().removeAllRanges()},children:[Object(p.jsx)("img",{src:A,alt:"cut"}),Object(p.jsx)("p",{children:"Cut"})]}),Object(p.jsxs)("div",{className:I.a.SearchContainer,children:[Object(p.jsx)("input",{value:g,onChange:function(e){return m(e.target.value)},className:I.a.SearchInput,placeholder:"Search",type:"text"}),Object(p.jsx)("img",{className:I.a.SearchSvg,src:P,alt:"search"})]})]}),Object(p.jsx)("div",{id:"textbox",className:I.a.Text,children:t?Object(p.jsx)(U,{wordsArr:t,currentWordIndex:a,searchInput:g,wordClickHandler:function(e,a){var c=e.currentTarget.id,s=W(c,t);r&&i.current.pause(),e.detail>1&&null===S&&_(s),a||null!==S||null===s?null===S&&function(e,t,a,n,r,i){for(var o=t;o<e.length;o++){var c=e[o];if(c.active)break;c.active=!0,null!==c.next&&(c.next=null)}var s=e[t].start;F("restore",null,r,i,t,s),n(null),a(t)}(t,s,n,l,o,d):(l(null),d(s),n(s))},inputIndex:S,setInputIndex:_,currentSelection:s,fabricSub:j,currentSub:b,setShouldRerenderSub:h}):null})]})},q=a(62),G=a.n(q),Y=a(107),K=a.n(Y),X=Object(c.createContext)(null),Z=a(6),J={tl:!0,tr:!0,bl:!0,br:!0,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0},Q=function(e,t,a,n,r){a({type:"setShapeToAdd",data:null});var i=null;"square"===e.shapeToAdd?i=new Z.fabric.Rect({left:100,top:100,width:152,height:152,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"circle"===e.shapeToAdd?i=new Z.fabric.Circle({left:100,top:100,radius:76,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"triangle"===e.shapeToAdd?i=new Z.fabric.Triangle({left:100,top:100,width:152,height:150,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"line"===e.shapeToAdd&&(i=new Z.fabric.Line([0,0,300,0],{left:100,top:100,stroke:"rgba(196,196,196,1)",strokeWidth:2,borderColor:"transparent",noScaleCache:!1,rx:0,ry:0})),i&&(i.id=n,t.add(i).setActiveObject(i),t.requestRenderAll(),r())},$=function(e,t,a,n,r){Object(c.useEffect)((function(){e.shapeToAdd?Q(e,a,t,n,r):e.imageToAdd?function(e,t,a,n,r){var i=e.imageToAdd.src;if(e.shouldReplaceImage){var o=t.getActiveObject();Z.fabric.Image.fromURL(i,(function(n){n.top=o.top,n.left=o.left,n.scaleToWidth(o.width*o.scaleX),n.angle=o.angle,n.setControlsVisibility(J),n.id=o.id,n.cornerRadius=o.cornerRadius,n.isSvg="svg"===e.imageToAdd.type,t.remove(o),t.add(n).setActiveObject(n),t.requestRenderAll(),a({type:"setShouldUpdateImage",data:!0}),a({type:"setShouldReplaceImage",data:!1})}))}else Z.fabric.Image.fromURL(i,(function(a){a.scaleToWidth(256),a.left=100,a.top=100,a.setControlsVisibility(J),a.id=n,a.cornerRadius=0,a.isSvg="svg"===e.imageToAdd.type,t.add(a).setActiveObject(a),t.requestRenderAll(),r()}));a({type:"setImageToAdd",data:null})}(e,a,t,n,r):e.shouldAddText&&function(e,t,a,n,r){a({type:"setShouldAddText",data:!1});var i=new Z.fabric.Textbox("Add\u2004text\u200e",Object(B.a)({left:100,top:100,height:100,padding:10,width:130,splitByGrapheme:!0,cursorWidth:.5},t.textState));i.id=n,e.add(i).setActiveObject(i),e.requestRenderAll(),r()}(a,e,t,n,r)}),[a,t,e,n,r])},ee=Object(c.createContext)(null),te=["fontFamily","fontStyle","fontWeight","fontSize","fill","opacity","textAlign"],ae=["fill","stroke","strokeWidth","rx","ry"],ne=["cornerRadius","isSvg"],re=function(e,t){var a={type:"",object:null};t({type:"setCurrentCoords",data:e.target.lineCoords}),"textbox"===e.target.type?a.type=function(e,t){var a={};return te.forEach((function(t){a[t]=e.target[t]})),t({type:"setTextState",data:a}),"text"}(e,t):"image"===e.target.type&&"video"!==e.target.type?a.type=function(e,t){var a={};return ne.forEach((function(t){a[t]=e.target[t]})),t({type:"setImageState",data:a}),"image"}(e,t):"subtitle"===e.target.id?a.type="subtitle":"video"!==e.target.type?a.type=function(e,t){var a={};return ae.forEach((function(t){a[t]=e.target[t]})),t({type:"setShapeState",data:a}),e.target.type}(e,t):a.type="video",a.object=e.target,t({type:"setCurrentObject",data:a})},ie=function(e){e.off("selection:created"),e.off("selection:updated"),e.off("selection:cleared"),e.off("object:modified"),e.off("object:rotating"),e.off("object:rotated"),e.off("object:scaling"),e.off("object:scaled"),e.off("object:skewing"),e.off("object:skewed"),e.off("object:moved"),e.off("text:editing:entered"),e.off("text:editing:exited")},oe=function(e,t,a,n){var r=Object(c.useContext)(ee),i=r.eventState,o=r.eventDispatch,s=Object(c.useState)(!1),l=Object(u.a)(s,2),d=l[0],b=l[1],j=Object(c.useState)(!1),h=Object(u.a)(j,2),p=h[0],f=h[1],O=Object(c.useState)(!1),g=Object(u.a)(O,2),m=g[0],v=g[1],x=Object(c.useState)(!1),S=Object(u.a)(x,2),_=S[0],C=S[1],k=Object(c.useRef)(!0),w=Object(c.useRef)(null),y=Object(c.useCallback)((function(e){if(!e.target.isOnScreen()){if("subtitle"===e.target.id){var a=t.getWidth()/(2*t.getZoom()),n=t.getHeight()/t.getZoom()-e.target.height-e.target.paddingY;e.target.setPositionByOrigin(new Z.fabric.Point(a,n),"center","center")}else e.target.top=0,e.target.left=0;e.target.setCoords()}}),[t]),N=Object(c.useCallback)((function(e,t,a){e.on("text:editing:entered",(function(t){return function(e,t,a){a(!0),"Add\u2004text\u200e"===e.target.text&&(e.target.text="",e.target.hiddenTextarea.value="",t.requestRenderAll())}(t,e,C)})),e.on("text:editing:exited",(function(t){return function(e,t,a){a(!1),""===e.target.text&&(e.target.text="Add\u2004text\u200e"),t.requestRenderAll()}(t,e,C)})),e.on("selection:created",(function(n){return function(e,t,a,n){"activeSelection"!==e.target.type?(n&&a({type:"setShowCanvasToolbar",data:!1}),re(e,a)):t.discardActiveObject()}(n,e,t,a)})),e.on("selection:updated",(function(e){return function(e,t){t({type:"setShowToolbar",data:!1}),re(e,t)}(e,t)})),e.on("object:modified",(function(e){return function(e,t){re(e,t)}(e,t)})),e.on("selection:cleared",(function(e){return function(e,t,a){a.current=null,t({type:"setCurrentObject",data:{type:"",object:null}}),t({type:"setCurrentCoords",data:null})}(0,t,w)})),e.on("object:rotating",(function(){return b(!0)})),e.on("object:rotated",(function(){return b(!1)})),e.on("object:scaling",(function(){return f(!0)})),e.on("object:scaled",(function(e){y(e),f(!1)})),e.on("object:skewing",(function(){return v(!0)})),e.on("object:skewed",(function(){return v(!1)})),e.on("object:moved",(function(e){y(e),o({type:"setIsMoving",data:!1})}))}),[o,y]);Object(c.useEffect)((function(){return e&&(a.isCropMode?ie(t):N(t,n,a.showCanvasToolbar)),function(){e&&ie(t)}}),[n,e,t,N,a.isCropMode,a.showCanvasToolbar]),Object(c.useEffect)((function(){if(!k.current){var e=!0;(d||p||m||i.isMoving||_||!a.currentCoords||"video"===a.currentObject.type)&&(e=!1),n({type:"setShowToolbar",data:e})}}),[i,d,p,m,_,a.isCropMode,a.currentCoords,a.currentObject,n]),Object(c.useEffect)((function(){k.current?k.current=!1:a.currentCoords?a.currentObject.object&&a.currentObject.object.id!==w.current&&"video"!==a.currentObject.type&&(w.current=a.currentObject.object.id,n({type:"setShowToolbar",data:!0})):n({type:"setShowToolbar",data:!1})}),[a.currentCoords,a.currentObject,n,a.isCropMode])},ce=function(e,t,a,n,r,i,o,c,s){r.save(),r.lineWidth=i,r.strokeStyle=o,r.beginPath(),r.moveTo((e+c[4])*s,(t+c[5])*s),r.lineTo((a+c[4])*s,(n+c[5])*s),r.stroke(),r.restore()},se=function(e,t,a){e=Math.round(e),t=Math.round(t);for(var n=e-a,r=e+a;n<=r;n++)if(n===t)return!0;return!1},le=function(e,t,a,n,r,i){ce(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1,t,a,n,r,i)},de=function(e,t,a,n,r,i){ce(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5,t,a,n,r,i)},ue=function(e,t,a,n,r,i,o,c){r.save(),r.strokeStyle=i,r.lineWidth=o,r.beginPath(),r.moveTo(e*c[0],t*c[3]),r.lineTo(a*c[0],n*c[3]),r.stroke(),r.restore()},be=function(e,t,a,n,r){var i=Object(c.useState)(null),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)(null),b=Object(u.a)(d,2),j=b[0],p=b[1],f=Object(c.useState)([]),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)([]),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)(1),k=Object(u.a)(C,2),w=k[0],y=k[1],N=Object(c.useState)(null),T=Object(u.a)(N,2),D=T[0],I=T[1],A=Object(c.useState)(null),P=Object(u.a)(A,2),R=P[0],F=P[1],M=Object(c.useState)({}),B=Object(u.a)(M,2),L=B[0],E=B[1],z=Object(c.useState)({}),U=Object(u.a)(z,2),H=U[0],W=U[1],V=Object(c.useState)(null),q=Object(u.a)(V,2),G=q[0],Y=q[1],K=Object(c.useState)(null),X=Object(u.a)(K,2),J=X[0],Q=X[1],$="rgb(111, 123, 208)",ee="rgb(111, 123, 208)",te=Object(c.useCallback)((function(){p(a.viewportTransform),y(a.getZoom())}),[a]),ae=Object(c.useCallback)((function(){a.clearContext(a.contextTop)}),[a]),ne=Object(c.useCallback)((function(e){!function(e,t,a,n,r,i,o){var c=e.target,s=t.getObjects(),l=c.getCenterPoint(),d=l.x,u=l.y,b=c.getBoundingRect(),j=b.height/a[3],p=b.width/a[0],f=!1,O=!1;if(t._currentTransform){for(var g=function(e){if(s[e]===c)return"continue";var t=s[e].getCenterPoint(),l=t.x,b=t.y,g=s[e].getBoundingRect(),m=g.height/a[3],v=g.width/a[0];se(l,d,o)&&(O=!0,r((function(e){return[].concat(Object(h.a)(e),[{x:l,y1:b<u?b-m/2-n:b+m/2+n,y2:u>b?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(l,u),"center","center")),se(l-v/2,d-p/2,o)&&(O=!0,r((function(e){return[].concat(Object(h.a)(e),[{x:l-v/2,y1:b<u?b-m/2-n:b+m/2+n,y2:u>b?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(l-v/2+p/2,u),"center","center")),se(l+v/2,d+p/2,o)&&(O=!0,r((function(e){return[].concat(Object(h.a)(e),[{x:l+v/2,y1:b<u?b-m/2-n:b+m/2+n,y2:u>b?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(l+v/2-p/2,u),"center","center")),se(b,u,o)&&(f=!0,i((function(e){return[].concat(Object(h.a)(e),[{y:b,x1:l<d?l-v/2-n:l+v/2+n,x2:d>l?d+p/2+n:d-p/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(d,b),"center","center")),se(b-m/2,u-j/2,o)&&(f=!0,i((function(e){return[].concat(Object(h.a)(e),[{y:b-m/2,x1:l<d?l-v/2-n:l+v/2+n,x2:d>l?d+p/2+n:d-p/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(d,b-m/2+j/2),"center","center")),se(b+m/2,u+j/2,o)&&(f=!0,i((function(e){return[].concat(Object(h.a)(e),[{y:b+m/2,x1:l<d?l-v/2-n:l+v/2+n,x2:d>l?d+p/2+n:d-p/2-n}])})),c.setPositionByOrigin(new Z.fabric.Point(d,b+m/2-j/2),"center","center"))},m=s.length;m--;)g(m);f||i([]),O||r([])}}(e,a,j,5,m,_,4),function(e,t,a,n,r,i,o,c){var s=e.target,l=s.getCenterPoint();if(t._currentTransform){var d=Math.round(l.x)in r,u=Math.round(l.y)in i;a(d),n(u),(d||u)&&s.setPositionByOrigin(new Z.fabric.Point(d?o/2:l.x,u?c/2:l.y),"center","center")}}(e,a,Y,Q,L,H,D,R)}),[a,j,R,H,D,L]),re=Object(c.useCallback)((function(){for(var e=g.length;e--;)le(g[e],s,1,$,j,w);for(var t=S.length;t--;)de(S[t],s,1,$,j,w);m([]),_([]),G&&function(e,t,a,n,r,i){ue(e+.5,0,e+.5,t,a,n,r,i)}(D/2,R,s,ee,1,j),J&&function(e,t,a,n,r,i){ue(0,e+.5,t,e+.5,a,n,r,i)}(R/2,D,s,ee,1,j)}),[s,j,S,g,w,R,D,J,G]),ie=Object(c.useCallback)((function(){m([]),_([]),Y(null),Q(null),a.requestRenderAll()}),[a]),oe=Object(c.useCallback)((function(){l(a.getSelectionContext()),I(a.getWidth()/a.getZoom()),F(a.getHeight()/a.getZoom());for(var e={},t={},n=D/2-4,r=D/2+4;n<=r;n++)e[Math.round(n)]=!0;for(var i=R/2-4,o=R/2+4;i<=o;i++)t[Math.round(i)]=!0;E(e),W(t)}),[R,D,a]),ce=Object(c.useCallback)((function(e){e.off("mouse:down"),e.off("object:moving"),e.off("before:render"),e.off("after:render"),e.off("mouse:up")}),[]);Object(c.useEffect)((function(){t&&oe()}),[e.shouldUpdateCanvasSize,t,oe]),Object(c.useEffect)((function(){return t&&s&&!e.isCropMode?(a.on("mouse:down",te),a.on("object:moving",(function(e){r&&!n.isMoving&&r({type:"setIsMoving",data:!0}),ne(e)})),a.on("before:render",ae),a.on("after:render",re),a.on("mouse:up",(function(e){r&&3===e.button&&(r({type:"setRightClickEvent",data:e}),e.e.preventDefault()),ie(e)}))):e.isCropMode&&ce(a),function(){t&&s&&ce(a)}}),[n,r,e.shouldUpdateCanvasSize,e.isCropMode,ce,t,s,a,ie,re,ne,ae,te])},je=a(153),he=a.n(je),pe=["Inter"],fe=function(e,t,a){var n=t.getActiveObject();if(n&&"image"===n.type){var r=e.imageState.cornerRadius;n.set("clipPath",function(e,t){var a=e.width*e.scaleX*t/200,n=e.height*e.scaleY*t/200;return new Z.fabric.Rect({width:e.width,height:e.height,rx:a/e.scaleX,ry:n/e.scaleY,left:-e.width/2,top:-e.height/2,noScaleCache:!1})}(n,r)),n.cornerRadius=r,t.requestRenderAll()}a({type:"setShouldUpdateImage",data:!1})},Oe=function(e,t,a){he.a.load({google:{families:[a]},timeout:5e3,fontactive:function(a,n){t.set({fontFamily:a}),e.requestRenderAll()}})},ge=["rect","circle","triangle","line"],me=function(e,t,a){Object(c.useEffect)((function(){e.shouldUpdateSubtitles&&function(e,t,a){if(e.subtitlesState){var n=e.currentObject.object;n._clearCache();for(var r=0,i=Object.entries(e.subtitlesState);r<i.length;r++){var o=Object(u.a)(i[r],2),c=o[0],s=o[1];"fontFamily"!==c&&n.set(c,s)}pe.includes(e.subtitlesState.fontFamily)?(n.set({fontFamily:e.subtitlesState.fontFamily}),t.requestRenderAll()):(Oe(t,n,e.subtitlesState.fontFamily),pe.push(e.subtitlesState.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateSubtitles",data:!1})}(e,a,t),e.shouldUpdateText&&"text"===e.currentObject.type&&function(e,t,a){if(e.textState){e.currentObject.object._clearCache();for(var n=0,r=Object.entries(e.textState);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0],c=i[1];"fontFamily"!==o&&e.currentObject.object.set(o,c)}pe.includes(e.textState.fontFamily)?(e.currentObject.object.set({fontFamily:e.textState.fontFamily}),t.requestRenderAll()):(Oe(t,e.currentObject.object,e.textState.fontFamily),pe.push(e.textState.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateText",data:!1})}(e,a,t),e.shouldUpdateShape&&ge.includes(e.currentObject.type)&&function(e,t,a){if(e.shapeState){for(var n=0,r=Object.entries(e.shapeState);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0],c=i[1];e.currentObject.object.set(o,c)}e.showToolbar||a({type:"setShowToolbar",data:!0}),t.requestRenderAll()}a({type:"setShouldUpdateShape",data:!1})}(e,a,t),e.shouldUpdateImage&&"image"===e.currentObject.type&&fe(e,a,t)}),[e,t,a])},ve=function(e,t,a){Object(c.useEffect)((function(){e.shouldUpdateCanvas&&function(e,t,a){t.backgroundColor=e.backgroundColor,t.requestRenderAll(),a({type:"setShouldUpdateCanvas",data:!1})}(e,a,t),e.shouldUpdateCanvasSize&&function(e,t,a){t.discardActiveObject();var n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);t.setZoom(n),t.setDimensions({width:e.width,height:e.height}),t.requestRenderAll(),a({type:"setShouldUpdateCanvasSize",data:!1})}(e,a,t)}),[e,t,a])},xe=function(e,t){t.on("moving",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,i=e.height*e.scaleY,o=e.width*e.scaleX,c=t.top,s=t.left,l=t.top+n,d=t.left+r,u=e.top,b=u+i,j=e.left,h=j+o;s<j&&(t.left=j),c<u&&(t.top=u),d>h&&(t.left=h-r),l>b&&(t.top=b-n)})),t.on("scaling",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,i=e.height*e.scaleY,o=e.width*e.scaleX,c=t.top,s=c+n,l=t.left,d=l+r,u=e.top,b=u+i,j=e.left,h=j+o;t.left=Math.min(Math.max(l,j),h-r),t.top=Math.min(Math.max(c,u),b-n),t.scaleX>e.scaleX&&(t.scaleX=e.scaleX,(l<j||d>h)&&(t.left=j)),t.scaleY>e.scaleY&&(t.scaleY=e.scaleY,(c<u||s>b)&&(t.top=u))}))},Se=function(e,t,a,n,r,i){var o=null;if(0===e.length)o={width:i.width,height:i.height,scaleX:i.scaleX/2,scaleY:i.scaleY/2};else{var c=e[e.length-1];o={width:c.width,height:c.height,scaleX:c.scaleX,scaleY:c.scaleY}}var s=function(e,t,a){var n=new Z.fabric.Rect(Object(B.a)(Object(B.a)({},e),{},{fill:"rgba(111, 122, 208, 0.4)",top:0,left:0,borderColor:"#6F7BD0",lockScalingFlip:!0,id:t}));return a(),n}(o,t,r);a.add(s).setActiveObject(s),a.requestRenderAll(),n((function(e){return[].concat(Object(h.a)(e),[s])})),xe(i,s)},_e=function(e,t,a,n,r){a.getObjects().forEach((function(e){return e.selectable=!1}));var i=e.calcTransformMatrix(),o=i[4],c=i[5],s=(360-e.angle)*Math.PI/180,l=o-Math.abs((e.left-o)*Math.cos(s)-(e.top-c)*Math.sin(s)),d=c-Math.abs((e.left-o)*Math.sin(s)+(e.top-c)*Math.cos(s));e.angle=0,e.top=d,e.left=l;var u=function(e,t,a){var n=new Z.fabric.Rect({fill:"rgba(0,0,0,0)",originX:"left",originY:"top",left:t,top:e,borderDashArray:[2,2],borderColor:"#dbff17",width:a.width,height:a.height,scaleX:a.scaleX,scaleY:a.scaleY,selectable:!0,lockScalingFlip:!0,type:"cropbox"});return n.controls.mtr.visible=!1,n}(d,l,e);a.add(u),a.setActiveObject(u),t({type:"setCurrentCoords",data:u.lineCoords}),n(e),r(u)},Ce=function(e,t,a,n,r){var i=Object(c.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)(null),b=Object(u.a)(d,2),j=b[0],h=b[1],p=Object(c.useState)(null),f=Object(u.a)(p,2),O=f[0],g=f[1],m=Object(c.useState)(null),v=Object(u.a)(m,2),x=v[0],S=v[1],_=Object(c.useState)(null),C=Object(u.a)(_,2),k=C[0],w=C[1],y=Object(c.useCallback)((function(e,t,a){h(null),l(!1),g(null),S(null),w(null),t.off("moving"),t.off("scaling"),e.off("mouse:down"),e.requestRenderAll(),a({type:"setShouldCropImage",data:!1}),a({type:"setShowToolbar",data:!0})}),[]);Object(c.useEffect)((function(){e.shouldCropImage&&O&&x&&function(e,t,a){var n=t.scaleX/e.scaleX,r=t.scaleY/e.scaleY,i=(t.top-e.top)/e.scaleY,o=(t.left-e.left)/e.scaleX,c=new Z.fabric.Rect({fill:"rgba(0,0,0,0)",top:i,left:o,width:t.width,height:t.height,scaleX:n,scaleY:r,absolutePositioned:!0}),s=new Z.fabric.Canvas;s.setDimensions({width:e.width,height:e.height}),Z.fabric.Image.fromURL(e._element.currentSrc,(function(n){s.add(n),s.add(c),s.requestRenderAll();var r=s.toDataURL({left:c.left,top:c.top,width:c.width*c.scaleX,height:c.height*c.scaleY});Z.fabric.Image.fromURL(r,(function(n){n.scaleToWidth(t.width*t.scaleX),n.id=e.id,a(n)}))}))}(O,x,w)}),[e.shouldCropImage,O,x]),Object(c.useEffect)((function(){if(k&&e.shouldCropImage){k.controls.mtr.visible=!0,a.getObjects().forEach((function(e){"cropbox"===e.type?a.remove(e):"background"!==e.id&&(e.selectable=!0)}));for(var i=0,o=Object.entries(j);i<o.length;i++){var c=Object(u.a)(o[i],2),s=c[0],l=c[1];k[s]=l}k.id=n,r(),a.remove(O),t({type:"setCurrentObject",data:{type:"image",data:k}}),t({type:"setImageCornerRadius",data:j.cornerRadius}),a.add(k).setActiveObject(k),t({type:"setCurrentCoords",data:k.lineCoords}),t({type:"setIsCropMode",data:!1}),y(a,x,t)}}),[n,r,O,x,j,k,e,t,a,y]),Object(c.useEffect)((function(){if(e.isCropMode){var n=a.getActiveObject();h({id:n.id,cornerRadius:n.cornerRadius,top:n.top,left:n.left,angle:n.angle}),_e(n,t,a,g,S)}}),[e.isCropMode,a,t]),Object(c.useEffect)((function(){x&&O&&(xe(O,x),l(!0))}),[x,O]),Object(c.useEffect)((function(){x&&e.isCropMode&&a.on("mouse:down",(function(e){e.target&&e.target.id===j.id?a.setActiveObject(x):e.target&&"cropbox"===e.target.type||(t({type:"setShouldCropImage",data:!0}),t({type:"setShowToolbar",data:!1}))}))}),[x,e,t,a,j]),Object(c.useEffect)((function(){!s||e.isCropMode||e.shouldCropImage||(a.getObjects().forEach((function(t){"cropbox"===t.type?a.remove(t):t.id===e.currentObject.object.id&&(a.setActiveObject(t),t.left=j.left,t.top=j.top,t.angle=j.angle),t.controls.mtr.visible=!0,t.selectable=!0})),y(a,x,t))}),[j,s,e,y,a,t,x])},ke=function(e,t,a,n){var r=Object(c.useState)(!0),i=Object(u.a)(r,2),o=i[0],s=i[1];Object(c.useEffect)((function(){if(o&&e.initialWidth>0){var r=function(e,t){var a=new Z.fabric.Canvas(t,{width:e.initialWidth,height:e.initialHeight,backgroundColor:"rgba(255,255,255,1)",preserveObjectStacking:!0,fireRightClick:!0,stopContextMenu:!0,selection:!1}),n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);return a.setZoom(n),a.setDimensions({width:e.width,height:e.height}),a}(e,n);t(r),a(!0),s(!1)}}),[t,a,e,o,n])},we=function(e,t,a,n,r,i){var o=Object(c.useState)(!0),s=Object(u.a)(o,2),l=s[0],d=s[1],b=Object(c.useRef)(!0),j=Object(c.useRef)(null);Object(c.useEffect)((function(){return function(){return b.current=!1}}),[]);var h=Object(c.useCallback)((function(){Z.fabric.util.cancelAnimFrame(j.current),j.current=null}),[]),p=Object(c.useCallback)((function(){Z.fabric.util.requestAnimFrame((function e(){t.requestRenderAll(),j.current=Z.fabric.util.requestAnimFrame(e)}))}),[t]),f=Object(c.useCallback)((function(e,t){var a=new Z.fabric.Video(e,{top:0,left:0,excludeFromExport:!0,lockScalingFlip:!0});return t&&(a.left=t.x,a.top=t.y,a.width=t.w,a.height=t.h,a.cropRect=Object(B.a)({},t)),a.controls.mtr.visible=!1,a}),[]);Object(c.useEffect)((function(){n||l&&setTimeout((function(){b.current&&h()}),1e3)}),[n,h,l]),Object(c.useEffect)((function(){return function(){!b.current&&j.current&&Z.fabric.util.cancelAnimFrame(j.current)}}),[]),Object(c.useEffect)((function(){if(l&&e&&t){if(d(!1),e.currentTime=a>0?a:.001,i&&i.length>0)for(var o=0;o<i.length;o++){var c=i[o],s=f(e,c);t.add(s)}else{var u=f(e);t.add(u),n||(u.evented=!1,u.selectable=!1,r(u))}p()}}),[e,t,l,a,p,n,r,f,i])},ye=function(e,t,a,n,r,i,o){var c=t.coords.top+15,s=t.coords.left+15,l=t.object.type;t.object.clone((function(d){d.id=a,d.top=c,d.left=s,"image"===l?(d.isSvg=t.object.isSvg,d.cornerRadius=t.object.cornerRadius):"textbox"===l?(d.padding=10,d.cursorWidth=.5):"line"===l?(d.borderColor="transparent",d.noScaleCache=!1):(d.noScaleCache=!1,d.strokeUniform=!0),e.add(d).setActiveObject(d),o&&e.bringToFront(o),e.requestRenderAll(),r({object:t.object,coords:{top:c,left:s}}),n(),i&&i({type:"setRightClickEvent",data:null})}))},Ne=function(e,t,a,n,r,i){if(t){var o=e.ctrlKey||e.metaKey;"Delete"===e.code||"Delete"===e.key||"Backspace"===e.code||"Backspace"===e.key?function(e){var t=e.getActiveObject();"INPUT"===document.activeElement.tagName||!t||t.isEditing||"video"===t.type||"subtitle"===t.id||(e.remove(t),e.discardActiveObject().requestRenderAll())}(t):"KeyC"===e.code||"c"===e.key?o&&(e.preventDefault(),n(!0)):"KeyV"===e.code||"v"===e.key?o&&(e.preventDefault(),a(!0)):"BracketRight"===e.code||"]"===e.key?o&&(e.preventDefault(),r(!0)):"BracketLeft"!==e.code&&"["!==e.key||o&&(e.preventDefault(),i(!0))}},Te=function(e,t,a,n,r){t(!1),e(!1),a(!1),n(!1),r(!0)},De=function(e,t,a,n,r,i){var o=Object(c.useState)(!1),s=Object(u.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)(!1),j=Object(u.a)(b,2),h=j[0],p=j[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)(!1),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)(!0),k=Object(u.a)(C,2),w=k[0],y=k[1];Object(c.useEffect)((function(){if(w&&l&&t)y(!1),ye(e,t,n,r,a,null,i);else if(w&&h){y(!1);var o=e.getActiveObject();o&&"video"!==o.type&&"subtitle"!==o.id&&a({object:o,coords:{top:o.top,left:o.left}})}else if(w&&g){y(!1);var c=e.getActiveObject();c&&"subtitle"!==c.id&&(e.bringToFront(c),i&&e.bringToFront(i))}else if(w&&S){y(!1);var s=e.getActiveObject();s&&"subtitle"!==s.id&&e.sendToBack(s)}}),[e,l,h,g,S,n,a,t,r,w,i]),Object(c.useEffect)((function(){return document.addEventListener("keydown",(function(t){return Ne(t,e,d,p,m,_)})),document.addEventListener("keyup",(function(e){Te(d,p,m,_,y)})),function(){document.removeEventListener("keydown",Ne),document.removeEventListener("keyup",Te)}}),[e])},Ie=function(e,t){var a=Object(c.useCallback)((function(a){if(e&&!t.isCropMode&&!t.shouldCropImage&&!t.shouldReplaceImage){for(var n=0;n<a.path.length;n++)if("canvasComponent"===a.path[n].id)return;e.discardActiveObject().requestRenderAll()}}),[e,t.isCropMode,t.shouldCropImage,t.shouldReplaceImage]);Object(c.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[e,a])},Ae=a(154),Pe=a.n(Ae),Re=a(8),Fe=a.n(Re),Me=a.p+"static/media/downArrow.fef3575b.svg",Be=a.p+"static/media/bold.a2d1e7f9.svg",Le=a.p+"static/media/subBackground.8078df1d.svg",Ee=a.p+"static/media/italic.3764ee89.svg",ze=a.p+"static/media/textLeft.6dd8e1e0.svg",Ue=a.p+"static/media/textRight.41f15bae.svg",He=a.p+"static/media/textCenter.ac71018d.svg",We=a.p+"static/media/textJustify.7c9f4495.svg",Ve=a(42),qe=a.n(Ve),Ge=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akaya Kanadaka","Akaya Telivigala","Akronim","Aladin","Alata","Alatsi","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Andika New Basic","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Bebas Neue","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Beth Ellen","Bevan","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bodoni Moda","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Brygada 1918","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comic Neue","Coming Soon","Commissioner","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Epilogue","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gayathri","Gelasio","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Goldman","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Graduate","Grand Hotel","Grandstander","Gravitas One","Great Vibes","Grenze","Grenze Gotisch","Griffy","Gruppo","Gudea","Gugi","Gupter","Gurajada","Habibi","Hachi Maru Pop","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inter","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Kiwi Maru","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","MuseoModerno","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piazzolla","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Recursive","Red Hat Display","Red Hat Text","Red Rose","Redressed","Reem Kufi","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shippori Mincho","Shippori Mincho B1","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Solway","Song Myung","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Tomorrow","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tulpen One","Turret Road","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vesper Libre","Viaoda Libre","Vibes","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Xanh Mono","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],Ye=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.isSub,r=Object(c.useState)(""),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Ge.filter((function(e){return e.toLowerCase().includes(o.toLowerCase())})).map((function(e){return Object(p.jsx)("li",{className:qe.a.FontOption,children:e},e)}));return Object(p.jsxs)("div",{className:qe.a.FontsDropdown,children:[Object(p.jsxs)("div",{className:qe.a.SearchContainer,children:[Object(p.jsx)("img",{className:qe.a.SearchSvg,src:P,alt:"search"}),Object(p.jsx)("input",{value:o,onChange:function(e){return s(e.target.value)},className:qe.a.SearchInput,placeholder:"Search",type:"text"})]}),Object(p.jsx)("ul",{className:qe.a.FontOptionsContainer,onClick:function(e){"LI"===e.target.tagName&&(a({type:n?"setSubtitlesFontFamily":"setFontFamily",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:l}),Object(p.jsx)("div",{className:qe.a.UploadFontContainer,children:Object(p.jsx)("button",{className:qe.a.UploadFontButton,children:"Upload font"})})]})},Ke=a(37),Xe=a.n(Ke),Ze=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.isSub;return Object(p.jsxs)("ul",{className:Xe.a.FontSizeDropdown,onClick:function(e){"LI"===e.target.tagName&&(a({type:n?"setSubtitlesFontSize":"setFontSize",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:[Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"14"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"24"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"30"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"36"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"48"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"60"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"72"}),Object(p.jsx)("li",{className:Xe.a.FontSizeOption,children:"96"})]})},Je=a(15),Qe=a.n(Je),$e=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.current;return Object(p.jsxs)("ul",{className:Qe.a.TextAlignDropdown,onClick:function(e){var n=null;"LI"===e.target.tagName?n=e.target.childNodes[0].alt:"P"===e.target.tagName?n=e.target.textContent:"IMG"===e.target.tagName&&(n=e.target.alt),n&&(a({type:"setTextAlign",data:n.toLowerCase()}),t(!1))},children:[Object(p.jsxs)("li",{className:[Qe.a.TextAlignOption,"left"===n?Qe.a.Current:null].join(" "),children:[Object(p.jsx)("img",{className:Qe.a.TextAlignImage,src:ze,alt:"left"}),Object(p.jsx)("p",{className:Qe.a.TextAlignText,children:"Left"})]}),Object(p.jsxs)("li",{className:[Qe.a.TextAlignOption,"center"===n?Qe.a.Current:null].join(" "),children:[Object(p.jsx)("img",{className:Qe.a.TextAlignImage,src:He,alt:"center"}),Object(p.jsx)("p",{className:Qe.a.TextAlignText,children:"Center"})]}),Object(p.jsxs)("li",{className:[Qe.a.TextAlignOption,"right"===n?Qe.a.Current:null].join(" "),children:[Object(p.jsx)("img",{className:Qe.a.TextAlignImage,src:Ue,alt:"right"}),Object(p.jsx)("p",{className:Qe.a.TextAlignText,children:"Right"})]}),Object(p.jsxs)("li",{className:[Qe.a.TextAlignOption,"justify"===n?Qe.a.Current:null].join(" "),children:[Object(p.jsx)("img",{className:Qe.a.TextAlignImage,src:We,alt:"justify"}),Object(p.jsx)("p",{className:Qe.a.TextAlignText,children:"Justify"})]})]})},et=a(46),tt=a(57),at=a.n(tt),nt=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.isFontFamilyDropdown,i=e.isFontSizeDropdown,o=e.isColorDropdown,s=e.isTextAlignDropDown,l=e.setIsFontFamilyDropdown,d=e.setIsFontSizeDropdown,b=e.colorChangeCompleteHandler,j=e.setIsTextAlignDropDown,h=e.setColor,f=e.color,O=e.colorPickerRef,g=e.isSub,m=e.isBgColorDropdown,v=e.setBgColor,x=e.bgColor,S=e.bgColorPickerRef,_=Object(c.useState)({top:41}),C=Object(u.a)(_,2),k=C[0],w=C[1],y=Object(c.useRef)(null);return Object(c.useEffect)((function(){i&&g?y.current.style.right="223px":i&&(y.current.style.right="151px")}),[g,i]),Object(c.useEffect)((function(){n&&n.coordY+301+41+20>t.canvasState.height&&w({bottom:41})}),[t.canvasState,n]),Object(p.jsxs)(p.Fragment,{children:[r?Object(p.jsx)("div",{className:at.a.FontsDropdown,style:k,children:Object(p.jsx)(Ye,{setIsDropDown:l,dispatch:a,isSub:g})}):null,i?Object(p.jsx)("div",{className:at.a.FontSizeDropdown,style:k,ref:y,children:Object(p.jsx)(Ze,{setIsDropDown:d,dispatch:a,isSub:g})}):null,o?Object(p.jsx)("div",{className:at.a.SketchPickerContainer,style:k,children:Object(p.jsx)(et.a,{color:f,onChange:function(e){return h(e.rgb)},onChangeComplete:function(e){return b(e,O,a,g,m)}})}):null,s?Object(p.jsx)("div",{className:at.a.TextAlignDropdown,style:k,children:Object(p.jsx)($e,{setIsDropDown:j,dispatch:a,current:t.textState.textAlign})}):null,m?Object(p.jsx)("div",{className:at.a.SketchPickerContainer,style:k,children:Object(p.jsx)(et.a,{color:x,onChange:function(e){return v(e.rgb)},onChangeComplete:function(e){return b(e,S,a,g,m)}})}):null]})},rt=function(e,t,a,n,r){var i="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");if(r&&t.current)t.current.style.background=i,a({type:"setSubtitlesbackgroundColor",data:i});else if(t.current){var o=n?"setSubtitlesTextFill":"setTextFill";t.current.style.background=i,a({type:o,data:i})}},it=function(e){var t=e.coords,a=e.isSub,n=Object(c.useContext)(X),r=n.editorState,i=n.editorDispatch,o=Object(c.useState)(0),s=Object(u.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)(!0),j=Object(u.a)(b,2),h=j[0],f=j[1],O=Object(c.useState)(!1),g=Object(u.a)(O,2),m=g[0],v=g[1],x=Object(c.useState)(!1),S=Object(u.a)(x,2),_=S[0],C=S[1],k=Object(c.useState)(!1),w=Object(u.a)(k,2),y=w[0],N=w[1],T=Object(c.useState)(!1),D=Object(u.a)(T,2),I=D[0],A=D[1],P=Object(c.useState)(!1),R=Object(u.a)(P,2),F=R[0],M=R[1],B=Object(c.useState)({r:0,g:0,b:0,a:1}),L=Object(u.a)(B,2),E=L[0],z=L[1],U=Object(c.useState)({r:0,g:0,b:0,a:1}),H=Object(u.a)(U,2),W=H[0],V=H[1],q=Object(c.useRef)(null),G=Object(c.useRef)(null),Y=[Fe.a.FontWeightBoldContainer],K=[Fe.a.FontStyleItalicContainer],Z=a?r.subtitlesState:r.textState,J="Bold"===Z.fontWeight,Q="Italic"===Z.fontStyle;J&&Y.push(Fe.a.Active),Q&&K.push(Fe.a.Active);var $=ze;"center"===r.textState.textAlign?$=He:"right"===r.textState.textAlign?$=Ue:"justify"===r.textState.textAlign&&($=We);var ee={fontFamily:v,fontSizeArrow:C,colorPicker:N,textAlign:A,bgColor:M},te={bold:function(){var e="Bold";J&&(e="Normal"),i({type:a?"setSubtitlesFontWeight":"setFontWeight",data:e})},italic:function(){var e="Italic";Q&&(e="Normal"),i({type:a?"setSubtitlesFontStyle":"setFontStyle",data:e})}},ae=function(e){return function(e,t,a){"bold"!==e.currentTarget.id&&"italic"!==e.currentTarget.id||a[e.currentTarget.id]();for(var n=0,r=Object.entries(t);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0],c=i[1];o===e.currentTarget.id?c((function(e){return!e})):c(!1)}}(e,ee,te)};return Object(c.useEffect)((function(){if(h){f(!1),d(Z.fontSize);var e=Z.fill.split("(")[1].split(")")[0].split(","),t=Object(u.a)(e,4),n=t[0],r=t[1],i=t[2],o=t[3];if(z({r:n,g:r,b:i,a:o}),q.current.style.background=Z.fill,a){var c=Z.backgroundColor.split("(")[1].split(")")[0].split(","),s=Object(u.a)(c,4);n=s[0],r=s[1],i=s[2],o=s[3],V({r:n,g:r,b:i,a:o}),G.current.style.background=Z.backgroundColor}}}),[Z,h,a]),Object(p.jsxs)("div",{className:Fe.a.TextToolbar,children:[Object(p.jsxs)("div",{className:Fe.a.FontsContainer,id:"fontFamily",onClick:ae,children:[Object(p.jsx)("p",{children:Z.fontFamily}),Object(p.jsx)("img",{className:Fe.a.DownArrow,src:Me,alt:"arrow"})]}),Object(p.jsx)("div",{className:Fe.a.BorderDiv}),Object(p.jsxs)("div",{className:Fe.a.FontSizeContainer,children:[Object(p.jsx)("div",{className:Fe.a.FontSizeInputContainer,children:Object(p.jsx)("input",{className:Fe.a.FontSizeInput,type:"number",value:l,onChange:function(e){return function(e,t,a,n){t(e.target.value);var r=+e.target.value;r<=0?r=1:r>1080&&(r=1080),a({type:n?"setSubtitlesFontSize":"setFontSize",data:r})}(e,d,i,a)}})}),Object(p.jsx)("div",{className:Fe.a.FontSizeArrowContainer,id:"fontSizeArrow",onClick:ae,children:Object(p.jsx)("img",{className:Fe.a.DownArrow,src:Me,alt:"arrow"})})]}),Object(p.jsx)("div",{className:Fe.a.BorderDiv}),Object(p.jsx)("div",{className:Fe.a.ColorPickerContainer,id:"colorPicker",onClick:ae,children:Object(p.jsx)("div",{className:Fe.a.ColorPickerBorder,children:Object(p.jsx)("div",{ref:q,className:Fe.a.ColorPicker})})}),Object(p.jsx)("div",{className:Fe.a.BorderDiv}),Object(p.jsx)("div",{className:Y.join(" "),id:"bold",onClick:ae,children:Object(p.jsx)("img",{className:Fe.a.Bold,src:Be,alt:"bold"})}),Object(p.jsx)("div",{className:Fe.a.BorderDiv}),Object(p.jsx)("div",{className:K.join(" "),id:"italic",onClick:ae,children:Object(p.jsx)("img",{className:Fe.a.Italic,src:Ee,alt:"italic"})}),Object(p.jsx)("div",{className:Fe.a.BorderDiv}),a?Object(p.jsxs)("div",{className:Fe.a.BgColorContainer,id:"bgColor",onClick:ae,children:[Object(p.jsx)("div",{className:Fe.a.BgColor,ref:G}),Object(p.jsx)("img",{src:Le,alt:"italic"}),Object(p.jsx)("p",{children:"Background"})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:Fe.a.TextAlignContainer,id:"textAlign",onClick:ae,children:Object(p.jsx)("img",{className:Fe.a.TextAlign,src:$,alt:"textAlign"})})}),Object(p.jsx)(nt,{state:r,dispatch:i,coords:t,isFontFamilyDropdown:m,isFontSizeDropdown:_,isColorDropdown:y,isTextAlignDropDown:I,setIsFontFamilyDropdown:v,setIsFontSizeDropdown:C,colorChangeCompleteHandler:rt,setIsTextAlignDropDown:A,setColor:z,setBgColor:V,color:E,bgColor:W,colorPickerRef:q,bgColorPickerRef:G,isSub:a,isBgColorDropdown:F})]})},ot=a(16),ct=a.n(ot),st=a.p+"static/media/cornerRadius.701d1dee.svg",lt=a(81),dt=a.n(lt),ut=a(11),bt=a.n(ut),jt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=function(e){"LI"===e.target.tagName&&(a({type:"setShapeStrokeWidth",data:+e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))};return e.isLine?Object(p.jsxs)("ul",{className:bt.a.LineDropdown,onClick:n,children:[Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"1"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"5"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"10"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"15"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"20"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"25"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"30"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"35"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"40"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"45"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"50"})]}):Object(p.jsxs)("ul",{className:bt.a.ShapeDropdown,onClick:n,children:[Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"0"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"4"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"8"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"12"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"24"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"48"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"96"}),Object(p.jsx)("li",{className:bt.a.StrokeOption,children:"120"})]})},ht=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.shapeToolbar,i=e.isStrokeWidthDropdown,o=e.isFillDropdown,s=e.isStrokeDropdown,l=e.fill,d=e.setFill,b=e.fillChangeCompleteHandler,j=e.fillRef,h=e.stroke,f=e.setStroke,O=e.strokeChangeCompleteHandler,g=e.strokeRef,m=e.setIsStrokeWidthDropdown,v=e.isLine,x=e.isRect,S=Object(c.useState)({top:41}),_=Object(u.a)(S,2),C=_[0],k=_[1],w=Object(c.useState)({top:41}),y=Object(u.a)(w,2),N=y[0],T=y[1],D=Object(c.useCallback)((function(e,t,a){var n=t.offsetWidth,r={};e.coordY+301+41+20>a&&(r.bottom=41,T({bottom:41,right:x?66:0})),e.coordX+n-220<0&&(r.left=0,r.bottom||(r.top=41)),0!==Object.keys(r).length&&k(r)}),[x]);return Object(c.useEffect)((function(){n&&r&&D(n,r,t.canvasState.height)}),[D,r,t.canvasState,n]),Object(p.jsxs)(p.Fragment,{children:[o?Object(p.jsx)("div",{className:dt.a.FillDropdownContainer,style:C,children:Object(p.jsx)(et.a,{color:l,onChange:function(e){return d(e.rgb)},onChangeComplete:function(e){return b(e,a,j)}})}):null,s?Object(p.jsx)("div",{className:dt.a.StrokeDropdownContainer,style:C,children:Object(p.jsx)(et.a,{color:h,onChange:function(e){return f(e.rgb)},onChangeComplete:function(e){return O(e,a,g)}})}):null,i?Object(p.jsx)("div",{className:dt.a.StrokeWidthDropdownContainer,style:N,children:Object(p.jsx)(jt,{setIsDropDown:m,isLine:v,dispatch:a})}):null]})},pt=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeFill",data:n}),a.current.style.background=n}},ft=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeStroke",data:n}),a.current.style.background=n}},Ot=function(e){var t=e.coords,a=Object(c.useContext)(X),n=a.editorState,r=a.editorDispatch,i=Object(c.useState)(!0),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)("rgba(196,196,196,1)"),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)("rgba(255,255,255,1)"),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)(!1),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)(!1),k=Object(u.a)(C,2),w=k[0],y=k[1],N=Object(c.useState)(!1),T=Object(u.a)(N,2),D=T[0],I=T[1],A=Object(c.useState)(n.shapeState.strokeWidth),P=Object(u.a)(A,2),R=P[0],F=P[1],M=Object(c.useState)(n.shapeState.rx),B=Object(u.a)(M,2),L=B[0],E=B[1],z=Object(c.useRef)(null),U=Object(c.useRef)(null),H=Object(c.useRef)(null),W=Object(c.useRef)(null),V="line"===n.currentObject.type,q="rect"===n.currentObject.type,G=function(e){return function(e,t,a,n){var r=e.currentTarget.id;"fill"===r?(t((function(e){return!e})),a(!1),n(!1)):"stroke"===r?(a((function(e){return!e})),t(!1),n(!1)):"strokeWidth"===r?(n((function(e){return!e})),t(!1),a(!1)):(n(!1),t(!1),a(!1))}(e,_,y,I)};return Object(c.useEffect)((function(){s&&function(e,t,a,n,r,i,o,c){if(a(!1),e)i.current.style.borderTopLeftRadius="15px",i.current.style.borderBottomLeftRadius="15px";else{var s=t.fill.split("(")[1].split(")")[0].split(","),l=Object(u.a)(s,4);n({r:l[0],g:l[1],b:l[2],a:l[3]}),r.current.style.background=t.fill}var d=t.stroke.split("(")[1].split(")")[0].split(","),b=Object(u.a)(d,4);o({r:b[0],g:b[1],b:b[2],a:b[3]}),c.current.style.background=t.stroke}(V,n.shapeState,l,h,U,W,m,H)}),[V,n.shapeState,s]),Object(p.jsxs)("div",{ref:z,className:ct.a.ShapeToolbar,children:[V?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:ct.a.FillContainer,id:"fill",onClick:G,children:[Object(p.jsx)("div",{className:ct.a.ColorPickerBorder,children:Object(p.jsx)("div",{ref:U,className:ct.a.ColorPicker})}),Object(p.jsx)("p",{children:"Fill"})]}),Object(p.jsx)("div",{className:ct.a.BorderDiv})]}),Object(p.jsxs)("div",{ref:W,className:ct.a.StrokeContainer,id:"stroke",onClick:G,children:[Object(p.jsx)("div",{className:ct.a.ColorPickerBorder,children:Object(p.jsx)("div",{ref:H,className:ct.a.ColorPicker})}),Object(p.jsx)("p",{children:"Stroke"})]}),Object(p.jsx)("div",{className:ct.a.BorderDiv}),Object(p.jsxs)("div",{className:ct.a.StrokeWidthContainer,children:[Object(p.jsx)("div",{className:ct.a.StrokeWidthInputContainer,children:Object(p.jsx)("input",{className:ct.a.StrokeWidthInput,type:"number",value:R,onChange:function(e){return function(e,t,a,n){a(e.target.value);var r=+e.target.value;n&&r<=0?r=1:n&&r>50?r=50:!n&&r>120?r=120:!n&&r<0&&(r=0),t({type:"setShapeStrokeWidth",data:r})}(e,r,F,V)}})}),Object(p.jsx)("div",{style:{borderTopRightRadius:q?"0":"15px",borderBottomRightRadius:q?"0":"15px"},className:ct.a.StrokeWidthArrowContainer,id:"strokeWidth",onClick:G,children:Object(p.jsx)("img",{className:ct.a.DownArrow,src:Me,alt:"arrow"})})]}),q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:ct.a.BorderDiv}),Object(p.jsxs)("div",{className:ct.a.RadiusContainer,id:"radius",onClick:G,children:[Object(p.jsx)("img",{src:st,alt:"radius"}),Object(p.jsx)("input",{className:ct.a.RadiusInput,type:"number",value:L,onChange:function(e){E(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),r({type:"setShapeRadius",data:t})}})]})]}):null,Object(p.jsx)(ht,{state:n,dispatch:r,coords:t,shapeToolbar:z.current,isStrokeWidthDropdown:D,setIsStrokeWidthDropdown:I,isStrokeDropdown:w,isFillDropdown:S,fill:j,setFill:h,fillChangeCompleteHandler:pt,fillRef:U,stroke:g,setStroke:m,strokeChangeCompleteHandler:ft,strokeRef:H,isLine:V,isRect:q})]})},gt=a(38),mt=a.n(gt),vt=a.p+"static/media/replaceImage.24b71204.svg",xt=a.p+"static/media/cropImage.06a8d86d.svg",St=function(){var e=Object(c.useContext)(X),t=e.editorState,a=e.editorDispatch,n=Object(c.useState)(t.imageState.cornerRadius),r=Object(u.a)(n,2),i=r[0],o=r[1],s=function(e){"replace"===e.currentTarget.id?a({type:"setShouldReplaceImage",data:!0}):"crop"===e.currentTarget.id&&a({type:"setIsCropMode",data:!0})},l=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:[mt.a.ReaplaceContainer,t.imageState.isSvg?mt.a.BorderStyle:null].join(" "),id:"replace",onClick:s,children:[Object(p.jsx)("img",{src:vt,alt:"replace"}),Object(p.jsx)("p",{children:"Replace"})]}),t.imageState.isSvg?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:mt.a.BorderDiv}),Object(p.jsxs)("div",{className:mt.a.RadiusContainer,id:"radius",onClick:s,children:[Object(p.jsx)("img",{src:st,alt:"radius"}),Object(p.jsx)("input",{className:mt.a.RadiusInput,type:"number",value:i,onChange:function(e){o(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),a({type:"setImageCornerRadius",data:t})}})]}),Object(p.jsx)("div",{className:mt.a.BorderDiv}),Object(p.jsxs)("div",{className:mt.a.CropContainer,id:"crop",onClick:s,children:[Object(p.jsx)("img",{src:xt,alt:"replace"}),Object(p.jsx)("p",{children:"Crop"})]})]})]});return Object(p.jsx)("div",{className:mt.a.ImageToolbar,children:t.isCropMode?Object(p.jsx)("div",{className:mt.a.DoneContainer,onClick:function(){a({type:"setShouldCropImage",data:!0}),a({type:"setShowToolbar",data:!1})},children:"Done"}):l})},_t=function(e){var t=e.canvas,a=Object(c.useState)(null),n=Object(u.a)(a,2),r=n[0],i=n[1],o=Object(c.useContext)(X).editorState,s=Object(c.useRef)(null),l=Object(c.useCallback)((function(e){s.current.style.transform="translate(".concat(e.coordX,"px, ").concat(e.coordY,"px)"),s.current.style.opacity=1,i(e)}),[]);return Object(c.useEffect)((function(){o.currentCoords&&l(function(e,t,a,n,r,i){var o=n.offsetWidth,c=n.offsetHeight,s=e.tl.y>e.bl.y,l=s?r+c:r,d=Math.min(e.tl.y,e.tr.y,e.br.y,e.bl.y)-c-l;if(d-i<0){var u=Math.max(e.tl.y,e.tr.y,e.br.y,e.bl.y)+r+(s?0:c);d=u+i+c<a?u:a-c-r}var b=Math.min(e.tl.x,e.tr.x,e.br.x,e.bl.x);return b+o>t?b=t-o:b<0&&(b=0),{coordX:b,coordY:d}}(o.currentCoords,t.getWidth(),t.getHeight(),s.current,28,10))}),[t,l,o.currentCoords,o.isCroppingImage]),Object(p.jsxs)("div",{ref:s,className:Pe.a.Toolbar,children:["text"===o.currentObject.type?Object(p.jsx)(it,{coords:r,isSub:!1}):null,"subtitle"===o.currentObject.type?Object(p.jsx)(it,{coords:r,isSub:!0}):null,["rect","circle","triangle","line"].includes(o.currentObject.type)?Object(p.jsx)(Ot,{coords:r}):null,"image"===o.currentObject.type?Object(p.jsx)(St,{}):null]})},Ct=a(43),kt=a.n(Ct),wt=function(e){var t=e.canvas,a=e.isCanvasSet,n=e.objId,r=e.updateId,i=e.clipboard,o=e.setClipboard,s=e.fabricSub,l=Object(c.useContext)(ee),d=l.eventState,b=l.eventDispatch,j=Object(c.useState)(!1),h=Object(u.a)(j,2),f=h[0],O=h[1],g=Object(c.useState)(!1),m=Object(u.a)(g,2),v=m[0],x=m[1],S=Object(c.useState)(!1),_=Object(u.a)(S,2),C=_[0],k=_[1],w=Object(c.useRef)(null),y=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){return y.current=!1}}),[]);var N=Object(c.useCallback)((function(e){if(e.currentTarget&&"subtitle"!==e.currentTarget.id||i){if(e.currentTarget&&"subtitle"!==e.currentTarget.id){var a=t.getActiveObject();a&&a.id===e.currentTarget.id||t.setActiveObject(e.currentTarget),x(e.currentTarget),k(!1)}else k(!0);e.pointer.x+w.current.offsetWidth>t.getWidth()?w.current.style.left=e.pointer.x-w.current.offsetWidth+"px":w.current.style.left=e.pointer.x+"px",w.current.style.top=e.pointer.y+"px"}else b({type:"setRightClickEvent",data:null})}),[t,b,i]),T=function(e){e.preventDefault(),f&&(O(!1),b({type:"setRightClickEvent",data:null}))},D=function(e){var a=e.currentTarget.id;"delete"===a&&"video"!==v.type?(t.remove(v),t.discardActiveObject().requestRenderAll(),b({type:"setRightClickEvent",data:null})):"bringToFront"===a?(t.bringToFront(v),s&&t.bringToFront(s),b({type:"setRightClickEvent",data:null})):"sendToBack"===a?(t.sendToBack(v),b({type:"setRightClickEvent",data:null})):"copy"===a?(o({object:v,coords:{top:v.top,left:v.left}}),b({type:"setRightClickEvent",data:null})):"paste"===a&&(i?ye(t,i,n,r,o,b,s):b({type:"setRightClickEvent",data:null}))};Object(c.useEffect)((function(){return a&&d.rightClickEvent&&(N(d.rightClickEvent),setTimeout((function(){y.current&&O(!0)}),400)),function(){y.current&&O(!1)}}),[a,d.rightClickEvent,N]);var I=v&&"video"===v.type,A=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:kt.a.Overlay,onContextMenu:T,onClick:T}),Object(p.jsxs)("ul",{onContextMenu:function(e){return e.preventDefault()},ref:w,className:kt.a.Menu,id:"contextMenu",children:[C||I?null:Object(p.jsxs)("li",{className:kt.a.Option,id:"copy",onClick:D,children:[Object(p.jsx)("p",{children:"Copy"}),Object(p.jsx)("p",{children:"\u2318C"})]}),Object(p.jsxs)("li",{className:kt.a.Option,id:"paste",onClick:D,children:[Object(p.jsx)("p",{children:"Paste"}),Object(p.jsx)("p",{children:"\u2318V"})]}),C||I?null:Object(p.jsxs)("li",{className:kt.a.Option,id:"delete",onClick:D,children:[Object(p.jsx)("p",{children:"Delete"}),Object(p.jsx)("p",{children:"DEL"})]}),C?null:Object(p.jsx)("li",{className:kt.a.Border}),C?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("li",{className:kt.a.Option,id:"bringToFront",onClick:D,children:[Object(p.jsx)("p",{children:"Bring to front"}),Object(p.jsx)("p",{children:"\u2318]"})]}),Object(p.jsxs)("li",{className:kt.a.Option,id:"sendToBack",onClick:D,children:[Object(p.jsx)("p",{children:"Send to back"}),Object(p.jsx)("p",{children:"\u2318["})]})]})]})]});return d.rightClickEvent?A:null},yt=function(e){var t=e.canvas,a=e.setCanvas,n=e.video,r=e.fabricSub,i=e.currentTime,o=e.speakers,s=Object(c.useContext)(X),l=s.editorState,d=s.editorDispatch,b=Object(c.useContext)(ee),j=b.eventState,h=b.eventDispatch,f=Object(c.useState)(1),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)(!1),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)(null),k=Object(u.a)(C,2),w=k[0],y=k[1],N=Object(c.useCallback)((function(){return m((function(e){return e+1}))}),[]);return be(l,S,t,j,h),$(l,d,t,g,N),oe(S,t,l,d),me(l,d,t),ve(l.canvasState,d,t),Ce(l,d,t,g,N),ke(l.canvasState,a,_,"canvas"),De(t,w,y,g,N,r),Ie(t,l),we(n,t,i,!0,null,o),Object(p.jsxs)("div",{className:K.a.CanvasComponent,id:"canvasComponent",children:[Object(p.jsx)("div",{className:K.a.Canvas,children:Object(p.jsx)("canvas",{id:"canvas"})}),l.showToolbar?Object(p.jsx)(_t,{canvas:t}):null,Object(p.jsx)(wt,{canvas:t,isCanvasSet:S,objId:g,updateId:N,clipboard:w,setClipboard:y,fabricSub:r})]})},Nt={isMoving:!1,rightClickEvent:null},Tt=function(e,t){switch(t.type){case"setIsMoving":return Object(B.a)(Object(B.a)({},e),{},{isMoving:t.data});case"setRightClickEvent":return Object(B.a)(Object(B.a)({},e),{},{rightClickEvent:t.data});default:return e}},Dt=function(){var e=Object(c.useReducer)(Tt,Nt),t=Object(u.a)(e,2);return[t[0],t[1]]},It=a(21),At=a.n(It),Pt=a(58),Rt=a.n(Pt),Ft=function(e){var t=e.state,a=e.dispatch,n=Object(c.useState)(null),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(c.useMemo)((function(){return{original:{width:526,height:741,zoom:1},slide:{width:1920,height:1080,zoom:.5},a4:{width:2480,height:3508,zoom:.2},facebook:{width:940,height:788,zoom:.75},linkedin:{width:1128,height:191,zoom:.9},video:{width:1280,height:720,zoom:.8}}}),[]);return Object(c.useEffect)((function(){for(var e=0,a=Object.entries(s);e<a.length;e++){var n=Object(u.a)(a[e],2),r=n[0],i=n[1];i.width===t.width&&i.height===t.height&&o(r)}}),[s,t]),Object(p.jsx)("div",{className:Rt.a.Dropdown,children:Object(p.jsx)("ul",{className:Rt.a.SizeOptions,onClick:function(e){e.target.classList.contains(Rt.a.SizeOption)&&(a({type:"setCanvasSize",data:Object(B.a)({},s[e.target.id])}),a({type:"setIsResizeDropdown",data:!1}))},children:[{content:"Original",id:"original"},{content:"Slide 16:9",id:"slide"},{content:"A4",id:"a4"},{content:"Facebook post",id:"facebook"},{content:"Linkedin cover",id:"linkedin"},{content:"Video thumbnail",id:"video"}].map((function(e){return Object(p.jsx)("li",{id:e.id,className:[Rt.a.SizeOption,i&&e.id===i?Rt.a.Current:null].join(" "),children:e.content},e.id)}))})})},Mt=a(159),Bt=a.n(Mt),Lt=function(e){var t=Object(c.useContext)(X),a=t.editorState,n=t.editorDispatch;return Object(p.jsx)("div",{className:Bt.a.Backdrop,onClick:function(e){if("backdrop"===e.target.id){var t="";a.isImageDropdown?t="setIsImageDropdown":a.isShapeDropdown?t="setIsShapeDropdown":a.isSubtitlesDropdown?t="setIsSubtitlesDropdown":a.shouldReplaceImage?t="setShouldReplaceImage":a.isResizeDropdown?t="setIsResizeDropdown":a.isCanvasBgColorDropdown?t="setIsCanvasBgColorDropdown":a.isZoomDropdown?t="setIsZoomDropdown":a.shouldAddCanvasBgImage?t="setShouldAddCanvasBgImage":a.isDownloadDropdown&&(t="setIsDownloadDropdown"),n({type:t,data:!1})}},id:"backdrop",children:e.children})},Et=["title","titleId"];function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ut(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ht(e,t){var a=e.title,s=e.titleId,l=Ut(e,Et);return c.createElement("svg",zt({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),a?c.createElement("title",{id:s},a):null,n||(n=c.createElement("path",{d:"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=c.createElement("path",{d:"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=c.createElement("path",{d:"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=c.createElement("path",{d:"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var Wt,Vt,qt=c.forwardRef(Ht),Gt=(a.p,["title","titleId"]);function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Kt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Xt(e,t){var a=e.title,n=e.titleId,r=Kt(e,Gt);return c.createElement("svg",Yt({width:15,height:13,viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Wt||(Wt=c.createElement("path",{d:"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),Vt||(Vt=c.createElement("path",{d:"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var Zt,Jt,Qt,$t,ea,ta,aa,na=c.forwardRef(Xt),ra=(a.p,function(){var e=Object(c.useContext)(X),t=e.editorState,a=e.editorDispatch,n=Object(c.useState)(t.canvasState.backgroundColor),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(c.useRef)(null),l=Object(c.useRef)(null),d=Object(c.useRef)(null),b=function(e){if(!t.shouldCropImage){t.isCropMode&&a({type:"setIsCropMode",data:!1});var n=e.currentTarget.id;"resize"===n||"bgColor"===n&&a({type:"setIsCanvasBgColorDropdown",data:!0})}};return Object(c.useEffect)((function(){s.current.style.background=i}),[i]),Object(p.jsxs)("div",{className:At.a.CanvasToolbar,children:[Object(p.jsxs)("div",{className:At.a.TemplatesContainer,id:"templates",onClick:b,children:[Object(p.jsx)(qt,{}),Object(p.jsx)("p",{className:At.a.OptionText,children:"Templates"})]}),Object(p.jsx)("div",{className:At.a.BorderDiv}),Object(p.jsxs)("div",{className:At.a.ResizeContainer,id:"resize",onClick:b,children:[Object(p.jsx)(na,{}),Object(p.jsx)("p",{className:At.a.OptionText,children:"Resize"})]}),Object(p.jsx)("div",{className:At.a.BorderDiv}),Object(p.jsxs)("div",{className:At.a.ColorContainer,id:"bgColor",onClick:b,children:[Object(p.jsx)("div",{className:At.a.ColorPickerBorder,children:Object(p.jsx)("div",{ref:s,className:At.a.ColorPicker})}),Object(p.jsx)("p",{className:At.a.OptionText,children:"Background color"})]}),t.isResizeDropdown?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Lt,{}),Object(p.jsx)("div",{className:At.a.ResizeDropdown,ref:d,children:Object(p.jsx)(Ft,{state:t.canvasState,dispatch:a})})]}):null,t.isCanvasBgColorDropdown?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Lt,{}),Object(p.jsx)("div",{className:At.a.ColorDropdownContainer,ref:l,children:Object(p.jsx)(et.a,{color:i,onChange:function(e){return o(e.rgb)},onChangeComplete:function(e){if(s.current){var t="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");s.current.style.background=t,a({type:"setCanvasBackgroundColor",data:t})}}})})]}):null]})}),ia=a.p+"static/media/play.f149d237.svg",oa=function(e,t){t({width:e.current.videoWidth,height:e.current.videoHeight})},ca=function(e,t,a,n,r,i){var o=Object(c.useState)(!0),s=Object(u.a)(o,2),l=s[0],d=s[1],b=Object(c.useCallback)((function(){!function(e,t,a){var n=window.innerWidth-e.current.offsetLeft-a,r=e.current.offsetHeight;n>800&&(r=800*r/n,n=800),t({width:n,height:r})}(n,r,i)}),[n,r,i]);Object(c.useEffect)((function(){b()}),[b]),Object(c.useEffect)((function(){return window.addEventListener("resize",b),function(){return window.removeEventListener("resize",b)}}),[b]),Object(c.useEffect)((function(){if(e&&t){var n=t.width,r=e.height*n/e.width,i=n>100;l&&i?(d(!1),a({type:"setCanvasInitialSize",data:{initialWidth:e.width,initialHeight:e.height,width:n,height:r}})):i&&a({type:"setCanvasSize",data:{width:n,height:r}})}}),[l,t,e,a])},sa=function(e,t,a,n,r,i,o,s,l,d,u,b){var j=Object(c.useCallback)((function(a){if(t.length>0&&t[i]){var n=(a=+a+.05)>=+t[i].start,r=a<=+t[i].end,c=+t[i].end-t[i].start<=.05&&n;(n&&r||c)&&(e.current.currentTime=+t[i].end,t[i+1]?o(i+1):o(null))}}),[t,i,e,o]),h=Object(c.useCallback)((function(e,t){e=+e+.05;var r=a[t],i=a[t+1];if(null!==t&&i&&e>+r.end){var o=+r.end-r.start<=.05&&!n;o||i.active||null===i.next?o||l((function(e){return e+1})):l(i.next)}}),[n,a,l]),p=Object(c.useCallback)((function(e,t){e=+e+.05;var a=t.next;t&&a&&e>+t.val.end&&(a.val.active?u((function(e){return e.next})):u(a.nextSub))}),[u]);Object(c.useEffect)((function(){n&&b&&d&&null!==r&&p(r,d)}),[n,b,r,p,d]),Object(c.useEffect)((function(){null!==r&&h(r,s)}),[r,h,s]),Object(c.useEffect)((function(){null!==r&&j(r)}),[r,j])},la=a(160),da=a(109),ua=function e(t){Object(da.a)(this,e),this.val=t,this.next=null},ba=function(){function e(){Object(da.a)(this,e),this.head=null,this.tail=null,this.length=0}return Object(la.a)(e,[{key:"push",value:function(e){var t=new ua(e);return this.head?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),this.length++,this.length}},{key:"pop",value:function(){if(!this.head)return null;for(var e=this.head,t=e;e.next;)t=e,e=e.next;return 1===this.length?(this.head=null,this.tail=null):(this.tail=t,this.tail.next=null),this.length--,e}},{key:"shift",value:function(){if(!this.head)return null;var e=this.head;return this.head=this.head.next,e.next=null,this.length--,0===this.length&&(this.tail=null),e}},{key:"unshift",value:function(e){var t=new ua(e);return this.head?t.next=this.head:this.tail=t,this.head=t,this.length++,this}},{key:"get",value:function(e){if(e<0||e>=this.length)return null;for(var t=this.head,a=0;a<=e;a++){if(a===e)return t;t=t.next}}},{key:"set",value:function(e,t){var a=this.get(e);return!!a&&(a.val=t,!0)}},{key:"insert",value:function(e,t){if(e<0||e>this.length)return!1;if(0===e)return!!this.unshift(t);if(e===this.length)return!!this.push(t);var a=new ua(t),n=this.get(e-1);return a.next=n.next,n.next=a,this.length++,!0}},{key:"remove",value:function(e){if(e<0||e>=this.length)return!1;if(0===e)return!!this.shift();if(e===this.length-1)return!!this.pop();var t=this.get(e-1);return t.next=t.next.next,this.length--,!0}},{key:"reverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.head;if(this.length<=1)return this;var a=t.next;return e||(this.tail=this.head,this.tail.next=null),t.next=e,e=t,null===a.next?(this.head=a,this.head.next=e,this):this.reverse(e,a)}}]),e}(),ja=function(e,t,a,n,r,i,o,s,l,d,u,b,j,h,p){Object(c.useEffect)((function(){a&&s&&(b&&j(!1),function(e,t){if(t.val.silence)e.visible=!1;else if(t.val.active){for(var a="",n=0;n<t.val.words.length;n++)a+=t.val.words[n].text;e.set({text:a,visible:!0})}}(a,s))}),[a,s,b,j,i]),Object(c.useEffect)((function(){if(i&&!h){var e=H(d,r,i);null!==e&&l(e)}}),[i,l,r,d,h]),Object(c.useEffect)((function(){a&&u&&function(e,t){for(var a=new ba,n=null,r=null,i=function(e,t,n){r&&(a.get(r).nextSub=a.tail,r=null)},o=0;o<e.length;o++){var c=e[o],s=e[o+1];if(c.active){var l=o===e.length-1,d=+c.end-+c.start;if(c.silence&&(!n&&s&&!s.active||d>=.4))n&&(a.push(Object(B.a)({},n)),i(),n=null),a.push(Object(B.a)({},c)),i();else if(c.silence)n?(n.end+=c.end,n.words.push(Object(B.a)(Object(B.a)({},c),{},{text:""})),l&&(a.push(n),i())):(n={words:[Object(B.a)(Object(B.a)({},c),{},{text:""})],start:c.start,end:c.end,strLength:0,active:!0},l&&(a.push(Object(B.a)({},c)),i()));else{var u=!!c.text.match(/[.,:!?]$/),b=null!==n&&n.strLength+c.text.length+1<48;if(b&&u&&n){var j="";n.strLength>0&&(j=" "),j+=c.text,n.words.push(Object(B.a)(Object(B.a)({},c),{},{text:j})),n.end=c.end,n.strLength+=j.length,a.push(Object(B.a)({},n)),i(),n=null}else if(u&&n)a.push(Object(B.a)({},n)),i(),n={words:[Object(B.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(B.a)({},n)),n=null;else if(u)n={words:[Object(B.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(B.a)({},n)),i(),n=null;else if(b){var h="";n.strLength>0&&(h=" "),h+=c.text,n.words.push(Object(B.a)(Object(B.a)({},c),{},{text:h})),n.end=c.end,n.strLength+=h.length,l&&(a.push(n),i())}else n?(a.push(Object(B.a)({},n)),i(),n={words:[Object(B.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&a.push(n)):(n={words:[Object(B.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&(a.push(n),i()))}}else n?(a.push(Object(B.a)({},n)),i(),n=null,a.push(Object(B.a)({},c)),r=a.length-1):(a.push(Object(B.a)({},c)),r||(r=a.length-1))}t(a)}(r,o)}),[a,u,o,r]),Object(c.useEffect)((function(){if(t&&!a&&e.isSubtitles){h&&p.current.pause();var r=function(e,t){var a=new Z.fabric.SubtitleWithResize(" ",Object(B.a)(Object(B.a)({paddingX:20,paddingY:20,width:550,breakWords:!0,editable:!1,originX:"center",originY:"center",textAlign:"center"},t.subtitlesState),{},{id:"subtitle",excludeFromExport:!0,prevTop:null,prevLeft:null,visible:!1})),n=e.getWidth()/(2*e.getZoom()),r=e.getHeight()/e.getZoom()-a.height-a.paddingY;return a.setPositionByOrigin(new Z.fabric.Point(n,r),"center","center"),a}(t,e);t.add(r),t.requestRenderAll(),n(r)}else a&&!e.isSubtitles&&(t.remove(a),n(null))}),[p,h,e.isSubtitles,a,n,t,e,i,r,o]),Object(c.useEffect)((function(){return t&&a&&t.on("object:added",(function(e){t.bringToFront(a)})),function(){t&&t.off("object:added")}}),[t,a])},ha=function(e){var t=e.videoRef,a=e.canvas,n=e.setCanvas,r=e.isPlaying,i=e.words,o=e.currentTime,s=e.videoSize,l=e.videoCuts,d=e.setNextCutIndex,b=e.setCurrentWordIndex,j=e.nextCutIndex,h=e.currentWordIndex,f=e.subList,O=e.setSubList,g=e.fabricSub,m=e.setFabricSub,v=e.currentSub,x=e.setCurrentSub,S=e.shouldRerenderSub,_=e.setShouldRerenderSub,C=e.speakers,k=Object(c.useContext)(X),w=k.editorState,y=k.editorDispatch,N=Dt(),T=Object(u.a)(N,2),D=T[0],I=T[1],A=Object(c.useState)(null),P=Object(u.a)(A,2),R=P[0],F=P[1],M=Object(c.useRef)(null);return ca(s,R,y,M,F,32),sa(t,l,i,r,o,j,d,h,b,v,x,g),ja(w,a,g,m,i,f,O,v,x,h,l,S,_,r,t),Object(p.jsx)("div",{className:G.a.Player,ref:M,children:Object(p.jsx)(ee.Provider,{value:{eventState:D,eventDispatch:I},children:Object(p.jsxs)("div",{className:G.a.PlayerContent,children:[Object(p.jsx)(yt,{canvas:a,setCanvas:n,video:t.current,fabricSub:g,currentTime:o,speakers:C}),a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:G.a.PlayerControls,children:Object(p.jsx)("div",{className:G.a.PlayButton,onClick:function(){r?t.current.pause():w.isCropMode||w.shouldCropImage||t.current.play()},children:Object(p.jsx)("img",{src:ia,alt:"play"})})}),Object(p.jsx)(ra,{})]}):null]})})})},pa=a(161),fa=a.n(pa),Oa=function(e){var t=e.videoRef,a=e.setIsPlaying,n=e.currentSelection,r=e.setCurrentSelection,i=e.setCurrentTime,o=e.videoSize,s=e.videoCuts,l=e.words,d=e.setVideoSize,b=e.setNextCutIndex,j=e.setCurrentWordIndex,h=e.setCurrentSub,f=e.subList,O=Object(c.useState)(null),g=Object(u.a)(O,2),m=g[0],v=g[1];return Object(c.useEffect)((function(){return function(){m&&clearInterval(m)}}),[m]),Object(p.jsx)("video",{width:o?o.width:0,height:o?o.height:0,id:"video",preload:"auto",className:fa.a.Video,ref:t,controls:!0,onPause:function(){return function(e,t){e(!1),clearInterval(t)}(a,m)},onPlay:function(){return function(e,t,a,n,r,i){document.getSelection().removeAllRanges(),e&&t(null),a(!0),i(setInterval((function(){r.current&&n(r.current.currentTime)}),10))}(n,r,a,i,t,v)},onEnded:function(){return function(e,t,a,n,r,i,o){e.length>0&&t(0);var c=a[0],s=0,l=c.start;c.active||null===c.next||(l=a[s=c.next].start),n(s),i(H(s,a,o)),r(+l)}(s,b,l,j,i,h,f)},onLoadedMetadata:function(){return oa(t,d)}})},ga=a(53),ma=a.n(ga),va=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),d=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cuploading ".concat(t,"%"),"color: #3153fb")},b=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cdownloading ".concat(t,"%"),"color: #0cc700")},j=Object(c.useCallback)((function(e){return new Promise((function(t,a){S.post("/download-video",e,{onUploadProgress:d,onDownloadProgress:b,headers:{"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),h=Object(c.useCallback)(function(){var e=Object(g.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,j(t);case 4:a=e.sent,console.log(a),l.current&&s(a.data.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error Downloading Video",e.t0);case 12:return e.prev=12,l.current&&n(!1),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(t){return e.apply(this,arguments)}}(),[j]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isDownloading:a,downloadVideo:h,downloadedVideo:o,setDownloadedVideo:s}},xa=a(9),Sa=a.n(xa),_a=a(27),Ca=a.n(_a),ka=function(e){var t=e.setUserFiles,a=e.userFiles,n=Object(c.useContext)(X).editorDispatch,r=Object(c.useRef)(null),i=a.filter((function(e,t){return(t+1)%2!==0})),o=a.filter((function(e,t){return(t+1)%2===0}));return Object(p.jsxs)("div",{className:Ca.a.Dropdown,onClick:function(e){var t="setImageToAdd",a="image";e.target.classList.contains("isSvg")&&(a="svg"),"IMG"===e.target.tagName?n({type:t,data:{type:a,src:e.target.src}}):e.target.classList.contains(Ca.a.ImageContainer)&&n({type:t,data:{type:a,src:e.target.childNodes[0].src}})},children:[Object(p.jsxs)("div",{className:Ca.a.UplaodButtonContainer,children:[Object(p.jsx)("button",{onClick:function(){r.current.click()},className:Ca.a.UploadButton,children:"Upload image"}),Object(p.jsx)("input",{accept:"image/png, image/gif, image/jpeg, image/svg+xml",className:Ca.a.FileInput,ref:r,type:"file",onChange:function(){if(r.current.files[0]){var e=r.current.files[0],a="image";"image/svg+xml"===e.type&&(a="svg"),t((function(t){return[{src:URL.createObjectURL(e),type:a}].concat(Object(h.a)(t))}))}}})]}),Object(p.jsxs)("div",{className:Ca.a.Images,children:[Object(p.jsx)("div",{className:Ca.a.Column,children:i.map((function(e,t){return Object(p.jsx)("div",{className:[Ca.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(p.jsx)("img",{className:[Ca.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"odd"+t)}))}),Object(p.jsx)("div",{className:Ca.a.Column,children:o.map((function(e,t){return Object(p.jsx)("div",{className:[Ca.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(p.jsx)("img",{className:[Ca.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"even"+t)}))})]})]})},wa=a(35),ya=a.n(wa),Na=a.p+"static/media/square.5e888dd3.svg",Ta=a.p+"static/media/circle.0bedfa10.svg",Da=a.p+"static/media/triangle.76f36a5f.svg",Ia=a.p+"static/media/line.60fd0829.svg",Aa=function(){var e=Object(c.useContext)(X).editorDispatch;return Object(p.jsxs)("div",{className:ya.a.Dropdown,onClick:function(t){"IMG"===t.target.tagName?e({type:"setShapeToAdd",data:t.target.id}):t.target.classList.contains(ya.a.ShapeContainer)&&e({type:"setShapeToAdd",data:t.target.childNodes[0].id})},children:[Object(p.jsx)("div",{className:ya.a.ShapeContainer,children:Object(p.jsx)("img",{className:ya.a.Shape,src:Na,alt:"square",id:"square"})}),Object(p.jsx)("div",{className:ya.a.ShapeContainer,children:Object(p.jsx)("img",{className:ya.a.Shape,src:Ta,alt:"circle",id:"circle"})}),Object(p.jsx)("div",{className:ya.a.ShapeContainer,children:Object(p.jsx)("img",{className:ya.a.Shape,src:Da,alt:"triangle",id:"triangle"})}),Object(p.jsx)("div",{className:ya.a.ShapeContainer,children:Object(p.jsx)("img",{className:ya.a.Shape,src:Ia,alt:"line",id:"line"})})]})},Pa=a(39),Ra=a.n(Pa),Fa=["title","titleId"];function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ba(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function La(e,t){var a=e.title,n=e.titleId,r=Ba(e,Fa);return c.createElement("svg",Ma({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Zt||(Zt=c.createElement("path",{d:"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z",fill:"current"})),Jt||(Jt=c.createElement("path",{d:"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z",fill:"current"})),Qt||(Qt=c.createElement("path",{d:"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z",fill:"current"})),$t||($t=c.createElement("path",{d:"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z",fill:"current"})),ea||(ea=c.createElement("path",{d:"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z",fill:"current"})),ta||(ta=c.createElement("path",{d:"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z",fill:"current"})),aa||(aa=c.createElement("path",{d:"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z",fill:"current"})))}var Ea,za,Ua=c.forwardRef(La),Ha=(a.p,["title","titleId"]);function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Va(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qa(e,t){var a=e.title,n=e.titleId,r=Va(e,Ha);return c.createElement("svg",Wa({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Ea||(Ea=c.createElement("g",{clipPath:"url(#clip0)"},c.createElement("path",{d:"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z",fill:"current"}),c.createElement("path",{d:"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z",fill:"current"}),c.createElement("path",{d:"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z",fill:"current"}))),za||(za=c.createElement("defs",null,c.createElement("clipPath",{id:"clip0"},c.createElement("rect",{width:16,height:16,fill:"white"})))))}var Ga=c.forwardRef(qa),Ya=(a.p,function(){var e=Object(c.useContext)(X),t=e.editorState,a=e.editorDispatch,n=function(e){var t=!0;"subOff"===e.currentTarget.id&&(t=!1),a({type:"setIsSubtitles",data:t})};return Object(p.jsxs)("div",{className:Ra.a.Dropdown,children:[Object(p.jsx)("p",{className:Ra.a.Text,children:"Subtitles"}),Object(p.jsxs)("div",{className:Ra.a.Buttons,children:[Object(p.jsxs)("div",{className:[Ra.a.Button,t.isSubtitles?null:Ra.a.Active].join(" "),id:"subOff",onClick:n,children:[Object(p.jsx)(Ga,{fill:t.isSubtitles?"#000000":"#6F7BD0"}),Object(p.jsx)("p",{className:Ra.a.ButtonText,children:"Off"})]}),Object(p.jsxs)("div",{className:[Ra.a.Button,t.isSubtitles?Ra.a.Active:null].join(" "),id:"subOn",onClick:n,children:[Object(p.jsx)(Ua,{fill:t.isSubtitles?"#6F7BD0":"#000000"}),Object(p.jsx)("p",{className:Ra.a.ButtonText,children:"On"})]})]})]})}),Ka=a.p+"static/media/addText.3a1cc6fe.svg",Xa=a.p+"static/media/addImage.5167341a.svg",Za=a.p+"static/media/addShape.efc88c00.svg",Ja=a.p+"static/media/subtitles.7c1e1dd4.svg",Qa=a.p+"static/media/photo.3b16c800.jpg",$a=a.p+"static/media/photo2.92a250e9.jpg",en=function(e){var t=e.canvas,a=Object(c.useContext)(X),n=a.editorState,r=a.editorDispatch,i=Object(c.useState)([{src:Qa,type:"image"},{src:$a,type:"image"}]),o=Object(u.a)(i,2),s=o[0],l=o[1],d=function(e){if(t&&!n.shouldCropImage){var a="",i=e.currentTarget.id;"addText"===i?a="setShouldAddText":"addImage"===i?a="setIsImageDropdown":"addShape"===i?a="setIsShapeDropdown":"subtitles"===i&&(a="setIsSubtitlesDropdown"),r({type:a,data:!0}),n.isCropMode&&r({type:"setIsCropMode",data:!1})}};return Object(p.jsxs)("div",{className:Sa.a.ControlsContainer,children:[Object(p.jsxs)("div",{className:Sa.a.AddTextContainer,id:"addText",onClick:d,children:[Object(p.jsx)("img",{src:Ka,alt:"add text"}),Object(p.jsxs)("div",{className:Sa.a.HoverContent,children:[Object(p.jsx)("div",{className:Sa.a.HoverTriangle}),Object(p.jsx)("p",{className:Sa.a.HoverText,children:"Add text"})]})]}),Object(p.jsxs)("div",{className:Sa.a.DesignControl,children:[Object(p.jsxs)("div",{className:Sa.a.AddImageContainer,id:"addImage",onClick:d,children:[Object(p.jsx)("img",{src:Xa,alt:"add image"}),Object(p.jsxs)("div",{className:Sa.a.HoverContent,children:[Object(p.jsx)("div",{className:Sa.a.HoverTriangle}),Object(p.jsx)("p",{className:Sa.a.HoverText,children:"Add image"})]})]}),n.isImageDropdown||n.shouldReplaceImage||n.shouldAddCanvasBgImage?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Lt,{}),Object(p.jsx)("div",{className:Sa.a.ImageDropdown,children:Object(p.jsx)(ka,{userFiles:s,setUserFiles:l})})]}):null]}),Object(p.jsxs)("div",{className:Sa.a.DesignControl,children:[Object(p.jsxs)("div",{className:Sa.a.AddShapeContainer,id:"addShape",onClick:d,children:[Object(p.jsx)("img",{src:Za,alt:"add shape"}),Object(p.jsxs)("div",{className:Sa.a.HoverContent,children:[Object(p.jsx)("div",{className:Sa.a.HoverTriangle}),Object(p.jsx)("p",{className:Sa.a.HoverText,children:"Add shape"})]})]}),n.isShapeDropdown?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Lt,{}),Object(p.jsx)("div",{className:Sa.a.ShapeDropdown,children:Object(p.jsx)(Aa,{})})]}):null]}),Object(p.jsx)("div",{className:Sa.a.DesignControl,children:Object(p.jsxs)("div",{className:Sa.a.AddShapeContainer,id:"subtitles",onClick:d,children:[Object(p.jsx)("img",{src:Ja,alt:"subtitles"}),Object(p.jsxs)("div",{className:Sa.a.HoverContent,children:[Object(p.jsx)("div",{className:Sa.a.HoverTriangle}),Object(p.jsx)("p",{className:Sa.a.HoverText,children:"Subtitles"})]})]})}),n.isSubtitlesDropdown?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Lt,{}),Object(p.jsx)("div",{className:Sa.a.SubtitlesDropdown,children:Object(p.jsx)(Ya,{})})]}):null]})},tn=function(e){var t=e.canvas,a=(e.videoRef,e.videoCuts,e.duration,e.subList,e.fabricSub,e.viedoForUpload,e.setPreviewUrl),n=e.videoUrl,r=Object(c.useContext)(X),i=(r.editorState,r.editorDispatch,va()),o=i.isDownloading,s=i.downloadVideo,l=i.downloadedVideo,d=i.setDownloadedVideo,b=Object(c.useState)(null),j=Object(u.a)(b,2),f=j[0],O=j[1],g=Object(c.useState)(null),m=Object(u.a)(g,2),v=m[0],x=m[1],S=Object(c.useState)(null),_=Object(u.a)(S,2),C=_[0],k=_[1],w=Object(c.useState)(null),N=Object(u.a)(w,2),T=N[0],D=N[1],I=Object(c.useState)(null),A=Object(u.a)(I,2),P=A[0],R=A[1],F=Object(c.useState)(null),M=Object(u.a)(F,2),L=M[0],E=M[1],z=Object(c.useRef)(null),U=Object(c.useRef)(!1);Object(c.useEffect)((function(){return U.current=!0,function(){return U.current=!1}}),[]);Object(c.useEffect)((function(){f&&(s(f),O(null))}),[f,s]);var H=Object(c.useCallback)((function(e,t,a,n,r){var i=[Object(B.a)({},e)];t&&i.push(Object(B.a)({},t));var o={video:Object(B.a)({},a),elements:i,breaks:Object(h.a)(n),subtitles:Object(B.a)({},r)};console.log(o);var c=JSON.stringify(o);console.log(c),O(c),x(null),k(null),R(null),D(null),E(null)}),[]);return Object(c.useEffect)((function(){v&&null!==C&&T&&P&&L&&H(v,C,T,P,L)}),[v,C,T,H,P,L]),Object(p.jsx)(y,{children:Object(p.jsxs)("div",{className:ma.a.Navigation,children:[t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(en,{canvas:t}),Object(p.jsx)("button",{id:"downloadDesign",className:ma.a.DownloadButton,onClick:function(){a(n)},children:o?"Loading...":"Download"})]}):null,Object(p.jsx)("a",{className:ma.a.DownloadLink,ref:z,href:"/",children:"Download"}),l?Object(p.jsxs)("div",{className:ma.a.DownloadVideoContainer,children:[Object(p.jsx)("h2",{className:ma.a.Close,onClick:function(e){d(null)},children:"Close"}),Object(p.jsx)("video",{className:ma.a.DownloadVideo,style:{width:t.getWidth(),height:"auto"},id:"video",preload:"true",src:l,controls:!0})]}):null]})})},an={canvasState:{initialWidth:0,initialHeight:0,width:0,height:0,backgroundColor:"rgba(255,255,255,1)",shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1},shapeToAdd:null,imageToAdd:null,currentCoords:null,showToolbar:!1,shapeState:{fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0},imageState:{cornerRadius:0,isSvg:!1},isSubtitles:!1,isCropMode:!1,shouldCropImage:!1,isImageDropdown:!1,isSubtitlesDropdown:!1,isShapeDropdown:!1,isResizeDropdown:!1,isCanvasBgColorDropdown:!1,isDownloadDropdown:!1,shouldAddText:!1,shouldUpdateText:!1,shouldUpdateSubtitles:!1,shouldUpdateShape:!1,shouldUpdateImage:!1,shouldReplaceImage:!1,currentObject:{type:"",object:null},textState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:30,fill:"rgba(0,0,0,1)",textAlign:"left"},subtitlesState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:24,fill:"rgba(0,0,0,1)",backgroundColor:"rgba(255,255,255,1)",initialBackground:"rgba(255,255,255,1)"}},nn=function(e,t){switch(t.type){case"setCanvasState":return Object(B.a)(Object(B.a)({},e),{},{canvasState:t.data});case"setIsDownloadDropdown":return Object(B.a)(Object(B.a)({},e),{},{isDownloadDropdown:t.data});case"setIsSubtitles":return Object(B.a)(Object(B.a)({},e),{},{isSubtitles:t.data,isSubtitlesDropdown:!1});case"setIsCropMode":return Object(B.a)(Object(B.a)({},e),{},{isCropMode:t.data});case"setShouldCropImage":return Object(B.a)(Object(B.a)({},e),{},{shouldCropImage:t.data});case"setIsImageDropdown":return Object(B.a)(Object(B.a)({},e),{},{isImageDropdown:t.data});case"setIsSubtitlesDropdown":return Object(B.a)(Object(B.a)({},e),{},{isSubtitlesDropdown:t.data});case"setIsShapeDropdown":return Object(B.a)(Object(B.a)({},e),{},{isShapeDropdown:t.data});case"setIsResizeDropdown":return Object(B.a)(Object(B.a)({},e),{},{isResizeDropdown:t.data});case"setIsCanvasBgColorDropdown":return Object(B.a)(Object(B.a)({},e),{},{isCanvasBgColorDropdown:t.data});case"setCurrentCoords":return Object(B.a)(Object(B.a)({},e),{},{currentCoords:t.data});case"setShowToolbar":return Object(B.a)(Object(B.a)({},e),{},{showToolbar:t.data});case"setShowCanvasToolbar":return Object(B.a)(Object(B.a)({},e),{},{showCanvasToolbar:t.data});case"setShouldAddText":return Object(B.a)(Object(B.a)({},e),{},{shouldAddText:t.data});case"setShouldUpdateText":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:t.data});case"setShouldUpdateSubtitles":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:t.data});case"setShouldUpdateShape":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateShape:t.data});case"setShouldUpdateImage":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateImage:t.data});case"setCurrentObject":return Object(B.a)(Object(B.a)({},e),{},{currentObject:t.data});case"setShapeToAdd":return Object(B.a)(Object(B.a)({},e),{},{shapeToAdd:t.data,isShapeDropdown:!1});case"setImageToAdd":return Object(B.a)(Object(B.a)({},e),{},{imageToAdd:t.data,isImageDropdown:!1});case"setShapeState":return Object(B.a)(Object(B.a)({},e),{},{shapeState:Object(B.a)({},t.data)});case"setImageState":return Object(B.a)(Object(B.a)({},e),{},{imageState:Object(B.a)({},t.data)});case"setTextState":return Object(B.a)(Object(B.a)({},e),{},{textState:Object(B.a)({},t.data)});case"setSubtitlesState":return Object(B.a)(Object(B.a)({},e),{},{subtitlesState:Object(B.a)({},t.data)});case"setShouldReplaceImage":return Object(B.a)(Object(B.a)({},e),{},{shouldReplaceImage:t.data});case"setShouldUpdateCanvas":return Object(B.a)(Object(B.a)({},e),{},{canvasState:Object(B.a)(Object(B.a)({},e.canvasState),{},{shouldUpdateCanvas:t.data})});case"setShouldUpdateCanvasSize":return Object(B.a)(Object(B.a)({},e),{},{canvasState:Object(B.a)(Object(B.a)({},e.canvasState),{},{shouldUpdateCanvasSize:t.data})});case"setCanvasBackgroundColor":return Object(B.a)(Object(B.a)({},e),{},{canvasState:Object(B.a)(Object(B.a)({},e.canvasState),{},{shouldUpdateCanvas:!0,backgroundColor:t.data})});case"setCanvasSize":return Object(B.a)(Object(B.a)({},e),{},{canvasState:Object(B.a)(Object(B.a)({},e.canvasState),{},{shouldUpdateCanvasSize:!0,width:t.data.width,height:t.data.height})});case"setCanvasInitialSize":return Object(B.a)(Object(B.a)({},e),{},{canvasState:Object(B.a)(Object(B.a)({},e.canvasState),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight,width:t.data.width,height:t.data.height})});case"setImageCornerRadius":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateImage:!0,imageState:Object(B.a)(Object(B.a)({},e.imageState),{},{cornerRadius:t.data})});case"setShapeRadius":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(B.a)(Object(B.a)({},e.shapeState),{},{rx:t.data,ry:t.data})});case"setShapeFill":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(B.a)(Object(B.a)({},e.shapeState),{},{fill:t.data})});case"setShapeStroke":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(B.a)(Object(B.a)({},e.shapeState),{},{stroke:t.data})});case"setShapeStrokeWidth":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(B.a)(Object(B.a)({},e.shapeState),{},{strokeWidth:t.data})});case"setFontFamily":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{fontFamily:t.data})});case"setFontStyle":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{fontStyle:t.data})});case"setFontWeight":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{fontWeight:t.data})});case"setFontSize":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{fontSize:t.data})});case"setTextFill":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{fill:t.data})});case"setTextAlign":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateText:!0,textState:Object(B.a)(Object(B.a)({},e.textState),{},{textAlign:t.data})});case"setSubtitlesbackgroundColor":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{backgroundColor:t.data})});case"setSubtitlesFontFamily":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{fontFamily:t.data})});case"setSubtitlesFontStyle":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{fontStyle:t.data})});case"setSubtitlesFontWeight":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{fontWeight:t.data})});case"setSubtitlesFontSize":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{fontSize:t.data})});case"setSubtitlesTextFill":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{fill:t.data})});case"setSubtitlesTextAlign":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(B.a)(Object(B.a)({},e.subtitlesState),{},{textAlign:t.data})});default:return e}},rn=function(){var e=Object(c.useReducer)(nn,an),t=Object(u.a)(e,2);return[t[0],t[1]]},on=a(22),cn=a.n(on),sn=a.p+"static/media/exportArrow.c689eecd.svg",ln=a.p+"static/media/copyLink.5e74e957.svg",dn=a(110),un=a.n(dn),bn=a(82),jn=a.n(bn),hn=a.p+"static/media/play.9d2790f6.svg",pn=a.p+"static/media/pause.a79a25bd.svg",fn=a.p+"static/media/fullScreen.29824e77.svg",On=function(e,t){var a,n=!1;document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():((a=e).requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(),n=!0),t(n)},gn=a(111),mn=a.n(gn),vn=a(162),xn=a.n(vn),Sn=function(e,t,a,n){n.current.style.backgroundSize=100*(e-t)/(a-t)+"% 100%"},_n=function(e){var t=e.min,a=e.max,n=e.step,r=e.value,i=e.setValue,o=Object(c.useRef)(null);return Object(c.useEffect)((function(){Sn(r,t,a,o)}),[r,t,a]),Object(p.jsx)("input",{type:"range",ref:o,className:xn.a.Slider,min:t,max:a,step:n,value:r,onChange:function(e){return i(e.target.value)}})},Cn=function(e){var t=e.duration,a=e.time,n=e.setTime,r=(e.isPlaying,Object(c.useState)(!1)),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(null),d=Object(c.useState)("00:00"),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useCallback)((function(e){var t="",a=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);a>0?(t+=a<10?"0"+a+":":a+":",s(!0)):s(!1),n<10&&(t+="0"),t+=n+":",r<10&&(t+="0"),h(t+=r)}),[]);return Object(c.useEffect)((function(){l.current.style.width=o?"4rem":"3rem"}),[o]),Object(c.useEffect)((function(){f(a)}),[a,f]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{ref:l,className:mn.a.Time,children:j}),Object(p.jsx)("div",{className:mn.a.Timeline,children:Object(p.jsx)(_n,{min:"0",max:t,step:"0.01",value:a,setValue:n})})]})},kn=a(64),wn=a.n(kn),yn=a.p+"static/media/volume.067c7611.svg",Nn=a(163),Tn=a.n(Nn),Dn=function(e){var t=e.min,a=e.max,n=e.step,r=e.value,i=e.setValue,o=Object(c.useRef)(null);return Object(c.useEffect)((function(){Sn(r,t,a,o)}),[r,t,a]),Object(p.jsx)("input",{type:"range",ref:o,className:Tn.a.Slider,min:t,max:a,step:n,value:r,onChange:function(e){return i(e.target.value)}})},In=function(e){var t=e.video,a=e.volume,n=e.setVolume,r=Object(c.useRef)("1");Object(c.useEffect)((function(){console.log(a),r.current=a,t.volume=a}),[t,a]);return Object(p.jsxs)("button",{className:wn.a.Volume,children:[Object(p.jsxs)("div",{className:wn.a.VolumeButton,onClick:function(){0===+a&&+r.current>0?n(r.current):0===+a?(r.current="1",n("1")):(r.current=a,n("0"))},children:[Object(p.jsx)("img",{src:yn,alt:"volume"}),0===+a?Object(p.jsx)("div",{className:wn.a.VolumeOff}):null]}),Object(p.jsx)("div",{className:wn.a.VolumeBar,children:Object(p.jsx)(Dn,{min:"0",max:"1",step:"0.1",value:a,setValue:n})})]})},An=function(e){var t=e.video,a=e.container,n=e.duration,r=e.time,i=e.setTime,o=e.isPlaying,s=Object(c.useState)(!1),l=Object(u.a)(s,2),d=(l[0],l[1]),b=Object(c.useState)("1"),j=Object(u.a)(b,2),h=j[0],f=j[1];return Object(p.jsxs)("div",{className:jn.a.Controls,children:[Object(p.jsx)("button",{className:jn.a.PlayPause,onClick:function(){o?t.pause():t.play()},children:o?Object(p.jsx)("img",{src:pn,alt:"pause"}):Object(p.jsx)("img",{src:hn,alt:"play"})}),Object(p.jsx)(Cn,{duration:n,time:r,setTime:i,isPlaying:o}),Object(p.jsx)(In,{video:t,volume:h,setVolume:f}),Object(p.jsx)("button",{className:jn.a.FullScreen,onClick:function(){return On(a,d)},children:Object(p.jsx)("img",{src:fn,alt:"full screen"})})]})},Pn=function(e){var t=e.url,a=Object(c.useState)(0),n=Object(u.a)(a,2),r=n[0],i=n[1],o=Object(c.useRef)(null),s=Object(c.useRef)(null),l=Object(c.useState)(0),d=Object(u.a)(l,2),b=d[0],j=d[1],h=Object(c.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1];return Object(p.jsxs)("div",{className:un.a.VideoContainer,ref:s,children:[Object(p.jsx)("video",{className:un.a.Video,src:t,preload:"auto",ref:o,controls:!0,onLoadedMetadata:function(){i(o.current.duration)},onTimeUpdate:function(){return j(o.current.currentTime)},onPause:function(){g(!1)},onPlay:function(){g(!0)},onEnded:function(){}}),r?Object(p.jsx)(An,{video:o.current,container:s.current,duration:r,time:b,setTime:j,isPlaying:O}):null]})},Rn=function(e){var t=e.previewUrl,a=e.setPreviewUrl,n=e.words,r=Object(c.useMemo)((function(){return function(e){for(var t="",a=0;a<e.length;a++){var n=e[a];n.active&&!n.silence&&(t+="".concat(n.text," "))}return t.slice(0,t.length-1)}(n)}),[n]);return console.log("Rerender"),Object(p.jsxs)("div",{className:cn.a.Preview,children:[Object(p.jsx)(y,{setPreviewUrl:a}),Object(p.jsx)("main",{className:cn.a.Main,children:Object(p.jsxs)("div",{className:cn.a.MainContent,children:[Object(p.jsx)("div",{className:cn.a.CustomPlayer,children:Object(p.jsx)(Pn,{url:t})}),Object(p.jsxs)("div",{className:cn.a.VideoFooter,children:[Object(p.jsx)("p",{className:cn.a.Title,children:"Untitled"}),Object(p.jsxs)("div",{className:cn.a.DownloadAndLink,children:[Object(p.jsx)("button",{className:cn.a.Download,onClick:function(){return function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","untitled.mp4"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(t)},children:"Download"}),Object(p.jsxs)("button",{className:cn.a.CopyLink,children:[Object(p.jsx)("img",{src:ln,alt:"copy"}),Object(p.jsx)("span",{children:"Copy public link"})]})]})]}),Object(p.jsxs)("div",{className:cn.a.HeadlineAndExport,children:[Object(p.jsx)("p",{className:cn.a.Headline,children:"Give your articale a hedline!"}),Object(p.jsxs)("button",{className:cn.a.ExportButton,onClick:function(){return function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","untitled"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(r)},children:[Object(p.jsx)("span",{children:"Export text"}),Object(p.jsx)("img",{src:sn,alt:"arrow"})]})]}),Object(p.jsx)("p",{className:cn.a.Text,children:r})]})})]})},Fn=function(e){var t=e.viedoForUpload,a=e.videoUrl,n=e.words,r=e.videoRef,i=e.duration,o=e.speakers,s=rn(),l=Object(u.a)(s,2),d=l[0],b=l[1],j=Object(c.useState)(null),h=Object(u.a)(j,2),f=h[0],O=h[1],g=Object(c.useState)(0),m=Object(u.a)(g,2),v=m[0],x=m[1],S=Object(c.useState)(!1),_=Object(u.a)(S,2),C=_[0],k=_[1],y=Object(c.useState)(null),N=Object(u.a)(y,2),D=N[0],I=N[1],A=Object(c.useState)(null),P=Object(u.a)(A,2),R=P[0],F=P[1],M=Object(c.useState)(null),B=Object(u.a)(M,2),L=B[0],E=B[1],z=Object(c.useState)(!1),U=Object(u.a)(z,2),H=U[0],W=U[1],q=Object(c.useState)(null),G=Object(u.a)(q,2),Y=G[0],K=G[1],Z=Object(c.useState)(null),J=Object(u.a)(Z,2),Q=J[0],$=J[1],ee=Object(c.useState)(null),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(c.useState)(null),ie=Object(u.a)(re,2),oe=ie[0],ce=ie[1],se=Object(c.useState)([]),le=Object(u.a)(se,2),de=le[0],ue=le[1],be=Object(c.useState)(null),je=Object(u.a)(be,2),he=je[0],pe=je[1],fe=Object(w.i)(),Oe=Object(w.g)(),ge=Object(c.useRef)(!0);Object(c.useEffect)((function(){a&&(r.current.src=a)}),[a,r]);return Object(c.useEffect)((function(){ge.current&&he&&(ge.current=!1,C&&r.current&&r.current.pause())}),[he,Oe,fe.path,C,r]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(X.Provider,{value:{editorState:d,editorDispatch:b},children:[Object(p.jsx)(tn,{canvas:Y,videoRef:r,videoCuts:de,duration:i,words:n,subList:oe,fabricSub:Q,viedoForUpload:t,setPreviewUrl:pe,previewUrl:he,videoUrl:a}),Object(p.jsxs)("main",{className:T.a.Main,children:[Object(p.jsx)(V,{className:T.a.VideoEditor,words:n,currentWordIndex:v,setCurrentWordIndex:x,isPlaying:C,videoRef:r,setCuts:ue,currentSelection:f,setCurrentSelection:O,setPlayerTime:function(e){var t="0";if(null!==e){var a=n[e];t=a.end,r.current.currentTime=+a.start,I(+a.start)}for(var i=0,o=0;o<de.length;o++){+t>+de[o].end&&i++}F(i)},currentSub:ae,setCurrentSub:ne,fabricSub:Q,setShouldRerenderSub:W}),Object(p.jsx)(ha,{videoRef:r,canvas:Y,setCanvas:K,isPlaying:C,words:n,currentTime:D,videoCuts:de,setNextCutIndex:F,setCurrentWordIndex:x,nextCutIndex:R,currentWordIndex:v,subList:oe,setSubList:ce,fabricSub:Q,setFabricSub:$,currentSub:ae,setCurrentSub:ne,videoSize:L,shouldRerenderSub:H,setShouldRerenderSub:W,speakers:o}),Object(p.jsx)(Oa,{videoRef:r,setIsPlaying:k,currentSelection:f,setCurrentSelection:O,setCurrentTime:I,videoSize:L,videoCuts:de,words:n,setVideoSize:E,setNextCutIndex:F,setCurrentWordIndex:x,setCurrentSub:ne,subList:oe})]}),he?Object(p.jsx)(Rn,{previewUrl:he,setPreviewUrl:pe,words:n}):null]})})},Mn=a(167),Bn=["component","where","allowed","redirect"],Ln=function(e){var t=e.component,a=(e.where,e.allowed),n=e.redirect,r=Object(Mn.a)(e,Bn);return Object(p.jsx)(w.b,Object(B.a)(Object(B.a)({},r),{},{children:a?Object(p.jsx)(t,Object(B.a)({},r)):Object(p.jsx)(w.a,{to:n})}))},En=a(20),zn=a.n(En),Un=a.p+"static/media/addSpeaker.31a691a5.svg",Hn=a.p+"static/media/removeSpeaker.65ea7d89.svg",Wn=a(164),Vn=a.n(Wn),qn=Object(c.createContext)(null),Gn=function(e,t,a,n,r,i,o){var s=Object(c.useContext)(qn),l=s.speakersState,d=s.speakersDispatch;Object(c.useEffect)((function(){a&&l.shouldAddSpeaker&&(d({type:"setShouldAddSpeaker",data:!1}),Se(n,i,e,r,o,a))}),[n,l,d,e,a,r,i,o]),Object(c.useEffect)((function(){if(a&&l.shouldRemoveSpeaker){d({type:"setShouldRemoveSpeaker",data:!1});var t=e.getActiveObject();t&&(e.remove(t),r((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.requestRenderAll())}}),[l,d,e,a,r])},Yn=function(e){var t=e.canvas,a=e.setCanvas,n=e.canvasState,r=e.canvasDispatch,i=e.videoRef,o=e.setBoxArr,s=e.duration,l=e.boxArr,d=Object(c.useState)(null),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)(null),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)(1),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useCallback)((function(){return _((function(e){return e+1}))}),[]);return be(n,j,t,null,null),ve(n,r,t),ke(n,a,h,"speakerCanvas"),we(i.current,t,s/10,!1,m),Gn(t,j,g,l,o,S,C),Object(p.jsx)("div",{className:Vn.a.Canvas,children:Object(p.jsx)("canvas",{id:"speakerCanvas"})})},Kn={initialWidth:0,initialHeight:0,width:0,height:0,shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,shouldAddSpeaker:!0,shouldRemoveSpeaker:!1},Xn=function(e,t){switch(t.type){case"setCanvasSize":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateCanvasSize:!0,width:t.data.width,height:t.data.height});case"setCanvasInitialSize":return Object(B.a)(Object(B.a)({},e),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight,width:t.data.width,height:t.data.height});case"setShouldUpdateCanvas":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateCanvas:t.data});case"setShouldUpdateCanvasSize":return Object(B.a)(Object(B.a)({},e),{},{shouldUpdateCanvasSize:t.data});case"setShouldAddSpeaker":return Object(B.a)(Object(B.a)({},e),{},{shouldAddSpeaker:t.data});case"setShouldRemoveSpeaker":return Object(B.a)(Object(B.a)({},e),{},{shouldRemoveSpeaker:t.data});default:return e}},Zn=function(){var e=Object(c.useReducer)(Xn,Kn),t=Object(u.a)(e,2);return[t[0],t[1]]},Jn=function(e){var t=e.videoUrl,a=e.duration,n=e.setSpeakers,r=Zn(),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(w.g)(),d=Object(c.useState)(null),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)(null),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useRef)(null),x=Object(c.useRef)(null),S=Object(c.useState)(null),_=Object(u.a)(S,2),C=_[0],k=_[1],N=Object(c.useState)([]),T=Object(u.a)(N,2),D=T[0],I=T[1];Object(c.useEffect)((function(){n([])}),[n]),ca(C,g,s,v,m,200);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{}),Object(p.jsx)(qn.Provider,{value:{speakersState:o,speakersDispatch:s},children:Object(p.jsxs)("div",{className:zn.a.SelectSpeakers,ref:v,children:[Object(p.jsx)("h1",{className:zn.a.Heading,children:"Select area with speakers"}),Object(p.jsx)(Yn,{canvas:j,setCanvas:h,canvasState:o,canvasDispatch:s,videoRef:x,boxArr:D,setBoxArr:I,duration:a}),Object(p.jsx)("video",{src:t,width:C?C.width:0,height:C?C.height:0,id:"video",preload:"auto",className:zn.a.Video,ref:x,onLoadedMetadata:function(){return oa(x,k)}}),Object(p.jsxs)("p",{className:zn.a.SelectedText,children:[Object(p.jsx)("span",{className:zn.a.SelectedNumber,children:D.length})," speaker".concat(1!==D.length?"s":""," selected")]}),Object(p.jsxs)("div",{className:zn.a.SpeakerButtons,children:[Object(p.jsxs)("div",{className:zn.a.AddSpeakerButton,children:[Object(p.jsx)("button",{className:zn.a.AddSpeakers,onClick:function(){s({type:"setShouldAddSpeaker",data:!0})},children:Object(p.jsx)("img",{src:Un,alt:"add"})}),Object(p.jsx)("p",{className:zn.a.AddSpeakersText,children:"Add speakers"})]}),Object(p.jsxs)("div",{className:zn.a.RemoveSpeakerButton,children:[Object(p.jsx)("button",{className:zn.a.RemoveSpeakers,onClick:function(){s({type:"setShouldRemoveSpeaker",data:!0})},children:Object(p.jsx)("img",{src:Hn,alt:"add"})}),Object(p.jsx)("p",{className:zn.a.RemoveSpeakersText,children:"Remove"})]})]}),Object(p.jsxs)("div",{className:zn.a.NextSteps,children:[Object(p.jsx)("button",{className:zn.a.Confirm,onClick:function(){for(var e=[],t=0;t<D.length;t++){var a=D[t],r=a.width*a.scaleX,i=a.height*a.scaleY,o=a.lineCoords.tl.x/j.getZoom(),c=a.lineCoords.tr.y/j.getZoom();e.push({x:o,y:c,w:r,h:i})}n(e),l.push("/editor/video-editor")},children:"Confirm"}),Object(p.jsx)("button",{className:zn.a.Skip,onClick:function(){return l.push("/editor/video-editor")},children:"Skip"})]})]})})]})},Qn=a(112),$n=a.n(Qn),er=[{active:!0,silence:!0,start:0,end:"0.40",_id:"8pj5xgrk6mwefrcvt3a7ud"},{active:!0,_id:"qz2tfiwit9y9wh29qt7s",text:"Adina",start:"0.40",end:"0.90"},{active:!0,_id:"usbdkop50xglt5icy8quc",text:"Jackson",start:"0.90",end:"1.50"},{active:!0,_id:"5k9c8f35eufjz7gnrujis",text:"family,",start:"1.50",end:"1.90"},{active:!0,_id:"we4m0w97vh8ymz2t7pfcm",text:"practice",start:"1.90",end:"2.30"},{active:!0,_id:"zqgjhhby42h7kyarunm38j",text:"in",start:"2.30",end:"2.40"},{active:!0,_id:"7xj5k6kacqlo2hpi7scke8",text:"Pediatrics",start:"2.40",end:"3.10"},{active:!0,_id:"8gh575dw3dvdnwi0qoev5k",text:"now",start:"3.10",end:"3.20"},{active:!0,_id:"5coejebv19agrnm0nzrfj",text:"has",start:"3.20",end:"3.40"},{active:!0,_id:"to5hngrec4gf30i3lxxg5q",text:"three",start:"3.40",end:"3.90"},{active:!0,_id:"x7wmk1vofk1hz308yjc05",text:"convenient",start:"3.90",end:"4.40"},{active:!0,_id:"bou8hu99yequhxcyz8y7m",text:"locations",start:"4.40",end:"5.0"},{active:!0,_id:"utx3nwgb4ik284hxhui79e",text:"in",start:"5.0",end:"5.10"},{active:!0,_id:"kgf0w9x38bekiacl5uvhe",text:"Jackson",start:"5.10",end:"5.80"},{active:!0,_id:"tbf63owsk38r72fj19czp",text:"Oak",start:"5.80",end:"6.0"},{active:!0,_id:"0koalqqlvyrkow7aba355n",text:"Hill",start:"6.0",end:"6.50"},{active:!0,_id:"0oz5g4cryqqvvo71ww2l8",text:"and",start:"6.50",end:"6.60"},{active:!0,_id:"jik88mga7pswaq63nx0ic7",text:"our",start:"6.60",end:"6.70"},{active:!0,_id:"nl9s5t4z7ecbalccbz7hj",text:"new",start:"6.70",end:"6.90"},{active:!0,_id:"02gi6qrl9dba0hni2h2t6juf",text:"clinic.",start:"6.90",end:"7.20"},{active:!0,_id:"j4s5x62n68ir51dtnpz9jj",text:"In",start:"7.20",end:"7.40"},{active:!0,_id:"q25n4acn11jvqj05fc4x",text:"Wellston",start:"7.40",end:"7.80"},{active:!0,_id:"uiw62hodzubzr3oxdxzxc",text:"opening.",start:"7.80",end:"8.20"},{active:!0,_id:"07sc7o0f0d8gc9a8ki9rw6p",text:"In",start:"8.20",end:"8.30"},{active:!0,_id:"7swqhmj23fnch27g7btq9n",text:"December",start:"8.30",end:"8.80"},{active:!0,_id:"04lwf86jcyqulz73o2nbi0m",text:"2015,",start:"8.80",end:"10.0"},{active:!0,_id:"l6cok5pilzchnhj7tm3wq",text:"we're",start:"10.0",end:"10.10"},{active:!0,_id:"qks5g0qmkql5x77egr1roi",text:"here",start:"10.10",end:"10.20"},{active:!0,_id:"dw9oy5ddjaj7208wyap3l8",text:"for",start:"10.20",end:"10.50"},{active:!0,_id:"zn9sbwaaryfzmffeg2ph1k",text:"every",start:"10.50",end:"10.80"},{active:!0,_id:"fcrk2tfgl94yn998bf0lho",text:"member",start:"10.80",end:"11.0"},{active:!0,_id:"uxr49dr84tt5jnqaff5kn",text:"of",start:"11.0",end:"11.10"},{active:!0,_id:"7ftc3qcm98vr24l5mtmtuj",text:"your",start:"11.10",end:"11.30"},{active:!0,_id:"0n5pft0jzrnckdu24shfxyo",text:"family",start:"11.30",end:"11.70"},{active:!0,_id:"c3knuc5hyih3et4hjq0z2x",text:"from",start:"11.70",end:"11.90"},{active:!0,_id:"8yh223e2bvshz7zqc8to7",text:"the",start:"11.90",end:"12.0"},{active:!0,_id:"5phonk47fkxabxea407rg6",text:"youngest",start:"12.0",end:"12.60"},{active:!0,_id:"m72e0ji2ibjtmh7b062wem",text:"to",start:"12.60",end:"12.70"},{active:!0,_id:"ec6eqtyasl6v39fjfxi5o",text:"the",start:"12.70",end:"12.90"},{active:!0,_id:"5ngy4ra0ak8rrzhy21o22i",text:"oldest",start:"12.90",end:"13.50"},{active:!0,silence:!0,start:"13.50",end:"13.60",_id:"8unfjnr8vtr8a9uy2vepek"},{active:!0,_id:"h46hzivaru7w1ddn3e41je",text:"and",start:"13.60",end:"13.70"},{active:!0,_id:"7zhzz2a3uefnki7kyqzs7m",text:"with",start:"13.70",end:"13.90"},{active:!0,_id:"xkkyb2qd0clnjr7dhowy8b",text:"same-day",start:"13.90",end:"14.20"},{active:!0,_id:"s30cqe2mlhal0nheu5iha",text:"appointments",start:"14.20",end:"14.70"},{active:!0,_id:"62o0q6o68p54qecm3x512",text:"and",start:"14.70",end:"14.80"},{active:!0,_id:"89pher6ka0jz5aahglrkzm",text:"extended",start:"14.80",end:"15.20"},{active:!0,_id:"st6bojekm2szrn3xwf85cd",text:"hours",start:"15.20",end:"15.50"},{active:!0,_id:"2o13e8vwkcxn8xbtdgwjnl",text:"it's",start:"15.50",end:"15.70"},{active:!0,_id:"fk1zf1qppcgt701hc8py9",text:"never",start:"15.70",end:"15.90"},{active:!0,_id:"9izexc5cogpwucgy5kogq",text:"been",start:"15.90",end:"16.20"},{active:!0,_id:"jmi4qqoy0lhymqxitpoz9",text:"easier",start:"16.20",end:"16.60"},{active:!0,_id:"deg1mqi1q8egiitlpmlvx7",text:"to",start:"16.60",end:"16.70"},{active:!0,_id:"zbl7hbo4gomd9famlx0q9f",text:"get",start:"16.70",end:"16.90"},{active:!0,_id:"hlkz3epuehvaxt6qb3mw3q",text:"the",start:"16.90",end:"17.0"},{active:!0,_id:"hd87rti941b9g5jahng5",text:"care",start:"17.0",end:"17.30"},{active:!0,_id:"c37kghf466d2p4sllschlk",text:"you",start:"17.30",end:"17.60"},{active:!0,_id:"b4f5baz1pin6a7jcemzvyd",text:"need",start:"17.60",end:"18.0"},{active:!0,_id:"zdtwpoq061ajbsealc6k9",text:"when",start:"18.0",end:"18.20"},{active:!0,_id:"vrocluyz2ip0ubzobcp74la",text:"you",start:"18.20",end:"18.40"},{active:!0,_id:"onkuwxye02fhtzflmw7zr4",text:"need",start:"18.40",end:"18.70"},{active:!0,_id:"f90lgm2pws9oos3i4i7t9r",text:"it,",start:"18.70",end:"19.0"},{active:!0,silence:!0,start:"19.0",end:"19.10",_id:"dw8gqf1vbphz5bd6t2iwi"},{active:!0,_id:"gbrmjjw0qnvj2jyriu41tn",text:"schedule",start:"19.10",end:"19.40"},{active:!0,_id:"zrsp0qgxpldc0l30vycx",text:"an",start:"19.40",end:"19.60"},{active:!0,_id:"2vf8inb8fe9aznj53r9jwf",text:"appointment",start:"19.60",end:"20.0"},{active:!0,_id:"7ze1k9zeb5ysx32xi5zwrk",text:"today",start:"20.0",end:"20.30"},{active:!0,_id:"hafi4x7kq06kmrsre1p3r",text:"at",start:"20.30",end:"20.40"},{active:!0,_id:"r5minl7rt3d0uwm8r8pvzab",text:"a,",start:"20.40",end:"20.50"},{active:!0,_id:"m3bxtuqbvw23ibova1aun",text:"Dina",start:"20.50",end:"20.80"},{active:!0,_id:"tkbym6guy58q6vfsyyktm",text:"dot-org",start:"20.80",end:"21.30"},{active:!0,_id:"opi1ntzzno9gh38vc7ilw",text:"forward",start:"21.30",end:"21.60"},{active:!0,_id:"r9h0hc7mewdh14etce9mi",text:"slash",start:"21.60",end:"21.90"},{active:!0,_id:"6ix3i7s7fdwqidcm5h6woi",text:"Jackson",start:"21.90",end:"22.50"},{active:!0,_id:"lbmtocshyskzdwx29b8y",text:"or",start:"22.50",end:"22.60"},{active:!0,_id:"nebbypr7oxfzn837g9em6",text:"call",start:"22.60",end:"22.80"},{active:!0,_id:"6kd9wgopjee69qdg79bjgn",text:"740",start:"22.80",end:"23.70"},{active:!0,_id:"hibtgu54ccest62kxgo78t",text:"779.",start:"23.70",end:"24.80"},{active:!0,_id:"iu14xu7tjbopnia47qdfn",text:"Fine",start:"24.80",end:"25.40"},{active:!0,silence:!0,start:"25.40",end:"25.50",_id:"47ic3nvnjghek57x0hqgj"},{active:!0,_id:"j7iq05n1z1z5ns2go7yi",text:"Edina",start:"25.50",end:"25.90"},{active:!0,_id:"5xeo0gv6ra38cf3bckdxpd",text:"Health",start:"25.90",end:"26.20"},{active:!0,_id:"dne5kk8j8xtd2cvxvbgzya",text:"System",start:"26.20",end:"26.80"},{active:!0,silence:!0,start:"26.80",end:"26.90",_id:"5nxeaxt16rcx6k2n5n2kdq"},{active:!0,_id:"cgvd8yvggt5jcn1jlomcj9",text:"here",start:"26.90",end:"27.30"},{active:!0,silence:!0,start:"27.30",end:"27.50",_id:"16nh45t7epv7bxqqvql0i"},{active:!0,_id:"8z8r3h0tszyffulkxpg4co",text:"for",start:"27.50",end:"27.70"},{active:!0,_id:"43n32n12a4al2trz7lyl8",text:"life.",start:"27.70",end:"28.20"},{active:!0,silence:!0,start:"28.20",end:30.119184,_id:"2z0wrjs4y891iqk4az40idi"}],tr=function(e){var t=e.setIsFinished,a=e.setVideoUrl,n=e.setDuration,r=e.wordsRef,i=e.setVideoForUpload,o=e.clearState,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){o()}),[o]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{}),Object(p.jsxs)("div",{className:$n.a.UploaderMock,children:[Object(p.jsx)("button",{className:$n.a.UploadVideo,onClick:function(){return s.current.click()},children:"Upload video"}),Object(p.jsx)("input",{ref:s,type:"file",accept:"video/mp4",style:{display:"none"},onChange:function(){i(s.current.files[0]),a(URL.createObjectURL(s.current.files[0])),n(175.56898),r.current=Object(h.a)(er),t(!0)}})]})]})},ar=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(null),d=Object(u.a)(l,2),b=d[0],h=d[1],f=Object(c.useState)(null),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)([]),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useRef)(null),k=Object(w.i)(),y=Object(c.useRef)(null),N=Object(c.useCallback)((function(){y.current=null,h(null),m(null),s(!1),n(null),_([])}),[]);return Object(p.jsx)("div",{className:j.a.Editor,children:Object(p.jsxs)(w.d,{children:[Object(p.jsx)(Ln,{path:"".concat(k.path,"/new"),redirect:"".concat(k.path,"/speakers"),where:"in the Editor new route",allowed:!o,component:tr,viedoForUpload:a,setVideoForUpload:n,setIsFinished:s,setVideoUrl:m,setDuration:h,wordsRef:y,clearState:N}),Object(p.jsx)(Ln,{path:"".concat(k.path,"/speakers"),redirect:"".concat(k.path,"/video-editor"),where:"in the Editor speakers route",allowed:o,component:Jn,videoUrl:g,duration:b,setSpeakers:_}),Object(p.jsx)(Ln,{path:"".concat(k.path,"/video-editor"),redirect:"".concat(k.path,"/new"),where:"in the Editor video-editor route",allowed:o,component:Fn,viedoForUpload:a,videoUrl:g,words:y.current,videoRef:C,duration:b,speakers:S}),Object(p.jsx)(w.a,{to:"".concat(k.path,"/new")})]})})},nr=a(40),rr=a.n(nr),ir=a.p+"static/media/saly.d86e3215.png",or=a.p+"static/media/twiso.2070abef.svg",cr=a(44),sr=a.n(cr),lr=a.p+"static/media/google.7575ce4f.svg",dr=a(165),ur=a.n(dr),br=function(e){var t=e.children,a=e.onClick;return Object(p.jsx)("button",{onClick:a,className:ur.a.Button,children:t})},jr=a(65),hr=a.n(jr),pr=function(){return Object(p.jsxs)("div",{className:hr.a.Or,children:[Object(p.jsx)("div",{className:hr.a.Line}),Object(p.jsx)("span",{className:hr.a.Text,children:"or"}),Object(p.jsx)("div",{className:hr.a.Line})]})},fr=a(66),Or=a.n(fr),gr=function(e){var t=e.placeholder,a=e.type,n=e.invalid,r=e.setValue,i=e.value,o=e.errorMessage;return Object(p.jsxs)("div",{className:Or.a.InputContainer,children:[Object(p.jsx)("input",{className:[Or.a.Input,n?Or.a.Invalid:null].join(" "),placeholder:t,type:a,value:i,onBlur:function(){var e=""===i.trim();n&&!e&&r((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!1})}))},onFocus:function(){n&&r((function(e){return Object(B.a)(Object(B.a)({},e),{},{value:""})}))},onChange:function(e){return r((function(t){return Object(B.a)(Object(B.a)({},t),{},{value:e.target.value})}))}}),n?Object(p.jsx)("div",{className:Or.a.ErrorMessage,children:o}):null]})},mr=a(67),vr=a.n(mr),xr=a.p+"static/media/mail.4d849a6e.svg",Sr=function(){return Object(p.jsxs)("div",{className:vr.a.CheckMail,children:[Object(p.jsx)("img",{src:xr,alt:"mail",className:vr.a.Mail}),Object(p.jsx)("h2",{className:vr.a.Heading,children:"Check your inbox"}),Object(p.jsx)("p",{className:vr.a.Subheading,children:"We sent you an activation link. Please be sure to check your spam folder too."})]})},_r=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},Cr=a(7),kr=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),d=Object(c.useCallback)((function(e){return new Promise((function(t,a){S.post("/send-magic-link",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),b=Object(c.useCallback)(function(){var e=Object(g.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),s(null),e.prev=2,e.next=5,d(t);case 5:a=e.sent,console.log(a),l.current&&n(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(e.t0),console.log("Error Authenticating with Magic Link",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{magicLink:b,magickRes:a,magickError:o}},wr=(a(311),function(e){var t=e.size;return Object(p.jsxs)("div",{className:"sk-circle",style:t,children:[Object(p.jsx)("div",{className:"sk-circle1 sk-child"}),Object(p.jsx)("div",{className:"sk-circle2 sk-child"}),Object(p.jsx)("div",{className:"sk-circle3 sk-child"}),Object(p.jsx)("div",{className:"sk-circle4 sk-child"}),Object(p.jsx)("div",{className:"sk-circle5 sk-child"}),Object(p.jsx)("div",{className:"sk-circle6 sk-child"}),Object(p.jsx)("div",{className:"sk-circle7 sk-child"}),Object(p.jsx)("div",{className:"sk-circle8 sk-child"}),Object(p.jsx)("div",{className:"sk-circle9 sk-child"}),Object(p.jsx)("div",{className:"sk-circle10 sk-child"}),Object(p.jsx)("div",{className:"sk-circle11 sk-child"}),Object(p.jsx)("div",{className:"sk-circle12 sk-child"})]})}),yr=function(e){var t=e.authUrl,a=e.isLoading,n=e.setIsLoading,r=e.checkTokenValidity,i=kr(),o=i.magicLink,s=i.magickRes,l=i.magickError,d=Object(c.useState)(!1),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",validation:!0,errorMessage:"Please enter your email"}),O=Object(u.a)(f,2),g=O[0],m=O[1];Object(c.useEffect)((function(){var e=localStorage.getItem("token");e?r(e):n(!1)}),[r,n]),Object(c.useEffect)((function(){s&&h(!0)}),[s]),Object(c.useEffect)((function(){l&&n(!1)}),[l,n]);var v=Object(p.jsxs)("div",{className:sr.a.SignIn,children:[Object(p.jsx)("h2",{className:sr.a.Heading,children:"Welcome to Twiso!"}),Object(p.jsxs)("p",{className:sr.a.Subheading,children:["Don't have an account?"," ",Object(p.jsx)(Cr.b,{to:"".concat(t,"/sign-up"),className:sr.a.SignUpLink,children:"Sign up for free"})]}),Object(p.jsxs)("div",{className:sr.a.FormContent,children:[Object(p.jsx)("a",{className:sr.a.GoogleLink,href:"".concat("https://holovan.eu.ngrok.io","/api/v1/auth/google"),children:Object(p.jsxs)(br,{children:[Object(p.jsx)("img",{src:lr,alt:"google",className:sr.a.GoogleLogo}),"Continue with Google"]})}),Object(p.jsx)(pr,{}),Object(p.jsxs)("form",{className:sr.a.Form,children:[Object(p.jsx)(gr,Object(B.a)(Object(B.a)({},g),{},{setValue:m})),Object(p.jsx)(br,{onClick:function(e){if(e.preventDefault(),_r(g.value)){n(!0);var t=JSON.stringify({email:g.value});o(t)}else m((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!0})}))},children:"Sign in"})]})]})]});return a&&(v=Object(p.jsx)(wr,{size:{width:"100px",height:"100px"}})),j?Object(p.jsx)(Sr,{}):v},Nr=a(45),Tr=a.n(Nr),Dr=a(54),Ir=a.n(Dr),Ar=a.p+"static/media/downArrow.2770f0b5.svg",Pr=a(68),Rr=a.n(Pr),Fr=a.p+"static/media/checkMark.707a0281.svg",Mr=function(e){var t=e.options,a=e.value,n=e.setValue,r=e.setIsDropdown,i=Object(c.useCallback)((function(){return r(!1)}),[r]);return Object(c.useEffect)((function(){return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}}),[i]),Object(p.jsx)("ul",{className:Rr.a.Dropdown,children:t.map((function(e){var t=a&&a.id===e.id;return Object(p.jsxs)("li",{id:e.id,className:[Rr.a.Option,t?Rr.a.Current:null].join(" "),onClick:function(){return n((function(t){return Object(B.a)(Object(B.a)({},t),{},{value:e})}))},children:[Object(p.jsx)("span",{className:Rr.a.CheckMark,children:t?Object(p.jsx)("img",{src:Fr,alt:"check mark"}):null}),e.type]},e.id)}))})},Br=function(e){var t=e.options,a=e.invalid,n=e.value,r=e.setValue,i=e.errorMessage,o=Object(c.useState)(null),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(p.jsxs)("div",{className:Ir.a.SelectContainer,children:[Object(p.jsxs)("div",{className:[Ir.a.Select,a?Ir.a.Invalid:null].join(" "),onClick:function(){a&&r((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!1})})),d(!0)},children:[Object(p.jsx)("p",{className:[Ir.a.Selected,"placeholder"!==n.id?Ir.a.Valid:null].join(" "),children:n.type}),Object(p.jsx)("img",{src:Ar,alt:"arrow"}),l?Object(p.jsx)(Mr,{options:t,value:n,setValue:r,setIsDropdown:d}):null]}),a?Object(p.jsx)("div",{className:Ir.a.ErrorMessage,children:i}):null]})},Lr=function(e){var t=e.authUrl,a=e.isLoading,n=e.setIsLoading,r=e.checkTokenValidity,i=Object(c.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1],d=kr(),b=d.magicLink,j=d.magickRes,h=d.magickError,f=Object(c.useState)({value:"",invalid:!1,type:"text",placeholder:"First name",errorMessage:"Please enter your name"}),O=Object(u.a)(f,2),g=O[0],m=O[1],v=Object(c.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",errorMessage:"Please enter your email"}),x=Object(u.a)(v,2),S=x[0],_=x[1],C=Object(c.useState)({value:{type:"What kind of work do you do?",id:"placeholder"},options:[{type:"What kind of work do you do?",id:"placeholder"},{type:"Marketing",id:"marketing"},{type:"Design",id:"design"},{type:"Influencer",id:"influencer"},{type:"Public Speaker",id:"publicSpeaker"},{type:"Student",id:"student"},{type:"Other",id:"other"}],invalid:!1,errorMessage:"Please fill out this field"}),k=Object(u.a)(C,2),w=k[0],y=k[1];Object(c.useEffect)((function(){var e=localStorage.getItem("token");e?r(e):n(!1)}),[r,n]),Object(c.useEffect)((function(){j&&l(!0)}),[j]),Object(c.useEffect)((function(){h&&n(!1)}),[h,n]);var N=Object(p.jsxs)("div",{className:Tr.a.SignUp,children:[Object(p.jsx)("h2",{className:Tr.a.Heading,children:"Create Account"}),Object(p.jsxs)("p",{className:Tr.a.Subheading,children:["Already have an account?"," ",Object(p.jsx)(Cr.b,{to:"".concat(t,"/sign-in"),className:Tr.a.SignInLink,children:"Sign in"})]}),Object(p.jsxs)("div",{className:Tr.a.FormContent,children:[Object(p.jsx)("a",{className:Tr.a.GoogleLink,href:"".concat("https://holovan.eu.ngrok.io","/api/v1/auth/google"),children:Object(p.jsxs)(br,{children:[Object(p.jsx)("img",{src:lr,alt:"google",className:Tr.a.GoogleLogo}),"Sign Up with Google"]})}),Object(p.jsx)(pr,{}),Object(p.jsxs)("form",{className:Tr.a.Form,children:[Object(p.jsx)(gr,Object(B.a)(Object(B.a)({},g),{},{setValue:m})),Object(p.jsx)(gr,Object(B.a)(Object(B.a)({},S),{},{setValue:_})),Object(p.jsx)(Br,Object(B.a)(Object(B.a)({},w),{},{setValue:y})),Object(p.jsx)(br,{onClick:function(e){e.preventDefault();var t=_r(S.value),a=""!==g.value.trim(),r="placeholder"!==w.value.id;if(t||_((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!0})})),a||m((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!0})})),r||y((function(e){return Object(B.a)(Object(B.a)({},e),{},{invalid:!0})})),t&&a&&r){n(!0);var i=JSON.stringify({email:S.value,firstName:g.value,workType:w.value.type});b(i)}},children:"Create Account"})]})]})]});return a&&(N=Object(p.jsx)(wr,{size:{width:"100px",height:"100px"}})),s?Object(p.jsx)(Sr,{}):N},Er=a(166),zr=a.n(Er),Ur=function(e){var t=e.setToken,a=Object(w.i)(),n=Object(w.h)(),r=Object(w.g)(),i=Object(c.useState)(!0),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useCallback)((function(){return new URLSearchParams(n.search).get("token")}),[n]);return Object(c.useEffect)((function(){if(s){l(!1);var e=d();e?(localStorage.setItem("token",e),t(e)):r.push("".concat(a.path,"/sign-in"))}}),[d,t,r,a,s]),Object(p.jsx)("div",{className:zr.a.Token,children:Object(p.jsx)(wr,{size:{width:"100px",height:"100px"}})})},Hr=function(e){S.defaults.headers.common.Authorization="Bearer ".concat(e)},Wr=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),d=Object(c.useCallback)((function(){return new Promise((function(e,t){S.get("/refresh-token").then((function(t){e(t)})).catch((function(e){t(e)}))}))}),[]),b=Object(c.useCallback)(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),s(null),e.prev=2,e.next=5,d();case 5:t=e.sent,console.log(t),l.current&&n(t.data.accessToken),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(e.t0),console.log("Error Refreshing Token",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])}))),[d]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{refreshToken:b,newToken:a,refreshError:o}},Vr=Object(c.createContext)(null),qr=function(){var e=Object(c.useContext)(Vr).userDispatch,t=Wr(),a=t.refreshToken,n=t.newToken,r=t.refreshError,i=Object(c.useState)(null),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)(!0),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(w.i)(),O=Object(w.g)(),g=Object(c.useCallback)((function(e){h(!0),Hr(e),a()}),[a]);return Object(c.useEffect)((function(){n?(localStorage.setItem("token",n),Hr(n),e({type:"setIsAuthenticated",data:!0})):r&&(localStorage.removeItem("token"),h(!1),O.replace("/sign-in"))}),[n,r,e,O,f]),Object(c.useEffect)((function(){s&&g(s)}),[s,g]),Object(p.jsxs)("div",{className:rr.a.Auth,children:[Object(p.jsxs)("div",{className:rr.a.Testimonial,children:[Object(p.jsx)("div",{className:rr.a.Background}),Object(p.jsxs)("div",{className:rr.a.TestimonialContent,children:[Object(p.jsx)("img",{src:or,alt:"twiso",className:rr.a.Twiso}),Object(p.jsx)("p",{className:rr.a.Heading,children:"Transcribe. Edit. Design."}),Object(p.jsx)("p",{className:rr.a.Subheading,children:"All in one place."}),Object(p.jsx)("img",{src:ir,alt:"saly",className:rr.a.Mascot})]})]}),Object(p.jsx)("div",{className:rr.a.Account,children:Object(p.jsxs)(w.d,{children:[Object(p.jsx)(w.b,{exact:!0,path:"".concat(f.path),children:Object(p.jsx)(Ur,{setToken:l})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(f.path,"/sign-in"),children:Object(p.jsx)(yr,{authUrl:f.path,setIsLoading:h,isLoading:j,checkTokenValidity:g,token:s})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(f.path,"/sign-up"),children:Object(p.jsx)(Lr,{authUrl:f.path,setIsLoading:h,isLoading:j,checkTokenValidity:g,token:s})}),Object(p.jsx)(w.a,{to:"".concat(f.path,"/sign-in")})]})})]})},Gr=a(113),Yr=a.n(Gr),Kr=a(30),Xr=a.n(Kr),Zr=a(55),Jr=a.n(Zr),Qr=a.p+"static/media/dot.fc2c6ed1.svg",$r=function(){return Object(p.jsxs)("div",{className:Jr.a.User,children:[Object(p.jsxs)("div",{className:Jr.a.UserName,children:[Object(p.jsx)("div",{className:Jr.a.Initials,children:Object(p.jsx)("span",{className:Jr.a.Letter,children:"D"})}),Object(p.jsx)("div",{className:Jr.a.Name,children:"Dmitry"})]}),Object(p.jsxs)("div",{className:Jr.a.Dots,children:[Object(p.jsx)("img",{src:Qr,alt:"dot"}),Object(p.jsx)("img",{src:Qr,alt:"dot"}),Object(p.jsx)("img",{src:Qr,alt:"dot"})]})]})},ei=a.p+"static/media/templates.682f97fb.svg",ti=a.p+"static/media/projects.1b448b51.svg",ai=a.p+"static/media/settings.196926de.svg",ni=function(){var e=Object(w.i)();return Object(p.jsxs)("div",{className:Xr.a.SideDrawer,children:[Object(p.jsx)($r,{}),Object(p.jsxs)("div",{className:Xr.a.Links,children:[Object(p.jsxs)(Cr.c,{to:"".concat(e.path,"/templates"),className:Xr.a.Link,activeClassName:Xr.a.Active,replace:!0,children:[Object(p.jsx)("img",{src:ei,alt:"templates"}),Object(p.jsx)("span",{className:Xr.a.LinkText,children:"Templates"})]}),Object(p.jsxs)(Cr.c,{to:"".concat(e.path,"/projects"),className:Xr.a.Link,activeClassName:Xr.a.Active,replace:!0,children:[Object(p.jsx)("img",{src:ti,alt:"templates"}),Object(p.jsx)("span",{className:Xr.a.LinkText,children:"My projects"})]}),Object(p.jsxs)(Cr.c,{to:"".concat(e.path,"/settings"),className:Xr.a.Link,activeClassName:Xr.a.Active,replace:!0,children:[Object(p.jsx)("img",{src:ai,alt:"templates"}),Object(p.jsx)("span",{className:Xr.a.LinkText,children:"Settings"})]})]})]})},ri=a(83),ii=a.n(ri),oi=function(){return Object(p.jsx)("header",{className:ii.a.Navbar,children:Object(p.jsxs)(Cr.b,{className:ii.a.NewButton,to:"/editor/new",children:[Object(p.jsx)("span",{className:ii.a.Plus,children:"+"}),"New Project"]})})},ci=a(31),si=a.n(ci),li=a(69),di=a.n(li),ui=function(e){var t=e.color,a=e.name,n=e.date;return Object(p.jsx)("div",{style:{background:t},className:di.a.Project,children:Object(p.jsxs)("div",{className:di.a.Info,children:[Object(p.jsx)("p",{className:di.a.Name,children:a}),Object(p.jsx)("p",{className:di.a.Date,children:n})]})})},bi=function(){return Object(p.jsxs)("div",{className:si.a.Projects,children:[Object(p.jsx)("h2",{className:si.a.Heading,children:"My projects"}),Object(p.jsx)("p",{className:si.a.Subheading,children:"All your video and audio files in one place."}),Object(p.jsxs)("div",{className:si.a.ProjectsList,children:[Object(p.jsx)("div",{className:si.a.AddProject,children:Object(p.jsx)(Cr.b,{className:si.a.AddProjectInner,to:"/editor/new",children:Object(p.jsx)("div",{className:si.a.AddProjectText,children:Object(p.jsx)("span",{children:"+ Add new"})})})}),Object(p.jsx)("div",{className:si.a.ProjectContainer,children:Object(p.jsx)(ui,{color:"#eabd4b",name:"Name",date:"12.02.2021"})}),Object(p.jsx)("div",{className:si.a.ProjectContainer,children:Object(p.jsx)(ui,{color:"#6F7BD0",name:"Name",date:"12.02.2021"})}),Object(p.jsx)("div",{className:si.a.ProjectContainer,children:Object(p.jsx)(ui,{color:"#DF7C6E",name:"Name",date:"12.02.2021"})}),Object(p.jsx)("div",{className:si.a.ProjectContainer,children:Object(p.jsx)(ui,{color:"#eabd4b",name:"Name",date:"12.02.2021"})})]})]})},ji=a(13),hi=a.n(ji),pi=a(19),fi=a.n(pi),Oi=a.p+"static/media/pic1.c02db87d.png",gi=a.p+"static/media/pic2.52a36858.png",mi=a.p+"static/media/pic3.575c1345.png",vi=a.p+"static/media/pic4.f225bae3.png",xi=a.p+"static/media/pic5.4c4aa83f.png",Si=a.p+"static/media/pic6.ab8ce737.png",_i=function(){return Object(p.jsxs)("div",{className:fi.a.Webinar,children:[Object(p.jsx)("h2",{className:fi.a.Heading,children:"Webinar"}),Object(p.jsx)("p",{className:fi.a.Subheading,children:"Make your webinar branded and professional looking"}),Object(p.jsxs)("div",{className:fi.a.TemplatesList,children:[Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(Oi,")")}})}),Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(gi,")")}})}),Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(mi,")")}})}),Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(vi,")")}})}),Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(xi,")")}})}),Object(p.jsx)("div",{className:fi.a.Template,children:Object(p.jsx)("div",{className:fi.a.TemplateInner,style:{backgroundImage:"url(".concat(Si,")")}})})]})]})},Ci=function(){var e=Object(w.i)();return Object(p.jsxs)("div",{className:hi.a.Templates,children:[Object(p.jsxs)("div",{className:hi.a.NavLinks,children:[Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/webinar"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Webinar"}),Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/podcast"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Podcast"}),Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/vlog"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Vlog"}),Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/demo-recording"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Demo recording"}),Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/video-testimonial"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Video testimonial"}),Object(p.jsx)(Cr.c,{to:"".concat(e.path,"/training-onboarding"),className:hi.a.Link,activeClassName:hi.a.Active,replace:!0,children:"Training & onboarding"})]}),Object(p.jsxs)(w.d,{children:[Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/webinar"),children:Object(p.jsx)(_i,{})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/podcast"),children:Object(p.jsx)("h1",{className:hi.a.Heading,children:"Podcast"})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/vlog"),children:Object(p.jsx)("h1",{className:hi.a.Heading,children:"Vlog"})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/demo-recording"),children:Object(p.jsx)("h1",{className:hi.a.Heading,children:"Demo recording"})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/video-testimonial"),children:Object(p.jsx)("h1",{className:hi.a.Heading,children:"Video testimonial"})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/training-onboarding"),children:Object(p.jsx)("h1",{className:hi.a.Heading,children:"Training & onboarding"})}),Object(p.jsx)(w.a,{to:"".concat(e.path,"/webinar")})]})]})},ki=function(){var e=Object(w.i)();return Object(p.jsxs)("div",{className:Yr.a.Homepage,children:[Object(p.jsx)(ni,{}),Object(p.jsxs)("div",{className:Yr.a.Main,children:[Object(p.jsx)(oi,{}),Object(p.jsxs)(w.d,{children:[Object(p.jsx)(w.b,{path:"".concat(e.path,"/templates"),children:Object(p.jsx)(Ci,{})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/projects"),children:Object(p.jsx)(bi,{})}),Object(p.jsx)(w.b,{exact:!0,path:"".concat(e.path,"/settings"),children:Object(p.jsx)("h1",{children:"Settings"})}),Object(p.jsx)(w.a,{to:"".concat(e.path,"/projects")})]})]})]})},wi={isAuthenticated:!0},yi=function(e,t){switch(t.type){case"setIsAuthenticated":return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:t.data});default:return e}},Ni=function(){var e=Object(c.useReducer)(yi,wi),t=Object(u.a)(e,2);return[t[0],t[1]]},Ti=a.p+"static/media/ctrlScale.3fdf1e45.svg",Di=a.p+"static/media/ctrlStretch.018481ed.svg",Ii=a.p+"static/media/ctrlRotate.8ba52be7.svg";Z.fabric.Subtitle=Z.fabric.util.createClass(Z.fabric.IText,{type:"subtitle",_getNonTransformedDimensions:function(){return new Z.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return Z.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)}}),Z.fabric.Subtitle.prototype.controls={},Z.fabric.SubtitleWithResize=Z.fabric.util.createClass(Z.fabric.Textbox,{type:"subtitle",_getNonTransformedDimensions:function(){return new Z.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return Z.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)}}),Z.fabric.SubtitleWithResize.prototype._wrapLine=function(e,t,a,n){var r=0,i=this.splitByGrapheme,o=[],c=[],s=i?Z.fabric.util.string.graphemeSplit(e):e.split(this._wordJoiners),l="",d=0,u=i?"":" ",b=0,j=0,h=0,p=!0,f=i?0:this._getWidthOfCharSpacing();a-=n=n||0,0===s.length&&s.push([]);for(var O=0;O<s.length;O++){if(l=i?s[O]:Z.fabric.util.string.graphemeSplit(s[O]),b=this._measureWord(l,t,d),d+=l.length,this.breakWords&&b>=a){p||(c.push(u),p=!0);for(var g=0;g<l.length;g++){var m=l[g],v=this.getMeasuringContext().measureText(m).width*this.fontSize/this.CACHE_FONT_SIZE;r+v>a?(o.push(c),(c=[]).push(m),r=v):(c.push(m),r+=v)}l=[]}else r+=j+b-f;r>=a&&!p?(o.push(c),c=[],r=b,p=!0):r+=f,p||i||c.push(u),c=c.concat(l),j=i?0:this._measureWord([u],t,d),d++,p=!1,b>h&&!this.breakWords&&(h=b)}return O&&o.push(c),h+n>this.dynamicMinWidth&&(this.dynamicMinWidth=h-f+n),o},Z.fabric.Video=Z.fabric.util.createClass(Z.fabric.Image,{type:"video",cropRect:null,initialize:function(e,t){t=t||{},this.callSuper("initialize",e,Object.assign({},{lockRotation:!0,objectCaching:!0,cacheProperties:["time"]},t))},_draw:function(e,t,a,n){var r=this.cropRect,i={x:-this.width/2,y:-this.height/2,w:this.width,h:this.height};r?t.drawImage(e,r.x,r.y,r.w,r.h,i.x,i.y,i.w,i.h):t.drawImage(e,i.x,i.y,i.w,i.h)},_render:function(e){this._draw(this.getElement(),e)}}),Z.fabric.ImageWithCrop=Z.fabric.util.createClass(Z.fabric.Image,{type:"image",cropRect:null,initialize:function(e,t){t=t||{},this.callSuper("initialize",e,Object.assign({},t))},_draw:function(e,t,a,n){var r=this.cropRect,i={x:-this.width/2,y:-this.height/2,w:this.width,h:this.height};r?t.drawImage(e,r.x,r.y,r.w,r.h,i.x,i.y,i.w,i.h):t.drawImage(e,i.x,i.y,i.w,i.h)},_render:function(e){this._draw(this.getElement(),e)}}),Z.fabric.ImageWithCrop.fromURL=function(e,t,a){Z.fabric.util.loadImage(e,(function(e,n){t&&t(new Z.fabric.ImageWithCrop(e,a),n)}),null,a&&a.crossOrigin)};var Ai=function(e){Object(c.useEffect)((function(){var t=setInterval((function(){e()}),18e6);return function(){return clearInterval(t)}}),[e])};(function(){Z.fabric.Object.prototype.transparentCorners=!1,Z.fabric.Object.prototype.cornerColor="white",Z.fabric.Object.prototype.borderColor="#6F7BD0",Z.fabric.Object.prototype.cornerStrokeColor="#6F7BD0",Z.fabric.Object.prototype.cornerStyle="circle",Z.fabric.Object.prototype.objectCaching=!1;var e=new Image;e.src=Di;var t=new Image;t.src=Ti;var a=new Image;a.src=Ii;var n=Z.fabric.controlsUtils,r=n.scaleSkewCursorStyleHandler,i=n.scaleCursorStyleHandler,o=n.scalingEqually,c=n.scalingYOrSkewingX,s=n.scalingXOrSkewingY,l=n.scaleOrSkewActionName,d=Z.fabric.Object.prototype.controls,u=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(Z.fabric.util.degreesToRadians(i.angle)),t.drawImage(e,-o/2,-o/2,o,o),t.restore()}},b=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(Z.fabric.util.degreesToRadians(i.angle)),t.drawImage(e,-o/3.2,-o/2,o/1.6,o),t.restore()}},j=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(Z.fabric.util.degreesToRadians(i.angle+90)),t.drawImage(e,-o/3.2,-o/2,o/1.6,o),t.restore()}};if(d.ml=new Z.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,render:b(e)}),d.mr=new Z.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,offsetX:1,render:b(e)}),d.mt=new Z.fabric.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:-1,render:j(e)}),d.mb=new Z.fabric.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:1,render:j(e)}),d.tl=new Z.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:i,actionHandler:o,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.tr=new Z.fabric.Control({x:.5,y:-.5,cursorStyleHandler:i,actionHandler:o,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.bl=new Z.fabric.Control({x:-.5,y:.5,cursorStyleHandler:i,actionHandler:o,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.br=new Z.fabric.Control({x:.5,y:.5,cursorStyleHandler:i,actionHandler:o,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.mtr=new Z.fabric.Control({x:0,y:.5,cornerSize:50,offsetY:30,actionHandler:n.rotationWithSnapping,cursorStyleHandler:n.rotationStyleHandler,withConnection:!1,actionName:"rotate",render:u(a)}),Z.fabric.Textbox){var h=Z.fabric.Textbox.prototype.controls={};h.mtr=d.mtr,h.mr=new Z.fabric.Control({x:.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:b(e)}),h.ml=new Z.fabric.Control({x:-.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:b(e)})}var p=Z.fabric.Line.prototype.controls={};p.mtr=d.mtr,p.ml=new Z.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:0,render:u(t)}),p.mr=new Z.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:0,render:u(t)});var f=Z.fabric.Image.prototype.controls={};f.mtr=d.mtr,f.tr=d.tr,f.br=d.br,f.tl=d.tl,f.bl=d.bl;var O=Z.fabric.ActiveSelection.prototype.controls={};O.mtr=d.mtr,O.tr=d.tr,O.br=d.br,O.tl=d.tl,O.bl=d.bl})();var Pi=function(){var e=Ni(),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Wr(),i=r.refreshToken,o=r.newToken,s=r.refreshError;return Ai(i),Object(c.useEffect)((function(){o?(localStorage.setItem("token",o),Hr(o)):s&&(localStorage.removeItem("token"),n({type:"setIsAuthenticated",data:!1}))}),[o,s,n]),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(Vr.Provider,{value:{userState:a,userDispatch:n},children:Object(p.jsx)(Cr.a,{basename:"/",children:Object(p.jsxs)(w.d,{children:[Object(p.jsx)(Ln,{path:"/auth",redirect:"/home",where:"in the App auth route",allowed:!a.isAuthenticated,component:qr}),Object(p.jsx)(Ln,{path:"/home",redirect:"/auth",where:"in the App home route",allowed:a.isAuthenticated,component:ki}),Object(p.jsx)(Ln,{path:"/editor",redirect:"/auth",where:"in the App editor route",allowed:a.isAuthenticated,component:ar}),Object(p.jsx)(w.b,{path:"/",children:a.isAuthenticated?Object(p.jsx)(w.a,{to:"/home"}):Object(p.jsx)(w.a,{to:"/auth"})})]})})})})},Ri=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,314)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};d.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(Pi,{})}),document.getElementById("root")),Ri()},34:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__3RMWK",BackFileInfoContainer:"Navbar_BackFileInfoContainer__3ky9K",BackButton:"Navbar_BackButton__1R1aO",BackArrow:"Navbar_BackArrow__2uTRU",FileInfoContainer:"Navbar_FileInfoContainer__3b5oQ",FileName:"Navbar_FileName__23abe",Creater:"Navbar_Creater__j3mKP",UserInfoContainer:"Navbar_UserInfoContainer__w_iEs",User:"Navbar_User__2G6Ae",UserInitials:"Navbar_UserInitials__1Z-As"}},35:function(e,t,a){e.exports={Dropdown:"ShapeDropdown_Dropdown__3aeLl",ShapeContainer:"ShapeDropdown_ShapeContainer__21oDr",LineShapeContainer:"ShapeDropdown_LineShapeContainer__1eEMT",Shape:"ShapeDropdown_Shape__3ZdgP"}},37:function(e,t,a){e.exports={FontSizeDropdown:"FontSizeDropdown_FontSizeDropdown__3vQgK",FontSizeOption:"FontSizeDropdown_FontSizeOption__5LIdC"}},38:function(e,t,a){e.exports={ImageToolbar:"ImageToolbar_ImageToolbar__1bSOG",BorderDiv:"ImageToolbar_BorderDiv__2L57I",ReaplaceContainer:"ImageToolbar_ReaplaceContainer__Bvs6n",RadiusContainer:"ImageToolbar_RadiusContainer__1809i",CropContainer:"ImageToolbar_CropContainer__3a9ik",DoneContainer:"ImageToolbar_DoneContainer__1sU7m",RadiusInput:"ImageToolbar_RadiusInput__3neeS",StrokeWidthArrowContainer:"ImageToolbar_StrokeWidthArrowContainer__2ZaEx",BorderStyle:"ImageToolbar_BorderStyle__2Np8t"}},39:function(e,t,a){e.exports={Dropdown:"SubtitlesDropdown_Dropdown__3CPKs",Text:"SubtitlesDropdown_Text__mqlQv",Buttons:"SubtitlesDropdown_Buttons__1LolQ",Button:"SubtitlesDropdown_Button__rnGL5",ButtonText:"SubtitlesDropdown_ButtonText__3zZ2n",Active:"SubtitlesDropdown_Active__1vfsr"}},40:function(e,t,a){e.exports={Auth:"Auth_Auth__2-Tih",Testimonial:"Auth_Testimonial__Gdo6e",Background:"Auth_Background__Sn6Rs",TestimonialContent:"Auth_TestimonialContent__1xfBA",Twiso:"Auth_Twiso__1yuUr",Heading:"Auth_Heading__219Co",Subheading:"Auth_Subheading__3iXme",Mascot:"Auth_Mascot__1P0gq",Account:"Auth_Account__FNRoH"}},42:function(e,t,a){e.exports={FontsDropdown:"FontsDropdown_FontsDropdown__2cMmK",SearchContainer:"FontsDropdown_SearchContainer__2xV2U",SearchSvg:"FontsDropdown_SearchSvg__2fL_Y",SearchInput:"FontsDropdown_SearchInput__1YJKM",FontOptionsContainer:"FontsDropdown_FontOptionsContainer__3NL_l",FontOption:"FontsDropdown_FontOption__YA26x",UploadFontContainer:"FontsDropdown_UploadFontContainer__BN5oN",UploadFontButton:"FontsDropdown_UploadFontButton__2fdT4",UploadFontFile:"FontsDropdown_UploadFontFile__17exH"}},43:function(e,t,a){e.exports={Menu:"ContextMenu_Menu__3Crct",Option:"ContextMenu_Option__2sY3r",Border:"ContextMenu_Border__2fUH-",Overlay:"ContextMenu_Overlay__1PFYP"}},44:function(e,t,a){e.exports={SignIn:"SignIn_SignIn__2rDwX",Heading:"SignIn_Heading__3_D8_",Subheading:"SignIn_Subheading__25WFn",SignUpLink:"SignIn_SignUpLink__19pi6",FormContent:"SignIn_FormContent__2RCot",Form:"SignIn_Form__Qj1Re",GoogleLogo:"SignIn_GoogleLogo__2dqJk",GoogleLink:"SignIn_GoogleLink__1TqQV"}},45:function(e,t,a){e.exports={SignUp:"SignUp_SignUp__FrU6o",Heading:"SignUp_Heading__3VK7d",Subheading:"SignUp_Subheading__3Fzc1",SignInLink:"SignUp_SignInLink__2n2-H",FormContent:"SignUp_FormContent__2PhXm",Form:"SignUp_Form__2HSyr",GoogleLogo:"SignUp_GoogleLogo__veA94",GoogleLink:"SignUp_GoogleLink__300gn"}},47:function(e,t,a){e.exports={Transcription:"Transcription_Transcription__13teg",TextControls:"Transcription_TextControls__1U4fb",CutContainer:"Transcription_CutContainer__3Pv4S",SearchContainer:"Transcription_SearchContainer__3q-zR",SearchInput:"Transcription_SearchInput__3ojca",Text:"Transcription_Text__3pvrU"}},52:function(e,t,a){e.exports={UploadProgress:"UploadProgress_UploadProgress__u7hxD",Percentage:"UploadProgress_Percentage__IJKYZ",Heading:"UploadProgress_Heading__1BSO0",ProgressBar:"UploadProgress_ProgressBar__hfMfg",ProgressBarInner:"UploadProgress_ProgressBarInner__1AOYq",Subheading:"UploadProgress_Subheading__FMja8"}},53:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1vpyv",DownloadButton:"Navigation_DownloadButton__2FuTK",DownloadDropdown:"Navigation_DownloadDropdown__2IsbQ",DownloadLink:"Navigation_DownloadLink__3PFN5",UploadVideo:"Navigation_UploadVideo__3uZ5a",DownloadVideoContainer:"Navigation_DownloadVideoContainer__3mjYd",DownloadVideo:"Navigation_DownloadVideo__1Kc0Z",Close:"Navigation_Close__12UHs"}},54:function(e,t,a){e.exports={SelectContainer:"Select_SelectContainer__1RMVl",Select:"Select_Select__1aFjD",Selected:"Select_Selected__w1Ai2",Valid:"Select_Valid__2h_nP",Invalid:"Select_Invalid__2e9oA",ErrorMessage:"Select_ErrorMessage__1bWOP"}},55:function(e,t,a){e.exports={User:"User_User__1OH6i",UserName:"User_UserName__34wjX",Initials:"User_Initials__2M7AZ",Letter:"User_Letter__12cie",Name:"User_Name__xOAh7",Dots:"User_Dots__1mxvn"}},57:function(e,t,a){e.exports={FontsDropdown:"TextDropdowns_FontsDropdown__lZ_Yz",FontSizeDropdown:"TextDropdowns_FontSizeDropdown__zNPWy",SketchPickerContainer:"TextDropdowns_SketchPickerContainer__1ap0H",TextAlignDropdown:"TextDropdowns_TextAlignDropdown___lslt"}},58:function(e,t,a){e.exports={Dropdown:"ResizeDropdown_Dropdown__1YZKt",SizeOptions:"ResizeDropdown_SizeOptions__2PmX4",SizeOption:"ResizeDropdown_SizeOption__3MBs1",Current:"ResizeDropdown_Current__2rsB4",CustomSizeOption:"ResizeDropdown_CustomSizeOption__24EiF",CustomSizeText:"ResizeDropdown_CustomSizeText__1TGCQ",InputsContainer:"ResizeDropdown_InputsContainer__cUM6V",InputWidth:"ResizeDropdown_InputWidth__18mBb",InputHeight:"ResizeDropdown_InputHeight__1A-ho",PxText:"ResizeDropdown_PxText__cacdv"}},62:function(e,t,a){e.exports={Player:"Player_Player__29WZA",PlayerContent:"Player_PlayerContent__GS7Av",PlayerControls:"Player_PlayerControls__1cImT",PlayButton:"Player_PlayButton__1jzX7",Sub:"Player_Sub__VHkeE"}},64:function(e,t,a){e.exports={Volume:"Volume_Volume__VAO_J",VolumeButton:"Volume_VolumeButton__MQ56Q",VolumeOff:"Volume_VolumeOff__1ZLBn",VolumeBar:"Volume_VolumeBar__2Lv3T"}},65:function(e,t,a){e.exports={Or:"Or_Or__3D8lV",Line:"Or_Line__3NIcd",Text:"Or_Text__3K4vP"}},66:function(e,t,a){e.exports={InputContainer:"Input_InputContainer__FRPf0",Input:"Input_Input__2JU04",Inpit:"Input_Inpit__B7DHg",Invalid:"Input_Invalid__2bXHj",ErrorMessage:"Input_ErrorMessage__NGuQM"}},67:function(e,t,a){e.exports={CheckMail:"CheckMail_CheckMail__2juXE",Heading:"CheckMail_Heading__2JEwf",Subheading:"CheckMail_Subheading__3AHm5",EditorLink:"CheckMail_EditorLink__IbMoD"}},68:function(e,t,a){e.exports={Dropdown:"Dropdown_Dropdown__3ndzl",Option:"Dropdown_Option__2rSF0",Current:"Dropdown_Current__1ur6I",CheckMark:"Dropdown_CheckMark__-dXeR"}},69:function(e,t,a){e.exports={Project:"Project_Project__2FloU",Info:"Project_Info__cXMOT",Name:"Project_Name__1iMCC",Date:"Project_Date__1IAn8"}},8:function(e,t,a){e.exports={TextToolbar:"TextToolbar_TextToolbar__30rxF",BorderDiv:"TextToolbar_BorderDiv__XlYMr",DownArrow:"TextToolbar_DownArrow__3bu3E",TextAlign:"TextToolbar_TextAlign__2KX5Y",Bold:"TextToolbar_Bold__38wPs",Italic:"TextToolbar_Italic__I_P46",FontsContainer:"TextToolbar_FontsContainer__2NtOu",FontSizeContainer:"TextToolbar_FontSizeContainer__1QFbt",ColorPickerContainer:"TextToolbar_ColorPickerContainer__1EnTr",FontWeightBoldContainer:"TextToolbar_FontWeightBoldContainer__2-Bfx",FontStyleItalicContainer:"TextToolbar_FontStyleItalicContainer__6Diha",TextAlignContainer:"TextToolbar_TextAlignContainer__HLDJn",BgColorContainer:"TextToolbar_BgColorContainer__3QNkE",FontSizeInputContainer:"TextToolbar_FontSizeInputContainer__p2Uno",FontSizeInput:"TextToolbar_FontSizeInput__3nD-x",FontSizeArrowContainer:"TextToolbar_FontSizeArrowContainer__1N8MA",ColorPickerBorder:"TextToolbar_ColorPickerBorder__EGOSu",ColorPicker:"TextToolbar_ColorPicker__2Mme4",Active:"TextToolbar_Active__2gO17",BgColor:"TextToolbar_BgColor__19qDO"}},81:function(e,t,a){e.exports={FillDropdownContainer:"ShapeDropdowns_FillDropdownContainer__XKdBu",StrokeDropdownContainer:"ShapeDropdowns_StrokeDropdownContainer__2g9Q8",StrokeWidthDropdownContainer:"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz"}},82:function(e,t,a){e.exports={Controls:"Controls_Controls__mbKVi",PlayPause:"Controls_PlayPause__1XJpi",FullScreen:"Controls_FullScreen__3oqLE"}},83:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__3oWEF",NewButton:"Navbar_NewButton__38UcV",Plus:"Navbar_Plus__3mZZD"}},9:function(e,t,a){e.exports={ControlsContainer:"DesignControls_ControlsContainer__2Nypq",DesignControl:"DesignControls_DesignControl__1FKA0",AddTextContainer:"DesignControls_AddTextContainer__2kzlD",AddImageContainer:"DesignControls_AddImageContainer__1-kZJ",AddShapeContainer:"DesignControls_AddShapeContainer__2l0qj",HoverContent:"DesignControls_HoverContent__RaV8d",HoverTriangle:"DesignControls_HoverTriangle__uOTqR",HoverText:"DesignControls_HoverText__3mdpQ",ShapeDropdown:"DesignControls_ShapeDropdown__3m4QA",ImageDropdown:"DesignControls_ImageDropdown__1kbq4",SubtitlesDropdown:"DesignControls_SubtitlesDropdown__1E3X-"}}},[[312,1,2]]]);
//# sourceMappingURL=main.87bc9688.chunk.js.map