{"version":3,"sources":["containers/Navigation/Navigation.module.css","assets/backArrow.svg","assets/addText.svg","assets/addImage.svg","assets/addShape.svg","assets/subtitles.svg","containers/Navigation/Navigation.js","assets/cut.svg","assets/search.svg","containers/Transcription/utils/updateTextAndCuts.js","assets/restoreText.svg","containers/Transcription/Words/Words.js","containers/Transcription/Transcription.js","axios-instance.js","hooks/useUploadVideo.js","containers/VideoEditor/VideoEditor.js","App.js","reportWebVitals.js","index.js","containers/Transcription/Words/Words.module.css","containers/Transcription/Transcription.module.css","containers/VideoEditor/VideoEditor.module.css"],"names":["module","exports","Navigation","setVideoForUpload","isUploading","uploadRef","useRef","className","styles","BackFileInfoContainer","BackArrow","src","backArrow","alt","FileInfoContainer","FileName","Creater","UploadVideo","onClick","current","click","ref","type","accept","style","display","onChange","files","ControlsContainer","AddTextContainer","id","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","subtitles","DownloadUserInfoContainer","DownloadButton","User","UserInitials","handleVideoCuts","wordsArr","setCuts","restoreStart","arr","isLastDeleted","cutStart","cutEnd","i","length","word","deleted","push","start","end","handleDelete","prevState","newState","cut","handleRestore","findAndSetCurrentWord","deletedIndex","setWordId","setPlayerTime","currentIndex","Words","currentWordId","searchInput","wordClickHandler","inputId","setInputId","currentSelection","useState","input","setInput","inputRef","blurHandler","inputVal","trim","silence","text","shouldShow","isSelectionMode","isSelectionEnd","useEffect","focus","map","isCurrent","isHighlight","toLowerCase","includes","isInput","innerContent","WordInput","value","onBlur","e","target","Pause","Word","content","Deleted","DeletedImgContainer","DeletedImg","restoreText","DeletedText","containerStyle","width","marginRight","WordContainer","CurrentWord","Highlight","InSelection","join","Transcription","words","setCurrentWordId","isPlaying","playerRef","setCurrentSelection","setSearchInput","handleSelection","useCallback","selection","anchorNode","focusNode","isAnchorNode","isFocusNode","position","parentNode","lastChild","firstChild","removeAllRanges","mouseUpHandler","document","getSelection","detail","tagName","compareDocumentPosition","isCollapsed","pause","addEventListener","removeEventListener","TextControls","CutContainer","wordId","deleteWord","isDeleteMode","deletedStartIndex","deleteSelection","SearchContainer","SearchInput","placeholder","SearchSvg","search","Text","isDeleted","currentTarget","startIndex","restoreDeleted","instance","axios","create","baseURL","process","useUploadVideo","setIsUploading","duration","setDuration","fullText","setFullText","axiosUploadVideo","formData","Promise","resolve","reject","post","headers","Accept","then","res","catch","err","uploadVideo","a","console","log","data","text_breakup","full_text","handleUpload","file","setFile","upload","FormData","append","VideoEditor","viedoForUpload","setIsPlaying","intervalId","setIntervalId","currentTime","setCurrentTime","videoCuts","setVideoCuts","setNextCutIndex","URL","createObjectURL","handleCurrentTime","time","j","newWord","Main","endTime","cutIndex","Player","Video","controls","onPlay","interval","setInterval","onPause","clearInterval","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a1c05a9c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1vpyv\",\"BackFileInfoContainer\":\"Navigation_BackFileInfoContainer__zDoEb\",\"BackArrow\":\"Navigation_BackArrow__2EuDm\",\"FileInfoContainer\":\"Navigation_FileInfoContainer__13jQZ\",\"FileName\":\"Navigation_FileName__t8V0Z\",\"Creater\":\"Navigation_Creater__2m7n3\",\"ControlsContainer\":\"Navigation_ControlsContainer__3cZve\",\"DesignControl\":\"Navigation_DesignControl__18GfM\",\"AddTextContainer\":\"Navigation_AddTextContainer__2D7x7\",\"AddImageContainer\":\"Navigation_AddImageContainer__Ay_Rj\",\"AddShapeContainer\":\"Navigation_AddShapeContainer__1Vor-\",\"HoverContent\":\"Navigation_HoverContent__2EgVD\",\"HoverTriangle\":\"Navigation_HoverTriangle__267f9\",\"HoverText\":\"Navigation_HoverText__24Vce\",\"DownloadUserInfoContainer\":\"Navigation_DownloadUserInfoContainer___5XCM\",\"DownloadButton\":\"Navigation_DownloadButton__2FuTK\",\"User\":\"Navigation_User__3SWWK\",\"UserInitials\":\"Navigation_UserInitials__2BS83\",\"ShapeDropdown\":\"Navigation_ShapeDropdown__2HDOH\",\"ImageDropdown\":\"Navigation_ImageDropdown__3bu_4\",\"DownloadDropdown\":\"Navigation_DownloadDropdown__2IsbQ\",\"UploadVideo\":\"Navigation_UploadVideo__3uZ5a\"};","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","export default __webpack_public_path__ + \"static/media/subtitles.7c1e1dd4.svg\";","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useRef } from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport backArrow from '../../assets/backArrow.svg';\r\nimport addText from '../../assets/addText.svg';\r\nimport addImage from '../../assets/addImage.svg';\r\nimport addShape from '../../assets/addShape.svg';\r\nimport subtitles from '../../assets/subtitles.svg';\r\n\r\nconst Navigation = ({ setVideoForUpload, isUploading }) => {\r\n  const uploadRef = useRef(null);\r\n  const uploadHandler = () => {\r\n    setVideoForUpload(uploadRef.current.files[0]);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Navigation}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n        <div className={styles.FileInfoContainer}>\r\n          <p className={styles.FileName}>Untitled</p>\r\n          <p className={styles.Creater}>Dmitry</p>\r\n        </div>\r\n        <button\r\n          className={styles.UploadVideo}\r\n          onClick={() => uploadRef.current.click()}\r\n        >\r\n          {!isUploading ? ' Upload video' : 'Loading...'}\r\n        </button>\r\n        <input\r\n          ref={uploadRef}\r\n          type='file'\r\n          accept='video/mp4'\r\n          style={{ display: 'none' }}\r\n          onChange={uploadHandler}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.ControlsContainer}>\r\n        <div className={styles.AddTextContainer} id='addText'>\r\n          <img src={addText} alt='add text' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add text</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div className={styles.AddImageContainer} id='addImage'>\r\n            <img src={addImage} alt='add image' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add image</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.DesignControl}>\r\n          <div id='addShape' className={styles.AddShapeContainer}>\r\n            <img src={addShape} alt='add shape' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add shape</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div id='subtitles' className={styles.AddShapeContainer}>\r\n            <img src={subtitles} alt='subtitles' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Subtitles</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.DownloadUserInfoContainer}>\r\n        <button id='downloadDesign' className={styles.DownloadButton}>\r\n          Download\r\n        </button>\r\n        <div className={styles.User}>\r\n          <p className={styles.UserInitials}>DE</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/cut.50fbea68.svg\";","export default __webpack_public_path__ + \"static/media/search.01416d75.svg\";","const handleDelete = (wordsArr, setCuts) => {\r\n  let arr = [];\r\n  let isLastDeleted = false;\r\n  let cutStart = 0;\r\n  let cutEnd = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (!word.deleted && isLastDeleted) {\r\n      isLastDeleted = false;\r\n      arr.push({ start: cutStart, end: cutEnd });\r\n    } else if (word.deleted && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      cutStart = word.start;\r\n      cutEnd = word.end;\r\n    } else if (word.deleted && isLastDeleted) {\r\n      cutEnd = word.end;\r\n    }\r\n  }\r\n  if (isLastDeleted) arr.push({ start: cutStart, end: cutEnd });\r\n  setCuts([...arr]);\r\n};\r\n\r\nconst handleRestore = (start, setCuts) => {\r\n  setCuts((prevState) => {\r\n    let newState = [];\r\n    for (let i = 0; i < prevState.length; i++) {\r\n      let cut = prevState[i];\r\n      if (cut.start !== start) newState.push(cut);\r\n    }\r\n    return [...newState];\r\n  });\r\n};\r\n\r\nconst handleVideoCuts = (type, wordsArr, setCuts, restoreStart) => {\r\n  if (type === 'delete') handleDelete(wordsArr, setCuts);\r\n  else if (type === 'restore') handleRestore(restoreStart, setCuts);\r\n};\r\n\r\nconst findAndSetCurrentWord = (\r\n  deletedIndex,\r\n  wordsArr,\r\n  setWordId,\r\n  setPlayerTime\r\n) => {\r\n  let currentIndex = null;\r\n  if (deletedIndex !== null && deletedIndex !== 0) {\r\n    for (let i = deletedIndex; i >= 0; i--) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  if (currentIndex === null) {\r\n    for (let i = deletedIndex; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  let word = wordsArr[currentIndex];\r\n  setPlayerTime(word ? word.id : 0);\r\n  setWordId(word ? word.id : null);\r\n};\r\n\r\nexport const deleteWord = (\r\n  wordsArr,\r\n  wordId,\r\n  setWordId,\r\n  setCuts,\r\n  setPlayerTime,\r\n) => {\r\n  let deletedIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      word.deleted = true;\r\n      deletedIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  handleVideoCuts('delete', wordsArr, setCuts);\r\n  findAndSetCurrentWord(deletedIndex, wordsArr, setWordId, setPlayerTime);\r\n};\r\n\r\nexport const deleteSelection = (\r\n  wordsArr,\r\n  setWordId,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime,\r\n) => {\r\n  let isDeleteMode = false;\r\n  let deletedStartIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === currentSelection.start) {\r\n      isDeleteMode = true;\r\n      deletedStartIndex = i;\r\n    } else if (word.id === currentSelection.end) {\r\n      isDeleteMode = false;\r\n      word.deleted = true;\r\n      break;\r\n    }\r\n    if (isDeleteMode) {\r\n      word.deleted = true;\r\n    }\r\n  }\r\n  handleVideoCuts('delete', wordsArr, setCuts);\r\n  findAndSetCurrentWord(deletedStartIndex, wordsArr, setWordId, setPlayerTime);\r\n  setCurrentSelection(null);\r\n};\r\n\r\nexport const restoreDeleted = (\r\n  wordsArr,\r\n  wordId,\r\n  setWordId,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime,\r\n) => {\r\n  let startIndex = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      startIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  for (let i = startIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.deleted) word.deleted = false;\r\n    else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  let restoreStart = wordsArr[startIndex].start;\r\n  handleVideoCuts('restore', null, setCuts, restoreStart);\r\n  setCurrentSelection(null);\r\n  setWordId(wordId);\r\n  setPlayerTime(wordId);\r\n};\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/restoreText.63dbbf27.svg\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './Words.module.css';\r\nimport restoreText from '../../../assets/restoreText.svg';\r\n\r\nconst Words = ({\r\n  wordsArr,\r\n  currentWordId,\r\n  searchInput,\r\n  wordClickHandler,\r\n  inputId,\r\n  setInputId,\r\n  currentSelection,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const blurHandler = () => {\r\n    let inputVal = input.trim().length > 0 ? input : null;\r\n    let currentIndex = null;\r\n    for (let i = 0; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (word.id === inputId) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (wordsArr[currentIndex]) {\r\n      if (inputVal && !wordsArr[currentIndex].silence) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n      } else if (inputVal) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n        wordsArr[currentIndex].silence = false;\r\n      } else wordsArr[currentIndex].silence = true;\r\n    }\r\n    setInput('');\r\n    setInputId(null);\r\n  };\r\n\r\n  let isLastDeleted = false;\r\n  let shouldShow = true;\r\n  let isSelectionMode = false;\r\n  let isSelectionEnd = false;\r\n\r\n  useEffect(() => {\r\n    if (inputId) {\r\n      inputRef.current.focus();\r\n      let currentIndex = null;\r\n      for (let i = 0; i < wordsArr.length; i++) {\r\n        let word = wordsArr[i];\r\n        if (word.id === inputId) {\r\n          currentIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      if (wordsArr[currentIndex] && !wordsArr[currentIndex].silence) {\r\n        setInput(wordsArr[currentIndex].text);\r\n      }\r\n    }\r\n  }, [inputId, wordsArr]);\r\n\r\n  return wordsArr.map((word) => {\r\n    if (isLastDeleted && word.deleted) shouldShow = false;\r\n    else shouldShow = true;\r\n    let isCurrent =\r\n      word.id === currentWordId && !currentSelection && !word.deleted;\r\n    let isHighlight =\r\n      !word.silence &&\r\n      !word.deleted &&\r\n      searchInput.trim().length > 1 &&\r\n      word.text.trim().toLowerCase().includes(searchInput.trim().toLowerCase());\r\n\r\n    if (!isLastDeleted && word.deleted) isLastDeleted = true;\r\n    if (isLastDeleted && !word.deleted) isLastDeleted = false;\r\n\r\n    if (currentSelection && currentSelection.start === word.id) {\r\n      isSelectionMode = true;\r\n    } else if (currentSelection && currentSelection.end === word.id) {\r\n      isSelectionEnd = true;\r\n    } else if (isSelectionEnd) {\r\n      isSelectionMode = false;\r\n      isSelectionEnd = false;\r\n    }\r\n\r\n    let isInput = inputId && isCurrent;\r\n    let innerContent = isInput ? (\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.WordInput}\r\n        type='text'\r\n        value={input}\r\n        onBlur={blurHandler}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n    ) : (\r\n      <span className={!word.silence ? styles.Word : styles.Pause}>\r\n        {!word.silence ? word.text + ' ' : '•••• '}\r\n      </span>\r\n    );\r\n\r\n    let content = word.deleted ? (\r\n      <span className={styles.Deleted}>\r\n        <span className={styles.DeletedImgContainer}>\r\n          <img\r\n            className={styles.DeletedImg}\r\n            src={restoreText}\r\n            alt='restore text'\r\n          />\r\n        </span>\r\n        <span className={styles.DeletedText}>[...] </span>\r\n      </span>\r\n    ) : (\r\n      innerContent\r\n    );\r\n\r\n    let containerStyle = { width: 'auto' };\r\n    if (isInput) {\r\n      containerStyle.width = !word.silence\r\n        ? word.text.length * 1.5 + 'ch'\r\n        : '70px';\r\n      containerStyle.marginRight = '0.4rem';\r\n    }\r\n\r\n    return shouldShow ? (\r\n      <span\r\n        style={containerStyle}\r\n        id={word.id}\r\n        key={word.id}\r\n        className={[\r\n          styles.WordContainer,\r\n          isCurrent ? styles.CurrentWord : null,\r\n          isHighlight ? styles.Highlight : null,\r\n          isSelectionMode ? styles.InSelection : null,\r\n        ].join(' ')}\r\n        onClick={(e) => wordClickHandler(e, word.deleted)}\r\n      >\r\n        {content}\r\n      </span>\r\n    ) : null;\r\n  });\r\n};\r\n\r\nexport default Words;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Transcription.module.css';\r\nimport cut from '../../assets/cut.svg';\r\nimport search from '../../assets/search.svg';\r\nimport {\r\n  deleteWord,\r\n  restoreDeleted,\r\n  deleteSelection,\r\n} from './utils/updateTextAndCuts';\r\nimport Words from './Words/Words';\r\n\r\nconst Transcription = ({\r\n  words,\r\n  currentWordId,\r\n  setCurrentWordId,\r\n  isPlaying,\r\n  playerRef,\r\n  setCuts,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setPlayerTime,\r\n}) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [inputId, setInputId] = useState(null);\r\n\r\n  const wordClickHandler = (e, isDeleted) => {\r\n    let id = e.currentTarget.id;\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (e.detail > 1 && !inputId) setInputId(id);\r\n    if (!isDeleted && !inputId) {\r\n      setCurrentSelection(null);\r\n      setPlayerTime(id);\r\n      setCurrentWordId(id);\r\n      // console.log('setting word id from click');\r\n    } else if (!inputId) {\r\n      restoreDeleted(\r\n        words,\r\n        id,\r\n        setCurrentWordId,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (selection, anchorNode, focusNode, isAnchorNode, isFocusNode, position) => {\r\n      let start = '';\r\n      let end = '';\r\n      if (anchorNode.parentNode.id === focusNode.parentNode.id) {\r\n        if (anchorNode.parentNode.id) {\r\n          setPlayerTime(anchorNode.parentNode.id);\r\n          setCurrentWordId(anchorNode.parentNode.id);\r\n          // console.log('setting word id from selection');\r\n        }\r\n        setCurrentSelection(null);\r\n      } else if (isAnchorNode && isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = focusNode.parentNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.parentNode.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isAnchorNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.id;\r\n        } else if (position === 2) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.parentNode.id;\r\n          end = focusNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.parentNode.id;\r\n        }\r\n      }\r\n\r\n      if (start !== '' && end !== '') {\r\n        setCurrentSelection({ start, end });\r\n        setPlayerTime(start);\r\n        setCurrentWordId(start);\r\n        // console.log('setting word id from selection 2');\r\n      }\r\n      selection.removeAllRanges();\r\n    },\r\n    [setCurrentWordId, setCurrentSelection, setPlayerTime]\r\n  );\r\n\r\n  const mouseUpHandler = useCallback(\r\n    (e) => {\r\n      let selection = document.getSelection();\r\n      if (e.detail < 2 && selection.anchorNode && selection.focusNode) {\r\n        let anchorNode = selection.anchorNode.parentNode;\r\n        let focusNode = selection.focusNode.parentNode;\r\n        let isAnchorNode = anchorNode.tagName === 'SPAN';\r\n        let isFocusNode = focusNode.tagName === 'SPAN';\r\n        let position = selection.anchorNode.compareDocumentPosition(\r\n          selection.focusNode\r\n        );\r\n        if ((isAnchorNode || isFocusNode) && !selection.isCollapsed) {\r\n          if (isPlaying) playerRef.current.pause();\r\n          handleSelection(\r\n            selection,\r\n            anchorNode,\r\n            focusNode,\r\n            isAnchorNode,\r\n            isFocusNode,\r\n            position\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [handleSelection, isPlaying, playerRef]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n    return () => document.removeEventListener('mouseup', mouseUpHandler);\r\n  }, [mouseUpHandler]);\r\n\r\n  const cutClickHandler = () => {\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (!currentSelection && currentWordId) {\r\n      deleteWord(\r\n        words,\r\n        currentWordId,\r\n        setCurrentWordId,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    } else if (currentSelection) {\r\n      deleteSelection(\r\n        words,\r\n        setCurrentWordId,\r\n        currentSelection,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Transcription}>\r\n      <div className={styles.TextControls}>\r\n        <div className={styles.CutContainer} onClick={cutClickHandler}>\r\n          <img src={cut} alt='cut' />\r\n          <p>Cut</p>\r\n        </div>\r\n        <div className={styles.SearchContainer}>\r\n          <input\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            className={styles.SearchInput}\r\n            placeholder='Search'\r\n            type='text'\r\n          />\r\n          <img className={styles.SearchSvg} src={search} alt='search' />\r\n        </div>\r\n      </div>\r\n      <div id='textbox' className={styles.Text}>\r\n        {words ? (\r\n          <Words\r\n            wordsArr={words}\r\n            currentWordId={currentWordId}\r\n            searchInput={searchInput}\r\n            wordClickHandler={wordClickHandler}\r\n            inputId={inputId}\r\n            setInputId={setInputId}\r\n            currentSelection={currentSelection}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transcription;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/api/v1`,\r\n});\r\n\r\nexport default instance;\r\n","import { useCallback, useState, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadVideo = () => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [duration, setDuration] = useState(null);\r\n  const [fullText, setFullText] = useState(null);\r\n  const words = useRef(null);\r\n\r\n  const axiosUploadVideo = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/upload', formData, {\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadVideo = useCallback(\r\n    async (formData) => {\r\n      setIsUploading(true);\r\n      try {\r\n        const res = await axiosUploadVideo(formData);\r\n        console.log(res.data);\r\n        setDuration(res.data.duration);\r\n        words.current = res.data.text_breakup;\r\n        setFullText(res.data.full_text);\r\n      } catch (err) {\r\n        console.log('Error Uploading Video', err);\r\n      } finally {\r\n        setIsUploading(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadVideo]\r\n  );\r\n\r\n  return { isUploading, uploadVideo, words: words.current, duration, fullText };\r\n};\r\n\r\nexport default useUploadVideo;\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport styles from './VideoEditor.module.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Transcription from '../Transcription/Transcription';\r\nimport useUploadVideo from '../../hooks/useUploadVideo';\r\n// import { words } from './sampleWords';\r\n\r\nconst handleUpload = async (file, setFile, upload) => {\r\n  const formData = new FormData();\r\n  formData.append('video', file);\r\n  try {\r\n    await upload(formData);\r\n  } catch (err) {\r\n    console.log(err);\r\n  } finally {\r\n    setFile(null);\r\n  }\r\n};\r\n\r\nconst VideoEditor = () => {\r\n  const { isUploading, uploadVideo, words, duration, fullText } =\r\n    useUploadVideo();\r\n  const [currentSelection, setCurrentSelection] = useState(null);\r\n  const [currentWordId, setCurrentWordId] = useState(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [viedoForUpload, setVideoForUpload] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const [currentTime, setCurrentTime] = useState(null);\r\n  const [videoCuts, setVideoCuts] = useState([]);\r\n  const [nextCutIndex, setNextCutIndex] = useState(0);\r\n  const playerRef = useRef(null);\r\n\r\n  // useEffect(() => {\r\n  //   videoCuts.forEach((el) => {\r\n  //     console.log(el);\r\n  //   });\r\n  //   console.log('//////////////////////////////');\r\n  // }, [videoCuts]);\r\n\r\n  useEffect(() => {\r\n    if (viedoForUpload) {\r\n      handleUpload(viedoForUpload, setVideoForUpload, uploadVideo);\r\n      playerRef.current.src = URL.createObjectURL(viedoForUpload);\r\n    }\r\n  }, [viedoForUpload, uploadVideo]);\r\n\r\n  useEffect(() => {\r\n    if (words) setCurrentWordId(words[0].id);\r\n  }, [words]);\r\n\r\n  const handlePlay = (e) => {\r\n    let selection = document.getSelection();\r\n    selection.removeAllRanges();\r\n    if (currentSelection) setCurrentSelection(null);\r\n    setIsPlaying(true);\r\n    let interval = setInterval(() => {\r\n      setCurrentTime(playerRef.current.currentTime);\r\n    }, 10);\r\n    setIntervalId(interval);\r\n  };\r\n\r\n  const handlePause = (e) => {\r\n    setIsPlaying(false);\r\n    clearInterval(intervalId);\r\n  };\r\n\r\n  const setPlayerTime = (wordId) => {\r\n    let endTime = '0';\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (wordId === word.id) {\r\n        endTime = word.end;\r\n        playerRef.current.currentTime = word.start;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let cutIndex = 0;\r\n    for (let i = 0; i < videoCuts.length; i++) {\r\n      let cut = videoCuts[i];\r\n      if (+endTime > +cut.start) {\r\n        cutIndex++;\r\n      }\r\n    }\r\n    // console.log(cutIndex);\r\n    setNextCutIndex(cutIndex);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(currentWordId);\r\n  }, [currentWordId]);\r\n\r\n  const handleCurrentTime = useCallback((time) => {\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (word.start <= time && word.end >= time) {\r\n        if (word.deleted && words[i - 1] && !words[i - 1].deleted) {\r\n          for (let j = i; j < words.length; j++) {\r\n            let newWord = words[j];\r\n            if (newWord.deleted && words[j + 1] && !words[j + 1].deleted) {\r\n              playerRef.current.currentTime = `${+newWord.end}`;\r\n              break;\r\n            } else if (!words[j + 1]) {\r\n              playerRef.current.currentTime = `${+newWord.end}`;\r\n            }\r\n          }\r\n        } else if (!word.deleted) {\r\n          setCurrentWordId(word.id);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }, [words]);\r\n\r\n  // const handleCurrentTime = useCallback(\r\n  //   (time) => {\r\n  //     let shouldSet = true;\r\n  //     time = `${+time + 0.05}`;\r\n  //     if (videoCuts.length > 0 && nextCutIndex !== null) {\r\n  //       if (\r\n  //         videoCuts[nextCutIndex] &&\r\n  //         +time >= +videoCuts[nextCutIndex].start &&\r\n  //         +time <= +videoCuts[nextCutIndex].end\r\n  //       ) {\r\n  //         playerRef.current.currentTime = videoCuts[nextCutIndex].end;\r\n  //         if (videoCuts[nextCutIndex + 1]) setNextCutIndex(nextCutIndex + 1);\r\n  //         else setNextCutIndex(null);\r\n  //         shouldSet = false;\r\n  //       }\r\n  //     }\r\n\r\n  //     if (shouldSet) {\r\n  //       for (let i = 0; i < words.length; i++) {\r\n  //         let word = words[i];\r\n  //         if (+word.start <= +time && +word.end >= +time && !word.deleted) {\r\n  //           setCurrentWordId(word.id);\r\n  //           console.log('setting word id from handle time');\r\n  //           break;\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   },\r\n  //   [videoCuts, nextCutIndex]\r\n  // );\r\n\r\n  useEffect(() => {\r\n    if (currentTime) handleCurrentTime(currentTime);\r\n  }, [currentTime, handleCurrentTime]);\r\n\r\n  return (\r\n    <div className={styles.VideoEditor}>\r\n      <Navigation\r\n        setVideoForUpload={setVideoForUpload}\r\n        isUploading={isUploading}\r\n      />\r\n      <main className={styles.Main}>\r\n        <Transcription\r\n          className={styles.VideoEditor}\r\n          words={words}\r\n          currentWordId={currentWordId}\r\n          setCurrentWordId={setCurrentWordId}\r\n          isPlaying={isPlaying}\r\n          playerRef={playerRef}\r\n          setCuts={setVideoCuts}\r\n          currentSelection={currentSelection}\r\n          setCurrentSelection={setCurrentSelection}\r\n          setPlayerTime={setPlayerTime}\r\n          // duration={duration}\r\n          // fullText={fullText}\r\n        />\r\n        <div className={styles.Player}>\r\n          <video\r\n            style={{ display: duration ? 'block' : 'none' }}\r\n            className={styles.Video}\r\n            ref={playerRef}\r\n            controls\r\n            onPlay={handlePlay}\r\n            onPause={handlePause}\r\n          />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;\r\n","import './App.css';\nimport VideoEditor from './containers/VideoEditor/VideoEditor';\n\nconst App = () => {\n  return (\n    <div className='App'>\n      <VideoEditor />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordContainer\":\"Words_WordContainer__2MxYw\",\"Word\":\"Words_Word__3b2m1\",\"Pause\":\"Words_Pause__33kzp\",\"Deleted\":\"Words_Deleted__3CMYk\",\"DeletedText\":\"Words_DeletedText__1n8km\",\"WordInput\":\"Words_WordInput__3lLIb\",\"CurrentWord\":\"Words_CurrentWord__3w6qS\",\"Highlight\":\"Words_Highlight__cba72\",\"DeletedImgContainer\":\"Words_DeletedImgContainer__2Mj9-\",\"DeletedImg\":\"Words_DeletedImg__2JxpA\",\"InSelection\":\"Words_InSelection__33LHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Transcription\":\"Transcription_Transcription__13teg\",\"TextControls\":\"Transcription_TextControls__1U4fb\",\"CutContainer\":\"Transcription_CutContainer__3Pv4S\",\"SearchContainer\":\"Transcription_SearchContainer__3q-zR\",\"SearchInput\":\"Transcription_SearchInput__3ojca\",\"Text\":\"Transcription_Text__3pvrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoEditor\":\"VideoEditor_VideoEditor__1aRjl\",\"Main\":\"VideoEditor_Main__RsHdg\",\"Player\":\"VideoEditor_Player__2Wd3k\",\"Video\":\"VideoEditor_Video__1I_Ob\"};"],"sourceRoot":""}