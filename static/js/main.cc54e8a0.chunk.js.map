{"version":3,"sources":["containers/Navigation/Navigation.module.css","assets/backArrow.svg","assets/addText.svg","assets/addImage.svg","assets/addShape.svg","assets/subtitles.svg","containers/Navigation/Navigation.js","assets/cut.svg","assets/search.svg","containers/Transcription/utils/updateText.js","assets/restoreText.svg","containers/Transcription/Words/Words.js","containers/Transcription/Transcription.js","axios-instance.js","hooks/useUploadVideo.js","containers/VideoEditor/VideoEditor.js","App.js","reportWebVitals.js","index.js","containers/Transcription/Words/Words.module.css","containers/Transcription/Transcription.module.css","containers/VideoEditor/VideoEditor.module.css"],"names":["module","exports","Navigation","setVideoForUpload","isUploading","uploadRef","useRef","className","styles","BackFileInfoContainer","BackArrow","src","backArrow","alt","FileInfoContainer","FileName","Creater","UploadVideo","onClick","current","click","ref","type","accept","style","display","onChange","files","ControlsContainer","AddTextContainer","id","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","subtitles","DownloadUserInfoContainer","DownloadButton","User","UserInitials","findAndSetCurrentWord","deletedIndex","wordsArr","setWordId","setPlayerTime","currentIndex","i","deleted","length","word","Words","currentWordId","searchInput","wordClickHandler","inputId","setInputId","currentSelection","useState","input","setInput","inputRef","blurHandler","inputVal","trim","silence","text","isLastDeleted","shouldShow","isSelectionMode","isSelectionEnd","useEffect","focus","map","isCurrent","isHighlight","toLowerCase","includes","start","end","isInput","innerContent","WordInput","value","onBlur","e","target","Pause","Word","content","Deleted","DeletedImgContainer","DeletedImg","restoreText","DeletedText","containerStyle","width","marginRight","WordContainer","CurrentWord","Highlight","InSelection","join","Transcription","words","setCurrentWordId","isPlaying","playerRef","setCuts","setCurrentSelection","setSearchInput","handleSelection","useCallback","selection","anchorNode","focusNode","isAnchorNode","isFocusNode","position","parentNode","lastChild","firstChild","removeAllRanges","mouseUpHandler","document","getSelection","detail","tagName","compareDocumentPosition","isCollapsed","pause","addEventListener","removeEventListener","TextControls","CutContainer","wordId","deleteWord","isDeleteMode","deleteSelection","cut","SearchContainer","SearchInput","placeholder","SearchSvg","search","Text","isDeleted","currentTarget","restoreDeleted","instance","axios","create","baseURL","process","useUploadVideo","setIsUploading","duration","setDuration","fullText","setFullText","axiosUploadVideo","formData","Promise","resolve","reject","post","headers","Accept","then","res","catch","err","uploadVideo","a","console","log","data","text_breakup","full_text","handleUpload","file","setFile","upload","FormData","append","VideoEditor","viedoForUpload","setIsPlaying","intervalId","setIntervalId","currentTime","setCurrentTime","URL","createObjectURL","handleCurrentTime","time","j","newWord","Main","Player","Video","controls","onPlay","interval","setInterval","onPause","clearInterval","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cc54e8a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1vpyv\",\"BackFileInfoContainer\":\"Navigation_BackFileInfoContainer__zDoEb\",\"BackArrow\":\"Navigation_BackArrow__2EuDm\",\"FileInfoContainer\":\"Navigation_FileInfoContainer__13jQZ\",\"FileName\":\"Navigation_FileName__t8V0Z\",\"Creater\":\"Navigation_Creater__2m7n3\",\"ControlsContainer\":\"Navigation_ControlsContainer__3cZve\",\"DesignControl\":\"Navigation_DesignControl__18GfM\",\"AddTextContainer\":\"Navigation_AddTextContainer__2D7x7\",\"AddImageContainer\":\"Navigation_AddImageContainer__Ay_Rj\",\"AddShapeContainer\":\"Navigation_AddShapeContainer__1Vor-\",\"HoverContent\":\"Navigation_HoverContent__2EgVD\",\"HoverTriangle\":\"Navigation_HoverTriangle__267f9\",\"HoverText\":\"Navigation_HoverText__24Vce\",\"DownloadUserInfoContainer\":\"Navigation_DownloadUserInfoContainer___5XCM\",\"DownloadButton\":\"Navigation_DownloadButton__2FuTK\",\"User\":\"Navigation_User__3SWWK\",\"UserInitials\":\"Navigation_UserInitials__2BS83\",\"ShapeDropdown\":\"Navigation_ShapeDropdown__2HDOH\",\"ImageDropdown\":\"Navigation_ImageDropdown__3bu_4\",\"DownloadDropdown\":\"Navigation_DownloadDropdown__2IsbQ\",\"UploadVideo\":\"Navigation_UploadVideo__3uZ5a\"};","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","export default __webpack_public_path__ + \"static/media/subtitles.7c1e1dd4.svg\";","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useRef } from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport backArrow from '../../assets/backArrow.svg';\r\nimport addText from '../../assets/addText.svg';\r\nimport addImage from '../../assets/addImage.svg';\r\nimport addShape from '../../assets/addShape.svg';\r\nimport subtitles from '../../assets/subtitles.svg';\r\n\r\nconst Navigation = ({ setVideoForUpload, isUploading }) => {\r\n  const uploadRef = useRef(null);\r\n  const uploadHandler = () => {\r\n    setVideoForUpload(uploadRef.current.files[0]);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Navigation}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n        <div className={styles.FileInfoContainer}>\r\n          <p className={styles.FileName}>Untitled</p>\r\n          <p className={styles.Creater}>Dmitry</p>\r\n        </div>\r\n        <button\r\n          className={styles.UploadVideo}\r\n          onClick={() => uploadRef.current.click()}\r\n        >\r\n          {!isUploading ? ' Upload video' : 'Loading...'}\r\n        </button>\r\n        <input\r\n          ref={uploadRef}\r\n          type='file'\r\n          accept='video/mp4'\r\n          style={{ display: 'none' }}\r\n          onChange={uploadHandler}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.ControlsContainer}>\r\n        <div className={styles.AddTextContainer} id='addText'>\r\n          <img src={addText} alt='add text' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add text</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div className={styles.AddImageContainer} id='addImage'>\r\n            <img src={addImage} alt='add image' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add image</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.DesignControl}>\r\n          <div id='addShape' className={styles.AddShapeContainer}>\r\n            <img src={addShape} alt='add shape' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add shape</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div id='subtitles' className={styles.AddShapeContainer}>\r\n            <img src={subtitles} alt='subtitles' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Subtitles</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.DownloadUserInfoContainer}>\r\n        <button id='downloadDesign' className={styles.DownloadButton}>\r\n          Download\r\n        </button>\r\n        <div className={styles.User}>\r\n          <p className={styles.UserInitials}>DE</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/cut.50fbea68.svg\";","export default __webpack_public_path__ + \"static/media/search.01416d75.svg\";","const findAndSetCurrentWord = (deletedIndex, wordsArr, setWordId, setPlayerTime) => {\r\n  let currentIndex = null;\r\n  if (deletedIndex !== null && deletedIndex !== 0) {\r\n    for (let i = deletedIndex; i >= 0; i--) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  if (currentIndex === null) {\r\n    for (let i = deletedIndex; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  let word = wordsArr[currentIndex];\r\n  setPlayerTime(word ? word.id : null)\r\n  setWordId(word ? word.id : null);\r\n}\r\n\r\nexport const deleteWord = (wordsArr, wordId, setWordId, setCuts, setPlayerTime) => {\r\n  let deletedIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      word.deleted = true;\r\n      deletedIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  findAndSetCurrentWord(deletedIndex, wordsArr, setWordId, setPlayerTime) \r\n};\r\n\r\nexport const deleteSelection = (\r\n  wordsArr,\r\n  setWordId,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let isDeleteMode = false\r\n  let deletedIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === currentSelection.start) {\r\n      isDeleteMode = true\r\n      deletedIndex = i;\r\n    }else if (word.id === currentSelection.end ) {\r\n      isDeleteMode = false;\r\n      word.deleted = true\r\n      break;\r\n    }\r\n    if(isDeleteMode){\r\n      word.deleted = true\r\n    }\r\n  }\r\n  findAndSetCurrentWord(deletedIndex, wordsArr, setWordId, setPlayerTime) \r\n  setCurrentSelection(null)\r\n};\r\n\r\nexport const restoreDeleted = (\r\n  wordsArr,\r\n  wordId,\r\n  setWordId,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let currentIndex = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  for (let i = currentIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.deleted) {\r\n      word.deleted = false;\r\n    } else break;\r\n  }\r\n  setCurrentSelection(null);\r\n  setWordId(wordId);\r\n  setPlayerTime(wordId)\r\n};\r\n","export default __webpack_public_path__ + \"static/media/restoreText.63dbbf27.svg\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './Words.module.css';\r\nimport restoreText from '../../../assets/restoreText.svg';\r\n\r\nconst Words = ({\r\n  wordsArr,\r\n  currentWordId,\r\n  searchInput,\r\n  wordClickHandler,\r\n  inputId,\r\n  setInputId,\r\n  currentSelection,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const blurHandler = () => {\r\n    let inputVal = input.trim().length > 0 ? input : null;\r\n    let currentIndex = null;\r\n    for (let i = 0; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (word.id === inputId) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (wordsArr[currentIndex]) {\r\n      if (inputVal && !wordsArr[currentIndex].silence) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n      } else if (inputVal) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n        wordsArr[currentIndex].silence = false;\r\n      } else wordsArr[currentIndex].silence = true;\r\n    }\r\n    setInput('');\r\n    setInputId(null);\r\n  };\r\n\r\n  let isLastDeleted = false;\r\n  let shouldShow = true;\r\n  let isSelectionMode = false;\r\n  let isSelectionEnd = false;\r\n\r\n  useEffect(() => {\r\n    if (inputId) {\r\n      inputRef.current.focus();\r\n      let currentIndex = null;\r\n      for (let i = 0; i < wordsArr.length; i++) {\r\n        let word = wordsArr[i];\r\n        if (word.id === inputId) {\r\n          currentIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      if (wordsArr[currentIndex] && !wordsArr[currentIndex].silence) {\r\n        setInput(wordsArr[currentIndex].text);\r\n      }\r\n    }\r\n  }, [inputId, wordsArr]);\r\n\r\n  return wordsArr.map((word) => {\r\n    if (isLastDeleted && word.deleted) shouldShow = false;\r\n    else shouldShow = true;\r\n    let isCurrent =\r\n      word.id === currentWordId && !currentSelection && !word.deleted;\r\n    let isHighlight =\r\n      !word.silence &&\r\n      !word.deleted &&\r\n      searchInput.trim().length > 1 &&\r\n      word.text.trim().toLowerCase().includes(searchInput.trim().toLowerCase());\r\n\r\n    if (!isLastDeleted && word.deleted) isLastDeleted = true;\r\n    if (isLastDeleted && !word.deleted) isLastDeleted = false;\r\n\r\n    if (currentSelection && currentSelection.start === word.id) {\r\n      isSelectionMode = true;\r\n    } else if (currentSelection && currentSelection.end === word.id) {\r\n      isSelectionEnd = true;\r\n    } else if (isSelectionEnd) {\r\n      isSelectionMode = false;\r\n      isSelectionEnd = false;\r\n    }\r\n\r\n    let isInput = inputId && isCurrent;\r\n    let innerContent = isInput ? (\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.WordInput}\r\n        type='text'\r\n        value={input}\r\n        onBlur={blurHandler}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n    ) : (\r\n      <span className={!word.silence ? styles.Word : styles.Pause}>\r\n        {!word.silence ? word.text + ' ' : '•••• '}\r\n      </span>\r\n    );\r\n\r\n    let content = word.deleted ? (\r\n      <span className={styles.Deleted}>\r\n        <span className={styles.DeletedImgContainer}>\r\n          <img\r\n            className={styles.DeletedImg}\r\n            src={restoreText}\r\n            alt='restore text'\r\n          />\r\n        </span>\r\n        <span className={styles.DeletedText}>[...] </span>\r\n      </span>\r\n    ) : (\r\n      innerContent\r\n    );\r\n\r\n    let containerStyle = { width: 'auto' };\r\n    if (isInput) {\r\n      containerStyle.width = !word.silence\r\n        ? word.text.length * 1.5 + 'ch'\r\n        : '70px';\r\n      containerStyle.marginRight = '0.4rem';\r\n    }\r\n\r\n    return shouldShow ? (\r\n      <span\r\n        style={containerStyle}\r\n        id={word.id}\r\n        key={word.id}\r\n        className={[\r\n          styles.WordContainer,\r\n          isCurrent ? styles.CurrentWord : null,\r\n          isHighlight ? styles.Highlight : null,\r\n          isSelectionMode ? styles.InSelection : null,\r\n        ].join(' ')}\r\n        onClick={(e) => wordClickHandler(e, word.deleted)}\r\n      >\r\n        {content}\r\n      </span>\r\n    ) : null;\r\n  });\r\n};\r\n\r\nexport default Words;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Transcription.module.css';\r\nimport cut from '../../assets/cut.svg';\r\nimport search from '../../assets/search.svg';\r\nimport {\r\n  deleteWord,\r\n  restoreDeleted,\r\n  deleteSelection,\r\n} from './utils/updateText';\r\nimport Words from './Words/Words';\r\n\r\nconst Transcription = ({\r\n  words,\r\n  currentWordId,\r\n  setCurrentWordId,\r\n  isPlaying,\r\n  playerRef,\r\n  setCuts,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setPlayerTime,\r\n}) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [inputId, setInputId] = useState(null);\r\n\r\n  const wordClickHandler = (e, isDeleted) => {\r\n    let id = e.currentTarget.id;\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (e.detail > 1 && !inputId) setInputId(id);\r\n    if (!isDeleted && !inputId) {\r\n      setCurrentSelection(null);\r\n      setCurrentWordId(id);\r\n      setPlayerTime(id);\r\n    } else if (!inputId) {\r\n      restoreDeleted(\r\n        words,\r\n        id,\r\n        setCurrentWordId,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (selection, anchorNode, focusNode, isAnchorNode, isFocusNode, position) => {\r\n      let start = '';\r\n      let end = '';\r\n      if (anchorNode.parentNode.id === focusNode.parentNode.id) {\r\n        if (anchorNode.parentNode.id) {\r\n          setCurrentWordId(anchorNode.parentNode.id);\r\n          setPlayerTime(anchorNode.parentNode.id);\r\n        }\r\n        setCurrentSelection(null);\r\n      } else if (isAnchorNode && isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = focusNode.parentNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.parentNode.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isAnchorNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.id;\r\n        } else if (position === 2) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.parentNode.id;\r\n          end = focusNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.parentNode.id;\r\n        }\r\n      }\r\n\r\n      if (start !== '' && end !== '') {\r\n        setCurrentSelection({ start, end });\r\n        setCurrentWordId(start);\r\n        setPlayerTime(start);\r\n      }\r\n      selection.removeAllRanges();\r\n    },\r\n    [setCurrentWordId, setCurrentSelection, setPlayerTime]\r\n  );\r\n\r\n  const mouseUpHandler = useCallback(\r\n    (e) => {\r\n      let selection = document.getSelection();\r\n      if (e.detail < 2 && selection.anchorNode && selection.focusNode) {\r\n        let anchorNode = selection.anchorNode.parentNode;\r\n        let focusNode = selection.focusNode.parentNode;\r\n        let isAnchorNode = anchorNode.tagName === 'SPAN';\r\n        let isFocusNode = focusNode.tagName === 'SPAN';\r\n        let position = selection.anchorNode.compareDocumentPosition(\r\n          selection.focusNode\r\n        );\r\n        if ((isAnchorNode || isFocusNode) && !selection.isCollapsed) {\r\n          if (isPlaying) playerRef.current.pause();\r\n          handleSelection(\r\n            selection,\r\n            anchorNode,\r\n            focusNode,\r\n            isAnchorNode,\r\n            isFocusNode,\r\n            position\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [handleSelection, isPlaying, playerRef]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n    return () => document.removeEventListener('mouseup', mouseUpHandler);\r\n  }, [mouseUpHandler]);\r\n\r\n  const cutClickHandler = () => {\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (!currentSelection && currentWordId) {\r\n      deleteWord(\r\n        words,\r\n        currentWordId,\r\n        setCurrentWordId,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    } else if (currentSelection) {\r\n      deleteSelection(\r\n        words,\r\n        setCurrentWordId,\r\n        currentSelection,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Transcription}>\r\n      <div className={styles.TextControls}>\r\n        <div className={styles.CutContainer} onClick={cutClickHandler}>\r\n          <img src={cut} alt='cut' />\r\n          <p>Cut</p>\r\n        </div>\r\n        <div className={styles.SearchContainer}>\r\n          <input\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            className={styles.SearchInput}\r\n            placeholder='Search'\r\n            type='text'\r\n          />\r\n          <img className={styles.SearchSvg} src={search} alt='search' />\r\n        </div>\r\n      </div>\r\n      <div id='textbox' className={styles.Text}>\r\n        {words ? (\r\n          <Words\r\n            wordsArr={words}\r\n            currentWordId={currentWordId}\r\n            searchInput={searchInput}\r\n            wordClickHandler={wordClickHandler}\r\n            inputId={inputId}\r\n            setInputId={setInputId}\r\n            currentSelection={currentSelection}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transcription;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/api/v1`,\r\n});\r\n\r\nexport default instance;\r\n","import { useCallback, useState, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadVideo = () => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [duration, setDuration] = useState(null);\r\n  const [fullText, setFullText] = useState(null);\r\n  const words = useRef(null);\r\n\r\n  const axiosUploadVideo = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/upload', formData, {\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadVideo = useCallback(\r\n    async (formData) => {\r\n      setIsUploading(true);\r\n      try {\r\n        const res = await axiosUploadVideo(formData);\r\n        console.log(res.data);\r\n        setDuration(res.data.duration);\r\n        words.current = res.data.text_breakup;\r\n        setFullText(res.data.full_text);\r\n      } catch (err) {\r\n        console.log('Error Uploading Video', err);\r\n      } finally {\r\n        setIsUploading(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadVideo]\r\n  );\r\n\r\n  return { isUploading, uploadVideo, words: words.current, duration, fullText };\r\n};\r\n\r\nexport default useUploadVideo;\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport styles from './VideoEditor.module.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Transcription from '../Transcription/Transcription';\r\nimport useUploadVideo from '../../hooks/useUploadVideo';\r\n\r\nconst handleUpload = async (file, setFile, upload) => {\r\n  const formData = new FormData();\r\n  formData.append('video', file);\r\n  try {\r\n    await upload(formData);\r\n  } catch (err) {\r\n    console.log(err);\r\n  } finally {\r\n    setFile(null);\r\n  }\r\n};\r\n\r\nconst VideoEditor = () => {\r\n  const { isUploading, uploadVideo, words, duration, fullText } =\r\n    useUploadVideo();\r\n  const [currentSelection, setCurrentSelection] = useState(null);\r\n  const [currentWordId, setCurrentWordId] = useState(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [viedoForUpload, setVideoForUpload] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const [currentTime, setCurrentTime] = useState(null);\r\n  const [cuts, setCuts] = useState([]);\r\n  const playerRef = useRef(null);\r\n  useEffect(() => {\r\n    if (viedoForUpload) {\r\n      handleUpload(viedoForUpload, setVideoForUpload, uploadVideo);\r\n      playerRef.current.src = URL.createObjectURL(viedoForUpload);\r\n    }\r\n  }, [viedoForUpload, uploadVideo]);\r\n\r\n  useEffect(() => {\r\n    if (words) {\r\n      setCurrentWordId(words[0].id);\r\n    }\r\n  }, [words]);\r\n\r\n  const handlePlay = (e) => {\r\n    let selection = document.getSelection();\r\n    selection.removeAllRanges();\r\n    if (currentSelection) setCurrentSelection(null);\r\n    setIsPlaying(true);\r\n    let interval = setInterval(() => {\r\n      setCurrentTime(playerRef.current.currentTime);\r\n    }, 100);\r\n    setIntervalId(interval);\r\n  };\r\n\r\n  const handlePause = (e) => {\r\n    setIsPlaying(false);\r\n    clearInterval(intervalId);\r\n  };\r\n\r\n  const setPlayerTime = (wordId) => {\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (wordId === word.id) {\r\n        playerRef.current.currentTime = word.start;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCurrentTime = useCallback(\r\n    (time) => {\r\n      for (let i = 0; i < words.length; i++) {\r\n        let word = words[i];\r\n        if (word.start <= time && word.end >= time) {\r\n          if (word.deleted && words[i - 1] && !words[i - 1].deleted) {\r\n            for (let j = i; j < words.length; j++) {\r\n              let newWord = words[j];\r\n              if (newWord.deleted && words[j + 1] && !words[j + 1].deleted) {\r\n                playerRef.current.currentTime = `${+newWord.end}`;\r\n                break;\r\n              } else if (!words[j + 1]) {\r\n                playerRef.current.currentTime = `${+newWord.end}`;\r\n              }\r\n            }\r\n          } else if (!word.deleted) {\r\n            setCurrentWordId(word.id);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [words]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (words) {\r\n      handleCurrentTime(currentTime);\r\n    }\r\n  }, [words, currentTime, handleCurrentTime]);\r\n\r\n  return (\r\n    <div className={styles.VideoEditor}>\r\n      <Navigation\r\n        setVideoForUpload={setVideoForUpload}\r\n        isUploading={isUploading}\r\n      />\r\n      <main className={styles.Main}>\r\n        <Transcription\r\n          className={styles.VideoEditor}\r\n          words={words}\r\n          currentWordId={currentWordId}\r\n          setCurrentWordId={setCurrentWordId}\r\n          isPlaying={isPlaying}\r\n          playerRef={playerRef}\r\n          setCuts={setCuts}\r\n          currentSelection={currentSelection}\r\n          setCurrentSelection={setCurrentSelection}\r\n          setPlayerTime={setPlayerTime}\r\n          // duration={duration}\r\n          // fullText={fullText}\r\n        />\r\n        <div className={styles.Player}>\r\n          <video\r\n            style={{ display: duration ? 'block' : 'none' }}\r\n            className={styles.Video}\r\n            ref={playerRef}\r\n            controls\r\n            onPlay={handlePlay}\r\n            onPause={handlePause}\r\n          />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;\r\n","import './App.css';\nimport VideoEditor from './containers/VideoEditor/VideoEditor';\n\nconst App = () => {\n  return (\n    <div className='App'>\n      <VideoEditor />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordContainer\":\"Words_WordContainer__2MxYw\",\"Word\":\"Words_Word__3b2m1\",\"Pause\":\"Words_Pause__33kzp\",\"Deleted\":\"Words_Deleted__3CMYk\",\"DeletedText\":\"Words_DeletedText__1n8km\",\"WordInput\":\"Words_WordInput__3lLIb\",\"CurrentWord\":\"Words_CurrentWord__3w6qS\",\"Highlight\":\"Words_Highlight__cba72\",\"DeletedImgContainer\":\"Words_DeletedImgContainer__2Mj9-\",\"DeletedImg\":\"Words_DeletedImg__2JxpA\",\"InSelection\":\"Words_InSelection__33LHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Transcription\":\"Transcription_Transcription__13teg\",\"TextControls\":\"Transcription_TextControls__1U4fb\",\"CutContainer\":\"Transcription_CutContainer__3Pv4S\",\"SearchContainer\":\"Transcription_SearchContainer__3q-zR\",\"SearchInput\":\"Transcription_SearchInput__3ojca\",\"Text\":\"Transcription_Text__3pvrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoEditor\":\"VideoEditor_VideoEditor__1aRjl\",\"Main\":\"VideoEditor_Main__RsHdg\",\"Player\":\"VideoEditor_Player__2Wd3k\",\"Video\":\"VideoEditor_Video__1I_Ob\"};"],"sourceRoot":""}