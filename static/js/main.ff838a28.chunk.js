(this["webpackJsonptwiso-video-editor"]=this["webpackJsonptwiso-video-editor"]||[]).push([[0],{10:function(e,t,a){e.exports={LineDropdown:"StrokeWidthDropdown_LineDropdown__102cb",ShapeDropdown:"StrokeWidthDropdown_ShapeDropdown__y2mdf",StrokeOption:"StrokeWidthDropdown_StrokeOption__3PBYq"}},11:function(e,t,a){e.exports={TextAlignDropdown:"TextAlignDropdown_TextAlignDropdown__PkoUd",TextAlignOption:"TextAlignDropdown_TextAlignOption__2NPzu",Current:"TextAlignDropdown_Current__2vk5u",TextAlignImage:"TextAlignDropdown_TextAlignImage__wtSLz",TextAlignText:"TextAlignDropdown_TextAlignText__nuEMl"}},110:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__ko406"}},112:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1YXGU"}},12:function(e,t,a){e.exports={ShapeToolbar:"ShapeToolbar_ShapeToolbar__3ltKA",BorderDiv:"ShapeToolbar_BorderDiv__1MpYU",DownArrow:"ShapeToolbar_DownArrow__MgRL3",FillContainer:"ShapeToolbar_FillContainer__dFbZJ",StrokeContainer:"ShapeToolbar_StrokeContainer__21-kB",StrokeWidthContainer:"ShapeToolbar_StrokeWidthContainer__1IzFk",ColorPickerBorder:"ShapeToolbar_ColorPickerBorder__qXCuh",ColorPicker:"ShapeToolbar_ColorPicker__2vzHo",StrokeWidthInputContainer:"ShapeToolbar_StrokeWidthInputContainer__1ISoG",StrokeWidthInput:"ShapeToolbar_StrokeWidthInput__239HS",StrokeWidthArrowContainer:"ShapeToolbar_StrokeWidthArrowContainer__2MBk5"}},122:function(e,t,a){},123:function(e,t,a){},13:function(e,t,a){e.exports={CanvasToolbar:"CanvasToolbar_CanvasToolbar__2hdMU",BorderDiv:"CanvasToolbar_BorderDiv__1KyoH",DownArrow:"CanvasToolbar_DownArrow__2Ii5A",TemplatesContainer:"CanvasToolbar_TemplatesContainer__23oBW",ResizeContainer:"CanvasToolbar_ResizeContainer__198p0",ColorContainer:"CanvasToolbar_ColorContainer__3uL9Q",OptionText:"CanvasToolbar_OptionText__cr_ng",ResizeDropdown:"CanvasToolbar_ResizeDropdown__2Fhs4",ColorPickerBorder:"CanvasToolbar_ColorPickerBorder__1sugA",ColorPicker:"CanvasToolbar_ColorPicker__3ROju",ColorDropdownContainer:"CanvasToolbar_ColorDropdownContainer__L8SXX"}},130:function(e,t){},131:function(e,t){},132:function(e,t){},15:function(e,t,a){e.exports={Dropdown:"ImageDropdown_Dropdown__2eYxV",UplaodButtonContainer:"ImageDropdown_UplaodButtonContainer__1lY8g",UploadButton:"ImageDropdown_UploadButton__1lQXO",FileInput:"ImageDropdown_FileInput__2Rzkx",Images:"ImageDropdown_Images__LZdgK",Column:"ImageDropdown_Column__27Nmx",ImageContainer:"ImageDropdown_ImageContainer__1YX4Q",Image:"ImageDropdown_Image__2oCLN"}},16:function(e,t,a){e.exports={Dropdown:"ShapeDropdown_Dropdown__3aeLl",ShapeContainer:"ShapeDropdown_ShapeContainer__21oDr",LineShapeContainer:"ShapeDropdown_LineShapeContainer__1eEMT",Shape:"ShapeDropdown_Shape__3ZdgP"}},17:function(e,t,a){e.exports={WordContainer:"Words_WordContainer__2MxYw",Word:"Words_Word__3b2m1",Pause:"Words_Pause__33kzp",Deleted:"Words_Deleted__3CMYk",DeletedText:"Words_DeletedText__1n8km",WordInput:"Words_WordInput__3lLIb",CurrentWord:"Words_CurrentWord__3w6qS",Highlight:"Words_Highlight__cba72",DeletedImgContainer:"Words_DeletedImgContainer__2Mj9-",DeletedImg:"Words_DeletedImg__2JxpA",InSelection:"Words_InSelection__33LHP"}},20:function(e,t,a){e.exports={Dropdown:"SubtitlesDropdown_Dropdown__3CPKs",Text:"SubtitlesDropdown_Text__mqlQv",Buttons:"SubtitlesDropdown_Buttons__1LolQ",Button:"SubtitlesDropdown_Button__rnGL5",ButtonText:"SubtitlesDropdown_ButtonText__3zZ2n",Active:"SubtitlesDropdown_Active__1vfsr"}},21:function(e,t,a){e.exports={FontSizeDropdown:"FontSizeDropdown_FontSizeDropdown__3vQgK",FontSizeOption:"FontSizeDropdown_FontSizeOption__5LIdC"}},22:function(e,t,a){e.exports={ImageToolbar:"ImageToolbar_ImageToolbar__1bSOG",BorderDiv:"ImageToolbar_BorderDiv__2L57I",ReaplaceContainer:"ImageToolbar_ReaplaceContainer__Bvs6n",RadiusContainer:"ImageToolbar_RadiusContainer__1809i",CropContainer:"ImageToolbar_CropContainer__3a9ik",DoneContainer:"ImageToolbar_DoneContainer__1sU7m",RadiusInput:"ImageToolbar_RadiusInput__3neeS",StrokeWidthArrowContainer:"ImageToolbar_StrokeWidthArrowContainer__2ZaEx",BorderStyle:"ImageToolbar_BorderStyle__2Np8t"}},25:function(e,t,a){e.exports={FontsDropdown:"FontsDropdown_FontsDropdown__2cMmK",SearchContainer:"FontsDropdown_SearchContainer__2xV2U",SearchSvg:"FontsDropdown_SearchSvg__2fL_Y",SearchInput:"FontsDropdown_SearchInput__1YJKM",FontOptionsContainer:"FontsDropdown_FontOptionsContainer__3NL_l",FontOption:"FontsDropdown_FontOption__YA26x",UploadFontContainer:"FontsDropdown_UploadFontContainer__BN5oN",UploadFontButton:"FontsDropdown_UploadFontButton__2fdT4",UploadFontFile:"FontsDropdown_UploadFontFile__17exH"}},259:function(e,t,a){"use strict";a.r(t);var n,r,o,i,c,s,l,d=a(0),u=a.n(d),b=a(109),p=a.n(b),h=(a(122),a(3)),j=(a(123),a(33)),g=a.n(j),f=a(50),O=a(52),m=a.n(O),S=a(7),C=a.n(S),v=a.p+"static/media/backArrow.0fa2b863.svg",x=a.p+"static/media/addText.3a1cc6fe.svg",w=a.p+"static/media/addImage.5167341a.svg",y=a.p+"static/media/addShape.efc88c00.svg",_=a.p+"static/media/subtitles.7c1e1dd4.svg",k=Object(d.createContext)(null),T=a.p+"static/media/photo.3b16c800.jpg",D=a.p+"static/media/photo2.92a250e9.jpg",N=a(110),I=a.n(N),A=a(1),M=function(e){var t=Object(d.useContext)(k),a=t.appState,n=t.appDispatch;return Object(A.jsx)("div",{className:I.a.Backdrop,onClick:function(e){if("backdrop"===e.target.id){var t="";a.isImageDropdown?t="setIsImageDropdown":a.isShapeDropdown?t="setIsShapeDropdown":a.isSubtitlesDropdown?t="setIsSubtitlesDropdown":a.shouldReplaceImage?t="setShouldReplaceImage":a.isResizeDropdown?t="setIsResizeDropdown":a.isCanvasBgColorDropdown?t="setIsCanvasBgColorDropdown":a.isZoomDropdown?t="setIsZoomDropdown":a.shouldAddCanvasBgImage?t="setShouldAddCanvasBgImage":a.isDownloadDropdown&&(t="setIsDownloadDropdown"),n({type:t,data:!1})}},id:"backdrop",children:e.children})},B=a(24),R=a(15),F=a.n(R),P=function(e){var t=e.setUserFiles,a=e.userFiles,n=Object(d.useContext)(k),r=n.appState,o=n.appDispatch,i=Object(d.useRef)(null),c=a.filter((function(e,t){return(t+1)%2!==0})),s=a.filter((function(e,t){return(t+1)%2===0}));return Object(A.jsxs)("div",{className:F.a.Dropdown,onClick:function(e){var t="setImageToAdd",a="image";e.target.classList.contains("isSvg")&&(a="svg"),r.shouldAddCanvasBgImage&&(t="setCanvasBackgroundImage"),"IMG"===e.target.tagName?o({type:t,data:{type:a,src:e.target.src}}):e.target.classList.contains(F.a.ImageContainer)&&o({type:t,data:{type:a,src:e.target.childNodes[0].src}})},children:[Object(A.jsxs)("div",{className:F.a.UplaodButtonContainer,children:[Object(A.jsx)("button",{onClick:function(){i.current.click()},className:F.a.UploadButton,children:"Upload image"}),Object(A.jsx)("input",{accept:"image/png, image/gif, image/jpeg, image/svg+xml",className:F.a.FileInput,ref:i,type:"file",onChange:function(){if(i.current.files[0]){var e=i.current.files[0],a="image";"image/svg+xml"===e.type&&(a="svg"),t((function(t){return[{src:URL.createObjectURL(e),type:a}].concat(Object(B.a)(t))}))}}})]}),Object(A.jsxs)("div",{className:F.a.Images,children:[Object(A.jsx)("div",{className:F.a.Column,children:c.map((function(e,t){return Object(A.jsx)("div",{className:[F.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(A.jsx)("img",{className:[F.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"odd"+t)}))}),Object(A.jsx)("div",{className:F.a.Column,children:s.map((function(e,t){return Object(A.jsx)("div",{className:[F.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(A.jsx)("img",{className:[F.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"even"+t)}))})]})]})},E=a(16),L=a.n(E),H=a.p+"static/media/square.5e888dd3.svg",z=a.p+"static/media/roundedSquare.2ee5319e.svg",U=a.p+"static/media/circle.0bedfa10.svg",W=a.p+"static/media/triangle.76f36a5f.svg",G=a.p+"static/media/line.60fd0829.svg",V=function(){var e=Object(d.useContext)(k).appDispatch;return Object(A.jsxs)("div",{className:L.a.Dropdown,onClick:function(t){"IMG"===t.target.tagName?e({type:"setShapeToAdd",data:t.target.id}):t.target.classList.contains(L.a.ShapeContainer)&&e({type:"setShapeToAdd",data:t.target.childNodes[0].id})},children:[Object(A.jsx)("div",{className:L.a.ShapeContainer,children:Object(A.jsx)("img",{className:L.a.Shape,src:H,alt:"square",id:"square"})}),Object(A.jsx)("div",{className:L.a.ShapeContainer,children:Object(A.jsx)("img",{className:L.a.Shape,src:z,alt:"rounded square",id:"roundedSquare"})}),Object(A.jsx)("div",{className:L.a.ShapeContainer,children:Object(A.jsx)("img",{className:L.a.Shape,src:U,alt:"circle",id:"circle"})}),Object(A.jsx)("div",{className:L.a.ShapeContainer,children:Object(A.jsx)("img",{className:L.a.Shape,src:W,alt:"triangle",id:"triangle"})}),Object(A.jsx)("div",{className:L.a.ShapeContainer,children:Object(A.jsx)("img",{className:L.a.Shape,src:G,alt:"line",id:"line"})})]})},Y=a(20),K=a.n(Y),X=["title","titleId"];function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function J(e,t){var a=e.title,u=e.titleId,b=Z(e,X);return d.createElement("svg",q({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},b),a?d.createElement("title",{id:u},a):null,n||(n=d.createElement("path",{d:"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z",fill:"current"})),r||(r=d.createElement("path",{d:"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z",fill:"current"})),o||(o=d.createElement("path",{d:"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z",fill:"current"})),i||(i=d.createElement("path",{d:"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z",fill:"current"})),c||(c=d.createElement("path",{d:"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z",fill:"current"})),s||(s=d.createElement("path",{d:"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z",fill:"current"})),l||(l=d.createElement("path",{d:"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z",fill:"current"})))}var Q,$,ee=d.forwardRef(J),te=(a.p,["title","titleId"]);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function re(e,t){var a=e.title,n=e.titleId,r=ne(e,te);return d.createElement("svg",ae({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?d.createElement("title",{id:n},a):null,Q||(Q=d.createElement("g",{clipPath:"url(#clip0)"},d.createElement("path",{d:"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z",fill:"current"}),d.createElement("path",{d:"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z",fill:"current"}),d.createElement("path",{d:"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z",fill:"current"}))),$||($=d.createElement("defs",null,d.createElement("clipPath",{id:"clip0"},d.createElement("rect",{width:16,height:16,fill:"white"})))))}var oe=d.forwardRef(re),ie=(a.p,function(){var e=Object(d.useContext)(k),t=e.appState,a=e.appDispatch,n=function(e){var t=!0;"subOff"===e.currentTarget.id&&(t=!1),a({type:"setIsSubtitles",data:t})};return Object(A.jsxs)("div",{className:K.a.Dropdown,children:[Object(A.jsx)("p",{className:K.a.Text,children:"Subtitles"}),Object(A.jsxs)("div",{className:K.a.Buttons,children:[Object(A.jsxs)("div",{className:[K.a.Button,t.isSubtitles?null:K.a.Active].join(" "),id:"subOff",onClick:n,children:[Object(A.jsx)(oe,{fill:t.isSubtitles?"#000000":"#6F7BD0"}),Object(A.jsx)("p",{className:K.a.ButtonText,children:"Off"})]}),Object(A.jsxs)("div",{className:[K.a.Button,t.isSubtitles?K.a.Active:null].join(" "),id:"subOn",onClick:n,children:[Object(A.jsx)(ee,{fill:t.isSubtitles?"#6F7BD0":"#000000"}),Object(A.jsx)("p",{className:K.a.ButtonText,children:"On"})]})]})]})}),ce=function(e){var t=e.setVideoForUpload,a=e.isUploading,n=e.canvas,r=Object(d.useContext)(k),o=r.appState,i=r.appDispatch,c=Object(d.useState)([{src:T,type:"image"},{src:D,type:"image"}]),s=Object(h.a)(c,2),l=s[0],u=s[1],b=Object(d.useRef)(null),p=function(e){if(n&&!o.shouldCropImage){var t="",a=e.currentTarget.id;"addText"===a?t="setShouldAddText":"addImage"===a?t="setIsImageDropdown":"addShape"===a?t="setIsShapeDropdown":"subtitles"===a&&(t="setIsSubtitlesDropdown"),i({type:t,data:!0}),o.isCropMode&&i({type:"setIsCropMode",data:!1})}};return Object(A.jsxs)("header",{className:C.a.Navigation,children:[Object(A.jsxs)("div",{className:C.a.BackFileInfoContainer,children:[Object(A.jsx)("img",{className:C.a.BackArrow,src:v,alt:"back"}),Object(A.jsxs)("div",{className:C.a.FileInfoContainer,children:[Object(A.jsx)("p",{className:C.a.FileName,children:"Untitled"}),Object(A.jsx)("p",{className:C.a.Creater,children:"Dmitry"})]}),Object(A.jsx)("button",{className:C.a.UploadVideo,onClick:function(){return b.current.click()},children:a?"Loading...":" Upload video"}),Object(A.jsx)("input",{ref:b,type:"file",accept:"video/mp4",style:{display:"none"},onChange:function(){t(b.current.files[0])}})]}),Object(A.jsxs)("div",{className:C.a.ControlsContainer,children:[Object(A.jsxs)("div",{className:C.a.AddTextContainer,id:"addText",onClick:p,children:[Object(A.jsx)("img",{src:x,alt:"add text"}),Object(A.jsxs)("div",{className:C.a.HoverContent,children:[Object(A.jsx)("div",{className:C.a.HoverTriangle}),Object(A.jsx)("p",{className:C.a.HoverText,children:"Add text"})]})]}),Object(A.jsxs)("div",{className:C.a.DesignControl,children:[Object(A.jsxs)("div",{className:C.a.AddImageContainer,id:"addImage",onClick:p,children:[Object(A.jsx)("img",{src:w,alt:"add image"}),Object(A.jsxs)("div",{className:C.a.HoverContent,children:[Object(A.jsx)("div",{className:C.a.HoverTriangle}),Object(A.jsx)("p",{className:C.a.HoverText,children:"Add image"})]})]}),o.isImageDropdown||o.shouldReplaceImage||o.shouldAddCanvasBgImage?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)("div",{className:C.a.ImageDropdown,children:Object(A.jsx)(P,{userFiles:l,setUserFiles:u})})]}):null]}),Object(A.jsxs)("div",{className:C.a.DesignControl,children:[Object(A.jsxs)("div",{className:C.a.AddShapeContainer,id:"addShape",onClick:p,children:[Object(A.jsx)("img",{src:y,alt:"add shape"}),Object(A.jsxs)("div",{className:C.a.HoverContent,children:[Object(A.jsx)("div",{className:C.a.HoverTriangle}),Object(A.jsx)("p",{className:C.a.HoverText,children:"Add shape"})]})]}),o.isShapeDropdown?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)("div",{className:C.a.ShapeDropdown,children:Object(A.jsx)(V,{})})]}):null]}),Object(A.jsx)("div",{className:C.a.DesignControl,children:Object(A.jsxs)("div",{className:C.a.AddShapeContainer,id:"subtitles",onClick:p,children:[Object(A.jsx)("img",{src:_,alt:"subtitles"}),Object(A.jsxs)("div",{className:C.a.HoverContent,children:[Object(A.jsx)("div",{className:C.a.HoverTriangle}),Object(A.jsx)("p",{className:C.a.HoverText,children:"Subtitles"})]})]})}),o.isSubtitlesDropdown?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)("div",{className:C.a.SubtitlesDropdown,children:Object(A.jsx)(ie,{})})]}):null]}),Object(A.jsxs)("div",{className:C.a.DownloadUserInfoContainer,children:[Object(A.jsx)("button",{id:"downloadDesign",className:C.a.DownloadButton,children:"Download"}),Object(A.jsx)("div",{className:C.a.User,children:Object(A.jsx)("p",{className:C.a.UserInitials,children:"DE"})})]})]})},se=a(27),le=a.n(se),de=a.p+"static/media/cut.50fbea68.svg",ue=a.p+"static/media/search.01416d75.svg",be=function(e,t,a,n,r,o){"delete"===e?function(e,t,a,n){for(var r=[],o=!1,i=0,c=0,s=0,l=0,d=0;d<e.length;d++){var u=e[d];!u.deleted&&o?(o=!1,e[c].next=d,r.push({start:i,end:l})):u.deleted&&!o?(o=!0,i=u.start,c=d,l=u.end):u.deleted&&o&&(l=u.end,s=d)}o&&r.push({start:i,end:l}),o&&c!==e.length-1?e[c].next=s:o&&(e[c].next=e.length-1),a(n),t([].concat(r))}(t,a,n,r):"restore"===e&&function(e,t,a,n){e((function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];i.start!==n&&r.push(i)}return t(a),[].concat(r)}))}(a,n,r,o)},pe=function(e,t,a,n,r){for(var o=null,i=e;i>=0;i--){if(!t[i].deleted){o=i;break}}if(null===o)for(var c=e;c<t.length;c++){if(!t[c].deleted){o=c;break}}a(null!==o?o:null),be("delete",t,n,r,o)},he=a(17),je=a.n(he),ge=a.p+"static/media/restoreText.63dbbf27.svg",fe=function(e){var t=e.wordsArr,a=e.currentWordIndex,n=e.searchInput,r=e.wordClickHandler,o=e.inputIndex,i=e.setInputIndex,c=e.currentSelection,s=Object(d.useState)(""),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(d.useRef)(null),j=function(){var e=u.trim().length>0?u:null;t[o]&&(e&&!t[o].silence?t[o].text=e:e?(t[o].text=e,t[o].silence=!1):t[o].silence=!0),b(""),i(null)},g=!1,f=!0,O=!1,m=!1;return Object(d.useEffect)((function(){null!==o&&(p.current.focus(),t[o]&&!t[o].silence&&b(t[o].text))}),[o,t]),t.map((function(e,t){f=!g||!e.deleted;var i=t===a&&!c&&!e.deleted,s=!e.silence&&!e.deleted&&n.trim().length>1&&e.text.trim().toLowerCase().includes(n.trim().toLowerCase());!g&&e.deleted&&(g=!0),g&&!e.deleted&&(g=!1),c&&c.start===t?O=!0:c&&c.end===t?m=!0:m&&(O=!1,m=!1);var l=null!==o&&i,d=l?Object(A.jsx)("input",{ref:p,className:je.a.WordInput,type:"text",value:u,onBlur:j,onChange:function(e){return b(e.target.value)}}):Object(A.jsx)("span",{className:e.silence?je.a.Pause:je.a.Word,children:e.silence?"\u2022\u2022\u2022\u2022 ":e.text+" "}),h=e.deleted?Object(A.jsxs)("span",{className:je.a.Deleted,children:[Object(A.jsx)("span",{className:je.a.DeletedImgContainer,children:Object(A.jsx)("img",{className:je.a.DeletedImg,src:ge,alt:"restore text"})}),Object(A.jsx)("span",{className:je.a.DeletedText,children:"[...] "})]}):d,S={width:"auto"};return l&&(S.width=e.silence?"70px":1.5*e.text.length+"ch",S.marginRight="0.4rem"),f?Object(A.jsx)("span",{style:S,id:e.id,className:[je.a.WordContainer,i?je.a.CurrentWord:null,s?je.a.Highlight:null,O?je.a.InSelection:null].join(" "),onClick:function(t){return r(t,e.deleted)},children:h},e.id):null}))},Oe=function(e){var t=e.words,a=e.currentWordIndex,n=e.setCurrentWordIndex,r=e.isPlaying,o=e.videoRef,i=e.setCuts,c=e.currentSelection,s=e.setCurrentSelection,l=e.setPlayerTime,u=Object(d.useState)(""),b=Object(h.a)(u,2),p=b[0],j=b[1],g=Object(d.useState)(null),f=Object(h.a)(g,2),O=f[0],m=f[1],S=Object(d.useCallback)((function(e){for(var a=0;a<t.length;a++){if(t[a].id===e)return a}return null}),[t]),C=Object(d.useCallback)((function(e,t,a,r,o,i){var c="",d="";if(t.parentNode.id===a.parentNode.id){var u=S(t.parentNode.id);t.parentNode.id&&null!==u&&(l(u),n(u)),e.removeAllRanges(),s(null)}else r&&o?4===i?(c=t.parentNode.id,d=a.parentNode.id):2===i&&(c=a.parentNode.id,d=t.parentNode.id):r?4===i?(c=t.parentNode.id,d=t.parentNode.parentNode.lastChild.id):2===i&&(c=t.parentNode.parentNode.firstChild.id,d=t.parentNode.id):o&&(4===i?(c=t.parentNode.parentNode.firstChild.parentNode.id,d=a.id):2===i&&(c=a.id,d=t.parentNode.parentNode.lastChild.parentNode.id));if(""!==c&&""!==d){var b=S(c),p=S(d);null!==b&&null!==p&&(s({start:b,end:p}),l(b),n(b))}}),[n,s,l,S]),v=Object(d.useCallback)((function(e){var t=document.getSelection();if(e.detail<2&&t.anchorNode&&t.focusNode){var a=t.anchorNode.parentNode,n=t.focusNode.parentNode,i="SPAN"===a.tagName,c="SPAN"===n.tagName,s=t.anchorNode.compareDocumentPosition(t.focusNode);!i&&!c||t.isCollapsed||(r&&o.current.pause(),C(t,a,n,i,c,s))}}),[C,r,o]);Object(d.useEffect)((function(){return document.addEventListener("mouseup",v),function(){return document.removeEventListener("mouseup",v)}}),[v]);return Object(A.jsxs)("div",{className:le.a.Transcription,children:[Object(A.jsxs)("div",{className:le.a.TextControls,children:[Object(A.jsxs)("div",{className:le.a.CutContainer,onClick:function(){r&&o.current.pause(),c||null===a?c&&function(e,t,a,n,r,o){for(var i=a.start,c=a.end,s=i;s<e.length&&(e[s].deleted=!0,s!==c);s++);pe(i,e,t,r,o),n(null)}(t,n,c,s,i,l):function(e,t,a,n,r){e[t].deleted=!0,pe(t,e,a,n,r)}(t,a,n,i,l),document.getSelection().removeAllRanges()},children:[Object(A.jsx)("img",{src:de,alt:"cut"}),Object(A.jsx)("p",{children:"Cut"})]}),Object(A.jsxs)("div",{className:le.a.SearchContainer,children:[Object(A.jsx)("input",{value:p,onChange:function(e){return j(e.target.value)},className:le.a.SearchInput,placeholder:"Search",type:"text"}),Object(A.jsx)("img",{className:le.a.SearchSvg,src:ue,alt:"search"})]})]}),Object(A.jsx)("div",{id:"textbox",className:le.a.Text,children:t?Object(A.jsx)(fe,{wordsArr:t,currentWordIndex:a,searchInput:p,wordClickHandler:function(e,a){var c=e.currentTarget.id,d=S(c);r&&o.current.pause(),e.detail>1&&null===O&&m(d),a||null!==O||null===d?null===O&&function(e,t,a,n,r,o){for(var i=t;i<e.length;i++){var c=e[i];if(!c.deleted)break;c.deleted=!1,null!==c.next&&(c.next=null)}var s=e[t].start;be("restore",null,r,o,t,s),n(null),a(t)}(t,d,n,s,i,l):(s(null),l(d),n(d))},inputIndex:O,setInputIndex:m,currentSelection:c}):null})]})},me=a(34),Se=a.n(me),Ce=a(74),ve=a.n(Ce),xe=a(6),we=a.p+"static/media/ctrlScale.3fdf1e45.svg",ye=a.p+"static/media/ctrlStretch.018481ed.svg",_e=a.p+"static/media/ctrlRotate.8ba52be7.svg",ke=function(){xe.fabric.Object.prototype.transparentCorners=!1,xe.fabric.Object.prototype.cornerColor="white",xe.fabric.Object.prototype.borderColor="#6F7BD0",xe.fabric.Object.prototype.cornerStrokeColor="#6F7BD0",xe.fabric.Object.prototype.cornerStyle="circle",xe.fabric.Object.prototype.objectCaching=!1;var e=new Image;e.src=ye;var t=new Image;t.src=we;var a=new Image;a.src=_e;var n=xe.fabric.controlsUtils,r=n.scaleSkewCursorStyleHandler,o=n.scaleCursorStyleHandler,i=n.scalingEqually,c=n.scalingYOrSkewingX,s=n.scalingXOrSkewingY,l=n.scaleOrSkewActionName,d=xe.fabric.Object.prototype.controls,u=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(xe.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/2,-i/2,i,i),t.restore()}},b=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(xe.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}},p=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(xe.fabric.util.degreesToRadians(o.angle+90)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}};if(d.ml=new xe.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,render:b(e)}),d.mr=new xe.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,offsetX:1,render:b(e)}),d.mt=new xe.fabric.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:-1,render:p(e)}),d.mb=new xe.fabric.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:1,render:p(e)}),d.tl=new xe.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.tr=new xe.fabric.Control({x:.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.bl=new xe.fabric.Control({x:-.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.br=new xe.fabric.Control({x:.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.mtr=new xe.fabric.Control({x:0,y:.5,cornerSize:50,offsetY:30,actionHandler:n.rotationWithSnapping,cursorStyleHandler:n.rotationStyleHandler,withConnection:!1,actionName:"rotate",render:u(a)}),xe.fabric.Textbox){var h=xe.fabric.Textbox.prototype.controls={};h.mtr=d.mtr,h.mr=new xe.fabric.Control({x:.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,offsetX:1,render:b(e)}),h.ml=new xe.fabric.Control({x:-.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:b(e)})}var j=xe.fabric.Line.prototype.controls={};j.mtr=d.mtr,j.ml=new xe.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:11,render:u(t)}),j.mr=new xe.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:-10,render:u(t)});var g=xe.fabric.Image.prototype.controls={};g.mtr=d.mtr,g.tr=d.tr,g.br=d.br,g.tl=d.tl,g.bl=d.bl;var f=xe.fabric.ActiveSelection.prototype.controls={};f.mtr=d.mtr,f.tr=d.tr,f.br=d.br,f.tl=d.tl,f.bl=d.bl;var O=xe.fabric.Group.prototype.controls={};O.mtr=d.mtr,O.tr=d.tr,O.br=d.br,O.tl=d.tl,O.bl=d.bl},Te=a(2),De={tl:!0,tr:!0,bl:!0,br:!0,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0},Ne=function(){var e=new xe.fabric.Rect({left:100,top:100,width:152,height:152,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0});return e.setControlsVisibility(De),e},Ie=function(e,t,a,n,r){a({type:"setShapeToAdd",data:null});var o=null;"square"===e.shapeToAdd?o=Ne():"roundedSquare"===e.shapeToAdd?o=function(){var e=Ne();return e.rx=30,e.ry=30,e}():"circle"===e.shapeToAdd?o=function(){var e=new xe.fabric.Circle({left:100,top:100,radius:76,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0});return e.setControlsVisibility(De),e}():"triangle"===e.shapeToAdd?o=function(){var e=new xe.fabric.Triangle({left:100,top:100,width:152,height:150,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0});return e.setControlsVisibility(De),e}():"line"===e.shapeToAdd&&(o=new xe.fabric.Line([0,0,300,0],{left:100,top:100,stroke:"rgba(196,196,196,1)",strokeWidth:2,padding:10,borderColor:"transparent",noScaleCache:!1})),o&&(o.id=n,t.add(o).setActiveObject(o),t.requestRenderAll(),r())},Ae=function(e,t,a,n,r){Object(d.useEffect)((function(){e.shapeToAdd?Ie(e,a,t,n,r):e.imageToAdd?function(e,t,a,n,r){var o=e.imageToAdd.src;if(e.shouldReplaceImage){var i=t.getActiveObject();xe.fabric.Image.fromURL(o,(function(n){n.top=i.top,n.left=i.left,n.scaleToWidth(i.width*i.scaleX),n.angle=i.angle,n.setControlsVisibility(De),n.id=i.id,n.cornerRadius=i.cornerRadius,n.isSvg="svg"===e.imageToAdd.type,t.remove(i),t.add(n).setActiveObject(n),t.requestRenderAll(),a({type:"setShouldUpdateImage",data:!0}),a({type:"setShouldReplaceImage",data:!1})}))}else xe.fabric.Image.fromURL(o,(function(a){a.scaleToWidth(256),a.left=100,a.top=100,a.setControlsVisibility(De),a.id=n,a.cornerRadius=0,a.isSvg="svg"===e.imageToAdd.type,t.add(a).setActiveObject(a),t.requestRenderAll(),r()}));a({type:"setImageToAdd",data:null})}(e,a,t,n,r):e.shouldAddText&&function(e,t,a,n,r){a({type:"setShouldAddText",data:!1});var o=new xe.fabric.Textbox("Add\u2004text\u200e",Object(Te.a)({left:100,top:100,height:100,padding:10,width:130,splitByGrapheme:!0,cursorWidth:.5},t.textState));o.id=n,e.add(o).setActiveObject(o),e.requestRenderAll(),r()}(a,e,t,n,r)}),[a,t,e,n,r])},Me=Object(d.createContext)(null),Be=["fontFamily","fontStyle","fontWeight","fontSize","fill","opacity","textAlign"],Re=["fill","stroke","strokeWidth"],Fe=["cornerRadius","isSvg"],Pe=function(e,t){var a={type:"",object:null};t({type:"setCurrentCoords",data:e.target.lineCoords}),"textbox"===e.target.type?a.type=function(e,t){var a={};return Be.forEach((function(t){a[t]=e.target[t]})),t({type:"setTextState",data:a}),"text"}(e,t):"image"===e.target.type?a.type=function(e,t){var a={};return Fe.forEach((function(t){a[t]=e.target[t]})),t({type:"setImageState",data:a}),"image"}(e,t):"video"!==e.target.type?a.type=function(e,t){var a={};return Re.forEach((function(t){a[t]=e.target[t]})),t({type:"setShapeState",data:a}),e.target.type}(e,t):a.type="video",a.object=e.target,t({type:"setCurrentObject",data:a})},Ee=function(e){e.off("selection:created"),e.off("selection:updated"),e.off("selection:cleared"),e.off("object:modified"),e.off("object:rotating"),e.off("object:rotated"),e.off("object:scaling"),e.off("object:scaled"),e.off("object:skewing"),e.off("object:skewed"),e.off("object:moved"),e.off("text:editing:entered"),e.off("text:editing:exited")},Le=function(e,t,a,n){var r=Object(d.useContext)(Me),o=r.eventState,i=r.eventDispatch,c=Object(d.useState)(!1),s=Object(h.a)(c,2),l=s[0],u=s[1],b=Object(d.useState)(!1),p=Object(h.a)(b,2),j=p[0],g=p[1],f=Object(d.useState)(!1),O=Object(h.a)(f,2),m=O[0],S=O[1],C=Object(d.useState)(!1),v=Object(h.a)(C,2),x=v[0],w=v[1],y=Object(d.useRef)(!0),_=Object(d.useRef)(null),k=function(e){"video"!==e.target.type||e.target.isOnScreen()||(e.target.top=0,e.target.left=0)},T=Object(d.useCallback)((function(e,t,a){e.on("text:editing:entered",(function(t){return function(e,t,a){a(!0),"Add\u2004text\u200e"===e.target.text&&(e.target.text="",e.target.hiddenTextarea.value="",t.requestRenderAll())}(t,e,w)})),e.on("text:editing:exited",(function(t){return function(e,t,a){a(!1),""===e.target.text&&(e.target.text="Add\u2004text\u200e"),t.requestRenderAll()}(t,e,w)})),e.on("selection:created",(function(n){return function(e,t,a,n){"activeSelection"!==e.target.type?(n&&a({type:"setShowCanvasToolbar",data:!1}),Pe(e,a)):t.discardActiveObject()}(n,e,t,a)})),e.on("selection:updated",(function(e){return function(e,t){t({type:"setShowToolbar",data:!1}),Pe(e,t)}(e,t)})),e.on("object:modified",(function(e){return function(e,t){Pe(e,t)}(e,t)})),e.on("selection:cleared",(function(e){return function(e,t,a){a.current=null,t({type:"setCurrentObject",data:{type:"",object:null}}),t({type:"setCurrentCoords",data:null})}(0,t,_)})),e.on("object:rotating",(function(){return u(!0)})),e.on("object:rotated",(function(){return u(!1)})),e.on("object:scaling",(function(){return g(!0)})),e.on("object:scaled",(function(e){k(e),g(!1)})),e.on("object:skewing",(function(){return S(!0)})),e.on("object:skewed",(function(){return S(!1)})),e.on("object:moved",(function(e){k(e),i({type:"setIsMoving",data:!1})}))}),[i]);Object(d.useEffect)((function(){return e&&(a.isCropMode?Ee(t):T(t,n,a.showCanvasToolbar)),function(){e&&Ee(t)}}),[n,e,t,T,a.isCropMode,a.showCanvasToolbar]),Object(d.useEffect)((function(){if(!y.current){var e=!0;(l||j||m||o.isMoving||x||!a.currentCoords||"video"===a.currentObject.type)&&(e=!1),n({type:"setShowToolbar",data:e})}}),[o,l,j,m,x,a.isCropMode,a.currentCoords,a.currentObject,n]),Object(d.useEffect)((function(){y.current?y.current=!1:a.currentCoords?a.currentObject.object&&a.currentObject.object.id!==_.current&&"video"!==a.currentObject.type&&(_.current=a.currentObject.object.id,n({type:"setShowToolbar",data:!0})):n({type:"setShowToolbar",data:!1})}),[a.currentCoords,a.currentObject,n,a.isCropMode])},He=function(e,t,a,n,r,o,i,c,s){r.save(),r.lineWidth=o,r.strokeStyle=i,r.beginPath(),r.moveTo((e+c[4])*s,(t+c[5])*s),r.lineTo((a+c[4])*s,(n+c[5])*s),r.stroke(),r.restore()},ze=function(e,t,a){e=Math.round(e),t=Math.round(t);for(var n=e-a,r=e+a;n<=r;n++)if(n===t)return!0;return!1},Ue=function(e,t,a,n,r,o){He(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1,t,a,n,r,o)},We=function(e,t,a,n,r,o){He(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5,t,a,n,r,o)},Ge=function(e,t,a,n,r,o,i,c){r.save(),r.strokeStyle=o,r.lineWidth=i,r.beginPath(),r.moveTo(e*c[0],t*c[3]),r.lineTo(a*c[0],n*c[3]),r.stroke(),r.restore()},Ve=function(e,t,a){var n=Object(d.useContext)(Me),r=n.eventState,o=n.eventDispatch,i=Object(d.useState)(null),c=Object(h.a)(i,2),s=c[0],l=c[1],u=Object(d.useState)(null),b=Object(h.a)(u,2),p=b[0],j=b[1],g=Object(d.useState)([]),f=Object(h.a)(g,2),O=f[0],m=f[1],S=Object(d.useState)([]),C=Object(h.a)(S,2),v=C[0],x=C[1],w=Object(d.useState)(1),y=Object(h.a)(w,2),_=y[0],k=y[1],T=Object(d.useState)(null),D=Object(h.a)(T,2),N=D[0],I=D[1],A=Object(d.useState)(null),M=Object(h.a)(A,2),R=M[0],F=M[1],P=Object(d.useState)({}),E=Object(h.a)(P,2),L=E[0],H=E[1],z=Object(d.useState)({}),U=Object(h.a)(z,2),W=U[0],G=U[1],V=Object(d.useState)(null),Y=Object(h.a)(V,2),K=Y[0],X=Y[1],q=Object(d.useState)(null),Z=Object(h.a)(q,2),J=Z[0],Q=Z[1],$="rgb(111, 123, 208)",ee="rgb(111, 123, 208)",te=Object(d.useCallback)((function(){j(a.viewportTransform),k(a.getZoom())}),[a]),ae=Object(d.useCallback)((function(){a.clearContext(a.contextTop)}),[a]),ne=Object(d.useCallback)((function(e){!function(e,t,a,n,r,o,i){var c=e.target,s=t.getObjects(),l=c.getCenterPoint(),d=l.x,u=l.y,b=c.getBoundingRect(),p=b.height/a[3],h=b.width/a[0],j=!1,g=!1;if(t._currentTransform){for(var f=function(e){if(s[e]===c)return"continue";var t=s[e].getCenterPoint(),l=t.x,b=t.y,f=s[e].getBoundingRect(),O=f.height/a[3],m=f.width/a[0];ze(l,d,i)&&(g=!0,r((function(e){return[].concat(Object(B.a)(e),[{x:l,y1:b<u?b-O/2-n:b+O/2+n,y2:u>b?u+p/2+n:u-p/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(l,u),"center","center")),ze(l-m/2,d-h/2,i)&&(g=!0,r((function(e){return[].concat(Object(B.a)(e),[{x:l-m/2,y1:b<u?b-O/2-n:b+O/2+n,y2:u>b?u+p/2+n:u-p/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(l-m/2+h/2,u),"center","center")),ze(l+m/2,d+h/2,i)&&(g=!0,r((function(e){return[].concat(Object(B.a)(e),[{x:l+m/2,y1:b<u?b-O/2-n:b+O/2+n,y2:u>b?u+p/2+n:u-p/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(l+m/2-h/2,u),"center","center")),ze(b,u,i)&&(j=!0,o((function(e){return[].concat(Object(B.a)(e),[{y:b,x1:l<d?l-m/2-n:l+m/2+n,x2:d>l?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(d,b),"center","center")),ze(b-O/2,u-p/2,i)&&(j=!0,o((function(e){return[].concat(Object(B.a)(e),[{y:b-O/2,x1:l<d?l-m/2-n:l+m/2+n,x2:d>l?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(d,b-O/2+p/2),"center","center")),ze(b+O/2,u+p/2,i)&&(j=!0,o((function(e){return[].concat(Object(B.a)(e),[{y:b+O/2,x1:l<d?l-m/2-n:l+m/2+n,x2:d>l?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new xe.fabric.Point(d,b+O/2-p/2),"center","center"))},O=s.length;O--;)f(O);j||o([]),g||r([])}}(e,a,p,5,m,x,4),function(e,t,a,n,r,o,i,c){var s=e.target,l=s.getCenterPoint();if(t._currentTransform){var d=Math.round(l.x)in r,u=Math.round(l.y)in o;a(d),n(u),(d||u)&&s.setPositionByOrigin(new xe.fabric.Point(d?i/2:l.x,u?c/2:l.y),"center","center")}}(e,a,X,Q,L,W,N,R)}),[a,p,R,W,N,L]),re=Object(d.useCallback)((function(){for(var e=O.length;e--;)Ue(O[e],s,1,$,p,_);for(var t=v.length;t--;)We(v[t],s,1,$,p,_);m([]),x([]),K&&function(e,t,a,n,r,o){Ge(e+.5,0,e+.5,t,a,n,r,o)}(N/2,R,s,ee,1,p),J&&function(e,t,a,n,r,o){Ge(0,e+.5,t,e+.5,a,n,r,o)}(R/2,N,s,ee,1,p)}),[s,p,v,O,_,R,N,J,K]),oe=Object(d.useCallback)((function(){m([]),x([]),X(null),Q(null),a.requestRenderAll()}),[a]),ie=Object(d.useCallback)((function(){l(a.getSelectionContext()),I(a.getWidth()/a.getZoom()),F(a.getHeight()/a.getZoom());for(var e={},t={},n=N/2-4,r=N/2+4;n<=r;n++)e[Math.round(n)]=!0;for(var o=R/2-4,i=R/2+4;o<=i;o++)t[Math.round(o)]=!0;H(e),G(t)}),[R,N,a]),ce=Object(d.useCallback)((function(e){e.off("object:added"),e.off("mouse:down"),e.off("object:moving"),e.off("before:render"),e.off("after:render"),e.off("mouse:up")}),[]);Object(d.useEffect)((function(){t&&ie()}),[e.shouldUpdateCanvasSize,t,ie]),Object(d.useEffect)((function(){return t&&s&&!e.isCropMode?(a.on("mouse:down",te),a.on("object:moving",(function(e){r.isMoving||o({type:"setIsMoving",data:!0}),ne(e)})),a.on("before:render",ae),a.on("after:render",re),a.on("mouse:up",(function(e){3===e.button&&(o({type:"setRightClickEvent",data:e}),e.e.preventDefault()),oe(e)}))):e.isCropMode&&ce(a),function(){t&&s&&ce(a)}}),[r,o,e.shouldUpdateCanvasSize,e.isCropMode,ce,t,s,a,oe,re,ne,ae,te])},Ye=a(111),Ke=a.n(Ye),Xe=function(e,t,a){if(e.textState){e.currentObject.object._clearCache();for(var n=0,r=Object.entries(e.textState);n<r.length;n++){var o=Object(h.a)(r[n],2),i=o[0],c=o[1];"fontFamily"!==i&&e.currentObject.object.set(i,c)}!function(e,t,a){Ke.a.load({google:{families:[a]},timeout:5e3,fontactive:function(a,n){t.set({fontFamily:a}),e.requestRenderAll()}})}(t,e.currentObject.object,e.textState.fontFamily),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateText",data:!1})},qe=function(e,t,a){var n=t.getActiveObject();if(n&&"image"===n.type){var r=e.imageState.cornerRadius;n.set("clipPath",function(e,t){var a=e.width*e.scaleX*t/200,n=e.height*e.scaleY*t/200;return new xe.fabric.Rect({width:e.width,height:e.height,rx:a/e.scaleX,ry:n/e.scaleY,left:-e.width/2,top:-e.height/2,noScaleCache:!1})}(n,r)),n.cornerRadius=r,t.requestRenderAll()}a({type:"setShouldUpdateImage",data:!1})},Ze=function(e,t){t.bgImage=e.backgroundImage.src,xe.fabric.Image.fromURL(e.backgroundImage.src,(function(a){var n,r,o;e.width/e.height>=a.width/a.height?(o=e.width/t.getZoom()/a.width,n=0,r=-(a.height*o-e.height/t.getZoom())/2):(o=e.height/t.getZoom()/a.height,r=0,n=-(a.width*o-e.width/t.getZoom())/2),t.hoverCursor="default",a.top=r,a.left=n,a.originX="left",a.originY="top",a.scaleX=o,a.scaleY=o,a.selectable=!1,t.add(a),a.id="background",t.getObjects().forEach((function(){return t.sendBackwards(a)})),t.requestRenderAll()}))},Je=["rect","circle","triangle","line"],Qe=function(e,t,a){Object(d.useEffect)((function(){e.shouldUpdateCanvas&&function(e,t,a){t.backgroundColor=e.backgroundColor,t.getObjects().forEach((function(e){"background"===e.id&&t.remove(e)})),e.backgroundImage.src?(Ze(e,t),a({type:"setShouldAddCanvasBgImage",data:!1}),a({type:"setShowCanvasToolbar",data:!1})):t.requestRenderAll(),a({type:"setShouldUpdateCanvas",data:!1})}(e.canvasState,a,t),e.shouldUpdateCanvasSize&&function(e,t,a){t.discardActiveObject();var n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);t.setZoom(n),t.setDimensions({width:e.width,height:e.height}),t.getObjects().forEach((function(e){"background"===e.id&&t.remove(e)})),e.backgroundImage.src&&Ze(e,t),t.requestRenderAll(),a({type:"setShouldUpdateCanvasSize",data:!1})}(e.canvasState,a,t),e.shouldUpdateText&&"text"===e.currentObject.type&&Xe(e,a,t),e.shouldUpdateShape&&Je.includes(e.currentObject.type)&&function(e,t,a){if(e.shapeState){for(var n=0,r=Object.entries(e.shapeState);n<r.length;n++){var o=Object(h.a)(r[n],2),i=o[0],c=o[1];e.currentObject.object.set(i,c)}e.showToolbar||a({type:"setShowToolbar",data:!0}),t.requestRenderAll()}a({type:"setShouldUpdateShape",data:!1})}(e,a,t),e.shouldUpdateImage&&"image"===e.currentObject.type&&qe(e,a,t)}),[e,t,a])},$e=a(112),et=a.n($e),tt=a(8),at=a.n(tt),nt=a.p+"static/media/downArrow.fef3575b.svg",rt=a.p+"static/media/bold.a2d1e7f9.svg",ot=a.p+"static/media/italic.3764ee89.svg",it=a.p+"static/media/textLeft.6dd8e1e0.svg",ct=a.p+"static/media/textRight.41f15bae.svg",st=a.p+"static/media/textCenter.ac71018d.svg",lt=a.p+"static/media/textJustify.7c9f4495.svg",dt=a(25),ut=a.n(dt),bt=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akaya Kanadaka","Akaya Telivigala","Akronim","Aladin","Alata","Alatsi","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Andika New Basic","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Bebas Neue","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Beth Ellen","Bevan","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bodoni Moda","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Brygada 1918","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comic Neue","Coming Soon","Commissioner","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Epilogue","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gayathri","Gelasio","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Goldman","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Graduate","Grand Hotel","Grandstander","Gravitas One","Great Vibes","Grenze","Grenze Gotisch","Griffy","Gruppo","Gudea","Gugi","Gupter","Gurajada","Habibi","Hachi Maru Pop","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inter","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Kiwi Maru","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","MuseoModerno","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piazzolla","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Recursive","Red Hat Display","Red Hat Text","Red Rose","Redressed","Reem Kufi","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shippori Mincho","Shippori Mincho B1","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Solway","Song Myung","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Tomorrow","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tulpen One","Turret Road","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vesper Libre","Viaoda Libre","Vibes","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Xanh Mono","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],pt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=Object(d.useState)(""),r=Object(h.a)(n,2),o=r[0],i=r[1],c=bt.filter((function(e){return e.toLowerCase().includes(o.toLowerCase())})).map((function(e){return Object(A.jsx)("li",{className:ut.a.FontOption,children:e},e)}));return Object(A.jsxs)("div",{className:ut.a.FontsDropdown,children:[Object(A.jsxs)("div",{className:ut.a.SearchContainer,children:[Object(A.jsx)("img",{className:ut.a.SearchSvg,src:ue,alt:"search"}),Object(A.jsx)("input",{value:o,onChange:function(e){return i(e.target.value)},className:ut.a.SearchInput,placeholder:"Search",type:"text"})]}),Object(A.jsx)("ul",{className:ut.a.FontOptionsContainer,onClick:function(e){"LI"===e.target.tagName&&(a({type:"setFontFamily",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:c}),Object(A.jsx)("div",{className:ut.a.UploadFontContainer,children:Object(A.jsx)("button",{className:ut.a.UploadFontButton,children:"Upload font"})})]})},ht=a(21),jt=a.n(ht),gt=function(e){var t=e.setIsDropDown,a=e.dispatch;return Object(A.jsxs)("ul",{className:jt.a.FontSizeDropdown,onClick:function(e){"LI"===e.target.tagName&&(a({type:"setFontSize",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:[Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"14"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"24"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"30"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"36"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"48"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"60"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"72"}),Object(A.jsx)("li",{className:jt.a.FontSizeOption,children:"96"})]})},ft=a(11),Ot=a.n(ft),mt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.current;return Object(A.jsxs)("ul",{className:Ot.a.TextAlignDropdown,onClick:function(e){var n=null;"LI"===e.target.tagName?n=e.target.childNodes[0].alt:"P"===e.target.tagName?n=e.target.textContent:"IMG"===e.target.tagName&&(n=e.target.alt),n&&(a({type:"setTextAlign",data:n.toLowerCase()}),t(!1))},children:[Object(A.jsxs)("li",{className:[Ot.a.TextAlignOption,"left"===n?Ot.a.Current:null].join(" "),children:[Object(A.jsx)("img",{className:Ot.a.TextAlignImage,src:it,alt:"left"}),Object(A.jsx)("p",{className:Ot.a.TextAlignText,children:"Left"})]}),Object(A.jsxs)("li",{className:[Ot.a.TextAlignOption,"center"===n?Ot.a.Current:null].join(" "),children:[Object(A.jsx)("img",{className:Ot.a.TextAlignImage,src:st,alt:"center"}),Object(A.jsx)("p",{className:Ot.a.TextAlignText,children:"Center"})]}),Object(A.jsxs)("li",{className:[Ot.a.TextAlignOption,"right"===n?Ot.a.Current:null].join(" "),children:[Object(A.jsx)("img",{className:Ot.a.TextAlignImage,src:ct,alt:"right"}),Object(A.jsx)("p",{className:Ot.a.TextAlignText,children:"Right"})]}),Object(A.jsxs)("li",{className:[Ot.a.TextAlignOption,"justify"===n?Ot.a.Current:null].join(" "),children:[Object(A.jsx)("img",{className:Ot.a.TextAlignImage,src:lt,alt:"justify"}),Object(A.jsx)("p",{className:Ot.a.TextAlignText,children:"Justify"})]})]})},St=a(31),Ct=a(40),vt=a.n(Ct),xt=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.isFontFamilyDropdown,o=e.isFontSizeDropdown,i=e.isColorDropdown,c=e.isTextAlignDropDown,s=e.setIsFontFamilyDropdown,l=e.setIsFontSizeDropdown,u=e.colorChangeCompleteHandler,b=e.setIsTextAlignDropDown,p=e.setColor,j=e.color,g=e.colorPickerRef,f=Object(d.useState)({top:41}),O=Object(h.a)(f,2),m=O[0],S=O[1];return Object(d.useEffect)((function(){n&&n.coordY+301+41+20>t.canvasState.height&&S({bottom:41})}),[t.canvasState,n]),Object(A.jsxs)(A.Fragment,{children:[r?Object(A.jsx)("div",{className:vt.a.FontsDropdown,style:m,children:Object(A.jsx)(pt,{setIsDropDown:s,dispatch:a})}):null,o?Object(A.jsx)("div",{className:vt.a.FontSizeDropdown,style:m,children:Object(A.jsx)(gt,{setIsDropDown:l,dispatch:a})}):null,i?Object(A.jsx)("div",{className:vt.a.SketchPickerContainer,style:m,children:Object(A.jsx)(St.a,{color:j,onChange:function(e){return p(e.rgb)},onChangeComplete:function(e){return u(e,g,a)}})}):null,c?Object(A.jsx)("div",{className:vt.a.TextAlignDropdown,style:m,children:Object(A.jsx)(mt,{setIsDropDown:b,dispatch:a,current:t.textState.textAlign})}):null]})},wt=function(e,t,a){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");a({type:"setTextFill",data:n}),t.current.style.background=n},yt=function(e){var t=e.coords,a=Object(d.useContext)(k),n=a.appState,r=a.appDispatch,o=Object(d.useState)(n.textState.fontSize),i=Object(h.a)(o,2),c=i[0],s=i[1],l=Object(d.useState)(!0),u=Object(h.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)(!1),g=Object(h.a)(j,2),f=g[0],O=g[1],m=Object(d.useState)(!1),S=Object(h.a)(m,2),C=S[0],v=S[1],x=Object(d.useState)(!1),w=Object(h.a)(x,2),y=w[0],_=w[1],T=Object(d.useState)(!1),D=Object(h.a)(T,2),N=D[0],I=D[1],M=Object(d.useState)({r:0,g:0,b:0,a:1}),B=Object(h.a)(M,2),R=B[0],F=B[1],P=Object(d.useRef)(null),E=[at.a.FontWeightBoldContainer],L=[at.a.FontStyleItalicContainer],H="Bold"===n.textState.fontWeight,z="Italic"===n.textState.fontStyle;H&&E.push(at.a.Active),z&&L.push(at.a.Active);var U=it;"center"===n.textState.textAlign?U=st:"right"===n.textState.textAlign?U=ct:"justify"===n.textState.textAlign&&(U=lt);var W={fontFamily:O,fontSizeArrow:v,colorPicker:_,textAlign:I},G={bold:function(){var e="Bold";H&&(e="Normal"),r({type:"setFontWeight",data:e})},italic:function(){var e="Italic";z&&(e="Normal"),r({type:"setFontStyle",data:e})}},V=function(e){return function(e,t,a){"bold"!==e.currentTarget.id&&"italic"!==e.currentTarget.id||a[e.currentTarget.id]();for(var n=0,r=Object.entries(t);n<r.length;n++){var o=Object(h.a)(r[n],2),i=o[0],c=o[1];i===e.currentTarget.id?c((function(e){return!e})):c(!1)}}(e,W,G)};return Object(d.useEffect)((function(){if(b){p(!1);var e=n.textState.fill.split("(")[1].split(")")[0].split(","),t=Object(h.a)(e,4),a=t[0],r=t[1],o=t[2],i=t[3];F({r:a,g:r,b:o,a:i}),P.current.style.background=n.textState.fill}}),[n.textState.fill,b]),Object(A.jsxs)("div",{className:at.a.TextToolbar,children:[Object(A.jsxs)("div",{className:at.a.FontsContainer,id:"fontFamily",onClick:V,children:[Object(A.jsx)("p",{children:n.textState.fontFamily}),Object(A.jsx)("img",{className:at.a.DownArrow,src:nt,alt:"arrow"})]}),Object(A.jsx)("div",{className:at.a.BorderDiv}),Object(A.jsxs)("div",{className:at.a.FontSizeContainer,children:[Object(A.jsx)("div",{className:at.a.FontSizeInputContainer,children:Object(A.jsx)("input",{className:at.a.FontSizeInput,type:"number",value:c,onChange:function(e){return function(e,t,a){t(e.target.value);var n=+e.target.value;n<=0?n=1:n>1080&&(n=1080),a({type:"setFontSize",data:n})}(e,s,r)}})}),Object(A.jsx)("div",{className:at.a.FontSizeArrowContainer,id:"fontSizeArrow",onClick:V,children:Object(A.jsx)("img",{className:at.a.DownArrow,src:nt,alt:"arrow"})})]}),Object(A.jsx)("div",{className:at.a.BorderDiv}),Object(A.jsx)("div",{className:at.a.ColorPickerContainer,id:"colorPicker",onClick:V,children:Object(A.jsx)("div",{className:at.a.ColorPickerBorder,children:Object(A.jsx)("div",{ref:P,className:at.a.ColorPicker})})}),Object(A.jsx)("div",{className:at.a.BorderDiv}),Object(A.jsx)("div",{className:E.join(" "),id:"bold",onClick:V,children:Object(A.jsx)("img",{className:at.a.Bold,src:rt,alt:"bold"})}),Object(A.jsx)("div",{className:at.a.BorderDiv}),Object(A.jsx)("div",{className:L.join(" "),id:"italic",onClick:V,children:Object(A.jsx)("img",{className:at.a.Italic,src:ot,alt:"italic"})}),Object(A.jsx)("div",{className:at.a.BorderDiv}),Object(A.jsx)("div",{className:at.a.TextAlignContainer,id:"textAlign",onClick:V,children:Object(A.jsx)("img",{className:at.a.TextAlign,src:U,alt:"textAlign"})}),Object(A.jsx)(xt,{state:n,dispatch:r,coords:t,isFontFamilyDropdown:f,isFontSizeDropdown:C,isColorDropdown:y,isTextAlignDropDown:N,setIsFontFamilyDropdown:O,setIsFontSizeDropdown:v,colorChangeCompleteHandler:wt,setIsTextAlignDropDown:I,setColor:F,color:R,colorPickerRef:P})]})},_t=a(12),kt=a.n(_t),Tt=a(53),Dt=a.n(Tt),Nt=a(10),It=a.n(Nt),At=function(e){var t=e.setIsDropDown,a=e.dispatch,n=function(e){"LI"===e.target.tagName&&(a({type:"setShapeStrokeWidth",data:+e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))};return e.isLine?Object(A.jsxs)("ul",{className:It.a.LineDropdown,onClick:n,children:[Object(A.jsx)("li",{className:It.a.StrokeOption,children:"1"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"5"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"10"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"15"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"20"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"25"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"30"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"35"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"40"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"45"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"50"})]}):Object(A.jsxs)("ul",{className:It.a.ShapeDropdown,onClick:n,children:[Object(A.jsx)("li",{className:It.a.StrokeOption,children:"0"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"4"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"8"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"12"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"24"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"48"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"96"}),Object(A.jsx)("li",{className:It.a.StrokeOption,children:"120"})]})},Mt=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.shapeToolbar,o=e.isStrokeWidthDropdown,i=e.isFillDropdown,c=e.isStrokeDropdown,s=e.fill,l=e.setFill,u=e.fillChangeCompleteHandler,b=e.fillRef,p=e.stroke,j=e.setStroke,g=e.strokeChangeCompleteHandler,f=e.strokeRef,O=e.setIsStrokeWidthDropdown,m=e.isLine,S=Object(d.useState)({top:41}),C=Object(h.a)(S,2),v=C[0],x=C[1],w=Object(d.useState)({top:41}),y=Object(h.a)(w,2),_=y[0],k=y[1],T=Object(d.useCallback)((function(e,t,a){var n=t.offsetWidth,r={};e.coordY+301+41+20>a&&(r.bottom=41,k({bottom:41})),e.coordX+n-220<0&&(r.left=0,r.bottom||(r.top=41)),0!==Object.keys(r).length&&x(r)}),[]);return Object(d.useEffect)((function(){n&&r&&T(n,r,t.canvasState.height)}),[T,r,t.canvasState,n]),Object(A.jsxs)(A.Fragment,{children:[i?Object(A.jsx)("div",{className:Dt.a.FillDropdownContainer,style:v,children:Object(A.jsx)(St.a,{color:s,onChange:function(e){return l(e.rgb)},onChangeComplete:function(e){return u(e,a,b)}})}):null,c?Object(A.jsx)("div",{className:Dt.a.StrokeDropdownContainer,style:v,children:Object(A.jsx)(St.a,{color:p,onChange:function(e){return j(e.rgb)},onChangeComplete:function(e){return g(e,a,f)}})}):null,o?Object(A.jsx)("div",{className:Dt.a.StrokeWidthDropdownContainer,style:_,children:Object(A.jsx)(At,{setIsDropDown:O,isLine:m,dispatch:a})}):null]})},Bt=function(e,t,a){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeFill",data:n}),a.current.style.background=n},Rt=function(e,t,a){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeStroke",data:n}),a.current.style.background=n},Ft=function(e){var t=e.coords,a=Object(d.useContext)(k),n=a.appState,r=a.appDispatch,o=Object(d.useState)(!0),i=Object(h.a)(o,2),c=i[0],s=i[1],l=Object(d.useState)("rgba(196,196,196,1)"),u=Object(h.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)("rgba(255,255,255,1)"),g=Object(h.a)(j,2),f=g[0],O=g[1],m=Object(d.useState)(!1),S=Object(h.a)(m,2),C=S[0],v=S[1],x=Object(d.useState)(!1),w=Object(h.a)(x,2),y=w[0],_=w[1],T=Object(d.useState)(!1),D=Object(h.a)(T,2),N=D[0],I=D[1],M=Object(d.useState)(n.shapeState.strokeWidth),B=Object(h.a)(M,2),R=B[0],F=B[1],P=Object(d.useRef)(null),E=Object(d.useRef)(null),L=Object(d.useRef)(null),H=Object(d.useRef)(null),z="line"===n.currentObject.type,U=function(e){return function(e,t,a,n){var r=e.currentTarget.id;"fill"===r?(t((function(e){return!e})),a(!1),n(!1)):"stroke"===r?(a((function(e){return!e})),t(!1),n(!1)):(n((function(e){return!e})),t(!1),a(!1))}(e,v,_,I)};return Object(d.useEffect)((function(){c&&function(e,t,a,n,r,o,i,c){if(a(!1),e)o.current.style.borderTopLeftRadius="15px",o.current.style.borderBottomLeftRadius="15px";else{var s=t.fill.split("(")[1].split(")")[0].split(","),l=Object(h.a)(s,4);n({r:l[0],g:l[1],b:l[2],a:l[3]}),r.current.style.background=t.fill}var d=t.stroke.split("(")[1].split(")")[0].split(","),u=Object(h.a)(d,4);i({r:u[0],g:u[1],b:u[2],a:u[3]}),c.current.style.background=t.stroke}(z,n.shapeState,s,p,E,H,O,L)}),[z,n.shapeState,c]),Object(A.jsxs)("div",{ref:P,className:kt.a.ShapeToolbar,children:[z?null:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:kt.a.FillContainer,id:"fill",onClick:U,children:[Object(A.jsx)("div",{className:kt.a.ColorPickerBorder,children:Object(A.jsx)("div",{ref:E,className:kt.a.ColorPicker})}),Object(A.jsx)("p",{children:"Fill"})]}),Object(A.jsx)("div",{className:kt.a.BorderDiv})]}),Object(A.jsxs)("div",{ref:H,className:kt.a.StrokeContainer,id:"stroke",onClick:U,children:[Object(A.jsx)("div",{className:kt.a.ColorPickerBorder,children:Object(A.jsx)("div",{ref:L,className:kt.a.ColorPicker})}),Object(A.jsx)("p",{children:"Stroke"})]}),Object(A.jsx)("div",{className:kt.a.BorderDiv}),Object(A.jsxs)("div",{className:kt.a.StrokeWidthContainer,children:[Object(A.jsx)("div",{className:kt.a.StrokeWidthInputContainer,children:Object(A.jsx)("input",{className:kt.a.StrokeWidthInput,type:"number",value:R,onChange:function(e){return function(e,t,a,n){a(e.target.value);var r=+e.target.value;n&&r<=0?r=1:n&&r>50?r=50:!n&&r>120?r=120:!n&&r<0&&(r=0),t({type:"setShapeStrokeWidth",data:r})}(e,r,F,z)}})}),Object(A.jsx)("div",{className:kt.a.StrokeWidthArrowContainer,id:"strokeWidth",onClick:U,children:Object(A.jsx)("img",{className:kt.a.DownArrow,src:nt,alt:"arrow"})})]}),Object(A.jsx)(Mt,{state:n,dispatch:r,coords:t,shapeToolbar:P.current,isStrokeWidthDropdown:N,setIsStrokeWidthDropdown:I,isStrokeDropdown:y,isFillDropdown:C,fill:b,setFill:p,fillChangeCompleteHandler:Bt,fillRef:E,stroke:f,setStroke:O,strokeChangeCompleteHandler:Rt,strokeRef:L,isLine:z})]})},Pt=a(22),Et=a.n(Pt),Lt=a.p+"static/media/replaceImage.24b71204.svg",Ht=a.p+"static/media/cornerRadius.701d1dee.svg",zt=a.p+"static/media/cropImage.06a8d86d.svg",Ut=function(){var e=Object(d.useContext)(k),t=e.appState,a=e.appDispatch,n=Object(d.useState)(t.imageState.cornerRadius),r=Object(h.a)(n,2),o=r[0],i=r[1],c=function(e){"replace"===e.currentTarget.id?a({type:"setShouldReplaceImage",data:!0}):"crop"===e.currentTarget.id&&a({type:"setIsCropMode",data:!0})},s=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:[Et.a.ReaplaceContainer,t.imageState.isSvg?Et.a.BorderStyle:null].join(" "),id:"replace",onClick:c,children:[Object(A.jsx)("img",{src:Lt,alt:"replace"}),Object(A.jsx)("p",{children:"Replace"})]}),t.imageState.isSvg?null:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:Et.a.BorderDiv}),Object(A.jsxs)("div",{className:Et.a.RadiusContainer,id:"radius",onClick:c,children:[Object(A.jsx)("img",{src:Ht,alt:"radius"}),Object(A.jsx)("input",{className:Et.a.RadiusInput,type:"number",value:o,onChange:function(e){i(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),a({type:"setImageCornerRadius",data:t})}})]}),Object(A.jsx)("div",{className:Et.a.BorderDiv}),Object(A.jsxs)("div",{className:Et.a.CropContainer,id:"crop",onClick:c,children:[Object(A.jsx)("img",{src:zt,alt:"replace"}),Object(A.jsx)("p",{children:"Crop"})]})]})]});return Object(A.jsx)("div",{className:Et.a.ImageToolbar,children:t.isCropMode?Object(A.jsx)("div",{className:Et.a.DoneContainer,onClick:function(){a({type:"setShouldCropImage",data:!0}),a({type:"setShowToolbar",data:!1})},children:"Done"}):s})},Wt=function(e){var t=e.canvas,a=Object(d.useState)(null),n=Object(h.a)(a,2),r=n[0],o=n[1],i=Object(d.useContext)(k).appState,c=Object(d.useRef)(null),s=Object(d.useCallback)((function(e){c.current.style.transform="translate(".concat(e.coordX,"px, ").concat(e.coordY,"px)"),c.current.style.opacity=1,o(e)}),[]);return Object(d.useEffect)((function(){i.currentCoords&&s(function(e,t,a,n,r,o){var i=n.offsetWidth,c=n.offsetHeight,s=e.tl.y>e.bl.y,l=s?r+c:r,d=Math.min(e.tl.y,e.tr.y,e.br.y,e.bl.y)-c-l;if(d-o<0){var u=Math.max(e.tl.y,e.tr.y,e.br.y,e.bl.y)+r+(s?0:c);d=u+o+c<a?u:a-c-r}var b=Math.min(e.tl.x,e.tr.x,e.br.x,e.bl.x);return b+i>t?b=t-i:b<0&&(b=0),{coordX:b,coordY:d}}(i.currentCoords,t.getWidth(),t.getHeight(),c.current,28,10))}),[t,s,i.currentCoords,i.isCroppingImage]),Object(A.jsxs)("div",{ref:c,className:et.a.Toolbar,children:["text"===i.currentObject.type?Object(A.jsx)(yt,{coords:r}):null,["rect","circle","triangle","line"].includes(i.currentObject.type)?Object(A.jsx)(Ft,{coords:r}):null,"image"===i.currentObject.type?Object(A.jsx)(Ut,{}):null]})},Gt=function(e,t,a,n,r){a.getObjects().forEach((function(e){return e.selectable=!1}));var o=e.calcTransformMatrix(),i=o[4],c=o[5],s=(360-e.angle)*Math.PI/180,l=i-Math.abs((e.left-i)*Math.cos(s)-(e.top-c)*Math.sin(s)),d=c-Math.abs((e.left-i)*Math.sin(s)+(e.top-c)*Math.cos(s));e.angle=0,e.top=d,e.left=l;var u=function(e,t,a){var n=new xe.fabric.Rect({fill:"rgba(0,0,0,0)",originX:"left",originY:"top",left:t,top:e,borderDashArray:[2,2],borderColor:"#dbff17",width:a.width,height:a.height,scaleX:a.scaleX,scaleY:a.scaleY,selectable:!0,lockScalingFlip:!0,type:"cropbox"});return n.controls.mtr.visible=!1,n}(d,l,e);a.add(u),a.setActiveObject(u),t({type:"setCurrentCoords",data:u.lineCoords}),n(e),r(u)},Vt=function(e,t,a,n,r){var o=Object(d.useState)(!1),i=Object(h.a)(o,2),c=i[0],s=i[1],l=Object(d.useState)(null),u=Object(h.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)(null),g=Object(h.a)(j,2),f=g[0],O=g[1],m=Object(d.useState)(null),S=Object(h.a)(m,2),C=S[0],v=S[1],x=Object(d.useState)(null),w=Object(h.a)(x,2),y=w[0],_=w[1],k=Object(d.useCallback)((function(e,t){p(null),s(!1),O(null),v(null),_(null),e.off("mouse:down"),e.requestRenderAll(),t({type:"setShouldCropImage",data:!1}),t({type:"setShowToolbar",data:!0})}),[]),T=Object(d.useCallback)((function(e,t){var a=t.scaleX/e.scaleX,n=t.scaleY/e.scaleY,r=(t.top-e.top)/e.scaleY,o=(t.left-e.left)/e.scaleX,i=new xe.fabric.Rect({fill:"rgba(0,0,0,0)",top:r,left:o,width:t.width,height:t.height,scaleX:a,scaleY:n,absolutePositioned:!0}),c=new xe.fabric.Canvas;c.setDimensions({width:e.width,height:e.height}),xe.fabric.Image.fromURL(e._element.currentSrc,(function(a){c.add(a),c.add(i),c.requestRenderAll();var n=c.toDataURL({left:i.left,top:i.top,width:i.width*i.scaleX,height:i.height*i.scaleY});xe.fabric.Image.fromURL(n,(function(a){a.scaleToWidth(t.width*t.scaleX),a.id=e.id,_(a)}))}))}),[]);Object(d.useEffect)((function(){e.shouldCropImage&&f&&C&&T(f,C)}),[e.shouldCropImage,T,f,C]),Object(d.useEffect)((function(){if(y&&e.shouldCropImage){y.controls.mtr.visible=!0,a.getObjects().forEach((function(e){"cropbox"===e.type?a.remove(e):"background"!==e.id&&(e.selectable=!0)}));for(var o=0,i=Object.entries(b);o<i.length;o++){var c=Object(h.a)(i[o],2),s=c[0],l=c[1];y[s]=l}y.id=n,r(),a.remove(f),t({type:"setCurrentObject",data:{type:"image",data:y}}),t({type:"setImageCornerRadius",data:b.cornerRadius}),a.add(y).setActiveObject(y),t({type:"setCurrentCoords",data:y.lineCoords}),t({type:"setIsCropMode",data:!1}),k(a,t)}}),[n,r,f,C,b,y,e,t,a,k]),Object(d.useEffect)((function(){if(e.isCropMode){var n=a.getActiveObject();p({id:n.id,cornerRadius:n.cornerRadius,top:n.top,left:n.left,angle:n.angle}),Gt(n,t,a,O,v)}}),[e.isCropMode,a,t]),Object(d.useEffect)((function(){var e,t;C&&f&&(e=f,(t=C).on("moving",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,o=e.height*e.scaleY,i=e.width*e.scaleX,c=t.top,s=t.left,l=t.top+n,d=t.left+r,u=e.top,b=u+o,p=e.left,h=p+i;s<p&&(t.left=p),c<u&&(t.top=u),d>h&&(t.left=h-r),l>b&&(t.top=b-n)})),t.on("scaling",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,o=e.height*e.scaleY,i=e.width*e.scaleX,c=t.top,s=c+n,l=t.left,d=l+r,u=e.top,b=u+o,p=e.left,h=p+i;t.left=Math.min(Math.max(l,p),h-r),t.top=Math.min(Math.max(c,u),b-n),t.scaleX>e.scaleX&&(t.scaleX=e.scaleX,(l<p||d>h)&&(t.left=p)),t.scaleY>e.scaleY&&(t.scaleY=e.scaleY,(c<u||s>b)&&(t.top=u))})),s(!0))}),[C,f]),Object(d.useEffect)((function(){C&&e.isCropMode&&a.on("mouse:down",(function(e){e.target&&e.target.id===b.id?a.setActiveObject(C):e.target&&"cropbox"===e.target.type||(t({type:"setShouldCropImage",data:!0}),t({type:"setShowToolbar",data:!1}))}))}),[C,e,t,a,b]),Object(d.useEffect)((function(){!c||e.isCropMode||e.shouldCropImage||(a.getObjects().forEach((function(t){"cropbox"===t.type?a.remove(t):t.id===e.currentObject.object.id&&(a.setActiveObject(t),t.left=b.left,t.top=b.top,t.angle=b.angle),t.controls.mtr.visible=!0,t.selectable=!0})),k(a,t))}),[b,c,e,k,a,t])},Yt=function(e,t,a){var n=Object(d.useState)(!0),r=Object(h.a)(n,2),o=r[0],i=r[1];Object(d.useEffect)((function(){if(o&&e.canvasState.initialWidth>0){var n=function(e,t){var a=new xe.fabric.Canvas(t,{width:e.initialWidth,height:e.initialHeight,backgroundColor:"rgba(255,255,255,1)",preserveObjectStacking:!0,bgImage:null,fireRightClick:!0,stopContextMenu:!0}),n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);return a.setZoom(n),a.setDimensions({width:e.width,height:e.height}),a}(e.canvasState,"canvas");t(n),a(!0),i(!1)}}),[t,a,e.canvasState,o])},Kt=function(e,t){var a=Object(d.useState)(!0),n=Object(h.a)(a,2),r=n[0],o=n[1];Object(d.useEffect)((function(){if(r&&e&&t){o(!1);var a=new xe.fabric.Image(e,{top:0,left:0,objectCaching:!1,type:"video"});t.add(a),e.currentTime=.001,a.scaleToHeight(t.getHeight()),xe.fabric.util.requestAnimFrame((function e(){t.requestRenderAll(),xe.fabric.util.requestAnimFrame(e)}))}}),[e,t,r])},Xt=function(e,t,a,n,r,o){var i=t.coords.top+15,c=t.coords.left+15,s=t.object.type;t.object.clone((function(l){l.id=a,l.top=i,l.left=c,"image"===s?(l.isSvg=t.object.isSvg,l.cornerRadius=t.object.cornerRadius):"textbox"===s?(l.padding=10,l.cursorWidth=.5):"line"===s?(l.padding=10,l.borderColor="transparent",l.noScaleCache=!1):(l.noScaleCache=!1,l.strokeUniform=!0),e.add(l).setActiveObject(l),e.requestRenderAll(),r({object:t.object,coords:{top:i,left:c}}),n(),o&&o({type:"setRightClickEvent",data:null})}))},qt=function(e,t,a,n,r,o){if(t){var i=e.ctrlKey||e.metaKey;"Delete"===e.code||"Delete"===e.key?function(e){var t=e.getActiveObject();t&&"video"!==t.type&&(e.remove(t),e.discardActiveObject().requestRenderAll())}(t):"KeyC"===e.code||"c"===e.key?i&&(e.preventDefault(),n(!0)):"KeyV"===e.code||"v"===e.key?i&&(e.preventDefault(),a(!0)):"BracketRight"===e.code||"]"===e.key?i&&(e.preventDefault(),r(!0)):"BracketLeft"!==e.code&&"["!==e.key||i&&(e.preventDefault(),o(!0))}},Zt=function(e,t,a,n,r){t(!1),e(!1),a(!1),n(!1),r(!0)},Jt=function(e,t,a,n,r){var o=Object(d.useState)(!1),i=Object(h.a)(o,2),c=i[0],s=i[1],l=Object(d.useState)(!1),u=Object(h.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)(!1),g=Object(h.a)(j,2),f=g[0],O=g[1],m=Object(d.useState)(!1),S=Object(h.a)(m,2),C=S[0],v=S[1],x=Object(d.useState)(!0),w=Object(h.a)(x,2),y=w[0],_=w[1];Object(d.useEffect)((function(){if(y&&c&&t)_(!1),Xt(e,t,n,r,a,null);else if(y&&b){_(!1);var o=e.getActiveObject();o&&"video"!==o.type&&a({object:o,coords:{top:o.top,left:o.left}})}else if(y&&f){_(!1);var i=e.getActiveObject();i&&e.bringToFront(i)}else if(y&&C){_(!1);var s=e.getActiveObject();s&&e.sendToBack(s)}}),[e,c,b,f,C,n,a,t,r,y]),Object(d.useEffect)((function(){return document.addEventListener("keydown",(function(t){return qt(t,e,s,p,O,v)})),document.addEventListener("keyup",(function(e){Zt(s,p,O,v,_)})),function(){document.removeEventListener("keydown",qt),document.removeEventListener("keyup",Zt)}}),[e])},Qt=a(26),$t=a.n(Qt),ea=function(e){var t=e.canvas,a=e.isCanvasSet,n=e.objId,r=e.updateId,o=e.clipboard,i=e.setClipboard,c=Object(d.useContext)(Me),s=c.eventState,l=c.eventDispatch,u=Object(d.useState)(!1),b=Object(h.a)(u,2),p=b[0],j=b[1],g=Object(d.useState)(!1),f=Object(h.a)(g,2),O=f[0],m=f[1],S=Object(d.useState)(!1),C=Object(h.a)(S,2),v=C[0],x=C[1],w=Object(d.useRef)(null),y=Object(d.useCallback)((function(e){if(e.currentTarget||o){if(e.currentTarget)t.getActiveObject()||t.setActiveObject(e.currentTarget),m(e.currentTarget),x(!1);else x(!0);e.pointer.x+w.current.offsetWidth>t.getWidth()?w.current.style.left=e.pointer.x-w.current.offsetWidth+"px":w.current.style.left=e.pointer.x+"px",w.current.style.top=e.pointer.y+"px"}else l({type:"setRightClickEvent",data:null})}),[t,l,o]),_=function(e){e.preventDefault(),p&&(j(!1),l({type:"setRightClickEvent",data:null}))},k=function(e){var a=e.currentTarget.id;"delete"===a&&"video"!==O.type?(t.remove(O),t.discardActiveObject().requestRenderAll(),l({type:"setRightClickEvent",data:null})):"bringToFront"===a?(t.bringToFront(O),l({type:"setRightClickEvent",data:null})):"sendToBack"===a?(t.sendToBack(O),l({type:"setRightClickEvent",data:null})):"copy"===a?(i({object:O,coords:{top:O.top,left:O.left}}),l({type:"setRightClickEvent",data:null})):"paste"===a&&(o?Xt(t,o,n,r,i,l):l({type:"setRightClickEvent",data:null}))};Object(d.useEffect)((function(){return a&&s.rightClickEvent&&(y(s.rightClickEvent),setTimeout((function(){j(!0)}),400)),function(){return j(!1)}}),[a,s.rightClickEvent,y]);var T=O&&"video"===O.type,D=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:$t.a.Overlay,onContextMenu:_,onClick:_}),Object(A.jsxs)("ul",{ref:w,className:$t.a.Menu,id:"contextMenu",children:[v||T?null:Object(A.jsxs)("li",{className:$t.a.Option,id:"copy",onClick:k,children:[Object(A.jsx)("p",{children:"Copy"}),Object(A.jsx)("p",{children:"\u2318C"})]}),Object(A.jsxs)("li",{className:$t.a.Option,id:"paste",onClick:k,children:[Object(A.jsx)("p",{children:"Paste"}),Object(A.jsx)("p",{children:"\u2318V"})]}),v||T?null:Object(A.jsxs)("li",{className:$t.a.Option,id:"delete",onClick:k,children:[Object(A.jsx)("p",{children:"Delete"}),Object(A.jsx)("p",{children:"DEL"})]}),v?null:Object(A.jsx)("li",{className:$t.a.Border}),v?null:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("li",{className:$t.a.Option,id:"bringToFront",onClick:k,children:[Object(A.jsx)("p",{children:"Bring to front"}),Object(A.jsx)("p",{children:"\u2318]"})]}),Object(A.jsxs)("li",{className:$t.a.Option,id:"sendToBack",onClick:k,children:[Object(A.jsx)("p",{children:"Send to back"}),Object(A.jsx)("p",{children:"\u2318["})]})]})]})]});return s.rightClickEvent?D:null};ke();var ta,aa,na,ra,oa=function(e){var t=e.canvas,a=e.setCanvas,n=e.video,r=Object(d.useContext)(k),o=r.appState,i=r.appDispatch,c=Object(d.useState)(1),s=Object(h.a)(c,2),l=s[0],u=s[1],b=Object(d.useState)(!1),p=Object(h.a)(b,2),j=p[0],g=p[1],f=Object(d.useState)(null),O=Object(h.a)(f,2),m=O[0],S=O[1],C=Object(d.useCallback)((function(){return u((function(e){return e+1}))}),[]);return Ve(o,j,t),Ae(o,i,t,l,C),Le(j,t,o,i),Qe(o,i,t),Vt(o,i,t,l,C),Yt(o,a,g),Jt(t,m,S,l,C),Kt(n,t),Object(A.jsxs)("div",{className:ve.a.CanvasComponent,children:[Object(A.jsx)("div",{className:ve.a.Canvas,children:Object(A.jsx)("canvas",{id:"canvas"})}),o.showToolbar?Object(A.jsx)(Wt,{canvas:t}):null,Object(A.jsx)(ea,{canvas:t,isCanvasSet:j,objId:l,updateId:C,clipboard:m,setClipboard:S})]})},ia={isMoving:!1,rightClickEvent:null},ca=function(e,t){switch(t.type){case"setIsMoving":return Object(Te.a)(Object(Te.a)({},e),{},{isMoving:t.data});case"setRightClickEvent":return Object(Te.a)(Object(Te.a)({},e),{},{rightClickEvent:t.data});default:return e}},sa=function(){var e=Object(d.useReducer)(ca,ia),t=Object(h.a)(e,2);return[t[0],t[1]]},la=a(13),da=a.n(la),ua=a(35),ba=a.n(ua),pa=function(e){var t=e.state,a=e.dispatch,n=Object(d.useState)(null),r=Object(h.a)(n,2),o=r[0],i=r[1],c=Object(d.useMemo)((function(){return{original:{width:526,height:741,zoom:1},slide:{width:1920,height:1080,zoom:.5},a4:{width:2480,height:3508,zoom:.2},facebook:{width:940,height:788,zoom:.75},linkedin:{width:1128,height:191,zoom:.9},video:{width:1280,height:720,zoom:.8}}}),[]);return Object(d.useEffect)((function(){for(var e=0,a=Object.entries(c);e<a.length;e++){var n=Object(h.a)(a[e],2),r=n[0],o=n[1];o.width===t.width&&o.height===t.height&&i(r)}}),[c,t]),Object(A.jsx)("div",{className:ba.a.Dropdown,children:Object(A.jsx)("ul",{className:ba.a.SizeOptions,onClick:function(e){e.target.classList.contains(ba.a.SizeOption)&&(a({type:"setCanvasSize",data:Object(Te.a)({},c[e.target.id])}),a({type:"setIsResizeDropdown",data:!1}))},children:[{content:"Original",id:"original"},{content:"Slide 16:9",id:"slide"},{content:"A4",id:"a4"},{content:"Facebook post",id:"facebook"},{content:"Linkedin cover",id:"linkedin"},{content:"Video thumbnail",id:"video"}].map((function(e){return Object(A.jsx)("li",{id:e.id,className:[ba.a.SizeOption,o&&e.id===o?ba.a.Current:null].join(" "),children:e.content},e.id)}))})})},ha=["title","titleId"];function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ga(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fa(e,t){var a=e.title,n=e.titleId,r=ga(e,ha);return d.createElement("svg",ja({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?d.createElement("title",{id:n},a):null,ta||(ta=d.createElement("path",{d:"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),aa||(aa=d.createElement("path",{d:"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),na||(na=d.createElement("path",{d:"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),ra||(ra=d.createElement("path",{d:"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var Oa,ma,Sa=d.forwardRef(fa),Ca=(a.p,["title","titleId"]);function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wa(e,t){var a=e.title,n=e.titleId,r=xa(e,Ca);return d.createElement("svg",va({width:15,height:13,viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?d.createElement("title",{id:n},a):null,Oa||(Oa=d.createElement("path",{d:"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),ma||(ma=d.createElement("path",{d:"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var ya=d.forwardRef(wa),_a=(a.p,function(e){e.player;var t=Object(d.useContext)(k),a=t.appState,n=t.appDispatch,r=Object(d.useState)(a.canvasState.backgroundColor),o=Object(h.a)(r,2),i=o[0],c=o[1],s=Object(d.useRef)(null),l=Object(d.useRef)(null),u=Object(d.useRef)(null),b=function(e){if(!a.shouldCropImage){a.isCropMode&&n({type:"setIsCropMode",data:!1});var t=e.currentTarget.id;"resize"===t||"bgColor"===t&&n({type:"setIsCanvasBgColorDropdown",data:!0})}};return Object(d.useEffect)((function(){s.current.style.background=i}),[i]),Object(A.jsxs)("div",{className:da.a.CanvasToolbar,children:[Object(A.jsxs)("div",{className:da.a.TemplatesContainer,id:"templates",onClick:b,children:[Object(A.jsx)(Sa,{}),Object(A.jsx)("p",{className:da.a.OptionText,children:"Templates"})]}),Object(A.jsx)("div",{className:da.a.BorderDiv}),Object(A.jsxs)("div",{className:da.a.ResizeContainer,id:"resize",onClick:b,children:[Object(A.jsx)(ya,{}),Object(A.jsx)("p",{className:da.a.OptionText,children:"Resize"})]}),Object(A.jsx)("div",{className:da.a.BorderDiv}),Object(A.jsxs)("div",{className:da.a.ColorContainer,id:"bgColor",onClick:b,children:[Object(A.jsx)("div",{className:da.a.ColorPickerBorder,children:Object(A.jsx)("div",{ref:s,className:da.a.ColorPicker})}),Object(A.jsx)("p",{className:da.a.OptionText,children:"Background color"})]}),a.isResizeDropdown?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)("div",{className:da.a.ResizeDropdown,ref:u,children:Object(A.jsx)(pa,{state:a.canvasState,dispatch:n})})]}):null,a.isCanvasBgColorDropdown?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)("div",{className:da.a.ColorDropdownContainer,ref:l,children:Object(A.jsx)(St.a,{color:i,onChange:function(e){return c(e.rgb)},onChangeComplete:function(e){var t="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");s.current.style.background=t,n({type:"setCanvasBackgroundColor",data:t})}})})]}):null]})}),ka=a.p+"static/media/play.f149d237.svg",Ta=function(e){var t=e.viedoForUpload,a=e.videoRef,n=e.handleEnd,r=e.handlePause,o=e.handlePlay,i=e.canvas,c=e.setCanvas,s=(e.duration,e.isPlaying),l=Object(d.useContext)(k),u=l.appState,b=l.appDispatch,p=sa(),j=Object(h.a)(p,2),g=j[0],f=j[1],O=Object(d.useState)(null),m=Object(h.a)(O,2),S=m[0],C=m[1],v=Object(d.useState)(null),x=Object(h.a)(v,2),w=x[0],y=x[1],_=Object(d.useRef)(null),T=Object(d.useRef)(!0),D=Object(d.useCallback)((function(){var e=window.innerWidth-_.current.offsetLeft-32,t=_.current.offsetHeight;e>800&&(t=800*t/e,e=800),y({width:e,height:t})}),[]);Object(d.useEffect)((function(){if(S&&w){var e=w.width,t=S.height*e/S.width,a=e>100;T.current&&a?(T.current=!1,b({type:"setCanvasInitialSize",data:{initialWidth:S.width,initialHeight:S.height,width:e,height:t}})):a&&b({type:"setCanvasSize",data:{width:e,height:t}})}}),[T,w,S,b]),Object(d.useEffect)((function(){u.isCropMode&&a.current.pause()}),[u.isCropMode,a]),Object(d.useEffect)((function(){return window.addEventListener("resize",D),function(){return window.removeEventListener("resize",D)}}),[D]),Object(d.useEffect)((function(){t&&(a.current.src=URL.createObjectURL(t))}),[t,a]);return Object(A.jsxs)("div",{className:Se.a.Player,ref:_,children:[Object(A.jsx)("video",{width:S?S.width:0,height:S?S.height:0,id:"video",className:Se.a.Video,ref:a,controls:!0,onPlay:o,onPause:r,onEnded:n,onLoadedMetadata:function(e){var t=a.current.videoWidth,n=a.current.videoHeight;C({width:t,height:n}),D()}}),Object(A.jsx)(Me.Provider,{value:{eventState:g,eventDispatch:f},children:Object(A.jsxs)("div",{className:Se.a.PlayerContent,children:[Object(A.jsx)(oa,{canvas:i,setCanvas:c,video:a.current}),i?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:Se.a.PlayerControls,children:Object(A.jsx)("div",{className:Se.a.PlayButton,onClick:function(){s?a.current.pause():u.isCropMode||u.shouldCropImage||a.current.play()},children:Object(A.jsx)("img",{src:ka,alt:"play"})})}),Object(A.jsx)(_a,{player:_.current})]}):null]})})]})},Da=a(117),Na=a.n(Da).a.create({baseURL:"".concat("https://speech.twiso.co","/api/v1")}),Ia=function(){var e=Object(d.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(d.useState)(null),o=Object(h.a)(r,2),i=o[0],c=o[1],s=Object(d.useState)(null),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(d.useRef)(null),j=Object(d.useCallback)((function(e){return new Promise((function(t,a){Na.post("/upload",e,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]);return{isUploading:a,uploadVideo:Object(d.useCallback)(function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,j(t);case 4:a=e.sent,console.log(a.data),c(a.data.duration),p.current=a.data.text_breakup,b(a.data.full_text),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error Uploading Video",e.t0);case 14:return e.prev=14,n(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,11,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[j]),words:p.current,duration:i,fullText:u}},Aa=function(){var e=Object(f.a)(g.a.mark((function e(t,a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("video",t),e.prev=2,e.next=5,n(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,a(null),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ma=function(){var e=Ia(),t=e.isUploading,a=e.uploadVideo,n=e.words,r=e.duration,o=(e.fullText,Object(d.useState)(null)),i=Object(h.a)(o,2),c=i[0],s=i[1],l=Object(d.useState)(0),u=Object(h.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)(null),g=Object(h.a)(j,2),f=g[0],O=g[1],S=Object(d.useState)(!1),C=Object(h.a)(S,2),v=C[0],x=C[1],w=Object(d.useState)(null),y=Object(h.a)(w,2),_=y[0],k=y[1],T=Object(d.useState)(null),D=Object(h.a)(T,2),N=D[0],I=D[1],M=Object(d.useState)([]),B=Object(h.a)(M,2),R=B[0],F=B[1],P=Object(d.useState)(null),E=Object(h.a)(P,2),L=E[0],H=E[1],z=Object(d.useState)(null),U=Object(h.a)(z,2),W=U[0],G=U[1],V=Object(d.useRef)(null);Object(d.useEffect)((function(){f&&Aa(f,O,a)}),[f,a]),Object(d.useEffect)((function(){R.forEach((function(e){console.log(e)}))}),[R]);var Y=Object(d.useCallback)((function(e){e=+e+.05,R.length>0&&null!==L&&R[L]&&e>=+R[L].start&&e<=+R[L].end&&(V.current.currentTime=R[L].end,R[L+1]&&H(L+1))}),[R,L]),K=Object(d.useCallback)((function(e,t){e=+e+.05;var a=n[t],r=n[t+1];if(null!==t&&r&&e>+a.end){var o=+a.end-a.start<=.05&&!v;!o&&r.deleted&&null!==r.next?p(r.next):o||p((function(e){return e+1}))}}),[v,n]);return Object(d.useEffect)((function(){null!==N&&K(N,b)}),[N,K,b]),Object(d.useEffect)((function(){null!==N&&Y(N)}),[N,Y]),Object(A.jsxs)("div",{className:m.a.VideoEditor,children:[Object(A.jsx)(ce,{setVideoForUpload:O,isUploading:t,canvas:W}),Object(A.jsxs)("main",{className:m.a.Main,children:[Object(A.jsx)(Oe,{className:m.a.VideoEditor,words:n,currentWordIndex:b,setCurrentWordIndex:p,isPlaying:v,videoRef:V,setCuts:F,currentSelection:c,setCurrentSelection:s,setPlayerTime:function(e){var t="0";if(null!==e){var a=n[e];t=a.end,V.current.currentTime=a.start,I(+a.start)}for(var r=0,o=0;o<R.length;o++){+t>+R[o].end&&r++}H(r)}}),n?Object(A.jsx)(Ta,{viedoForUpload:f,videoRef:V,handleEnd:function(e){R.length>0&&H(0);var t=n[0],a=0,r=t.start;t.deleted&&null!==t.next&&(a=t.next,r=n[a].start),p(a),I(+r)},handlePause:function(e){x(!1),clearInterval(_)},handlePlay:function(e){document.getSelection().removeAllRanges(),c&&s(null),x(!0);var t=setInterval((function(){I(V.current.currentTime)}),10);k(t)},canvas:W,setCanvas:G,duration:r,isPlaying:v}):null]})]})},Ba={canvasState:{initialWidth:0,initialHeight:0,width:0,height:0,backgroundColor:"rgba(255,255,255,1)",backgroundImage:{type:"",src:null}},shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,shouldAddCanvasBgImage:!1,shapeToAdd:null,imageToAdd:null,currentCoords:null,showToolbar:!1,shapeState:{fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0},imageState:{cornerRadius:0,isSvg:!1},isSubtitles:!1,isCropMode:!1,shouldCropImage:!1,isImageDropdown:!1,isSubtitlesDropdown:!1,isShapeDropdown:!1,isResizeDropdown:!1,isCanvasBgColorDropdown:!1,isDownloadDropdown:!1,shouldAddText:!1,shouldUpdateText:!1,shouldUpdateShape:!1,shouldUpdateImage:!1,shouldReplaceImage:!1,currentObject:{type:"",object:null},textState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:30,fill:"rgba(0,0,0,1)",textAlign:"left"}},Ra=function(e,t){switch(t.type){case"setCanvasState":return Object(Te.a)(Object(Te.a)({},e),{},{canvasState:t.data});case"setIsDownloadDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isDownloadDropdown:t.data});case"setIsSubtitles":return Object(Te.a)(Object(Te.a)({},e),{},{isSubtitles:t.data,isSubtitlesDropdown:!1});case"setIsCropMode":return Object(Te.a)(Object(Te.a)({},e),{},{isCropMode:t.data});case"setShouldCropImage":return Object(Te.a)(Object(Te.a)({},e),{},{shouldCropImage:t.data});case"setIsImageDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isImageDropdown:t.data});case"setIsSubtitlesDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isSubtitlesDropdown:t.data});case"setIsShapeDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isShapeDropdown:t.data});case"setIsResizeDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isResizeDropdown:t.data});case"setIsCanvasBgColorDropdown":return Object(Te.a)(Object(Te.a)({},e),{},{isCanvasBgColorDropdown:t.data});case"setCurrentCoords":return Object(Te.a)(Object(Te.a)({},e),{},{currentCoords:t.data});case"setShowToolbar":return Object(Te.a)(Object(Te.a)({},e),{},{showToolbar:t.data});case"setShowCanvasToolbar":return Object(Te.a)(Object(Te.a)({},e),{},{showCanvasToolbar:t.data});case"setShouldAddText":return Object(Te.a)(Object(Te.a)({},e),{},{shouldAddText:t.data});case"setShouldUpdateText":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:t.data});case"setShouldUpdateShape":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateShape:t.data});case"setShouldUpdateImage":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateImage:t.data});case"setShouldUpdateCanvas":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateCanvas:t.data});case"setShouldUpdateCanvasSize":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateCanvasSize:t.data});case"setShouldAddCanvasBgImage":return Object(Te.a)(Object(Te.a)({},e),{},{shouldAddCanvasBgImage:t.data});case"setCurrentObject":return Object(Te.a)(Object(Te.a)({},e),{},{currentObject:t.data});case"setShapeToAdd":return Object(Te.a)(Object(Te.a)({},e),{},{shapeToAdd:t.data,isShapeDropdown:!1});case"setImageToAdd":return Object(Te.a)(Object(Te.a)({},e),{},{imageToAdd:t.data,isImageDropdown:!1});case"setShapeState":return Object(Te.a)(Object(Te.a)({},e),{},{shapeState:Object(Te.a)({},t.data)});case"setImageState":return Object(Te.a)(Object(Te.a)({},e),{},{imageState:Object(Te.a)({},t.data)});case"setTextState":return Object(Te.a)(Object(Te.a)({},e),{},{textState:Object(Te.a)({},t.data)});case"setShouldReplaceImage":return Object(Te.a)(Object(Te.a)({},e),{},{shouldReplaceImage:t.data});case"setCanvasBackgroundColor":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateCanvas:!0,canvasState:Object(Te.a)(Object(Te.a)({},e.canvasState),{},{backgroundImage:{type:"",src:null},backgroundColor:t.data})});case"setCanvasBackgroundImage":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateCanvas:!0,canvasState:Object(Te.a)(Object(Te.a)({},e.canvasState),{},{backgroundColor:"rgba(255,255,255,1)",backgroundImage:t.data})});case"setCanvasSize":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateCanvasSize:!0,canvasState:Object(Te.a)(Object(Te.a)({},e.canvasState),{},{width:t.data.width,height:t.data.height})});case"setCanvasInitialSize":return Object(Te.a)(Object(Te.a)({},e),{},{canvasState:Object(Te.a)(Object(Te.a)({},e.canvasState),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight,width:t.data.width,height:t.data.height})});case"setImageCornerRadius":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateImage:!0,imageState:Object(Te.a)(Object(Te.a)({},e.imageState),{},{cornerRadius:t.data})});case"setShapeFill":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(Te.a)(Object(Te.a)({},e.shapeState),{},{fill:t.data})});case"setShapeStroke":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(Te.a)(Object(Te.a)({},e.shapeState),{},{stroke:t.data})});case"setShapeStrokeWidth":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(Te.a)(Object(Te.a)({},e.shapeState),{},{strokeWidth:t.data})});case"setFontFamily":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{fontFamily:t.data})});case"setFontStyle":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{fontStyle:t.data})});case"setFontWeight":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{fontWeight:t.data})});case"setFontSize":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{fontSize:t.data})});case"setTextFill":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{fill:t.data})});case"setTextAlign":return Object(Te.a)(Object(Te.a)({},e),{},{shouldUpdateText:!0,textState:Object(Te.a)(Object(Te.a)({},e.textState),{},{textAlign:t.data})});default:return e}},Fa=function(){var e=Object(d.useReducer)(Ra,Ba),t=Object(h.a)(e,2);return[t[0],t[1]]},Pa=function(){var e=Fa(),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(k.Provider,{value:{appState:a,appDispatch:n},children:Object(A.jsx)(Ma,{})})})},Ea=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,261)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};p.a.render(Object(A.jsx)(u.a.StrictMode,{children:Object(A.jsx)(Pa,{})}),document.getElementById("root")),Ea()},26:function(e,t,a){e.exports={Menu:"ContextMenu_Menu__3Crct",Option:"ContextMenu_Option__2sY3r",Border:"ContextMenu_Border__2fUH-",Overlay:"ContextMenu_Overlay__1PFYP"}},27:function(e,t,a){e.exports={Transcription:"Transcription_Transcription__13teg",TextControls:"Transcription_TextControls__1U4fb",CutContainer:"Transcription_CutContainer__3Pv4S",SearchContainer:"Transcription_SearchContainer__3q-zR",SearchInput:"Transcription_SearchInput__3ojca",Text:"Transcription_Text__3pvrU"}},34:function(e,t,a){e.exports={Player:"Player_Player__29WZA",Video:"Player_Video__V8XCy",PlayerContent:"Player_PlayerContent__GS7Av",PlayerControls:"Player_PlayerControls__1cImT",PlayButton:"Player_PlayButton__1jzX7"}},35:function(e,t,a){e.exports={Dropdown:"ResizeDropdown_Dropdown__1YZKt",SizeOptions:"ResizeDropdown_SizeOptions__2PmX4",SizeOption:"ResizeDropdown_SizeOption__3MBs1",Current:"ResizeDropdown_Current__2rsB4",CustomSizeOption:"ResizeDropdown_CustomSizeOption__24EiF",CustomSizeText:"ResizeDropdown_CustomSizeText__1TGCQ",InputsContainer:"ResizeDropdown_InputsContainer__cUM6V",InputWidth:"ResizeDropdown_InputWidth__18mBb",InputHeight:"ResizeDropdown_InputHeight__1A-ho",PxText:"ResizeDropdown_PxText__cacdv"}},40:function(e,t,a){e.exports={FontsDropdown:"TextDropdowns_FontsDropdown__lZ_Yz",FontSizeDropdown:"TextDropdowns_FontSizeDropdown__zNPWy",SketchPickerContainer:"TextDropdowns_SketchPickerContainer__1ap0H",TextAlignDropdown:"TextDropdowns_TextAlignDropdown___lslt"}},52:function(e,t,a){e.exports={VideoEditor:"VideoEditor_VideoEditor__1aRjl",Main:"VideoEditor_Main__RsHdg"}},53:function(e,t,a){e.exports={FillDropdownContainer:"ShapeDropdowns_FillDropdownContainer__XKdBu",StrokeDropdownContainer:"ShapeDropdowns_StrokeDropdownContainer__2g9Q8",StrokeWidthDropdownContainer:"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz"}},7:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1vpyv",BackFileInfoContainer:"Navigation_BackFileInfoContainer__zDoEb",BackArrow:"Navigation_BackArrow__2EuDm",FileInfoContainer:"Navigation_FileInfoContainer__13jQZ",FileName:"Navigation_FileName__t8V0Z",Creater:"Navigation_Creater__2m7n3",ControlsContainer:"Navigation_ControlsContainer__3cZve",DesignControl:"Navigation_DesignControl__18GfM",AddTextContainer:"Navigation_AddTextContainer__2D7x7",AddImageContainer:"Navigation_AddImageContainer__Ay_Rj",AddShapeContainer:"Navigation_AddShapeContainer__1Vor-",HoverContent:"Navigation_HoverContent__2EgVD",HoverTriangle:"Navigation_HoverTriangle__267f9",HoverText:"Navigation_HoverText__24Vce",DownloadUserInfoContainer:"Navigation_DownloadUserInfoContainer___5XCM",DownloadButton:"Navigation_DownloadButton__2FuTK",User:"Navigation_User__3SWWK",UserInitials:"Navigation_UserInitials__2BS83",ShapeDropdown:"Navigation_ShapeDropdown__2HDOH",ImageDropdown:"Navigation_ImageDropdown__3bu_4",SubtitlesDropdown:"Navigation_SubtitlesDropdown__ggswB",DownloadDropdown:"Navigation_DownloadDropdown__2IsbQ",UploadVideo:"Navigation_UploadVideo__3uZ5a"}},74:function(e,t,a){e.exports={CanvasComponent:"Canvas_CanvasComponent__2cQcG",Canvas:"Canvas_Canvas__3oXwS"}},8:function(e,t,a){e.exports={TextToolbar:"TextToolbar_TextToolbar__30rxF",BorderDiv:"TextToolbar_BorderDiv__XlYMr",DownArrow:"TextToolbar_DownArrow__3bu3E",TextAlign:"TextToolbar_TextAlign__2KX5Y",Bold:"TextToolbar_Bold__38wPs",Italic:"TextToolbar_Italic__I_P46",FontsContainer:"TextToolbar_FontsContainer__2NtOu",FontSizeContainer:"TextToolbar_FontSizeContainer__1QFbt",ColorPickerContainer:"TextToolbar_ColorPickerContainer__1EnTr",FontWeightBoldContainer:"TextToolbar_FontWeightBoldContainer__2-Bfx",FontStyleItalicContainer:"TextToolbar_FontStyleItalicContainer__6Diha",TextAlignContainer:"TextToolbar_TextAlignContainer__HLDJn",FontSizeInputContainer:"TextToolbar_FontSizeInputContainer__p2Uno",FontSizeInput:"TextToolbar_FontSizeInput__3nD-x",FontSizeArrowContainer:"TextToolbar_FontSizeArrowContainer__1N8MA",ColorPickerBorder:"TextToolbar_ColorPickerBorder__EGOSu",ColorPicker:"TextToolbar_ColorPicker__2Mme4",Active:"TextToolbar_Active__2gO17"}}},[[259,1,2]]]);
//# sourceMappingURL=main.ff838a28.chunk.js.map