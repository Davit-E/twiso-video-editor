{"version":3,"sources":["containers/Navigation/Navigation.module.css","assets/backArrow.svg","assets/addText.svg","assets/addImage.svg","assets/addShape.svg","assets/subtitles.svg","containers/Navigation/Navigation.js","assets/cut.svg","assets/search.svg","containers/Transcription/utils/updateTextAndCuts.js","assets/restoreText.svg","containers/Transcription/Words/Words.js","containers/Transcription/Transcription.js","axios-instance.js","hooks/useUploadVideo.js","containers/VideoEditor/VideoEditor.js","contexts/EditorContext.js","hooks/useEditorState.js","App.js","reportWebVitals.js","index.js","containers/Transcription/Words/Words.module.css","containers/Transcription/Transcription.module.css","containers/VideoEditor/VideoEditor.module.css"],"names":["module","exports","Navigation","setVideoForUpload","isUploading","uploadRef","useRef","className","styles","BackFileInfoContainer","BackArrow","src","backArrow","alt","FileInfoContainer","FileName","Creater","UploadVideo","onClick","current","click","ref","type","accept","style","display","onChange","files","ControlsContainer","AddTextContainer","id","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","subtitles","DownloadUserInfoContainer","DownloadButton","User","UserInitials","handleVideoCuts","wordsArr","setCuts","setPlayerTime","wordId","restoreStart","arr","isLastDeleted","cutStart","cutEnd","i","length","word","deleted","push","start","end","handleDelete","prevState","newState","cut","handleRestore","findAndSetCurrentWord","deletedIndex","setWordId","currentIndex","Words","currentWordId","searchInput","wordClickHandler","inputId","setInputId","currentSelection","useState","input","setInput","inputRef","blurHandler","inputVal","trim","silence","text","shouldShow","isSelectionMode","isSelectionEnd","useEffect","focus","map","isCurrent","isHighlight","toLowerCase","includes","isInput","innerContent","WordInput","value","onBlur","e","target","Pause","Word","content","Deleted","DeletedImgContainer","DeletedImg","restoreText","DeletedText","containerStyle","width","marginRight","WordContainer","CurrentWord","Highlight","InSelection","join","Transcription","words","setCurrentWordId","isPlaying","playerRef","setCurrentSelection","setSearchInput","handleSelection","useCallback","selection","anchorNode","focusNode","isAnchorNode","isFocusNode","position","parentNode","lastChild","firstChild","removeAllRanges","mouseUpHandler","document","getSelection","detail","tagName","compareDocumentPosition","isCollapsed","pause","addEventListener","removeEventListener","TextControls","CutContainer","deleteWord","isDeleteMode","deletedStartIndex","deleteSelection","SearchContainer","SearchInput","placeholder","SearchSvg","search","Text","isDeleted","currentTarget","startIndex","restoreDeleted","instance","axios","create","baseURL","process","useUploadVideo","setIsUploading","duration","setDuration","fullText","setFullText","axiosUploadVideo","formData","Promise","resolve","reject","post","headers","Accept","then","res","catch","err","uploadVideo","a","console","log","data","text_breakup","full_text","handleUpload","file","setFile","upload","FormData","append","VideoEditor","viedoForUpload","setIsPlaying","intervalId","setIntervalId","currentTime","setCurrentTime","videoCuts","setVideoCuts","nextCutIndex","setNextCutIndex","URL","createObjectURL","time","handleCurrentTime","Main","cuts","endTime","cutIndex","Player","Video","controls","onPlay","interval","setInterval","onPause","clearInterval","onEnded","EditorContext","createContext","initialState","reducer","state","action","useEditorState","useReducer","App","editorState","editorDispatch","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5a02caf6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1vpyv\",\"BackFileInfoContainer\":\"Navigation_BackFileInfoContainer__zDoEb\",\"BackArrow\":\"Navigation_BackArrow__2EuDm\",\"FileInfoContainer\":\"Navigation_FileInfoContainer__13jQZ\",\"FileName\":\"Navigation_FileName__t8V0Z\",\"Creater\":\"Navigation_Creater__2m7n3\",\"ControlsContainer\":\"Navigation_ControlsContainer__3cZve\",\"DesignControl\":\"Navigation_DesignControl__18GfM\",\"AddTextContainer\":\"Navigation_AddTextContainer__2D7x7\",\"AddImageContainer\":\"Navigation_AddImageContainer__Ay_Rj\",\"AddShapeContainer\":\"Navigation_AddShapeContainer__1Vor-\",\"HoverContent\":\"Navigation_HoverContent__2EgVD\",\"HoverTriangle\":\"Navigation_HoverTriangle__267f9\",\"HoverText\":\"Navigation_HoverText__24Vce\",\"DownloadUserInfoContainer\":\"Navigation_DownloadUserInfoContainer___5XCM\",\"DownloadButton\":\"Navigation_DownloadButton__2FuTK\",\"User\":\"Navigation_User__3SWWK\",\"UserInitials\":\"Navigation_UserInitials__2BS83\",\"ShapeDropdown\":\"Navigation_ShapeDropdown__2HDOH\",\"ImageDropdown\":\"Navigation_ImageDropdown__3bu_4\",\"DownloadDropdown\":\"Navigation_DownloadDropdown__2IsbQ\",\"UploadVideo\":\"Navigation_UploadVideo__3uZ5a\"};","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","export default __webpack_public_path__ + \"static/media/subtitles.7c1e1dd4.svg\";","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useRef } from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport backArrow from '../../assets/backArrow.svg';\r\nimport addText from '../../assets/addText.svg';\r\nimport addImage from '../../assets/addImage.svg';\r\nimport addShape from '../../assets/addShape.svg';\r\nimport subtitles from '../../assets/subtitles.svg';\r\n\r\nconst Navigation = ({ setVideoForUpload, isUploading }) => {\r\n  const uploadRef = useRef(null);\r\n  const uploadHandler = () => {\r\n    setVideoForUpload(uploadRef.current.files[0]);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Navigation}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n        <div className={styles.FileInfoContainer}>\r\n          <p className={styles.FileName}>Untitled</p>\r\n          <p className={styles.Creater}>Dmitry</p>\r\n        </div>\r\n        <button\r\n          className={styles.UploadVideo}\r\n          onClick={() => uploadRef.current.click()}\r\n        >\r\n          {!isUploading ? ' Upload video' : 'Loading...'}\r\n        </button>\r\n        <input\r\n          ref={uploadRef}\r\n          type='file'\r\n          accept='video/mp4'\r\n          style={{ display: 'none' }}\r\n          onChange={uploadHandler}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.ControlsContainer}>\r\n        <div className={styles.AddTextContainer} id='addText'>\r\n          <img src={addText} alt='add text' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add text</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div className={styles.AddImageContainer} id='addImage'>\r\n            <img src={addImage} alt='add image' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add image</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.DesignControl}>\r\n          <div id='addShape' className={styles.AddShapeContainer}>\r\n            <img src={addShape} alt='add shape' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add shape</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div id='subtitles' className={styles.AddShapeContainer}>\r\n            <img src={subtitles} alt='subtitles' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Subtitles</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.DownloadUserInfoContainer}>\r\n        <button id='downloadDesign' className={styles.DownloadButton}>\r\n          Download\r\n        </button>\r\n        <div className={styles.User}>\r\n          <p className={styles.UserInitials}>DE</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/cut.50fbea68.svg\";","export default __webpack_public_path__ + \"static/media/search.01416d75.svg\";","const handleDelete = (wordsArr, setCuts, setPlayerTime, wordId) => {\r\n  let arr = [];\r\n  let isLastDeleted = false;\r\n  let cutStart = 0;\r\n  let cutEnd = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (!word.deleted && isLastDeleted) {\r\n      isLastDeleted = false;\r\n      arr.push({ start: cutStart, end: cutEnd });\r\n    } else if (word.deleted && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      cutStart = word.start;\r\n      cutEnd = word.end;\r\n    } else if (word.deleted && isLastDeleted) {\r\n      cutEnd = word.end;\r\n    }\r\n  }\r\n  if (isLastDeleted) arr.push({ start: cutStart, end: cutEnd });\r\n  setPlayerTime(wordId, arr);\r\n  setCuts([...arr]);\r\n};\r\n\r\nconst handleRestore = (setCuts, setPlayerTime, wordId, restoreStart) => {\r\n  setCuts((prevState) => {\r\n    let newState = [];\r\n    for (let i = 0; i < prevState.length; i++) {\r\n      let cut = prevState[i];\r\n      if (cut.start !== restoreStart) newState.push(cut);\r\n    }\r\n    setPlayerTime(wordId, newState);\r\n    return [...newState];\r\n  });\r\n};\r\n\r\nconst handleVideoCuts = (\r\n  type,\r\n  wordsArr,\r\n  setCuts,\r\n  setPlayerTime,\r\n  wordId,\r\n  restoreStart\r\n) => {\r\n  if (type === 'delete') handleDelete(wordsArr, setCuts, setPlayerTime, wordId);\r\n  else if (type === 'restore')\r\n    handleRestore(setCuts, setPlayerTime, wordId, restoreStart);\r\n};\r\n\r\nconst findAndSetCurrentWord = (\r\n  deletedIndex,\r\n  wordsArr,\r\n  setWordId,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let currentIndex = null;\r\n  if (deletedIndex !== null && deletedIndex !== 0) {\r\n    for (let i = deletedIndex; i >= 0; i--) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (currentIndex === null) {\r\n    for (let i = deletedIndex; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (!word.deleted) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  let word = wordsArr[currentIndex];\r\n  setWordId(word ? word.id : null);\r\n  handleVideoCuts('delete', wordsArr, setCuts, setPlayerTime, word.id);\r\n};\r\n\r\nexport const deleteWord = (\r\n  wordsArr,\r\n  wordId,\r\n  setWordId,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let deletedIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      word.deleted = true;\r\n      deletedIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  findAndSetCurrentWord(\r\n    deletedIndex,\r\n    wordsArr,\r\n    setWordId,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n};\r\n\r\nexport const deleteSelection = (\r\n  wordsArr,\r\n  setWordId,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let isDeleteMode = false;\r\n  let deletedStartIndex = null;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === currentSelection.start) {\r\n      isDeleteMode = true;\r\n      deletedStartIndex = i;\r\n    } else if (word.id === currentSelection.end) {\r\n      isDeleteMode = false;\r\n      word.deleted = true;\r\n      break;\r\n    }\r\n    if (isDeleteMode) {\r\n      word.deleted = true;\r\n    }\r\n  }\r\n\r\n  findAndSetCurrentWord(\r\n    deletedStartIndex,\r\n    wordsArr,\r\n    setWordId,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n  setCurrentSelection(null);\r\n};\r\n\r\nexport const restoreDeleted = (\r\n  wordsArr,\r\n  wordId,\r\n  setWordId,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let startIndex = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.id === wordId) {\r\n      startIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  for (let i = startIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.deleted) word.deleted = false;\r\n    else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  let restoreStart = wordsArr[startIndex].start;\r\n  handleVideoCuts(\r\n    'restore',\r\n    null,\r\n    setCuts,\r\n    setPlayerTime,\r\n    wordId,\r\n    restoreStart\r\n  );\r\n  setCurrentSelection(null);\r\n  setWordId(wordId);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/restoreText.63dbbf27.svg\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './Words.module.css';\r\nimport restoreText from '../../../assets/restoreText.svg';\r\n\r\nconst Words = ({\r\n  wordsArr,\r\n  currentWordId,\r\n  searchInput,\r\n  wordClickHandler,\r\n  inputId,\r\n  setInputId,\r\n  currentSelection,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const blurHandler = () => {\r\n    let inputVal = input.trim().length > 0 ? input : null;\r\n    let currentIndex = null;\r\n    for (let i = 0; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (word.id === inputId) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (wordsArr[currentIndex]) {\r\n      if (inputVal && !wordsArr[currentIndex].silence) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n      } else if (inputVal) {\r\n        wordsArr[currentIndex].text = inputVal;\r\n        wordsArr[currentIndex].silence = false;\r\n      } else wordsArr[currentIndex].silence = true;\r\n    }\r\n    setInput('');\r\n    setInputId(null);\r\n  };\r\n\r\n  let isLastDeleted = false;\r\n  let shouldShow = true;\r\n  let isSelectionMode = false;\r\n  let isSelectionEnd = false;\r\n\r\n  useEffect(() => {\r\n    if (inputId) {\r\n      inputRef.current.focus();\r\n      let currentIndex = null;\r\n      for (let i = 0; i < wordsArr.length; i++) {\r\n        let word = wordsArr[i];\r\n        if (word.id === inputId) {\r\n          currentIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      if (wordsArr[currentIndex] && !wordsArr[currentIndex].silence) {\r\n        setInput(wordsArr[currentIndex].text);\r\n      }\r\n    }\r\n  }, [inputId, wordsArr]);\r\n\r\n  return wordsArr.map((word) => {\r\n    if (isLastDeleted && word.deleted) shouldShow = false;\r\n    else shouldShow = true;\r\n    let isCurrent =\r\n      word.id === currentWordId && !currentSelection && !word.deleted;\r\n    let isHighlight =\r\n      !word.silence &&\r\n      !word.deleted &&\r\n      searchInput.trim().length > 1 &&\r\n      word.text.trim().toLowerCase().includes(searchInput.trim().toLowerCase());\r\n\r\n    if (!isLastDeleted && word.deleted) isLastDeleted = true;\r\n    if (isLastDeleted && !word.deleted) isLastDeleted = false;\r\n\r\n    if (currentSelection && currentSelection.start === word.id) {\r\n      isSelectionMode = true;\r\n    } else if (currentSelection && currentSelection.end === word.id) {\r\n      isSelectionEnd = true;\r\n    } else if (isSelectionEnd) {\r\n      isSelectionMode = false;\r\n      isSelectionEnd = false;\r\n    }\r\n\r\n    let isInput = inputId && isCurrent;\r\n    let innerContent = isInput ? (\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.WordInput}\r\n        type='text'\r\n        value={input}\r\n        onBlur={blurHandler}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n    ) : (\r\n      <span className={!word.silence ? styles.Word : styles.Pause}>\r\n        {!word.silence ? word.text + ' ' : '•••• '}\r\n      </span>\r\n    );\r\n\r\n    let content = word.deleted ? (\r\n      <span className={styles.Deleted}>\r\n        <span className={styles.DeletedImgContainer}>\r\n          <img\r\n            className={styles.DeletedImg}\r\n            src={restoreText}\r\n            alt='restore text'\r\n          />\r\n        </span>\r\n        <span className={styles.DeletedText}>[...] </span>\r\n      </span>\r\n    ) : (\r\n      innerContent\r\n    );\r\n\r\n    let containerStyle = { width: 'auto' };\r\n    if (isInput) {\r\n      containerStyle.width = !word.silence\r\n        ? word.text.length * 1.5 + 'ch'\r\n        : '70px';\r\n      containerStyle.marginRight = '0.4rem';\r\n    }\r\n\r\n    return shouldShow ? (\r\n      <span\r\n        style={containerStyle}\r\n        id={word.id}\r\n        key={word.id}\r\n        className={[\r\n          styles.WordContainer,\r\n          isCurrent ? styles.CurrentWord : null,\r\n          isHighlight ? styles.Highlight : null,\r\n          isSelectionMode ? styles.InSelection : null,\r\n        ].join(' ')}\r\n        onClick={(e) => wordClickHandler(e, word.deleted)}\r\n      >\r\n        {content}\r\n      </span>\r\n    ) : null;\r\n  });\r\n};\r\n\r\nexport default Words;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Transcription.module.css';\r\nimport cut from '../../assets/cut.svg';\r\nimport search from '../../assets/search.svg';\r\nimport {\r\n  deleteWord,\r\n  restoreDeleted,\r\n  deleteSelection,\r\n} from './utils/updateTextAndCuts';\r\nimport Words from './Words/Words';\r\n\r\nconst Transcription = ({\r\n  words,\r\n  currentWordId,\r\n  setCurrentWordId,\r\n  isPlaying,\r\n  playerRef,\r\n  setCuts,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setPlayerTime,\r\n}) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [inputId, setInputId] = useState(null);\r\n\r\n  const wordClickHandler = (e, isDeleted) => {\r\n    let id = e.currentTarget.id;\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (e.detail > 1 && !inputId) setInputId(id);\r\n    if (!isDeleted && !inputId) {\r\n      setCurrentSelection(null);\r\n      setPlayerTime(id);\r\n      setCurrentWordId(id);\r\n    } else if (!inputId) {\r\n      restoreDeleted(\r\n        words,\r\n        id,\r\n        setCurrentWordId,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (selection, anchorNode, focusNode, isAnchorNode, isFocusNode, position) => {\r\n      let start = '';\r\n      let end = '';\r\n      if (anchorNode.parentNode.id === focusNode.parentNode.id) {\r\n        if (anchorNode.parentNode.id) {\r\n          setPlayerTime(anchorNode.parentNode.id);\r\n          setCurrentWordId(anchorNode.parentNode.id);\r\n        }\r\n        setCurrentSelection(null);\r\n      } else if (isAnchorNode && isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = focusNode.parentNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.parentNode.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isAnchorNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.id;\r\n        } else if (position === 2) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.parentNode.id;\r\n          end = focusNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.parentNode.id;\r\n        }\r\n      }\r\n\r\n      if (start !== '' && end !== '') {\r\n        setCurrentSelection({ start, end });\r\n        setPlayerTime(start);\r\n        setCurrentWordId(start);\r\n      }\r\n      selection.removeAllRanges();\r\n    },\r\n    [setCurrentWordId, setCurrentSelection, setPlayerTime]\r\n  );\r\n\r\n  const mouseUpHandler = useCallback(\r\n    (e) => {\r\n      let selection = document.getSelection();\r\n      if (e.detail < 2 && selection.anchorNode && selection.focusNode) {\r\n        let anchorNode = selection.anchorNode.parentNode;\r\n        let focusNode = selection.focusNode.parentNode;\r\n        let isAnchorNode = anchorNode.tagName === 'SPAN';\r\n        let isFocusNode = focusNode.tagName === 'SPAN';\r\n        let position = selection.anchorNode.compareDocumentPosition(\r\n          selection.focusNode\r\n        );\r\n        if ((isAnchorNode || isFocusNode) && !selection.isCollapsed) {\r\n          if (isPlaying) playerRef.current.pause();\r\n          handleSelection(\r\n            selection,\r\n            anchorNode,\r\n            focusNode,\r\n            isAnchorNode,\r\n            isFocusNode,\r\n            position\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [handleSelection, isPlaying, playerRef]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n    return () => document.removeEventListener('mouseup', mouseUpHandler);\r\n  }, [mouseUpHandler]);\r\n\r\n  const cutClickHandler = () => {\r\n    if (isPlaying) playerRef.current.pause();\r\n    if (!currentSelection && currentWordId) {\r\n      deleteWord(\r\n        words,\r\n        currentWordId,\r\n        setCurrentWordId,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    } else if (currentSelection) {\r\n      deleteSelection(\r\n        words,\r\n        setCurrentWordId,\r\n        currentSelection,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Transcription}>\r\n      <div className={styles.TextControls}>\r\n        <div className={styles.CutContainer} onClick={cutClickHandler}>\r\n          <img src={cut} alt='cut' />\r\n          <p>Cut</p>\r\n        </div>\r\n        <div className={styles.SearchContainer}>\r\n          <input\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            className={styles.SearchInput}\r\n            placeholder='Search'\r\n            type='text'\r\n          />\r\n          <img className={styles.SearchSvg} src={search} alt='search' />\r\n        </div>\r\n      </div>\r\n      <div id='textbox' className={styles.Text}>\r\n        {words ? (\r\n          <Words\r\n            wordsArr={words}\r\n            currentWordId={currentWordId}\r\n            searchInput={searchInput}\r\n            wordClickHandler={wordClickHandler}\r\n            inputId={inputId}\r\n            setInputId={setInputId}\r\n            currentSelection={currentSelection}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transcription;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/api/v1`,\r\n});\r\n\r\nexport default instance;\r\n","import { useCallback, useState, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadVideo = () => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [duration, setDuration] = useState(null);\r\n  const [fullText, setFullText] = useState(null);\r\n  const words = useRef(null);\r\n\r\n  const axiosUploadVideo = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/upload', formData, {\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadVideo = useCallback(\r\n    async (formData) => {\r\n      setIsUploading(true);\r\n      try {\r\n        const res = await axiosUploadVideo(formData);\r\n        console.log(res.data);\r\n        setDuration(res.data.duration);\r\n        words.current = res.data.text_breakup;\r\n        setFullText(res.data.full_text);\r\n      } catch (err) {\r\n        console.log('Error Uploading Video', err);\r\n      } finally {\r\n        setIsUploading(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadVideo]\r\n  );\r\n\r\n  return { isUploading, uploadVideo, words: words.current, duration, fullText };\r\n};\r\n\r\nexport default useUploadVideo;\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport styles from './VideoEditor.module.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Transcription from '../Transcription/Transcription';\r\nimport useUploadVideo from '../../hooks/useUploadVideo';\r\n// import { words } from './sampleWords';\r\n\r\nconst handleUpload = async (file, setFile, upload) => {\r\n  const formData = new FormData();\r\n  formData.append('video', file);\r\n  try {\r\n    await upload(formData);\r\n  } catch (err) {\r\n    console.log(err);\r\n  } finally {\r\n    setFile(null);\r\n  }\r\n};\r\n\r\nconst VideoEditor = () => {\r\n  const { isUploading, uploadVideo, words, duration, fullText } =\r\n    useUploadVideo();\r\n  const [currentSelection, setCurrentSelection] = useState(null);\r\n  const [currentWordId, setCurrentWordId] = useState(null);\r\n  // const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [viedoForUpload, setVideoForUpload] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const [currentTime, setCurrentTime] = useState(null);\r\n  const [videoCuts, setVideoCuts] = useState([]);\r\n  const [nextCutIndex, setNextCutIndex] = useState(null);\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (viedoForUpload) {\r\n      handleUpload(viedoForUpload, setVideoForUpload, uploadVideo);\r\n      playerRef.current.src = URL.createObjectURL(viedoForUpload);\r\n    }\r\n  }, [viedoForUpload, uploadVideo]);\r\n\r\n  useEffect(() => {\r\n    if (words) setCurrentWordId(words[0].id);\r\n  }, [words]);\r\n\r\n  const handlePlay = (e) => {\r\n    let selection = document.getSelection();\r\n    selection.removeAllRanges();\r\n    if (currentSelection) setCurrentSelection(null);\r\n    setIsPlaying(true);\r\n    let interval = setInterval(() => {\r\n      setCurrentTime(playerRef.current.currentTime);\r\n    }, 10);\r\n    setIntervalId(interval);\r\n  };\r\n\r\n  const handlePause = (e) => {\r\n    setIsPlaying(false);\r\n    clearInterval(intervalId);\r\n  };\r\n\r\n  const handleEnd = (e) => {\r\n    if (videoCuts.length > 0) setNextCutIndex(0);\r\n    setCurrentTime(0);\r\n  };\r\n\r\n  const setPlayerTime = (wordId, cuts) => {\r\n   cuts = videoCuts\r\n    let endTime = '0';\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (wordId === word.id) {\r\n        endTime = word.end;\r\n        playerRef.current.currentTime = word.start;\r\n        break;\r\n      }\r\n    }\r\n    let cutIndex = 0;\r\n    for (let i = 0; i < cuts.length; i++) {\r\n      let cut = cuts[i];\r\n      if (+endTime > +cut.end) {\r\n        cutIndex++;\r\n      }\r\n    }\r\n    setNextCutIndex(cutIndex);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(nextCutIndex);\r\n  }, [nextCutIndex]);\r\n\r\n  // const handleCurrentTime = useCallback(\r\n  //   (time) => {\r\n  //     let word = words[currentWordIndex];\r\n  //     if (+word.start <= +time && +word.end >= +time && !word.deleted) {\r\n  //       setCurrentWordIndex((prevState) => prevState + 1);\r\n  //     }\r\n  //   },\r\n  //   [currentWordIndex]\r\n  // );\r\n\r\n  // const handleCurrentWordUpdate = useCallback((currentWordId) => {\r\n  //   for (let i = 0; i < words.length; i++) {\r\n  //     let word = words[i];\r\n  //     if (currentWordId === word.id) {\r\n  //       setCurrentWordIndex(i);\r\n  //     }\r\n  //   }\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   if (currentWordId) handleCurrentWordUpdate(currentWordId);\r\n  // }, [currentWordId, handleCurrentWordUpdate]);\r\n\r\n  const handleVideoCuts = useCallback(\r\n    (time) => {\r\n      time = time + 0.05;\r\n      if (videoCuts.length > 0 && nextCutIndex !== null) {\r\n        if (\r\n          videoCuts[nextCutIndex] &&\r\n          time >= +videoCuts[nextCutIndex].start &&\r\n          time <= +videoCuts[nextCutIndex].end\r\n        ) {\r\n          playerRef.current.currentTime = videoCuts[nextCutIndex].end;\r\n          if (videoCuts[nextCutIndex + 1]) setNextCutIndex(nextCutIndex + 1);\r\n        }\r\n      }\r\n    },\r\n    [videoCuts, nextCutIndex]\r\n  );\r\n\r\n  const handleCurrentTime = useCallback((time) => {\r\n    time = time + 0.05;\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (+word.start <= time && +word.end >= time && !word.deleted) {\r\n        setCurrentWordId(word.id);\r\n        break;\r\n      }\r\n    }\r\n  }, [words]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleCurrentTime(currentTime);\r\n  }, [currentTime, handleCurrentTime]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleVideoCuts(currentTime);\r\n  }, [currentTime, handleVideoCuts]);\r\n\r\n  return (\r\n    <div className={styles.VideoEditor}>\r\n      <Navigation\r\n        setVideoForUpload={setVideoForUpload}\r\n        isUploading={isUploading}\r\n      />\r\n      <main className={styles.Main}>\r\n        <Transcription\r\n          className={styles.VideoEditor}\r\n          words={words}\r\n          currentWordId={currentWordId}\r\n          setCurrentWordId={setCurrentWordId}\r\n          isPlaying={isPlaying}\r\n          playerRef={playerRef}\r\n          setCuts={setVideoCuts}\r\n          currentSelection={currentSelection}\r\n          setCurrentSelection={setCurrentSelection}\r\n          setPlayerTime={setPlayerTime}\r\n          // duration={duration}\r\n          // fullText={fullText}\r\n        />\r\n        <div className={styles.Player}>\r\n          <video\r\n            style={{ display: duration ? 'block' : 'none' }}\r\n            className={styles.Video}\r\n            ref={playerRef}\r\n            controls\r\n            onPlay={handlePlay}\r\n            onPause={handlePause}\r\n            onEnded={handleEnd}\r\n          />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;\r\n","import {createContext} from 'react';\r\n\r\nconst EditorContext = createContext(null);\r\nexport default EditorContext;","import { useReducer } from 'react';\r\n\r\nconst initialState = {};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case '':\r\n      return state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useEditorState = () => {\r\n  const [editorState, editorDispatch] = useReducer(reducer, initialState);\r\n  return [editorState, editorDispatch];\r\n};\r\n\r\nexport default useEditorState;\r\n","import './App.css';\nimport VideoEditor from './containers/VideoEditor/VideoEditor';\nimport EditorContext from './contexts/EditorContext';\nimport useEditorState from './hooks/useEditorState';\n\nconst App = () => {\n  const [editorState, editorDispatch] = useEditorState();\n  return (\n    <div className='App'>\n      <EditorContext.Provider value={{ editorState, editorDispatch }}>\n        <VideoEditor />\n      </EditorContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordContainer\":\"Words_WordContainer__2MxYw\",\"Word\":\"Words_Word__3b2m1\",\"Pause\":\"Words_Pause__33kzp\",\"Deleted\":\"Words_Deleted__3CMYk\",\"DeletedText\":\"Words_DeletedText__1n8km\",\"WordInput\":\"Words_WordInput__3lLIb\",\"CurrentWord\":\"Words_CurrentWord__3w6qS\",\"Highlight\":\"Words_Highlight__cba72\",\"DeletedImgContainer\":\"Words_DeletedImgContainer__2Mj9-\",\"DeletedImg\":\"Words_DeletedImg__2JxpA\",\"InSelection\":\"Words_InSelection__33LHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Transcription\":\"Transcription_Transcription__13teg\",\"TextControls\":\"Transcription_TextControls__1U4fb\",\"CutContainer\":\"Transcription_CutContainer__3Pv4S\",\"SearchContainer\":\"Transcription_SearchContainer__3q-zR\",\"SearchInput\":\"Transcription_SearchInput__3ojca\",\"Text\":\"Transcription_Text__3pvrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoEditor\":\"VideoEditor_VideoEditor__1aRjl\",\"Main\":\"VideoEditor_Main__RsHdg\",\"Player\":\"VideoEditor_Player__2Wd3k\",\"Video\":\"VideoEditor_Video__1I_Ob\"};"],"sourceRoot":""}