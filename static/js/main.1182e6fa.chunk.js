(this["webpackJsonptwiso-video-editor"]=this["webpackJsonptwiso-video-editor"]||[]).push([[0],{10:function(e,t,a){e.exports={LineDropdown:"StrokeWidthDropdown_LineDropdown__102cb",ShapeDropdown:"StrokeWidthDropdown_ShapeDropdown__y2mdf",StrokeOption:"StrokeWidthDropdown_StrokeOption__3PBYq"}},13:function(e,t,a){e.exports={TextAlignDropdown:"TextAlignDropdown_TextAlignDropdown__PkoUd",TextAlignOption:"TextAlignDropdown_TextAlignOption__2NPzu",Current:"TextAlignDropdown_Current__2vk5u",TextAlignImage:"TextAlignDropdown_TextAlignImage__wtSLz",TextAlignText:"TextAlignDropdown_TextAlignText__nuEMl"}},133:function(e,t,a){e.exports={Editor:"Editor_Editor__3ckPM"}},134:function(e,t,a){e.exports={Uploader:"Uploader_Uploader__lgMfw"}},137:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1YXGU"}},14:function(e,t,a){e.exports={ShapeToolbar:"ShapeToolbar_ShapeToolbar__3ltKA",BorderDiv:"ShapeToolbar_BorderDiv__1MpYU",DownArrow:"ShapeToolbar_DownArrow__MgRL3",FillContainer:"ShapeToolbar_FillContainer__dFbZJ",StrokeContainer:"ShapeToolbar_StrokeContainer__21-kB",StrokeWidthContainer:"ShapeToolbar_StrokeWidthContainer__1IzFk",RadiusContainer:"ShapeToolbar_RadiusContainer__3GI8W",ColorPickerBorder:"ShapeToolbar_ColorPickerBorder__qXCuh",ColorPicker:"ShapeToolbar_ColorPicker__2vzHo",StrokeWidthInputContainer:"ShapeToolbar_StrokeWidthInputContainer__1ISoG",StrokeWidthInput:"ShapeToolbar_StrokeWidthInput__239HS",StrokeWidthArrowContainer:"ShapeToolbar_StrokeWidthArrowContainer__2MBk5",RadiusInput:"ShapeToolbar_RadiusInput__19zGn"}},142:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__ko406"}},143:function(e,t,a){e.exports={Video:"Video_Video__3P9at"}},145:function(e,t,a){e.exports={Button:"Button_Button__364Yd"}},15:function(e,t,a){e.exports={CanvasToolbar:"CanvasToolbar_CanvasToolbar__2hdMU",BorderDiv:"CanvasToolbar_BorderDiv__1KyoH",DownArrow:"CanvasToolbar_DownArrow__2Ii5A",TemplatesContainer:"CanvasToolbar_TemplatesContainer__23oBW",ResizeContainer:"CanvasToolbar_ResizeContainer__198p0",ColorContainer:"CanvasToolbar_ColorContainer__3uL9Q",OptionText:"CanvasToolbar_OptionText__cr_ng",ResizeDropdown:"CanvasToolbar_ResizeDropdown__2Fhs4",ColorPickerBorder:"CanvasToolbar_ColorPickerBorder__1sugA",ColorPicker:"CanvasToolbar_ColorPicker__3ROju",ColorDropdownContainer:"CanvasToolbar_ColorDropdownContainer__L8SXX"}},151:function(e,t,a){},152:function(e,t,a){},177:function(e,t){},178:function(e,t){},179:function(e,t){},20:function(e,t,a){e.exports={DragDrop:"DragDrop_DragDrop__69U1q",UploadText:"DragDrop_UploadText__3BF2H",DropArea:"DragDrop_DropArea__3Ck_W",DropAreaContent:"DragDrop_DropAreaContent__2FbMw",DropAreaText:"DragDrop_DropAreaText__3Nk_9",DropAreaHeading:"DragDrop_DropAreaHeading__3SZMc",DropAreaSubheading:"DragDrop_DropAreaSubheading__37y0F",DropAreaBrowse:"DragDrop_DropAreaBrowse__1ku5G",Active:"DragDrop_Active__2Le0T"}},21:function(e,t,a){e.exports={Dropdown:"ImageDropdown_Dropdown__2eYxV",UplaodButtonContainer:"ImageDropdown_UplaodButtonContainer__1lY8g",UploadButton:"ImageDropdown_UploadButton__1lQXO",FileInput:"ImageDropdown_FileInput__2Rzkx",Images:"ImageDropdown_Images__LZdgK",Column:"ImageDropdown_Column__27Nmx",ImageContainer:"ImageDropdown_ImageContainer__1YX4Q",Image:"ImageDropdown_Image__2oCLN"}},23:function(e,t,a){e.exports={WordContainer:"Words_WordContainer__2MxYw",Word:"Words_Word__3b2m1",Pause:"Words_Pause__33kzp",Deleted:"Words_Deleted__3CMYk",DeletedText:"Words_DeletedText__1n8km",WordInput:"Words_WordInput__3lLIb",CurrentWord:"Words_CurrentWord__3w6qS",Highlight:"Words_Highlight__cba72",DeletedImgContainer:"Words_DeletedImgContainer__2Mj9-",DeletedImg:"Words_DeletedImg__2JxpA",InSelection:"Words_InSelection__33LHP"}},26:function(e,t,a){e.exports={Dropdown:"ShapeDropdown_Dropdown__3aeLl",ShapeContainer:"ShapeDropdown_ShapeContainer__21oDr",LineShapeContainer:"ShapeDropdown_LineShapeContainer__1eEMT",Shape:"ShapeDropdown_Shape__3ZdgP"}},29:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__3RMWK",BackFileInfoContainer:"Navbar_BackFileInfoContainer__3ky9K",BackArrow:"Navbar_BackArrow__2uTRU",FileInfoContainer:"Navbar_FileInfoContainer__3b5oQ",FileName:"Navbar_FileName__23abe",Creater:"Navbar_Creater__j3mKP",UserInfoContainer:"Navbar_UserInfoContainer__w_iEs",User:"Navbar_User__2G6Ae",UserInitials:"Navbar_UserInitials__1Z-As"}},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(132),i=a.n(o),c=(a(151),a(3)),s=(a(152),a(133)),l=a.n(s),d=a(17),u=a(134),b=a.n(u),p=a(20),j=a.n(p),h=a.p+"static/media/upload.c3eba292.svg",g=a(1),O=function(e){var t=e.setVideoForUpload,a=e.setVideoDuration,r=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useCallback)((function(e){return e.preventDefault(),e.dataTransfer.dropEffect="copy",o.current.classList.add(j.a.Active),!1}),[]),c=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),o.current.classList.add(j.a.Active)}),[]),s=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),o.current.classList.remove(j.a.Active)}),[]),l=Object(n.useCallback)((function(e){if("video/mp4"===e.type){var n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=function(){n.duration>1&&(a(n.duration),t(e))},n.src=URL.createObjectURL(e)}}),[a,t]),d=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),o.current.classList.remove(j.a.Active);var t=e.dataTransfer.files[0];return l(t),!1}),[l]);return Object(n.useEffect)((function(){var e=o.current;return e.addEventListener("dragover",i,!1),e.addEventListener("dragenter",c,!1),e.addEventListener("dragleave",s,!1),e.addEventListener("drop",d,!1),function(){e.removeEventListener("dragover",i,!1),e.removeEventListener("dragenter",c,!1),e.removeEventListener("dragleave",s,!1),e.removeEventListener("drop",d,!1)}}),[i,d,c,s]),Object(g.jsxs)("div",{className:j.a.DragDrop,children:[Object(g.jsx)("p",{className:j.a.UploadText,children:"Upload a video or audio file"}),Object(g.jsx)("div",{ref:o,className:j.a.DropArea,onClick:function(){return r.current.click()},children:Object(g.jsxs)("div",{className:j.a.DropAreaContent,children:[Object(g.jsx)("img",{src:h,alt:"upload"}),Object(g.jsxs)("div",{className:j.a.DropAreaText,children:[Object(g.jsx)("p",{className:j.a.DropAreaHeading,children:"Drag & drop your file here"}),Object(g.jsxs)("p",{className:j.a.DropAreaSubheading,children:["or click to ",Object(g.jsx)("span",{className:j.a.DropAreaBrowse,children:"browse"})]})]})]})}),Object(g.jsx)("input",{ref:r,type:"file",accept:"video/mp4",style:{display:"none"},onChange:function(){return l(r.current.files[0])}})]})},f=a(46),S=a.n(f),v=function(e){var t=e.uploadProgress,a=e.isUploading,r=e.videoDuration,o=e.videoUrl,i=e.setIsFinished,s=Object(n.useState)(0),l=Object(c.a)(s,2),d=l[0],u=l[1],b=Object(n.useState)(null),p=Object(c.a)(b,2),j=p[0],h=p[1];Object(n.useEffect)((function(){return function(){j&&clearInterval(j)}}),[j]);var O=Object(n.useCallback)((function(){var e=setInterval((function(){u((function(t){return t>=99?(clearInterval(e),99):t+.5}))}),1e3*r/60/2);h(e)}),[r]);return Object(n.useEffect)((function(){if(o){clearInterval(j);var e=setInterval((function(){u((function(t){return t>=100?(clearInterval(e),100):t+1}))}),100)}return function(){0}}),[o,j]),Object(n.useEffect)((function(){var e=null;return 100===d&&o&&(e=setTimeout((function(){return i(!0)}),1e3)),function(){null!==e&&clearTimeout(e)}}),[d,o,i]),Object(n.useEffect)((function(){100!==t||a||O()}),[t,O,a]),Object(n.useEffect)((function(){a&&u(Math.round(.4*t))}),[a,t]),Object(g.jsxs)("div",{className:S.a.UploadProgress,children:[Object(g.jsxs)("p",{className:S.a.Percentage,children:[Math.floor(d),"%"]}),Object(g.jsx)("p",{className:S.a.Heading,children:"Transcribing your video"}),Object(g.jsx)("div",{className:S.a.ProgressBar,children:Object(g.jsx)("div",{className:S.a.ProgressBarInner,style:{maxWidth:d+"%"}})}),Object(g.jsx)("p",{className:S.a.Subheading,children:"Please be patient. It may take several minutes."})]})},m=a(25),C=a.n(m),x=a(43),_=a(135),w=a.n(_).a.create({baseURL:"".concat("https://speech.twiso.co","/api/v1")}),y=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(c.a)(o,2),s=i[0],l=i[1],d=Object(n.useState)(null),u=Object(c.a)(d,2),b=u[0],p=u[1],j=Object(n.useState)(0),h=Object(c.a)(j,2),g=h[0],O=h[1],f=Object(n.useRef)(null),S=Object(n.useRef)(!1),v=function(e){var t=Math.round(100*e.loaded/e.total);S.current&&O(t),100===t&&S.current&&r(!1)},m=Object(n.useCallback)((function(e){return new Promise((function(t,a){w.post("/videos",e,{onUploadProgress:v,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),_=Object(n.useCallback)(function(){var e=Object(x.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(0),r(!0),e.prev=2,e.next=5,m(t);case 5:a=e.sent,console.log(a),S.current&&(f.current=a.data.subtitles.captions,l(a.data.duration),p(a.data.original_video_url)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error Uploading Video",e.t0);case 13:return e.prev=13,e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(n.useEffect)((function(){return S.current=!0,function(){return S.current=!1}}),[]),{isUploading:a,uploadVideo:_,words:f.current,duration:s,videoUrl:b,uploadProgress:g}},k=a(29),D=a.n(k),T=a.p+"static/media/backArrow.0fa2b863.svg",N=function(e){var t=e.children;return Object(g.jsxs)("header",{className:D.a.Navbar,children:[Object(g.jsxs)("div",{className:D.a.BackFileInfoContainer,children:[Object(g.jsx)("img",{className:D.a.BackArrow,src:T,alt:"back"}),Object(g.jsxs)("div",{className:D.a.FileInfoContainer,children:[Object(g.jsx)("p",{className:D.a.FileName,children:"Untitled"}),Object(g.jsx)("p",{className:D.a.Creater,children:"Dmitry"})]})]}),t,Object(g.jsx)("div",{className:D.a.UserInfoContainer,children:Object(g.jsx)("div",{className:D.a.User,children:Object(g.jsx)("p",{className:D.a.UserInitials,children:"DE"})})})]})},I=function(e){var t=e.viedoForUpload,a=e.setVideoForUpload,r=e.setIsFinished,o=e.setVideoUrl,i=e.setDuration,s=e.wordsRef,l=Object(n.useState)(0),u=Object(c.a)(l,2),p=u[0],j=u[1],h=y(),f=h.isUploading,S=h.uploadVideo,m=h.words,C=h.videoUrl,x=h.duration,_=h.uploadProgress;return Object(n.useEffect)((function(){x&&C&&m&&(o(C),i(x),s.current=Object(d.a)(m))}),[m,x,o,i,s,C]),Object(n.useEffect)((function(){if(t){var e=new FormData;e.append("video",t),S(e)}}),[t,S,a]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{}),Object(g.jsx)("div",{className:b.a.Uploader,children:t?Object(g.jsx)(v,{uploadProgress:_,isUploading:f,videoDuration:p,videoUrl:C,setIsFinished:r}):Object(g.jsx)(O,{setVideoForUpload:a,setVideoDuration:j})})]})},A=a(93),F=a.n(A),M=a(38),R=a.n(M),B=a.p+"static/media/cut.50fbea68.svg",P=a.p+"static/media/search.01416d75.svg",E=function(e,t,a,n){for(var r=[],o=!1,i=0,c=0,s=0,l=0,d=0;d<e.length;d++){var u=e[d];u.active&&o?(o=!1,e[c].next=d,r.push({start:i,end:l})):u.active||o?!u.active&&o&&(l=u.end,s=d):(o=!0,i=u.start,c=d,l=u.end)}o&&r.push({start:i,end:l}),o&&c!==e.length-1?e[c].next=s:o&&(e[c].next=e.length-1),null!==n&&a(n),t([].concat(r))},L=function(e,t,a,n,r,o){"delete"===e?E(t,a,n,r):"restore"===e&&function(e,t,a,n){e((function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];i.start!==n&&r.push(i)}return t(a),[].concat(r)}))}(a,n,r,o)},U=function(e,t,a,n,r){for(var o=null,i=e;i>=0;i--){if(t[i].active){o=i;break}}if(null===o)for(var c=e;c<t.length;c++){if(t[c].active){o=c;break}}a(o),L("delete",t,n,r,o)},H=a(2),z=a(23),W=a.n(z),V=a.p+"static/media/restoreText.63dbbf27.svg",G=function(e){var t=e.wordsArr,a=e.currentWordIndex,r=e.searchInput,o=e.wordClickHandler,i=e.inputIndex,s=e.setInputIndex,l=e.currentSelection,d=e.currentSub,u=e.currentSubIndex,b=e.subArr,p=e.setShouldRerenderSub,j=Object(n.useState)(""),h=Object(c.a)(j,2),O=h[0],f=h[1],S=Object(n.useRef)(null),v=function(e,t,a){!a&&t&&e?function(e,t){for(var a=b[u].words,n=0;n<a.length;n++){var r=a[n];if(r._id===e){var o=0===r.text.indexOf(" ");r.text=o?" "+t:t,r.silence&&(r.silence=!1);break}}}(e,t):t&&a?function(e,t){var a=b[u].words;if(a)for(var n=0;n<a.length;n++){var r=a[n];if(r._id===e){var o=0===n;t=o?t+" ":t;var i=0!==r.text.indexOf(" ");r.text=i&&!o?" "+t:t,r.silence&&(r.silence=!1);break}}else b[u].silence=!1,b[u].words=[Object(H.a)(Object(H.a)({},b[u]),{},{text:t})]}(e,t):e&&function(e){for(var t=b[u].words,a=0,n=0;n<t.length;n++){var r=t[n];r._id===e&&(r.text="",r.silence=!0),r.silence&&a++}a===t.length&&(b[u].silence=!0,b[u].words=null)}(e),p(!0)},m=function(e){var a=e.target.parentNode.id,n=O.trim().length>0?O:null;t[i]&&(n&&!t[i].silence?(t[i].text=n,d&&v(a,n,!1)):n?(t[i].text=n,t[i].silence=!1,d&&v(a,n,!0)):(d&&!t[i].silence&&v(a,n,!1),t[i].silence=!0)),f(""),s(null)},C=!1,x=!0,_=!1,w=!1;return Object(n.useEffect)((function(){null!==i&&(S.current.focus(),t[i]&&!t[i].silence&&f(t[i].text))}),[i,t]),t.map((function(e,t){x=!(C&&!e.active);var n=t===a&&!l&&e.active,c=!e.silence&&e.active&&r.trim().length>1&&e.text.trim().toLowerCase().includes(r.trim().toLowerCase());C||e.active||(C=!0),C&&e.active&&(C=!1),l&&l.start===t?_=!0:l&&l.end===t?w=!0:w&&(_=!1,w=!1);var s=null!==i&&n,d=s?Object(g.jsx)("input",{ref:S,className:W.a.WordInput,type:"text",value:O,onBlur:m,onChange:function(e){return f(e.target.value)}}):Object(g.jsx)("span",{className:e.silence?W.a.Pause:W.a.Word,children:e.silence?"\u2022\u2022\u2022\u2022 ":e.text+" "}),u=e.active?d:Object(g.jsxs)("span",{className:W.a.Deleted,children:[Object(g.jsx)("span",{className:W.a.DeletedImgContainer,children:Object(g.jsx)("img",{className:W.a.DeletedImg,src:V,alt:"restore text"})}),Object(g.jsx)("span",{className:W.a.DeletedText,children:"[...] "})]}),b={width:"auto"};return s&&(b.width=e.silence?"70px":1.5*e.text.length+"ch",b.marginRight="0.4rem"),x?Object(g.jsx)("span",{style:b,id:e._id,className:[W.a.WordContainer,n?W.a.CurrentWord:null,c?W.a.Highlight:null,_?W.a.InSelection:null].join(" "),onClick:function(t){return o(t,!e.active)},children:u},e._id):null}))},Y=function(e,t,a){if(a){for(var n=t[e],r=0;r<a.length;r++){var o=a[r];if(o.words)for(var i=0;i<o.words.length;i++){if(o.words[i]._id===n._id)return r}else if(o.silence&&n._id===o._id)return r}return null}return null},K=function(e,t){for(var a=0;a<t.length;a++){if(t[a]._id===e)return a}return null},q=function(e){var t=e.words,a=e.currentWordIndex,r=e.setCurrentWordIndex,o=e.isPlaying,i=e.videoRef,s=e.setCuts,l=e.currentSelection,d=e.setCurrentSelection,u=e.setPlayerTime,b=e.subArr,p=e.setCurrentSubIndex,j=e.currentSub,h=e.currentSubIndex,O=e.setShouldRerenderSub,f=Object(n.useState)(""),S=Object(c.a)(f,2),v=S[0],m=S[1],C=Object(n.useState)(null),x=Object(c.a)(C,2),_=x[0],w=x[1],y=Object(n.useState)(!0),k=Object(c.a)(y,2),D=k[0],T=k[1];Object(n.useEffect)((function(){D&&(T(null),E(t,s,null,null))}),[D,t,s,u,a,r]);var N=Object(n.useCallback)((function(e,a,n,o,i,c){var s="",l="";if(a.parentNode.id===n.parentNode.id){var b=K(a.parentNode.id,t);a.parentNode.id&&null!==b&&(u(b),r(b)),e.removeAllRanges(),d(null)}else o&&i?4===c?(s=a.parentNode.id,l=n.parentNode.id):2===c&&(s=n.parentNode.id,l=a.parentNode.id):o?4===c?(s=a.parentNode.id,l=a.parentNode.parentNode.lastChild.id):2===c&&(s=a.parentNode.parentNode.firstChild.id,l=a.parentNode.id):i&&(4===c?(s=a.parentNode.parentNode.firstChild.parentNode.id,l=n.id):2===c&&(s=n.id,l=a.parentNode.parentNode.lastChild.parentNode.id));if(""!==s&&""!==l){var p=K(s,t),j=K(l,t);null!==p&&null!==j&&(d({start:p,end:j}),u(p),r(p))}}),[r,d,u,t]),I=Object(n.useCallback)((function(e){var t=document.getSelection();if(e.detail<2&&t.anchorNode&&t.focusNode){var a=t.anchorNode.parentNode,n=t.focusNode.parentNode,r="SPAN"===a.tagName,c="SPAN"===n.tagName,s=t.anchorNode.compareDocumentPosition(t.focusNode);!r&&!c||t.isCollapsed||(o&&i.current.pause(),N(t,a,n,r,c,s))}}),[N,o,i]);Object(n.useEffect)((function(){return document.addEventListener("mouseup",I),function(){return document.removeEventListener("mouseup",I)}}),[I]);return Object(g.jsxs)("div",{className:R.a.Transcription,children:[Object(g.jsxs)("div",{className:R.a.TextControls,children:[Object(g.jsxs)("div",{className:R.a.CutContainer,onClick:function(){o&&i.current.pause(),l||null===a?l&&function(e,t,a,n,r,o){for(var i=a.start,c=a.end,s=i;s<e.length&&(e[s].active=!1,s!==c);s++);U(i,e,t,r,o),n(null)}(t,r,l,d,s,u):function(e,t,a,n,r){e[t].active=!1,U(t,e,a,n,r)}(t,a,r,s,u),document.getSelection().removeAllRanges()},children:[Object(g.jsx)("img",{src:B,alt:"cut"}),Object(g.jsx)("p",{children:"Cut"})]}),Object(g.jsxs)("div",{className:R.a.SearchContainer,children:[Object(g.jsx)("input",{value:v,onChange:function(e){return m(e.target.value)},className:R.a.SearchInput,placeholder:"Search",type:"text"}),Object(g.jsx)("img",{className:R.a.SearchSvg,src:P,alt:"search"})]})]}),Object(g.jsx)("div",{id:"textbox",className:R.a.Text,children:t?Object(g.jsx)(G,{wordsArr:t,currentWordIndex:a,searchInput:v,wordClickHandler:function(e,a){var n=e.currentTarget.id,c=K(n,t);o&&i.current.pause(),e.detail>1&&null===_&&w(c),a||null!==_||null===c?null===_&&function(e,t,a,n,r,o){for(var i=t;i<e.length;i++){var c=e[i];if(c.active)break;c.active=!0,null!==c.next&&(c.next=null)}var s=e[t].start;L("restore",null,r,o,t,s),n(null),a(t)}(t,c,r,d,s,u):(d(null),u(c),r(c))},inputIndex:_,setInputIndex:w,currentSelection:l,currentSub:j,currentSubIndex:h,subArr:b,setCurrentSubIndex:p,setShouldRerenderSub:O}):null})]})},X=a(56),Z=a.n(X),J=a(94),Q=a.n(J),$=Object(n.createContext)(null),ee=a(6),te=a.p+"static/media/ctrlScale.3fdf1e45.svg",ae=a.p+"static/media/ctrlStretch.018481ed.svg",ne=a.p+"static/media/ctrlRotate.8ba52be7.svg";ee.fabric.Subtitle=ee.fabric.util.createClass(ee.fabric.IText,{type:"subtitle",_getNonTransformedDimensions:function(){return new ee.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return ee.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)}}),ee.fabric.Subtitle.prototype.controls={};var re=function(){ee.fabric.Object.prototype.transparentCorners=!1,ee.fabric.Object.prototype.cornerColor="white",ee.fabric.Object.prototype.borderColor="#6F7BD0",ee.fabric.Object.prototype.cornerStrokeColor="#6F7BD0",ee.fabric.Object.prototype.cornerStyle="circle",ee.fabric.Object.prototype.objectCaching=!1;var e=new Image;e.src=ae;var t=new Image;t.src=te;var a=new Image;a.src=ne;var n=ee.fabric.controlsUtils,r=n.scaleSkewCursorStyleHandler,o=n.scaleCursorStyleHandler,i=n.scalingEqually,c=n.scalingYOrSkewingX,s=n.scalingXOrSkewingY,l=n.scaleOrSkewActionName,d=ee.fabric.Object.prototype.controls,u=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(ee.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/2,-i/2,i,i),t.restore()}},b=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(ee.fabric.util.degreesToRadians(o.angle)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}},p=function(e){return function(t,a,n,r,o){var i=this.cornerSize;t.save(),t.translate(a,n),t.rotate(ee.fabric.util.degreesToRadians(o.angle+90)),t.drawImage(e,-i/3.2,-i/2,i/1.6,i),t.restore()}};if(d.ml=new ee.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,render:b(e)}),d.mr=new ee.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:42,offsetY:3,offsetX:1,render:b(e)}),d.mt=new ee.fabric.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:-1,render:p(e)}),d.mb=new ee.fabric.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:c,getActionName:l,cornerSize:42,offsetX:-3,offsetY:1,render:p(e)}),d.tl=new ee.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.tr=new ee.fabric.Control({x:.5,y:-.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.bl=new ee.fabric.Control({x:-.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.br=new ee.fabric.Control({x:.5,y:.5,cursorStyleHandler:o,actionHandler:i,cornerSize:32,offsetY:3,offsetX:1,render:u(t)}),d.mtr=new ee.fabric.Control({x:0,y:.5,cornerSize:50,offsetY:30,actionHandler:n.rotationWithSnapping,cursorStyleHandler:n.rotationStyleHandler,withConnection:!1,actionName:"rotate",render:u(a)}),ee.fabric.Textbox){var j=ee.fabric.Textbox.prototype.controls={};j.mtr=d.mtr,j.mr=new ee.fabric.Control({x:.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:b(e)}),j.ml=new ee.fabric.Control({x:-.5,y:0,actionHandler:n.changeWidth,cursorStyleHandler:r,actionName:"resizing",cornerSize:42,offsetY:3,render:b(e)})}var h=ee.fabric.Line.prototype.controls={};h.mtr=d.mtr,h.ml=new ee.fabric.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:0,render:u(t)}),h.mr=new ee.fabric.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:l,cornerSize:30,offsetY:3,offsetX:0,render:u(t)});var g=ee.fabric.Image.prototype.controls={};g.mtr=d.mtr,g.tr=d.tr,g.br=d.br,g.tl=d.tl,g.bl=d.bl;var O=ee.fabric.ActiveSelection.prototype.controls={};O.mtr=d.mtr,O.tr=d.tr,O.br=d.br,O.tl=d.tl,O.bl=d.bl},oe={tl:!0,tr:!0,bl:!0,br:!0,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0},ie=function(e,t,a,n,r){a({type:"setShapeToAdd",data:null});var o=null;"square"===e.shapeToAdd?o=new ee.fabric.Rect({left:100,top:100,width:152,height:152,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"circle"===e.shapeToAdd?o=new ee.fabric.Circle({left:100,top:100,radius:76,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"triangle"===e.shapeToAdd?o=new ee.fabric.Triangle({left:100,top:100,width:152,height:150,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"line"===e.shapeToAdd&&(o=new ee.fabric.Line([0,0,300,0],{left:100,top:100,stroke:"rgba(196,196,196,1)",strokeWidth:2,borderColor:"transparent",noScaleCache:!1,rx:0,ry:0})),o&&(o.id=n,t.add(o).setActiveObject(o),t.requestRenderAll(),r())},ce=function(e,t,a,r,o){Object(n.useEffect)((function(){e.shapeToAdd?ie(e,a,t,r,o):e.imageToAdd?function(e,t,a,n,r){var o=e.imageToAdd.src;if(e.shouldReplaceImage){var i=t.getActiveObject();ee.fabric.Image.fromURL(o,(function(n){n.top=i.top,n.left=i.left,n.scaleToWidth(i.width*i.scaleX),n.angle=i.angle,n.setControlsVisibility(oe),n.id=i.id,n.cornerRadius=i.cornerRadius,n.isSvg="svg"===e.imageToAdd.type,t.remove(i),t.add(n).setActiveObject(n),t.requestRenderAll(),a({type:"setShouldUpdateImage",data:!0}),a({type:"setShouldReplaceImage",data:!1})}))}else ee.fabric.Image.fromURL(o,(function(a){a.scaleToWidth(256),a.left=100,a.top=100,a.setControlsVisibility(oe),a.id=n,a.cornerRadius=0,a.isSvg="svg"===e.imageToAdd.type,t.add(a).setActiveObject(a),t.requestRenderAll(),r()}));a({type:"setImageToAdd",data:null})}(e,a,t,r,o):e.shouldAddText&&function(e,t,a,n,r){a({type:"setShouldAddText",data:!1});var o=new ee.fabric.Textbox("Add\u2004text\u200e",Object(H.a)({left:100,top:100,height:100,padding:10,width:130,splitByGrapheme:!0,cursorWidth:.5},t.textState));o.id=n,e.add(o).setActiveObject(o),e.requestRenderAll(),r()}(a,e,t,r,o)}),[a,t,e,r,o])},se=Object(n.createContext)(null),le=["fontFamily","fontStyle","fontWeight","fontSize","fill","opacity","textAlign"],de=["fill","stroke","strokeWidth","rx","ry"],ue=["cornerRadius","isSvg"],be=function(e,t){var a={type:"",object:null};t({type:"setCurrentCoords",data:e.target.lineCoords}),"textbox"===e.target.type?a.type=function(e,t){var a={};return le.forEach((function(t){a[t]=e.target[t]})),t({type:"setTextState",data:a}),"text"}(e,t):"image"===e.target.type&&"video"!==e.target.id?a.type=function(e,t){var a={};return ue.forEach((function(t){a[t]=e.target[t]})),t({type:"setImageState",data:a}),"image"}(e,t):"subtitle"===e.target.id?a.type="subtitle":"video"!==e.target.id?a.type=function(e,t){var a={};return de.forEach((function(t){a[t]=e.target[t]})),t({type:"setShapeState",data:a}),e.target.type}(e,t):a.type="video",a.object=e.target,t({type:"setCurrentObject",data:a})},pe=function(e){e.off("selection:created"),e.off("selection:updated"),e.off("selection:cleared"),e.off("object:modified"),e.off("object:rotating"),e.off("object:rotated"),e.off("object:scaling"),e.off("object:scaled"),e.off("object:skewing"),e.off("object:skewed"),e.off("object:moved"),e.off("text:editing:entered"),e.off("text:editing:exited")},je=function(e,t,a,r){var o=Object(n.useContext)(se),i=o.eventState,s=o.eventDispatch,l=Object(n.useState)(!1),d=Object(c.a)(l,2),u=d[0],b=d[1],p=Object(n.useState)(!1),j=Object(c.a)(p,2),h=j[0],g=j[1],O=Object(n.useState)(!1),f=Object(c.a)(O,2),S=f[0],v=f[1],m=Object(n.useState)(!1),C=Object(c.a)(m,2),x=C[0],_=C[1],w=Object(n.useRef)(!0),y=Object(n.useRef)(null),k=Object(n.useCallback)((function(e){if(!e.target.isOnScreen()){if("subtitle"===e.target.id){var a=t.getWidth()/(2*t.getZoom()),n=t.getHeight()/t.getZoom()-e.target.height-e.target.paddingY;e.target.setPositionByOrigin(new ee.fabric.Point(a,n),"center","center")}else e.target.top=0,e.target.left=0;e.target.setCoords()}}),[t]),D=Object(n.useCallback)((function(e,t,a){e.on("text:editing:entered",(function(t){return function(e,t,a){a(!0),"Add\u2004text\u200e"===e.target.text&&(e.target.text="",e.target.hiddenTextarea.value="",t.requestRenderAll())}(t,e,_)})),e.on("text:editing:exited",(function(t){return function(e,t,a){a(!1),""===e.target.text&&(e.target.text="Add\u2004text\u200e"),t.requestRenderAll()}(t,e,_)})),e.on("selection:created",(function(n){return function(e,t,a,n){"activeSelection"!==e.target.type?(n&&a({type:"setShowCanvasToolbar",data:!1}),be(e,a)):t.discardActiveObject()}(n,e,t,a)})),e.on("selection:updated",(function(e){return function(e,t){t({type:"setShowToolbar",data:!1}),be(e,t)}(e,t)})),e.on("object:modified",(function(e){return function(e,t){be(e,t)}(e,t)})),e.on("selection:cleared",(function(e){return function(e,t,a){a.current=null,t({type:"setCurrentObject",data:{type:"",object:null}}),t({type:"setCurrentCoords",data:null})}(0,t,y)})),e.on("object:rotating",(function(){return b(!0)})),e.on("object:rotated",(function(){return b(!1)})),e.on("object:scaling",(function(){return g(!0)})),e.on("object:scaled",(function(e){k(e),g(!1)})),e.on("object:skewing",(function(){return v(!0)})),e.on("object:skewed",(function(){return v(!1)})),e.on("object:moved",(function(e){k(e),s({type:"setIsMoving",data:!1})}))}),[s,k]);Object(n.useEffect)((function(){return e&&(a.isCropMode?pe(t):D(t,r,a.showCanvasToolbar)),function(){e&&pe(t)}}),[r,e,t,D,a.isCropMode,a.showCanvasToolbar]),Object(n.useEffect)((function(){if(!w.current){var e=!0;(u||h||S||i.isMoving||x||!a.currentCoords||"video"===a.currentObject.type)&&(e=!1),r({type:"setShowToolbar",data:e})}}),[i,u,h,S,x,a.isCropMode,a.currentCoords,a.currentObject,r]),Object(n.useEffect)((function(){w.current?w.current=!1:a.currentCoords?a.currentObject.object&&a.currentObject.object.id!==y.current&&"video"!==a.currentObject.type&&(y.current=a.currentObject.object.id,r({type:"setShowToolbar",data:!0})):r({type:"setShowToolbar",data:!1})}),[a.currentCoords,a.currentObject,r,a.isCropMode])},he=function(e,t,a,n,r,o,i,c,s){r.save(),r.lineWidth=o,r.strokeStyle=i,r.beginPath(),r.moveTo((e+c[4])*s,(t+c[5])*s),r.lineTo((a+c[4])*s,(n+c[5])*s),r.stroke(),r.restore()},ge=function(e,t,a){e=Math.round(e),t=Math.round(t);for(var n=e-a,r=e+a;n<=r;n++)if(n===t)return!0;return!1},Oe=function(e,t,a,n,r,o){he(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1,t,a,n,r,o)},fe=function(e,t,a,n,r,o){he(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5,t,a,n,r,o)},Se=function(e,t,a,n,r,o,i,c){r.save(),r.strokeStyle=o,r.lineWidth=i,r.beginPath(),r.moveTo(e*c[0],t*c[3]),r.lineTo(a*c[0],n*c[3]),r.stroke(),r.restore()},ve=function(e,t,a){var r=Object(n.useContext)(se),o=r.eventState,i=r.eventDispatch,s=Object(n.useState)(null),l=Object(c.a)(s,2),u=l[0],b=l[1],p=Object(n.useState)(null),j=Object(c.a)(p,2),h=j[0],g=j[1],O=Object(n.useState)([]),f=Object(c.a)(O,2),S=f[0],v=f[1],m=Object(n.useState)([]),C=Object(c.a)(m,2),x=C[0],_=C[1],w=Object(n.useState)(1),y=Object(c.a)(w,2),k=y[0],D=y[1],T=Object(n.useState)(null),N=Object(c.a)(T,2),I=N[0],A=N[1],F=Object(n.useState)(null),M=Object(c.a)(F,2),R=M[0],B=M[1],P=Object(n.useState)({}),E=Object(c.a)(P,2),L=E[0],U=E[1],H=Object(n.useState)({}),z=Object(c.a)(H,2),W=z[0],V=z[1],G=Object(n.useState)(null),Y=Object(c.a)(G,2),K=Y[0],q=Y[1],X=Object(n.useState)(null),Z=Object(c.a)(X,2),J=Z[0],Q=Z[1],$="rgb(111, 123, 208)",te="rgb(111, 123, 208)",ae=Object(n.useCallback)((function(){g(a.viewportTransform),D(a.getZoom())}),[a]),ne=Object(n.useCallback)((function(){a.clearContext(a.contextTop)}),[a]),re=Object(n.useCallback)((function(e){!function(e,t,a,n,r,o,i){var c=e.target,s=t.getObjects(),l=c.getCenterPoint(),u=l.x,b=l.y,p=c.getBoundingRect(),j=p.height/a[3],h=p.width/a[0],g=!1,O=!1;if(t._currentTransform){for(var f=function(e){if(s[e]===c)return"continue";var t=s[e].getCenterPoint(),l=t.x,p=t.y,f=s[e].getBoundingRect(),S=f.height/a[3],v=f.width/a[0];ge(l,u,i)&&(O=!0,r((function(e){return[].concat(Object(d.a)(e),[{x:l,y1:p<b?p-S/2-n:p+S/2+n,y2:b>p?b+j/2+n:b-j/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(l,b),"center","center")),ge(l-v/2,u-h/2,i)&&(O=!0,r((function(e){return[].concat(Object(d.a)(e),[{x:l-v/2,y1:p<b?p-S/2-n:p+S/2+n,y2:b>p?b+j/2+n:b-j/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(l-v/2+h/2,b),"center","center")),ge(l+v/2,u+h/2,i)&&(O=!0,r((function(e){return[].concat(Object(d.a)(e),[{x:l+v/2,y1:p<b?p-S/2-n:p+S/2+n,y2:b>p?b+j/2+n:b-j/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(l+v/2-h/2,b),"center","center")),ge(p,b,i)&&(g=!0,o((function(e){return[].concat(Object(d.a)(e),[{y:p,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+h/2+n:u-h/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(u,p),"center","center")),ge(p-S/2,b-j/2,i)&&(g=!0,o((function(e){return[].concat(Object(d.a)(e),[{y:p-S/2,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+h/2+n:u-h/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(u,p-S/2+j/2),"center","center")),ge(p+S/2,b+j/2,i)&&(g=!0,o((function(e){return[].concat(Object(d.a)(e),[{y:p+S/2,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+h/2+n:u-h/2-n}])})),c.setPositionByOrigin(new ee.fabric.Point(u,p+S/2-j/2),"center","center"))},S=s.length;S--;)f(S);g||o([]),O||r([])}}(e,a,h,5,v,_,4),function(e,t,a,n,r,o,i,c){var s=e.target,l=s.getCenterPoint();if(t._currentTransform){var d=Math.round(l.x)in r,u=Math.round(l.y)in o;a(d),n(u),(d||u)&&s.setPositionByOrigin(new ee.fabric.Point(d?i/2:l.x,u?c/2:l.y),"center","center")}}(e,a,q,Q,L,W,I,R)}),[a,h,R,W,I,L]),oe=Object(n.useCallback)((function(){for(var e=S.length;e--;)Oe(S[e],u,1,$,h,k);for(var t=x.length;t--;)fe(x[t],u,1,$,h,k);v([]),_([]),K&&function(e,t,a,n,r,o){Se(e+.5,0,e+.5,t,a,n,r,o)}(I/2,R,u,te,1,h),J&&function(e,t,a,n,r,o){Se(0,e+.5,t,e+.5,a,n,r,o)}(R/2,I,u,te,1,h)}),[u,h,x,S,k,R,I,J,K]),ie=Object(n.useCallback)((function(){v([]),_([]),q(null),Q(null),a.requestRenderAll()}),[a]),ce=Object(n.useCallback)((function(){b(a.getSelectionContext()),A(a.getWidth()/a.getZoom()),B(a.getHeight()/a.getZoom());for(var e={},t={},n=I/2-4,r=I/2+4;n<=r;n++)e[Math.round(n)]=!0;for(var o=R/2-4,i=R/2+4;o<=i;o++)t[Math.round(o)]=!0;U(e),V(t)}),[R,I,a]),le=Object(n.useCallback)((function(e){e.off("mouse:down"),e.off("object:moving"),e.off("before:render"),e.off("after:render"),e.off("mouse:up")}),[]);Object(n.useEffect)((function(){t&&ce()}),[e.shouldUpdateCanvasSize,t,ce]),Object(n.useEffect)((function(){return t&&u&&!e.isCropMode?(a.on("mouse:down",ae),a.on("object:moving",(function(e){o.isMoving||i({type:"setIsMoving",data:!0}),re(e)})),a.on("before:render",ne),a.on("after:render",oe),a.on("mouse:up",(function(e){3===e.button&&(i({type:"setRightClickEvent",data:e}),e.e.preventDefault()),ie(e)}))):e.isCropMode&&le(a),function(){t&&u&&le(a)}}),[o,i,e.shouldUpdateCanvasSize,e.isCropMode,le,t,u,a,ie,oe,re,ne,ae])},me=a(136),Ce=a.n(me),xe=["Inter"],_e=function(e,t,a){var n=t.getActiveObject();if(n&&"image"===n.type){var r=e.imageState.cornerRadius;n.set("clipPath",function(e,t){var a=e.width*e.scaleX*t/200,n=e.height*e.scaleY*t/200;return new ee.fabric.Rect({width:e.width,height:e.height,rx:a/e.scaleX,ry:n/e.scaleY,left:-e.width/2,top:-e.height/2,noScaleCache:!1})}(n,r)),n.cornerRadius=r,t.requestRenderAll()}a({type:"setShouldUpdateImage",data:!1})},we=function(e,t,a){Ce.a.load({google:{families:[a]},timeout:5e3,fontactive:function(a,n){t.set({fontFamily:a}),e.requestRenderAll()}})},ye=["rect","circle","triangle","line"],ke=function(e,t,a){Object(n.useEffect)((function(){e.shouldUpdateSubtitles&&function(e,t,a){if(e.subtitlesState){var n=e.currentObject.object;n._clearCache();for(var r=0,o=Object.entries(e.subtitlesState);r<o.length;r++){var i=Object(c.a)(o[r],2),s=i[0],l=i[1];"fontFamily"!==s&&n.set(s,l)}xe.includes(e.subtitlesState.fontFamily)?(n.set({fontFamily:e.subtitlesState.fontFamily}),t.requestRenderAll()):(we(t,n,e.subtitlesState.fontFamily),xe.push(e.subtitlesState.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateSubtitles",data:!1})}(e,a,t),e.shouldUpdateCanvas&&function(e,t,a){t.backgroundColor=e.backgroundColor,t.requestRenderAll(),a({type:"setShouldUpdateCanvas",data:!1})}(e.canvasState,a,t),e.shouldUpdateCanvasSize&&function(e,t,a){t.discardActiveObject();var n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);t.setZoom(n),t.setDimensions({width:e.width,height:e.height}),t.requestRenderAll(),a({type:"setShouldUpdateCanvasSize",data:!1})}(e.canvasState,a,t),e.shouldUpdateText&&"text"===e.currentObject.type&&function(e,t,a){if(e.textState){e.currentObject.object._clearCache();for(var n=0,r=Object.entries(e.textState);n<r.length;n++){var o=Object(c.a)(r[n],2),i=o[0],s=o[1];"fontFamily"!==i&&e.currentObject.object.set(i,s)}xe.includes(e.textState.fontFamily)?(e.currentObject.object.set({fontFamily:e.textState.fontFamily}),t.requestRenderAll()):(we(t,e.currentObject.object,e.textState.fontFamily),xe.push(e.textState.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateText",data:!1})}(e,a,t),e.shouldUpdateShape&&ye.includes(e.currentObject.type)&&function(e,t,a){if(e.shapeState){for(var n=0,r=Object.entries(e.shapeState);n<r.length;n++){var o=Object(c.a)(r[n],2),i=o[0],s=o[1];e.currentObject.object.set(i,s)}e.showToolbar||a({type:"setShowToolbar",data:!0}),t.requestRenderAll()}a({type:"setShouldUpdateShape",data:!1})}(e,a,t),e.shouldUpdateImage&&"image"===e.currentObject.type&&_e(e,a,t)}),[e,t,a])},De=a(137),Te=a.n(De),Ne=a(7),Ie=a.n(Ne),Ae=a.p+"static/media/downArrow.fef3575b.svg",Fe=a.p+"static/media/bold.a2d1e7f9.svg",Me=a.p+"static/media/subBackground.8078df1d.svg",Re=a.p+"static/media/italic.3764ee89.svg",Be=a.p+"static/media/textLeft.6dd8e1e0.svg",Pe=a.p+"static/media/textRight.41f15bae.svg",Ee=a.p+"static/media/textCenter.ac71018d.svg",Le=a.p+"static/media/textJustify.7c9f4495.svg",Ue=a(35),He=a.n(Ue),ze=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akaya Kanadaka","Akaya Telivigala","Akronim","Aladin","Alata","Alatsi","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Andika New Basic","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Bebas Neue","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Beth Ellen","Bevan","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bodoni Moda","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Brygada 1918","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comic Neue","Coming Soon","Commissioner","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Epilogue","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gayathri","Gelasio","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Goldman","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Graduate","Grand Hotel","Grandstander","Gravitas One","Great Vibes","Grenze","Grenze Gotisch","Griffy","Gruppo","Gudea","Gugi","Gupter","Gurajada","Habibi","Hachi Maru Pop","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inter","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Kiwi Maru","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","MuseoModerno","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piazzolla","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Recursive","Red Hat Display","Red Hat Text","Red Rose","Redressed","Reem Kufi","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shippori Mincho","Shippori Mincho B1","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Solway","Song Myung","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Tomorrow","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tulpen One","Turret Road","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vesper Libre","Viaoda Libre","Vibes","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Xanh Mono","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],We=function(e){var t=e.setIsDropDown,a=e.dispatch,r=e.isSub,o=Object(n.useState)(""),i=Object(c.a)(o,2),s=i[0],l=i[1],d=ze.filter((function(e){return e.toLowerCase().includes(s.toLowerCase())})).map((function(e){return Object(g.jsx)("li",{className:He.a.FontOption,children:e},e)}));return Object(g.jsxs)("div",{className:He.a.FontsDropdown,children:[Object(g.jsxs)("div",{className:He.a.SearchContainer,children:[Object(g.jsx)("img",{className:He.a.SearchSvg,src:P,alt:"search"}),Object(g.jsx)("input",{value:s,onChange:function(e){return l(e.target.value)},className:He.a.SearchInput,placeholder:"Search",type:"text"})]}),Object(g.jsx)("ul",{className:He.a.FontOptionsContainer,onClick:function(e){"LI"===e.target.tagName&&(a({type:r?"setSubtitlesFontFamily":"setFontFamily",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:d}),Object(g.jsx)("div",{className:He.a.UploadFontContainer,children:Object(g.jsx)("button",{className:He.a.UploadFontButton,children:"Upload font"})})]})},Ve=a(30),Ge=a.n(Ve),Ye=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.isSub;return Object(g.jsxs)("ul",{className:Ge.a.FontSizeDropdown,onClick:function(e){"LI"===e.target.tagName&&(a({type:n?"setSubtitlesFontSize":"setFontSize",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:[Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"14"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"24"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"30"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"36"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"48"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"60"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"72"}),Object(g.jsx)("li",{className:Ge.a.FontSizeOption,children:"96"})]})},Ke=a(13),qe=a.n(Ke),Xe=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.current;return Object(g.jsxs)("ul",{className:qe.a.TextAlignDropdown,onClick:function(e){var n=null;"LI"===e.target.tagName?n=e.target.childNodes[0].alt:"P"===e.target.tagName?n=e.target.textContent:"IMG"===e.target.tagName&&(n=e.target.alt),n&&(a({type:"setTextAlign",data:n.toLowerCase()}),t(!1))},children:[Object(g.jsxs)("li",{className:[qe.a.TextAlignOption,"left"===n?qe.a.Current:null].join(" "),children:[Object(g.jsx)("img",{className:qe.a.TextAlignImage,src:Be,alt:"left"}),Object(g.jsx)("p",{className:qe.a.TextAlignText,children:"Left"})]}),Object(g.jsxs)("li",{className:[qe.a.TextAlignOption,"center"===n?qe.a.Current:null].join(" "),children:[Object(g.jsx)("img",{className:qe.a.TextAlignImage,src:Ee,alt:"center"}),Object(g.jsx)("p",{className:qe.a.TextAlignText,children:"Center"})]}),Object(g.jsxs)("li",{className:[qe.a.TextAlignOption,"right"===n?qe.a.Current:null].join(" "),children:[Object(g.jsx)("img",{className:qe.a.TextAlignImage,src:Pe,alt:"right"}),Object(g.jsx)("p",{className:qe.a.TextAlignText,children:"Right"})]}),Object(g.jsxs)("li",{className:[qe.a.TextAlignOption,"justify"===n?qe.a.Current:null].join(" "),children:[Object(g.jsx)("img",{className:qe.a.TextAlignImage,src:Le,alt:"justify"}),Object(g.jsx)("p",{className:qe.a.TextAlignText,children:"Justify"})]})]})},Ze=a(37),Je=a(50),Qe=a.n(Je),$e=function(e){var t=e.state,a=e.dispatch,r=e.coords,o=e.isFontFamilyDropdown,i=e.isFontSizeDropdown,s=e.isColorDropdown,l=e.isTextAlignDropDown,d=e.setIsFontFamilyDropdown,u=e.setIsFontSizeDropdown,b=e.colorChangeCompleteHandler,p=e.setIsTextAlignDropDown,j=e.setColor,h=e.color,O=e.colorPickerRef,f=e.isSub,S=e.isBgColorDropdown,v=e.setBgColor,m=e.bgColor,C=e.bgColorPickerRef,x=Object(n.useState)({top:41}),_=Object(c.a)(x,2),w=_[0],y=_[1],k=Object(n.useRef)(null);return Object(n.useEffect)((function(){i&&f?k.current.style.right="223px":i&&(k.current.style.right="151px")}),[f,i]),Object(n.useEffect)((function(){r&&r.coordY+301+41+20>t.canvasState.height&&y({bottom:41})}),[t.canvasState,r]),Object(g.jsxs)(g.Fragment,{children:[o?Object(g.jsx)("div",{className:Qe.a.FontsDropdown,style:w,children:Object(g.jsx)(We,{setIsDropDown:d,dispatch:a,isSub:f})}):null,i?Object(g.jsx)("div",{className:Qe.a.FontSizeDropdown,style:w,ref:k,children:Object(g.jsx)(Ye,{setIsDropDown:u,dispatch:a,isSub:f})}):null,s?Object(g.jsx)("div",{className:Qe.a.SketchPickerContainer,style:w,children:Object(g.jsx)(Ze.a,{color:h,onChange:function(e){return j(e.rgb)},onChangeComplete:function(e){return b(e,O,a,f,S)}})}):null,l?Object(g.jsx)("div",{className:Qe.a.TextAlignDropdown,style:w,children:Object(g.jsx)(Xe,{setIsDropDown:p,dispatch:a,current:t.textState.textAlign})}):null,S?Object(g.jsx)("div",{className:Qe.a.SketchPickerContainer,style:w,children:Object(g.jsx)(Ze.a,{color:m,onChange:function(e){return v(e.rgb)},onChangeComplete:function(e){return b(e,C,a,f,S)}})}):null]})},et=function(e,t,a,n,r){var o="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");if(r&&t.current)t.current.style.background=o,a({type:"setSubtitlesbackgroundColor",data:o});else if(t.current){var i=n?"setSubtitlesTextFill":"setTextFill";t.current.style.background=o,a({type:i,data:o})}},tt=function(e){var t=e.coords,a=e.isSub,r=Object(n.useContext)($),o=r.editorState,i=r.editorDispatch,s=Object(n.useState)(0),l=Object(c.a)(s,2),d=l[0],u=l[1],b=Object(n.useState)(!0),p=Object(c.a)(b,2),j=p[0],h=p[1],O=Object(n.useState)(!1),f=Object(c.a)(O,2),S=f[0],v=f[1],m=Object(n.useState)(!1),C=Object(c.a)(m,2),x=C[0],_=C[1],w=Object(n.useState)(!1),y=Object(c.a)(w,2),k=y[0],D=y[1],T=Object(n.useState)(!1),N=Object(c.a)(T,2),I=N[0],A=N[1],F=Object(n.useState)(!1),M=Object(c.a)(F,2),R=M[0],B=M[1],P=Object(n.useState)({r:0,g:0,b:0,a:1}),E=Object(c.a)(P,2),L=E[0],U=E[1],H=Object(n.useState)({r:0,g:0,b:0,a:1}),z=Object(c.a)(H,2),W=z[0],V=z[1],G=Object(n.useRef)(null),Y=Object(n.useRef)(null),K=[Ie.a.FontWeightBoldContainer],q=[Ie.a.FontStyleItalicContainer],X=a?o.subtitlesState:o.textState,Z="Bold"===X.fontWeight,J="Italic"===X.fontStyle;Z&&K.push(Ie.a.Active),J&&q.push(Ie.a.Active);var Q=Be;"center"===o.textState.textAlign?Q=Ee:"right"===o.textState.textAlign?Q=Pe:"justify"===o.textState.textAlign&&(Q=Le);var ee={fontFamily:v,fontSizeArrow:_,colorPicker:D,textAlign:A,bgColor:B},te={bold:function(){var e="Bold";Z&&(e="Normal"),i({type:a?"setSubtitlesFontWeight":"setFontWeight",data:e})},italic:function(){var e="Italic";J&&(e="Normal"),i({type:a?"setSubtitlesFontStyle":"setFontStyle",data:e})}},ae=function(e){return function(e,t,a){"bold"!==e.currentTarget.id&&"italic"!==e.currentTarget.id||a[e.currentTarget.id]();for(var n=0,r=Object.entries(t);n<r.length;n++){var o=Object(c.a)(r[n],2),i=o[0],s=o[1];i===e.currentTarget.id?s((function(e){return!e})):s(!1)}}(e,ee,te)};return Object(n.useEffect)((function(){if(j){h(!1),u(X.fontSize);var e=X.fill.split("(")[1].split(")")[0].split(","),t=Object(c.a)(e,4),n=t[0],r=t[1],o=t[2],i=t[3];if(U({r:n,g:r,b:o,a:i}),G.current.style.background=X.fill,a){var s=X.backgroundColor.split("(")[1].split(")")[0].split(","),l=Object(c.a)(s,4);n=l[0],r=l[1],o=l[2],i=l[3],V({r:n,g:r,b:o,a:i}),Y.current.style.background=X.backgroundColor}}}),[X,j,a]),Object(g.jsxs)("div",{className:Ie.a.TextToolbar,children:[Object(g.jsxs)("div",{className:Ie.a.FontsContainer,id:"fontFamily",onClick:ae,children:[Object(g.jsx)("p",{children:X.fontFamily}),Object(g.jsx)("img",{className:Ie.a.DownArrow,src:Ae,alt:"arrow"})]}),Object(g.jsx)("div",{className:Ie.a.BorderDiv}),Object(g.jsxs)("div",{className:Ie.a.FontSizeContainer,children:[Object(g.jsx)("div",{className:Ie.a.FontSizeInputContainer,children:Object(g.jsx)("input",{className:Ie.a.FontSizeInput,type:"number",value:d,onChange:function(e){return function(e,t,a,n){t(e.target.value);var r=+e.target.value;r<=0?r=1:r>1080&&(r=1080),a({type:n?"setSubtitlesFontSize":"setFontSize",data:r})}(e,u,i,a)}})}),Object(g.jsx)("div",{className:Ie.a.FontSizeArrowContainer,id:"fontSizeArrow",onClick:ae,children:Object(g.jsx)("img",{className:Ie.a.DownArrow,src:Ae,alt:"arrow"})})]}),Object(g.jsx)("div",{className:Ie.a.BorderDiv}),Object(g.jsx)("div",{className:Ie.a.ColorPickerContainer,id:"colorPicker",onClick:ae,children:Object(g.jsx)("div",{className:Ie.a.ColorPickerBorder,children:Object(g.jsx)("div",{ref:G,className:Ie.a.ColorPicker})})}),Object(g.jsx)("div",{className:Ie.a.BorderDiv}),Object(g.jsx)("div",{className:K.join(" "),id:"bold",onClick:ae,children:Object(g.jsx)("img",{className:Ie.a.Bold,src:Fe,alt:"bold"})}),Object(g.jsx)("div",{className:Ie.a.BorderDiv}),Object(g.jsx)("div",{className:q.join(" "),id:"italic",onClick:ae,children:Object(g.jsx)("img",{className:Ie.a.Italic,src:Re,alt:"italic"})}),Object(g.jsx)("div",{className:Ie.a.BorderDiv}),a?Object(g.jsxs)("div",{className:Ie.a.BgColorContainer,id:"bgColor",onClick:ae,children:[Object(g.jsx)("div",{className:Ie.a.BgColor,ref:Y}),Object(g.jsx)("img",{src:Me,alt:"italic"}),Object(g.jsx)("p",{children:"Background"})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:Ie.a.TextAlignContainer,id:"textAlign",onClick:ae,children:Object(g.jsx)("img",{className:Ie.a.TextAlign,src:Q,alt:"textAlign"})})}),Object(g.jsx)($e,{state:o,dispatch:i,coords:t,isFontFamilyDropdown:S,isFontSizeDropdown:x,isColorDropdown:k,isTextAlignDropDown:I,setIsFontFamilyDropdown:v,setIsFontSizeDropdown:_,colorChangeCompleteHandler:et,setIsTextAlignDropDown:A,setColor:U,setBgColor:V,color:L,bgColor:W,colorPickerRef:G,bgColorPickerRef:Y,isSub:a,isBgColorDropdown:R})]})},at=a(14),nt=a.n(at),rt=a.p+"static/media/cornerRadius.701d1dee.svg",ot=a(72),it=a.n(ot),ct=a(10),st=a.n(ct),lt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=function(e){"LI"===e.target.tagName&&(a({type:"setShapeStrokeWidth",data:+e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))};return e.isLine?Object(g.jsxs)("ul",{className:st.a.LineDropdown,onClick:n,children:[Object(g.jsx)("li",{className:st.a.StrokeOption,children:"1"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"5"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"10"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"15"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"20"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"25"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"30"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"35"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"40"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"45"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"50"})]}):Object(g.jsxs)("ul",{className:st.a.ShapeDropdown,onClick:n,children:[Object(g.jsx)("li",{className:st.a.StrokeOption,children:"0"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"4"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"8"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"12"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"24"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"48"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"96"}),Object(g.jsx)("li",{className:st.a.StrokeOption,children:"120"})]})},dt=function(e){var t=e.state,a=e.dispatch,r=e.coords,o=e.shapeToolbar,i=e.isStrokeWidthDropdown,s=e.isFillDropdown,l=e.isStrokeDropdown,d=e.fill,u=e.setFill,b=e.fillChangeCompleteHandler,p=e.fillRef,j=e.stroke,h=e.setStroke,O=e.strokeChangeCompleteHandler,f=e.strokeRef,S=e.setIsStrokeWidthDropdown,v=e.isLine,m=e.isRect,C=Object(n.useState)({top:41}),x=Object(c.a)(C,2),_=x[0],w=x[1],y=Object(n.useState)({top:41}),k=Object(c.a)(y,2),D=k[0],T=k[1],N=Object(n.useCallback)((function(e,t,a){var n=t.offsetWidth,r={};e.coordY+301+41+20>a&&(r.bottom=41,T({bottom:41,right:m?66:0})),e.coordX+n-220<0&&(r.left=0,r.bottom||(r.top=41)),0!==Object.keys(r).length&&w(r)}),[m]);return Object(n.useEffect)((function(){r&&o&&N(r,o,t.canvasState.height)}),[N,o,t.canvasState,r]),Object(g.jsxs)(g.Fragment,{children:[s?Object(g.jsx)("div",{className:it.a.FillDropdownContainer,style:_,children:Object(g.jsx)(Ze.a,{color:d,onChange:function(e){return u(e.rgb)},onChangeComplete:function(e){return b(e,a,p)}})}):null,l?Object(g.jsx)("div",{className:it.a.StrokeDropdownContainer,style:_,children:Object(g.jsx)(Ze.a,{color:j,onChange:function(e){return h(e.rgb)},onChangeComplete:function(e){return O(e,a,f)}})}):null,i?Object(g.jsx)("div",{className:it.a.StrokeWidthDropdownContainer,style:D,children:Object(g.jsx)(lt,{setIsDropDown:S,isLine:v,dispatch:a})}):null]})},ut=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeFill",data:n}),a.current.style.background=n}},bt=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeStroke",data:n}),a.current.style.background=n}},pt=function(e){var t=e.coords,a=Object(n.useContext)($),r=a.editorState,o=a.editorDispatch,i=Object(n.useState)(!0),s=Object(c.a)(i,2),l=s[0],d=s[1],u=Object(n.useState)("rgba(196,196,196,1)"),b=Object(c.a)(u,2),p=b[0],j=b[1],h=Object(n.useState)("rgba(255,255,255,1)"),O=Object(c.a)(h,2),f=O[0],S=O[1],v=Object(n.useState)(!1),m=Object(c.a)(v,2),C=m[0],x=m[1],_=Object(n.useState)(!1),w=Object(c.a)(_,2),y=w[0],k=w[1],D=Object(n.useState)(!1),T=Object(c.a)(D,2),N=T[0],I=T[1],A=Object(n.useState)(r.shapeState.strokeWidth),F=Object(c.a)(A,2),M=F[0],R=F[1],B=Object(n.useState)(r.shapeState.rx),P=Object(c.a)(B,2),E=P[0],L=P[1],U=Object(n.useRef)(null),H=Object(n.useRef)(null),z=Object(n.useRef)(null),W=Object(n.useRef)(null),V="line"===r.currentObject.type,G="rect"===r.currentObject.type,Y=function(e){return function(e,t,a,n){var r=e.currentTarget.id;"fill"===r?(t((function(e){return!e})),a(!1),n(!1)):"stroke"===r?(a((function(e){return!e})),t(!1),n(!1)):"strokeWidth"===r?(n((function(e){return!e})),t(!1),a(!1)):(n(!1),t(!1),a(!1))}(e,x,k,I)};return Object(n.useEffect)((function(){l&&function(e,t,a,n,r,o,i,s){if(a(!1),e)o.current.style.borderTopLeftRadius="15px",o.current.style.borderBottomLeftRadius="15px";else{var l=t.fill.split("(")[1].split(")")[0].split(","),d=Object(c.a)(l,4);n({r:d[0],g:d[1],b:d[2],a:d[3]}),r.current.style.background=t.fill}var u=t.stroke.split("(")[1].split(")")[0].split(","),b=Object(c.a)(u,4);i({r:b[0],g:b[1],b:b[2],a:b[3]}),s.current.style.background=t.stroke}(V,r.shapeState,d,j,H,W,S,z)}),[V,r.shapeState,l]),Object(g.jsxs)("div",{ref:U,className:nt.a.ShapeToolbar,children:[V?null:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:nt.a.FillContainer,id:"fill",onClick:Y,children:[Object(g.jsx)("div",{className:nt.a.ColorPickerBorder,children:Object(g.jsx)("div",{ref:H,className:nt.a.ColorPicker})}),Object(g.jsx)("p",{children:"Fill"})]}),Object(g.jsx)("div",{className:nt.a.BorderDiv})]}),Object(g.jsxs)("div",{ref:W,className:nt.a.StrokeContainer,id:"stroke",onClick:Y,children:[Object(g.jsx)("div",{className:nt.a.ColorPickerBorder,children:Object(g.jsx)("div",{ref:z,className:nt.a.ColorPicker})}),Object(g.jsx)("p",{children:"Stroke"})]}),Object(g.jsx)("div",{className:nt.a.BorderDiv}),Object(g.jsxs)("div",{className:nt.a.StrokeWidthContainer,children:[Object(g.jsx)("div",{className:nt.a.StrokeWidthInputContainer,children:Object(g.jsx)("input",{className:nt.a.StrokeWidthInput,type:"number",value:M,onChange:function(e){return function(e,t,a,n){a(e.target.value);var r=+e.target.value;n&&r<=0?r=1:n&&r>50?r=50:!n&&r>120?r=120:!n&&r<0&&(r=0),t({type:"setShapeStrokeWidth",data:r})}(e,o,R,V)}})}),Object(g.jsx)("div",{style:{borderTopRightRadius:G?"0":"15px",borderBottomRightRadius:G?"0":"15px"},className:nt.a.StrokeWidthArrowContainer,id:"strokeWidth",onClick:Y,children:Object(g.jsx)("img",{className:nt.a.DownArrow,src:Ae,alt:"arrow"})})]}),G?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:nt.a.BorderDiv}),Object(g.jsxs)("div",{className:nt.a.RadiusContainer,id:"radius",onClick:Y,children:[Object(g.jsx)("img",{src:rt,alt:"radius"}),Object(g.jsx)("input",{className:nt.a.RadiusInput,type:"number",value:E,onChange:function(e){L(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),o({type:"setShapeRadius",data:t})}})]})]}):null,Object(g.jsx)(dt,{state:r,dispatch:o,coords:t,shapeToolbar:U.current,isStrokeWidthDropdown:N,setIsStrokeWidthDropdown:I,isStrokeDropdown:y,isFillDropdown:C,fill:p,setFill:j,fillChangeCompleteHandler:ut,fillRef:H,stroke:f,setStroke:S,strokeChangeCompleteHandler:bt,strokeRef:z,isLine:V,isRect:G})]})},jt=a(31),ht=a.n(jt),gt=a.p+"static/media/replaceImage.24b71204.svg",Ot=a.p+"static/media/cropImage.06a8d86d.svg",ft=function(){var e=Object(n.useContext)($),t=e.editorState,a=e.editorDispatch,r=Object(n.useState)(t.imageState.cornerRadius),o=Object(c.a)(r,2),i=o[0],s=o[1],l=function(e){"replace"===e.currentTarget.id?a({type:"setShouldReplaceImage",data:!0}):"crop"===e.currentTarget.id&&a({type:"setIsCropMode",data:!0})},d=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:[ht.a.ReaplaceContainer,t.imageState.isSvg?ht.a.BorderStyle:null].join(" "),id:"replace",onClick:l,children:[Object(g.jsx)("img",{src:gt,alt:"replace"}),Object(g.jsx)("p",{children:"Replace"})]}),t.imageState.isSvg?null:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:ht.a.BorderDiv}),Object(g.jsxs)("div",{className:ht.a.RadiusContainer,id:"radius",onClick:l,children:[Object(g.jsx)("img",{src:rt,alt:"radius"}),Object(g.jsx)("input",{className:ht.a.RadiusInput,type:"number",value:i,onChange:function(e){s(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),a({type:"setImageCornerRadius",data:t})}})]}),Object(g.jsx)("div",{className:ht.a.BorderDiv}),Object(g.jsxs)("div",{className:ht.a.CropContainer,id:"crop",onClick:l,children:[Object(g.jsx)("img",{src:Ot,alt:"replace"}),Object(g.jsx)("p",{children:"Crop"})]})]})]});return Object(g.jsx)("div",{className:ht.a.ImageToolbar,children:t.isCropMode?Object(g.jsx)("div",{className:ht.a.DoneContainer,onClick:function(){a({type:"setShouldCropImage",data:!0}),a({type:"setShowToolbar",data:!1})},children:"Done"}):d})},St=function(e){var t=e.canvas,a=Object(n.useState)(null),r=Object(c.a)(a,2),o=r[0],i=r[1],s=Object(n.useContext)($).editorState,l=Object(n.useRef)(null),d=Object(n.useCallback)((function(e){l.current.style.transform="translate(".concat(e.coordX,"px, ").concat(e.coordY,"px)"),l.current.style.opacity=1,i(e)}),[]);return Object(n.useEffect)((function(){s.currentCoords&&d(function(e,t,a,n,r,o){var i=n.offsetWidth,c=n.offsetHeight,s=e.tl.y>e.bl.y,l=s?r+c:r,d=Math.min(e.tl.y,e.tr.y,e.br.y,e.bl.y)-c-l;if(d-o<0){var u=Math.max(e.tl.y,e.tr.y,e.br.y,e.bl.y)+r+(s?0:c);d=u+o+c<a?u:a-c-r}var b=Math.min(e.tl.x,e.tr.x,e.br.x,e.bl.x);return b+i>t?b=t-i:b<0&&(b=0),{coordX:b,coordY:d}}(s.currentCoords,t.getWidth(),t.getHeight(),l.current,28,10))}),[t,d,s.currentCoords,s.isCroppingImage]),Object(g.jsxs)("div",{ref:l,className:Te.a.Toolbar,children:["text"===s.currentObject.type?Object(g.jsx)(tt,{coords:o,isSub:!1}):null,"subtitle"===s.currentObject.type?Object(g.jsx)(tt,{coords:o,isSub:!0}):null,["rect","circle","triangle","line"].includes(s.currentObject.type)?Object(g.jsx)(pt,{coords:o}):null,"image"===s.currentObject.type?Object(g.jsx)(ft,{}):null]})},vt=function(e,t,a,n,r){a.getObjects().forEach((function(e){return e.selectable=!1}));var o=e.calcTransformMatrix(),i=o[4],c=o[5],s=(360-e.angle)*Math.PI/180,l=i-Math.abs((e.left-i)*Math.cos(s)-(e.top-c)*Math.sin(s)),d=c-Math.abs((e.left-i)*Math.sin(s)+(e.top-c)*Math.cos(s));e.angle=0,e.top=d,e.left=l;var u=function(e,t,a){var n=new ee.fabric.Rect({fill:"rgba(0,0,0,0)",originX:"left",originY:"top",left:t,top:e,borderDashArray:[2,2],borderColor:"#dbff17",width:a.width,height:a.height,scaleX:a.scaleX,scaleY:a.scaleY,selectable:!0,lockScalingFlip:!0,type:"cropbox"});return n.controls.mtr.visible=!1,n}(d,l,e);a.add(u),a.setActiveObject(u),t({type:"setCurrentCoords",data:u.lineCoords}),n(e),r(u)},mt=function(e,t,a,r,o){var i=Object(n.useState)(!1),s=Object(c.a)(i,2),l=s[0],d=s[1],u=Object(n.useState)(null),b=Object(c.a)(u,2),p=b[0],j=b[1],h=Object(n.useState)(null),g=Object(c.a)(h,2),O=g[0],f=g[1],S=Object(n.useState)(null),v=Object(c.a)(S,2),m=v[0],C=v[1],x=Object(n.useState)(null),_=Object(c.a)(x,2),w=_[0],y=_[1],k=Object(n.useCallback)((function(e,t){j(null),d(!1),f(null),C(null),y(null),e.off("mouse:down"),e.requestRenderAll(),t({type:"setShouldCropImage",data:!1}),t({type:"setShowToolbar",data:!0})}),[]),D=Object(n.useCallback)((function(e,t){var a=t.scaleX/e.scaleX,n=t.scaleY/e.scaleY,r=(t.top-e.top)/e.scaleY,o=(t.left-e.left)/e.scaleX,i=new ee.fabric.Rect({fill:"rgba(0,0,0,0)",top:r,left:o,width:t.width,height:t.height,scaleX:a,scaleY:n,absolutePositioned:!0}),c=new ee.fabric.Canvas;c.setDimensions({width:e.width,height:e.height}),ee.fabric.Image.fromURL(e._element.currentSrc,(function(a){c.add(a),c.add(i),c.requestRenderAll();var n=c.toDataURL({left:i.left,top:i.top,width:i.width*i.scaleX,height:i.height*i.scaleY});ee.fabric.Image.fromURL(n,(function(a){a.scaleToWidth(t.width*t.scaleX),a.id=e.id,y(a)}))}))}),[]);Object(n.useEffect)((function(){e.shouldCropImage&&O&&m&&D(O,m)}),[e.shouldCropImage,D,O,m]),Object(n.useEffect)((function(){if(w&&e.shouldCropImage){w.controls.mtr.visible=!0,a.getObjects().forEach((function(e){"cropbox"===e.type?a.remove(e):"background"!==e.id&&(e.selectable=!0)}));for(var n=0,i=Object.entries(p);n<i.length;n++){var s=Object(c.a)(i[n],2),l=s[0],d=s[1];w[l]=d}w.id=r,o(),a.remove(O),t({type:"setCurrentObject",data:{type:"image",data:w}}),t({type:"setImageCornerRadius",data:p.cornerRadius}),a.add(w).setActiveObject(w),t({type:"setCurrentCoords",data:w.lineCoords}),t({type:"setIsCropMode",data:!1}),k(a,t)}}),[r,o,O,m,p,w,e,t,a,k]),Object(n.useEffect)((function(){if(e.isCropMode){var n=a.getActiveObject();j({id:n.id,cornerRadius:n.cornerRadius,top:n.top,left:n.left,angle:n.angle}),vt(n,t,a,f,C)}}),[e.isCropMode,a,t]),Object(n.useEffect)((function(){var e,t;m&&O&&(e=O,(t=m).on("moving",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,o=e.height*e.scaleY,i=e.width*e.scaleX,c=t.top,s=t.left,l=t.top+n,d=t.left+r,u=e.top,b=u+o,p=e.left,j=p+i;s<p&&(t.left=p),c<u&&(t.top=u),d>j&&(t.left=j-r),l>b&&(t.top=b-n)})),t.on("scaling",(function(a){var n=t.height*t.scaleY,r=t.width*t.scaleX,o=e.height*e.scaleY,i=e.width*e.scaleX,c=t.top,s=c+n,l=t.left,d=l+r,u=e.top,b=u+o,p=e.left,j=p+i;t.left=Math.min(Math.max(l,p),j-r),t.top=Math.min(Math.max(c,u),b-n),t.scaleX>e.scaleX&&(t.scaleX=e.scaleX,(l<p||d>j)&&(t.left=p)),t.scaleY>e.scaleY&&(t.scaleY=e.scaleY,(c<u||s>b)&&(t.top=u))})),d(!0))}),[m,O]),Object(n.useEffect)((function(){m&&e.isCropMode&&a.on("mouse:down",(function(e){e.target&&e.target.id===p.id?a.setActiveObject(m):e.target&&"cropbox"===e.target.type||(t({type:"setShouldCropImage",data:!0}),t({type:"setShowToolbar",data:!1}))}))}),[m,e,t,a,p]),Object(n.useEffect)((function(){!l||e.isCropMode||e.shouldCropImage||(a.getObjects().forEach((function(t){"cropbox"===t.type?a.remove(t):t.id===e.currentObject.object.id&&(a.setActiveObject(t),t.left=p.left,t.top=p.top,t.angle=p.angle),t.controls.mtr.visible=!0,t.selectable=!0})),k(a,t))}),[p,l,e,k,a,t])},Ct=function(e,t,a){var r=Object(n.useState)(!0),o=Object(c.a)(r,2),i=o[0],s=o[1];Object(n.useEffect)((function(){if(i&&e.canvasState.initialWidth>0){var n=function(e,t){var a=new ee.fabric.Canvas(t,{width:e.initialWidth,height:e.initialHeight,backgroundColor:"rgba(255,255,255,1)",preserveObjectStacking:!0,fireRightClick:!0,stopContextMenu:!0}),n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);return a.setZoom(n),a.setDimensions({width:e.width,height:e.height}),a}(e.canvasState,"canvas");t(n),a(!0),s(!1)}}),[t,a,e.canvasState,i])},xt=function(e,t,a){var r=Object(n.useState)(!0),o=Object(c.a)(r,2),i=o[0],s=o[1];Object(n.useEffect)((function(){if(i&&e&&t){s(!1);var n=new ee.fabric.Image(e,{top:0,left:0,objectCaching:!1,id:"video",excludeFromExport:!0,lockScalingFlip:!0});n.controls.mtr.visible=!1,t.add(n),e.currentTime=a>0?a:.001,n.scaleToHeight(t.getHeight()),ee.fabric.util.requestAnimFrame((function e(){t.requestRenderAll(),ee.fabric.util.requestAnimFrame(e)}))}}),[e,t,i,a])},_t=function(e,t,a,n,r,o,i){var c=t.coords.top+15,s=t.coords.left+15,l=t.object.type;t.object.clone((function(d){d.id=a,d.top=c,d.left=s,"image"===l?(d.isSvg=t.object.isSvg,d.cornerRadius=t.object.cornerRadius):"textbox"===l?(d.padding=10,d.cursorWidth=.5):"line"===l?(d.borderColor="transparent",d.noScaleCache=!1):(d.noScaleCache=!1,d.strokeUniform=!0),e.add(d).setActiveObject(d),i&&e.bringToFront(i),e.requestRenderAll(),r({object:t.object,coords:{top:c,left:s}}),n(),o&&o({type:"setRightClickEvent",data:null})}))},wt=function(e,t,a,n,r,o){if(t){var i=e.ctrlKey||e.metaKey;"Delete"===e.code||"Delete"===e.key||"Backspace"===e.code||"Backspace"===e.key?function(e){var t=e.getActiveObject();"INPUT"===document.activeElement.tagName||!t||t.isEditing||"video"===t.id||"subtitle"===t.id||(e.remove(t),e.discardActiveObject().requestRenderAll())}(t):"KeyC"===e.code||"c"===e.key?i&&(e.preventDefault(),n(!0)):"KeyV"===e.code||"v"===e.key?i&&(e.preventDefault(),a(!0)):"BracketRight"===e.code||"]"===e.key?i&&(e.preventDefault(),r(!0)):"BracketLeft"!==e.code&&"["!==e.key||i&&(e.preventDefault(),o(!0))}},yt=function(e,t,a,n,r){t(!1),e(!1),a(!1),n(!1),r(!0)},kt=function(e,t,a,r,o,i){var s=Object(n.useState)(!1),l=Object(c.a)(s,2),d=l[0],u=l[1],b=Object(n.useState)(!1),p=Object(c.a)(b,2),j=p[0],h=p[1],g=Object(n.useState)(!1),O=Object(c.a)(g,2),f=O[0],S=O[1],v=Object(n.useState)(!1),m=Object(c.a)(v,2),C=m[0],x=m[1],_=Object(n.useState)(!0),w=Object(c.a)(_,2),y=w[0],k=w[1];Object(n.useEffect)((function(){if(y&&d&&t)k(!1),_t(e,t,r,o,a,null,i);else if(y&&j){k(!1);var n=e.getActiveObject();n&&"video"!==n.id&&"subtitle"!==n.id&&a({object:n,coords:{top:n.top,left:n.left}})}else if(y&&f){k(!1);var c=e.getActiveObject();c&&"subtitle"!==c.id&&(e.bringToFront(c),i&&e.bringToFront(i))}else if(y&&C){k(!1);var s=e.getActiveObject();s&&"subtitle"!==s.id&&e.sendToBack(s)}}),[e,d,j,f,C,r,a,t,o,y,i]),Object(n.useEffect)((function(){return document.addEventListener("keydown",(function(t){return wt(t,e,u,h,S,x)})),document.addEventListener("keyup",(function(e){yt(u,h,S,x,k)})),function(){document.removeEventListener("keydown",wt),document.removeEventListener("keyup",yt)}}),[e])},Dt=function(e,t){var a=Object(n.useCallback)((function(a){if(e&&!t.isCropMode&&!t.shouldCropImage&&!t.shouldReplaceImage){for(var n=0;n<a.path.length;n++)if("canvasComponent"===a.path[n].id)return;e.discardActiveObject().requestRenderAll()}}),[e,t.isCropMode,t.shouldCropImage,t.shouldReplaceImage]);Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[e,a])},Tt=a(36),Nt=a.n(Tt),It=function(e){var t=e.canvas,a=e.isCanvasSet,r=e.objId,o=e.updateId,i=e.clipboard,s=e.setClipboard,l=e.currentSub,d=Object(n.useContext)(se),u=d.eventState,b=d.eventDispatch,p=Object(n.useState)(!1),j=Object(c.a)(p,2),h=j[0],O=j[1],f=Object(n.useState)(!1),S=Object(c.a)(f,2),v=S[0],m=S[1],C=Object(n.useState)(!1),x=Object(c.a)(C,2),_=x[0],w=x[1],y=Object(n.useRef)(null),k=Object(n.useCallback)((function(e){if(e.currentTarget&&"subtitle"!==e.currentTarget.id||i){if(e.currentTarget&&"subtitle"!==e.currentTarget.id){var a=t.getActiveObject();a&&a.id===e.currentTarget.id||t.setActiveObject(e.currentTarget),m(e.currentTarget),w(!1)}else w(!0);e.pointer.x+y.current.offsetWidth>t.getWidth()?y.current.style.left=e.pointer.x-y.current.offsetWidth+"px":y.current.style.left=e.pointer.x+"px",y.current.style.top=e.pointer.y+"px"}else b({type:"setRightClickEvent",data:null})}),[t,b,i]),D=function(e){e.preventDefault(),h&&(O(!1),b({type:"setRightClickEvent",data:null}))},T=function(e){var a=e.currentTarget.id;"delete"===a&&"video"!==v.id?(t.remove(v),t.discardActiveObject().requestRenderAll(),b({type:"setRightClickEvent",data:null})):"bringToFront"===a?(t.bringToFront(v),l&&t.bringToFront(l),b({type:"setRightClickEvent",data:null})):"sendToBack"===a?(t.sendToBack(v),b({type:"setRightClickEvent",data:null})):"copy"===a?(s({object:v,coords:{top:v.top,left:v.left}}),b({type:"setRightClickEvent",data:null})):"paste"===a&&(i?_t(t,i,r,o,s,b,l):b({type:"setRightClickEvent",data:null}))};Object(n.useEffect)((function(){return a&&u.rightClickEvent&&(k(u.rightClickEvent),setTimeout((function(){O(!0)}),400)),function(){return O(!1)}}),[a,u.rightClickEvent,k]);var N=v&&"video"===v.id,I=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:Nt.a.Overlay,onContextMenu:D,onClick:D}),Object(g.jsxs)("ul",{onContextMenu:function(e){return e.preventDefault()},ref:y,className:Nt.a.Menu,id:"contextMenu",children:[_||N?null:Object(g.jsxs)("li",{className:Nt.a.Option,id:"copy",onClick:T,children:[Object(g.jsx)("p",{children:"Copy"}),Object(g.jsx)("p",{children:"\u2318C"})]}),Object(g.jsxs)("li",{className:Nt.a.Option,id:"paste",onClick:T,children:[Object(g.jsx)("p",{children:"Paste"}),Object(g.jsx)("p",{children:"\u2318V"})]}),_||N?null:Object(g.jsxs)("li",{className:Nt.a.Option,id:"delete",onClick:T,children:[Object(g.jsx)("p",{children:"Delete"}),Object(g.jsx)("p",{children:"DEL"})]}),_?null:Object(g.jsx)("li",{className:Nt.a.Border}),_?null:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("li",{className:Nt.a.Option,id:"bringToFront",onClick:T,children:[Object(g.jsx)("p",{children:"Bring to front"}),Object(g.jsx)("p",{children:"\u2318]"})]}),Object(g.jsxs)("li",{className:Nt.a.Option,id:"sendToBack",onClick:T,children:[Object(g.jsx)("p",{children:"Send to back"}),Object(g.jsx)("p",{children:"\u2318["})]})]})]})]});return u.rightClickEvent?I:null};re();var At,Ft,Mt,Rt,Bt=function(e){var t=e.canvas,a=e.setCanvas,r=e.video,o=e.currentSub,i=e.currentTime,s=Object(n.useContext)($),l=s.editorState,d=s.editorDispatch,u=Object(n.useState)(1),b=Object(c.a)(u,2),p=b[0],j=b[1],h=Object(n.useState)(!1),O=Object(c.a)(h,2),f=O[0],S=O[1],v=Object(n.useState)(null),m=Object(c.a)(v,2),C=m[0],x=m[1],_=Object(n.useCallback)((function(){return j((function(e){return e+1}))}),[]);return ve(l,f,t),ce(l,d,t,p,_),je(f,t,l,d),ke(l,d,t),mt(l,d,t,p,_),Ct(l,a,S),kt(t,C,x,p,_,o),Dt(t,l),xt(r,t,i),Object(g.jsxs)("div",{className:Q.a.CanvasComponent,id:"canvasComponent",children:[Object(g.jsx)("div",{className:Q.a.Canvas,children:Object(g.jsx)("canvas",{id:"canvas"})}),l.showToolbar?Object(g.jsx)(St,{canvas:t}):null,Object(g.jsx)(It,{canvas:t,isCanvasSet:f,objId:p,updateId:_,clipboard:C,setClipboard:x,currentSub:o})]})},Pt={isMoving:!1,rightClickEvent:null},Et=function(e,t){switch(t.type){case"setIsMoving":return Object(H.a)(Object(H.a)({},e),{},{isMoving:t.data});case"setRightClickEvent":return Object(H.a)(Object(H.a)({},e),{},{rightClickEvent:t.data});default:return e}},Lt=function(){var e=Object(n.useReducer)(Et,Pt),t=Object(c.a)(e,2);return[t[0],t[1]]},Ut=a(15),Ht=a.n(Ut),zt=a(51),Wt=a.n(zt),Vt=function(e){var t=e.state,a=e.dispatch,r=Object(n.useState)(null),o=Object(c.a)(r,2),i=o[0],s=o[1],l=Object(n.useMemo)((function(){return{original:{width:526,height:741,zoom:1},slide:{width:1920,height:1080,zoom:.5},a4:{width:2480,height:3508,zoom:.2},facebook:{width:940,height:788,zoom:.75},linkedin:{width:1128,height:191,zoom:.9},video:{width:1280,height:720,zoom:.8}}}),[]);return Object(n.useEffect)((function(){for(var e=0,a=Object.entries(l);e<a.length;e++){var n=Object(c.a)(a[e],2),r=n[0],o=n[1];o.width===t.width&&o.height===t.height&&s(r)}}),[l,t]),Object(g.jsx)("div",{className:Wt.a.Dropdown,children:Object(g.jsx)("ul",{className:Wt.a.SizeOptions,onClick:function(e){e.target.classList.contains(Wt.a.SizeOption)&&(a({type:"setCanvasSize",data:Object(H.a)({},l[e.target.id])}),a({type:"setIsResizeDropdown",data:!1}))},children:[{content:"Original",id:"original"},{content:"Slide 16:9",id:"slide"},{content:"A4",id:"a4"},{content:"Facebook post",id:"facebook"},{content:"Linkedin cover",id:"linkedin"},{content:"Video thumbnail",id:"video"}].map((function(e){return Object(g.jsx)("li",{id:e.id,className:[Wt.a.SizeOption,i&&e.id===i?Wt.a.Current:null].join(" "),children:e.content},e.id)}))})})},Gt=a(142),Yt=a.n(Gt),Kt=function(e){var t=Object(n.useContext)($),a=t.editorState,r=t.editorDispatch;return Object(g.jsx)("div",{className:Yt.a.Backdrop,onClick:function(e){if("backdrop"===e.target.id){var t="";a.isImageDropdown?t="setIsImageDropdown":a.isShapeDropdown?t="setIsShapeDropdown":a.isSubtitlesDropdown?t="setIsSubtitlesDropdown":a.shouldReplaceImage?t="setShouldReplaceImage":a.isResizeDropdown?t="setIsResizeDropdown":a.isCanvasBgColorDropdown?t="setIsCanvasBgColorDropdown":a.isZoomDropdown?t="setIsZoomDropdown":a.shouldAddCanvasBgImage?t="setShouldAddCanvasBgImage":a.isDownloadDropdown&&(t="setIsDownloadDropdown"),r({type:t,data:!1})}},id:"backdrop",children:e.children})},qt=["title","titleId"];function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jt(e,t){var a=e.title,r=e.titleId,o=Zt(e,qt);return n.createElement("svg",Xt({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,At||(At=n.createElement("path",{d:"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),Ft||(Ft=n.createElement("path",{d:"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),Mt||(Mt=n.createElement("path",{d:"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),Rt||(Rt=n.createElement("path",{d:"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var Qt,$t,ea=n.forwardRef(Jt),ta=(a.p,["title","titleId"]);function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function na(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ra(e,t){var a=e.title,r=e.titleId,o=na(e,ta);return n.createElement("svg",aa({width:15,height:13,viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,Qt||(Qt=n.createElement("path",{d:"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),$t||($t=n.createElement("path",{d:"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var oa,ia,ca,sa,la,da,ua,ba=n.forwardRef(ra),pa=(a.p,function(){var e=Object(n.useContext)($),t=e.editorState,a=e.editorDispatch,r=Object(n.useState)(t.canvasState.backgroundColor),o=Object(c.a)(r,2),i=o[0],s=o[1],l=Object(n.useRef)(null),d=Object(n.useRef)(null),u=Object(n.useRef)(null),b=function(e){if(!t.shouldCropImage){t.isCropMode&&a({type:"setIsCropMode",data:!1});var n=e.currentTarget.id;"resize"===n||"bgColor"===n&&a({type:"setIsCanvasBgColorDropdown",data:!0})}};return Object(n.useEffect)((function(){l.current.style.background=i}),[i]),Object(g.jsxs)("div",{className:Ht.a.CanvasToolbar,children:[Object(g.jsxs)("div",{className:Ht.a.TemplatesContainer,id:"templates",onClick:b,children:[Object(g.jsx)(ea,{}),Object(g.jsx)("p",{className:Ht.a.OptionText,children:"Templates"})]}),Object(g.jsx)("div",{className:Ht.a.BorderDiv}),Object(g.jsxs)("div",{className:Ht.a.ResizeContainer,id:"resize",onClick:b,children:[Object(g.jsx)(ba,{}),Object(g.jsx)("p",{className:Ht.a.OptionText,children:"Resize"})]}),Object(g.jsx)("div",{className:Ht.a.BorderDiv}),Object(g.jsxs)("div",{className:Ht.a.ColorContainer,id:"bgColor",onClick:b,children:[Object(g.jsx)("div",{className:Ht.a.ColorPickerBorder,children:Object(g.jsx)("div",{ref:l,className:Ht.a.ColorPicker})}),Object(g.jsx)("p",{className:Ht.a.OptionText,children:"Background color"})]}),t.isResizeDropdown?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Kt,{}),Object(g.jsx)("div",{className:Ht.a.ResizeDropdown,ref:u,children:Object(g.jsx)(Vt,{state:t.canvasState,dispatch:a})})]}):null,t.isCanvasBgColorDropdown?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Kt,{}),Object(g.jsx)("div",{className:Ht.a.ColorDropdownContainer,ref:d,children:Object(g.jsx)(Ze.a,{color:i,onChange:function(e){return s(e.rgb)},onChangeComplete:function(e){if(l.current){var t="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");l.current.style.background=t,a({type:"setCanvasBackgroundColor",data:t})}}})})]}):null]})}),ja=a.p+"static/media/play.f149d237.svg",ha=function(e,t,a,r,o,i,c){Object(n.useEffect)((function(){o(i,c)}),[i,c,o]),Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){return o(i,c)})),function(){return window.removeEventListener("resize",o)}}),[o,i,c]),Object(n.useEffect)((function(){if(t&&a){var n=a.width,o=t.height*n/t.width,i=n>100;e.current&&i?(e.current=!1,r({type:"setCanvasInitialSize",data:{initialWidth:t.width,initialHeight:t.height,width:n,height:o}})):i&&r({type:"setCanvasSize",data:{width:n,height:o}})}}),[e,a,t,r])},ga=function(e,t,a,r,o,i,c,s,l,d,u,b,p){var j=Object(n.useCallback)((function(a){if(t.length>0&&t[i]){var n=(a=+a+.05)>=+t[i].start,r=a<=+t[i].end,o=+t[i].end-t[i].start<=.05&&n;(n&&r||o)&&(e.current.currentTime=+t[i].end,t[i+1]?c(i+1):c(null))}}),[t,i,e,c]),h=Object(n.useCallback)((function(e,t){e=+e+.05;var n=a[t],o=a[t+1];if(null!==t&&o&&e>+n.end){var i=+n.end-n.start<=.05&&!r;i||o.active||null===o.next?i||l((function(e){return e+1})):l(o.next)}}),[r,a,l]),g=Object(n.useCallback)((function(e,t,a){e=+e+.05;var n=a[t],r=a[t+1];null!==t&&r&&e>+n.end&&(r.active?b((function(e){return e+1})):b(r.nextSub))}),[b]);Object(n.useEffect)((function(){r&&p&&d&&null!==o&&g(o,u,d)}),[r,p,o,g,u,d]),Object(n.useEffect)((function(){null!==o&&h(o,s)}),[o,h,s]),Object(n.useEffect)((function(){null!==o&&j(o)}),[o,j])},Oa=function(e,t,a,r,o,i,c,s,l,d,u,b,p,j,h){Object(n.useEffect)((function(){a&&i&&i[s]&&(b&&p(!1),function(e,t,a){if(a[t].silence)e.visible=!1;else if(a[t].active){for(var n="",r=0;r<a[t].words.length;r++)n+=a[t].words[r].text;e.set({text:n,visible:!0})}}(a,s,i))}),[i,a,s,b,p]),Object(n.useEffect)((function(){if(i&&!j){var e=Y(d,o,i);null!==e&&l(e)}}),[i,l,o,d,j]),Object(n.useEffect)((function(){a&&u&&function(e,t){for(var a=[],n=null,r=null,o=function(e,t,n){r&&(a[r].nextSub=a.length-1,r=null)},i=0;i<e.length;i++){var c=e[i],s=e[i+1];if(c.active){var l=i===e.length-1,d=+c.end-+c.start;if(c.silence&&(!n&&s&&!s.active||d>=.4))n&&(a.push(Object(H.a)({},n)),o(),n=null),a.push(Object(H.a)({},c)),o();else if(c.silence)n?(n.end+=c.end,n.words.push(Object(H.a)(Object(H.a)({},c),{},{text:""})),l&&(a.push(n),o())):(n={words:[Object(H.a)(Object(H.a)({},c),{},{text:""})],start:c.start,end:c.end,strLength:0,active:!0},l&&(a.push(Object(H.a)({},c)),o()));else{var u=!!c.text.match(/[.,:!?]$/),b=null!==n&&n.strLength+c.text.length+1<48;if(b&&u&&n){var p="";n.strLength>0&&(p=" "),p+=c.text,n.words.push(Object(H.a)(Object(H.a)({},c),{},{text:p})),n.end=c.end,n.strLength+=p.length,a.push(Object(H.a)({},n)),o(),n=null}else if(u&&n)a.push(Object(H.a)({},n)),o(),n={words:[Object(H.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(H.a)({},n)),n=null;else if(u)n={words:[Object(H.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(H.a)({},n)),o(),n=null;else if(b){var j="";n.strLength>0&&(j=" "),j+=c.text,n.words.push(Object(H.a)(Object(H.a)({},c),{},{text:j})),n.end=c.end,n.strLength+=j.length,l&&(a.push(n),o())}else n?(a.push(Object(H.a)({},n)),o(),n={words:[Object(H.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&a.push(n)):(n={words:[Object(H.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&(a.push(n),o()))}}else n?(a.push(Object(H.a)({},n)),o(),n=null,a.push(Object(H.a)({},c)),r=a.length-1):(a.push(Object(H.a)({},c)),r||(r=a.length-1))}t(a)}(o,c)}),[a,u,c,o]),Object(n.useEffect)((function(){if(t&&!a&&e.isSubtitles){j&&h.current.pause();var n=function(e,t){var a=new ee.fabric.Subtitle(" ",Object(H.a)(Object(H.a)({paddingX:20,paddingY:20,originX:"center",originY:"center",editable:!1,textAlign:"center"},t.subtitlesState),{},{id:"subtitle",excludeFromExport:!0,prevTop:null,prevLeft:null,visible:!1})),n=e.getWidth()/(2*e.getZoom()),r=e.getHeight()/e.getZoom()-a.height-a.paddingY;return a.setPositionByOrigin(new ee.fabric.Point(n,r),"center","center"),a}(t,e);t.add(n),t.requestRenderAll(),r(n)}else a&&!e.isSubtitles&&(t.remove(a),r(null))}),[h,j,e.isSubtitles,a,r,t,e,i,o,c]),Object(n.useEffect)((function(){return t&&a&&t.on("object:added",(function(e){t.bringToFront(a)})),function(){t&&t.off("object:added")}}),[t,a])},fa=function(e,t){var a=window.innerWidth-e.current.offsetLeft-32,n=e.current.offsetHeight;a>800&&(n=800*n/a,a=800),t({width:a,height:n})},Sa=function(e){var t=e.videoRef,a=e.canvas,r=e.setCanvas,o=e.isPlaying,i=e.words,s=e.currentTime,l=e.videoSize,d=e.videoCuts,u=e.setNextCutIndex,b=e.setCurrentWordIndex,p=e.nextCutIndex,j=e.currentWordIndex,h=e.subArr,O=e.setSubArr,f=e.currentSub,S=e.setCurrentSub,v=e.currentSubIndex,m=e.setCurrentSubIndex,C=e.shouldRerenderSub,x=e.setShouldRerenderSub,_=Object(n.useContext)($),w=_.editorState,y=_.editorDispatch,k=Lt(),D=Object(c.a)(k,2),T=D[0],N=D[1],I=Object(n.useState)(null),A=Object(c.a)(I,2),F=A[0],M=A[1],R=Object(n.useRef)(null),B=Object(n.useRef)(!0);return ha(B,l,F,y,fa,R,M),ga(t,d,i,o,s,p,u,j,b,h,v,m,f),Oa(w,a,f,S,i,h,O,v,m,j,d,C,x,o,t),Object(g.jsx)("div",{className:Z.a.Player,ref:R,children:Object(g.jsx)(se.Provider,{value:{eventState:T,eventDispatch:N},children:Object(g.jsxs)("div",{className:Z.a.PlayerContent,children:[Object(g.jsx)(Bt,{canvas:a,setCanvas:r,video:t.current,currentSub:f,currentTime:s}),a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:Z.a.PlayerControls,children:Object(g.jsx)("div",{className:Z.a.PlayButton,onClick:function(){return function(e,t,a){e?t.current.pause():a.isCropMode||a.shouldCropImage||t.current.play()}(o,t,w)},children:Object(g.jsx)("img",{src:ja,alt:"play"})})}),Object(g.jsx)(pa,{})]}):null]})})})},va=a(143),ma=a.n(va),Ca=function(e){var t=e.videoRef,a=e.setIsPlaying,r=e.currentSelection,o=e.setCurrentSelection,i=e.setCurrentTime,s=e.videoSize,l=e.videoCuts,d=e.words,u=e.setVideoSize,b=e.setNextCutIndex,p=e.setCurrentWordIndex,j=e.setCurrentSubIndex,h=e.subArr,O=Object(n.useState)(null),f=Object(c.a)(O,2),S=f[0],v=f[1];return Object(n.useEffect)((function(){return function(){S&&clearInterval(S)}}),[S]),Object(g.jsx)("video",{width:s?s.width:0,height:s?s.height:0,id:"video",preload:"auto",className:ma.a.Video,ref:t,controls:!0,onPause:function(){return function(e,t){e(!1),clearInterval(t)}(a,S)},onPlay:function(){return function(e,t,a,n,r,o){document.getSelection().removeAllRanges(),e&&t(null),a(!0),o(setInterval((function(){n(r.current.currentTime)}),10))}(r,o,a,i,t,v)},onEnded:function(){return function(e,t,a,n,r,o,i){e.length>0&&t(0);var c=a[0],s=0,l=c.start;c.active||null===c.next||(l=a[s=c.next].start),n(s),o(Y(s,a,i)),r(+l)}(l,b,d,p,i,j,h)},onLoadedMetadata:function(){return function(e,t){t({width:e.current.videoWidth,height:e.current.videoHeight})}(t,u)}})},xa=a(47),_a=a.n(xa),wa=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},ya=function(){var e=Object(x.a)(C.a.mark((function e(t,a,n,r){var o,i,c,s,l,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.getObjects(),i=null,c=0,s=0;s<o.length;s++)"video"===(l=o[s]).id&&(c=s,i=l);return e.next=6,wa(n);case 6:return d=e.sent,u={source:d,position:{x:i.left,y:i.top,w:i.width*i.scaleX,h:i.height*i.scaleY,z:1,degrees:0}},r.current&&a(u),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ka=function(e,t,a,n){e.backgroundColor="rgba(255, 255, 255, 0)";for(var r=0,o=0;o<t.length;o++){var i=t[o];o>=a?(i.opacity=1,r++):i.opacity=0}(e.renderAll(),r>0)?n({image:e.toDataURL({format:"image/jpg",quality:1}),position:{x:0,y:0,w:e.getWidth(),h:e.getHeight(),z:2}}):n(!1)},Da=function(e,t,a,n){for(var r=0;r<t.length;r++){var o=t[r];r>=a&&(o.opacity=0)}e.renderAll(),n({image:e.toDataURL({format:"jpeg",quality:1}),position:{x:0,y:0,w:e.getWidth(),h:e.getHeight(),z:0}})},Ta=function(){var e=Object(x.a)(C.a.mark((function e(t,a,n,r,o,i){var c,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(t,r,o,i);case 2:c=e.sent,s=new ee.fabric.Canvas,l=JSON.stringify(t),s.loadFromJSON(l,(function(){s.setDimensions({width:t.getWidth()/t.getZoom(),height:t.getHeight()/t.getZoom()});var e=s.getObjects();Da(s,e,c,a),ka(s,e,c,n)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,i){return e.apply(this,arguments)}}(),Na=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ia=function(e){var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),a=(t&&t[4]||"").trim(),n=t?(256|t[1]).toString(16).slice(1)+(256|t[2]).toString(16).slice(1)+(256|t[3]).toString(16).slice(1):e,r=""!==a?a:"01";return n+=r=(255*+r|256).toString(16).slice(1)},Aa=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],l=i[1],d=Object(n.useRef)(!1),u=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cuploading ".concat(t,"%"),"color: #3153fb")},b=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cdownloading ".concat(t,"%"),"color: #0cc700")},p=Object(n.useCallback)((function(e){return new Promise((function(t,a){w.post("/videos/download",e,{onUploadProgress:u,onDownloadProgress:b,headers:{"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),j=Object(n.useCallback)(function(){var e=Object(x.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,p(t);case 4:a=e.sent,console.log(a),d.current&&l(a.data.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error Downloading Video",e.t0);case 12:return e.prev=12,d.current&&r(!1),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(t){return e.apply(this,arguments)}}(),[p]);return Object(n.useEffect)((function(){return d.current=!0,function(){return d.current=!1}}),[]),{isDownloading:a,downloadVideo:j,downloadedVideo:s,setDownloadedVideo:l}},Fa=a(8),Ma=a.n(Fa),Ra=a(21),Ba=a.n(Ra),Pa=function(e){var t=e.setUserFiles,a=e.userFiles,r=Object(n.useContext)($).editorDispatch,o=Object(n.useRef)(null),i=a.filter((function(e,t){return(t+1)%2!==0})),c=a.filter((function(e,t){return(t+1)%2===0}));return Object(g.jsxs)("div",{className:Ba.a.Dropdown,onClick:function(e){var t="setImageToAdd",a="image";e.target.classList.contains("isSvg")&&(a="svg"),"IMG"===e.target.tagName?r({type:t,data:{type:a,src:e.target.src}}):e.target.classList.contains(Ba.a.ImageContainer)&&r({type:t,data:{type:a,src:e.target.childNodes[0].src}})},children:[Object(g.jsxs)("div",{className:Ba.a.UplaodButtonContainer,children:[Object(g.jsx)("button",{onClick:function(){o.current.click()},className:Ba.a.UploadButton,children:"Upload image"}),Object(g.jsx)("input",{accept:"image/png, image/gif, image/jpeg, image/svg+xml",className:Ba.a.FileInput,ref:o,type:"file",onChange:function(){if(o.current.files[0]){var e=o.current.files[0],a="image";"image/svg+xml"===e.type&&(a="svg"),t((function(t){return[{src:URL.createObjectURL(e),type:a}].concat(Object(d.a)(t))}))}}})]}),Object(g.jsxs)("div",{className:Ba.a.Images,children:[Object(g.jsx)("div",{className:Ba.a.Column,children:i.map((function(e,t){return Object(g.jsx)("div",{className:[Ba.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(g.jsx)("img",{className:[Ba.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"odd"+t)}))}),Object(g.jsx)("div",{className:Ba.a.Column,children:c.map((function(e,t){return Object(g.jsx)("div",{className:[Ba.a.ImageContainer,"svg"===e.type?"isSvg":null].join(" "),children:Object(g.jsx)("img",{className:[Ba.a.Image,"svg"===e.type?"isSvg":null].join(" "),src:e.src,alt:"asset"})},"even"+t)}))})]})]})},Ea=a(26),La=a.n(Ea),Ua=a.p+"static/media/square.5e888dd3.svg",Ha=a.p+"static/media/circle.0bedfa10.svg",za=a.p+"static/media/triangle.76f36a5f.svg",Wa=a.p+"static/media/line.60fd0829.svg",Va=function(){var e=Object(n.useContext)($).editorDispatch;return Object(g.jsxs)("div",{className:La.a.Dropdown,onClick:function(t){"IMG"===t.target.tagName?e({type:"setShapeToAdd",data:t.target.id}):t.target.classList.contains(La.a.ShapeContainer)&&e({type:"setShapeToAdd",data:t.target.childNodes[0].id})},children:[Object(g.jsx)("div",{className:La.a.ShapeContainer,children:Object(g.jsx)("img",{className:La.a.Shape,src:Ua,alt:"square",id:"square"})}),Object(g.jsx)("div",{className:La.a.ShapeContainer,children:Object(g.jsx)("img",{className:La.a.Shape,src:Ha,alt:"circle",id:"circle"})}),Object(g.jsx)("div",{className:La.a.ShapeContainer,children:Object(g.jsx)("img",{className:La.a.Shape,src:za,alt:"triangle",id:"triangle"})}),Object(g.jsx)("div",{className:La.a.ShapeContainer,children:Object(g.jsx)("img",{className:La.a.Shape,src:Wa,alt:"line",id:"line"})})]})},Ga=a(32),Ya=a.n(Ga),Ka=["title","titleId"];function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Za(e,t){var a=e.title,r=e.titleId,o=Xa(e,Ka);return n.createElement("svg",qa({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,oa||(oa=n.createElement("path",{d:"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z",fill:"current"})),ia||(ia=n.createElement("path",{d:"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z",fill:"current"})),ca||(ca=n.createElement("path",{d:"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z",fill:"current"})),sa||(sa=n.createElement("path",{d:"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z",fill:"current"})),la||(la=n.createElement("path",{d:"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z",fill:"current"})),da||(da=n.createElement("path",{d:"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z",fill:"current"})),ua||(ua=n.createElement("path",{d:"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z",fill:"current"})))}var Ja,Qa,$a=n.forwardRef(Za),en=(a.p,["title","titleId"]);function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function an(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nn(e,t){var a=e.title,r=e.titleId,o=an(e,en);return n.createElement("svg",tn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,Ja||(Ja=n.createElement("g",{clipPath:"url(#clip0)"},n.createElement("path",{d:"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z",fill:"current"}),n.createElement("path",{d:"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z",fill:"current"}),n.createElement("path",{d:"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z",fill:"current"}))),Qa||(Qa=n.createElement("defs",null,n.createElement("clipPath",{id:"clip0"},n.createElement("rect",{width:16,height:16,fill:"white"})))))}var rn=n.forwardRef(nn),on=(a.p,function(){var e=Object(n.useContext)($),t=e.editorState,a=e.editorDispatch,r=function(e){var t=!0;"subOff"===e.currentTarget.id&&(t=!1),a({type:"setIsSubtitles",data:t})};return Object(g.jsxs)("div",{className:Ya.a.Dropdown,children:[Object(g.jsx)("p",{className:Ya.a.Text,children:"Subtitles"}),Object(g.jsxs)("div",{className:Ya.a.Buttons,children:[Object(g.jsxs)("div",{className:[Ya.a.Button,t.isSubtitles?null:Ya.a.Active].join(" "),id:"subOff",onClick:r,children:[Object(g.jsx)(rn,{fill:t.isSubtitles?"#000000":"#6F7BD0"}),Object(g.jsx)("p",{className:Ya.a.ButtonText,children:"Off"})]}),Object(g.jsxs)("div",{className:[Ya.a.Button,t.isSubtitles?Ya.a.Active:null].join(" "),id:"subOn",onClick:r,children:[Object(g.jsx)($a,{fill:t.isSubtitles?"#6F7BD0":"#000000"}),Object(g.jsx)("p",{className:Ya.a.ButtonText,children:"On"})]})]})]})}),cn=a.p+"static/media/addText.3a1cc6fe.svg",sn=a.p+"static/media/addImage.5167341a.svg",ln=a.p+"static/media/addShape.efc88c00.svg",dn=a.p+"static/media/subtitles.7c1e1dd4.svg",un=a.p+"static/media/photo.3b16c800.jpg",bn=a.p+"static/media/photo2.92a250e9.jpg",pn=function(e){var t=e.canvas,a=Object(n.useContext)($),r=a.editorState,o=a.editorDispatch,i=Object(n.useState)([{src:un,type:"image"},{src:bn,type:"image"}]),s=Object(c.a)(i,2),l=s[0],d=s[1],u=function(e){if(t&&!r.shouldCropImage){var a="",n=e.currentTarget.id;"addText"===n?a="setShouldAddText":"addImage"===n?a="setIsImageDropdown":"addShape"===n?a="setIsShapeDropdown":"subtitles"===n&&(a="setIsSubtitlesDropdown"),o({type:a,data:!0}),r.isCropMode&&o({type:"setIsCropMode",data:!1})}};return Object(g.jsxs)("div",{className:Ma.a.ControlsContainer,children:[Object(g.jsxs)("div",{className:Ma.a.AddTextContainer,id:"addText",onClick:u,children:[Object(g.jsx)("img",{src:cn,alt:"add text"}),Object(g.jsxs)("div",{className:Ma.a.HoverContent,children:[Object(g.jsx)("div",{className:Ma.a.HoverTriangle}),Object(g.jsx)("p",{className:Ma.a.HoverText,children:"Add text"})]})]}),Object(g.jsxs)("div",{className:Ma.a.DesignControl,children:[Object(g.jsxs)("div",{className:Ma.a.AddImageContainer,id:"addImage",onClick:u,children:[Object(g.jsx)("img",{src:sn,alt:"add image"}),Object(g.jsxs)("div",{className:Ma.a.HoverContent,children:[Object(g.jsx)("div",{className:Ma.a.HoverTriangle}),Object(g.jsx)("p",{className:Ma.a.HoverText,children:"Add image"})]})]}),r.isImageDropdown||r.shouldReplaceImage||r.shouldAddCanvasBgImage?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Kt,{}),Object(g.jsx)("div",{className:Ma.a.ImageDropdown,children:Object(g.jsx)(Pa,{userFiles:l,setUserFiles:d})})]}):null]}),Object(g.jsxs)("div",{className:Ma.a.DesignControl,children:[Object(g.jsxs)("div",{className:Ma.a.AddShapeContainer,id:"addShape",onClick:u,children:[Object(g.jsx)("img",{src:ln,alt:"add shape"}),Object(g.jsxs)("div",{className:Ma.a.HoverContent,children:[Object(g.jsx)("div",{className:Ma.a.HoverTriangle}),Object(g.jsx)("p",{className:Ma.a.HoverText,children:"Add shape"})]})]}),r.isShapeDropdown?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Kt,{}),Object(g.jsx)("div",{className:Ma.a.ShapeDropdown,children:Object(g.jsx)(Va,{})})]}):null]}),Object(g.jsx)("div",{className:Ma.a.DesignControl,children:Object(g.jsxs)("div",{className:Ma.a.AddShapeContainer,id:"subtitles",onClick:u,children:[Object(g.jsx)("img",{src:dn,alt:"subtitles"}),Object(g.jsxs)("div",{className:Ma.a.HoverContent,children:[Object(g.jsx)("div",{className:Ma.a.HoverTriangle}),Object(g.jsx)("p",{className:Ma.a.HoverText,children:"Subtitles"})]})]})}),r.isSubtitlesDropdown?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Kt,{}),Object(g.jsx)("div",{className:Ma.a.SubtitlesDropdown,children:Object(g.jsx)(on,{})})]}):null]})},jn=function(e){var t=e.viedoForUpload,a=(e.setVideoForUpload,e.canvas),r=e.videoRef,o=e.videoCuts,i=e.duration,s=e.subArr,l=e.currentSub,u=Object(n.useContext)($),b=u.editorState,p=u.editorDispatch,j=Aa(),h=j.isDownloading,O=j.downloadVideo,f=j.downloadedVideo,S=j.setDownloadedVideo,v=Object(n.useState)(null),m=Object(c.a)(v,2),C=m[0],x=m[1],_=Object(n.useState)(null),w=Object(c.a)(_,2),y=w[0],k=w[1],D=Object(n.useState)(null),T=Object(c.a)(D,2),I=T[0],A=T[1],F=Object(n.useState)(null),M=Object(c.a)(F,2),R=M[0],B=M[1],P=Object(n.useState)(null),E=Object(c.a)(P,2),L=E[0],U=E[1],z=Object(n.useState)(null),W=Object(c.a)(z,2),V=W[0],G=W[1],Y=Object(n.useRef)(null),K=Object(n.useRef)(!1);Object(n.useEffect)((function(){return K.current=!0,function(){return K.current=!1}}),[]);Object(n.useEffect)((function(){C&&(O(C),x(null))}),[C,O]);var q=Object(n.useCallback)((function(e,t,a,n,r){var o=[Object(H.a)({},e)];t&&o.push(Object(H.a)({},t));var i={video:Object(H.a)({},a),elements:o,breaks:Object(d.a)(n),subtitles:Object(H.a)({},r)};console.log(i);var c=JSON.stringify(i);console.log(c),x(c),k(null),A(null),U(null),B(null),G(null)}),[]);return Object(n.useEffect)((function(){y&&null!==I&&R&&L&&V&&q(y,I,R,L,V)}),[y,I,R,q,L,V]),Object(g.jsx)(N,{children:Object(g.jsxs)("div",{className:_a.a.Navigation,children:[a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(pn,{canvas:a}),Object(g.jsx)("button",{id:"downloadDesign",className:_a.a.DownloadButton,onClick:function(){b.isCropMode?p({type:"setIsCropMode",data:!1}):a&&(r.current.pause(),function(e,t,a){for(var n=[],r=null,o=0;o<e.length;o++){var i=e[o];0===o&&0!==i.start?n.push({start:0,end:i.start}):0!==i.start&&n.push({start:r,end:i.start}),r=i.end,o===e.length-1&&i.end!==t&&n.push({start:i.end,end:t})}a(n)}(o,i,U),l&&s?function(e,t,a,n){for(var r=t.canvas.getZoom(),o=t.canvas.getWidth()/r,i=t.canvas.getHeight()/r,c=[],s={x:100*t.left/o,y:100*t.top/i,fontSize:a.fontSize,fontColor:Ia(a.fill),fontFamily:a.fontFamily,backgroundColor:Ia(a.backgroundColor),textAlign:"center",padding:0!==t.paddingY?t.paddingY/2:0,fontWeight:a.fontWeight,fontStyle:a.fontStyle},l=0,d=0,u=!1,b=0;b<e.length;b++){var p=e[b];if(p.active&&u){var j=Na();u=!1,c.push({start:l,end:d,active:!1,silence:!0,_id:j})}else p.active||u?!p.active&&u&&(d=p.end):(u=!0,l=p.start,d=p.end);if(p.silence&&p.active){var h=Na();c.push({start:p.start,end:p.end,silence:!0,_id:h,active:!0})}else if(p.active){for(var g=Na(),O="",f=0;f<p.words.length;f++)O+=p.words[f].text;c.push({start:p.start,end:p.end,text:O,silence:!1,active:!0,_id:g})}}if(u){var S=Na();c.push({start:l,end:d,active:!1,silence:!0,_id:S})}var v={captions:c,config:s};console.log(v),n(v)}(s,l,b.subtitlesState,G):G({captions:[],config:{}}),Ta(a,k,A,B,t,K))},children:h?"Loading...":"Download"})]}):null,Object(g.jsx)("a",{className:_a.a.DownloadLink,ref:Y,href:"/",children:"Download"}),f?Object(g.jsxs)("div",{className:_a.a.DownloadVideoContainer,children:[Object(g.jsx)("h2",{className:_a.a.Close,onClick:function(e){S(null)},children:"Close"}),Object(g.jsx)("video",{className:_a.a.DownloadVideo,style:{width:a.getWidth(),height:"auto"},id:"video",preload:"true",src:f,controls:!0})]}):null]})})},hn={canvasState:{initialWidth:0,initialHeight:0,width:0,height:0,backgroundColor:"rgba(255,255,255,1)"},shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,shapeToAdd:null,imageToAdd:null,currentCoords:null,showToolbar:!1,shapeState:{fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0},imageState:{cornerRadius:0,isSvg:!1},isSubtitles:!1,isCropMode:!1,shouldCropImage:!1,isImageDropdown:!1,isSubtitlesDropdown:!1,isShapeDropdown:!1,isResizeDropdown:!1,isCanvasBgColorDropdown:!1,isDownloadDropdown:!1,shouldAddText:!1,shouldUpdateText:!1,shouldUpdateSubtitles:!1,shouldUpdateShape:!1,shouldUpdateImage:!1,shouldReplaceImage:!1,currentObject:{type:"",object:null},textState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:30,fill:"rgba(0,0,0,1)",textAlign:"left"},subtitlesState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:24,fill:"rgba(0,0,0,1)",backgroundColor:"rgba(255,255,255,1)",initialBackground:"rgba(255,255,255,1)"}},gn=function(e,t){switch(t.type){case"setCanvasState":return Object(H.a)(Object(H.a)({},e),{},{canvasState:t.data});case"setIsDownloadDropdown":return Object(H.a)(Object(H.a)({},e),{},{isDownloadDropdown:t.data});case"setIsSubtitles":return Object(H.a)(Object(H.a)({},e),{},{isSubtitles:t.data,isSubtitlesDropdown:!1});case"setIsCropMode":return Object(H.a)(Object(H.a)({},e),{},{isCropMode:t.data});case"setShouldCropImage":return Object(H.a)(Object(H.a)({},e),{},{shouldCropImage:t.data});case"setIsImageDropdown":return Object(H.a)(Object(H.a)({},e),{},{isImageDropdown:t.data});case"setIsSubtitlesDropdown":return Object(H.a)(Object(H.a)({},e),{},{isSubtitlesDropdown:t.data});case"setIsShapeDropdown":return Object(H.a)(Object(H.a)({},e),{},{isShapeDropdown:t.data});case"setIsResizeDropdown":return Object(H.a)(Object(H.a)({},e),{},{isResizeDropdown:t.data});case"setIsCanvasBgColorDropdown":return Object(H.a)(Object(H.a)({},e),{},{isCanvasBgColorDropdown:t.data});case"setCurrentCoords":return Object(H.a)(Object(H.a)({},e),{},{currentCoords:t.data});case"setShowToolbar":return Object(H.a)(Object(H.a)({},e),{},{showToolbar:t.data});case"setShowCanvasToolbar":return Object(H.a)(Object(H.a)({},e),{},{showCanvasToolbar:t.data});case"setShouldAddText":return Object(H.a)(Object(H.a)({},e),{},{shouldAddText:t.data});case"setShouldUpdateText":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:t.data});case"setShouldUpdateSubtitles":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:t.data});case"setShouldUpdateShape":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateShape:t.data});case"setShouldUpdateImage":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateImage:t.data});case"setShouldUpdateCanvas":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateCanvas:t.data});case"setShouldUpdateCanvasSize":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateCanvasSize:t.data});case"setCurrentObject":return Object(H.a)(Object(H.a)({},e),{},{currentObject:t.data});case"setShapeToAdd":return Object(H.a)(Object(H.a)({},e),{},{shapeToAdd:t.data,isShapeDropdown:!1});case"setImageToAdd":return Object(H.a)(Object(H.a)({},e),{},{imageToAdd:t.data,isImageDropdown:!1});case"setShapeState":return Object(H.a)(Object(H.a)({},e),{},{shapeState:Object(H.a)({},t.data)});case"setImageState":return Object(H.a)(Object(H.a)({},e),{},{imageState:Object(H.a)({},t.data)});case"setTextState":return Object(H.a)(Object(H.a)({},e),{},{textState:Object(H.a)({},t.data)});case"setSubtitlesState":return Object(H.a)(Object(H.a)({},e),{},{subtitlesState:Object(H.a)({},t.data)});case"setShouldReplaceImage":return Object(H.a)(Object(H.a)({},e),{},{shouldReplaceImage:t.data});case"setCanvasBackgroundColor":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateCanvas:!0,canvasState:Object(H.a)(Object(H.a)({},e.canvasState),{},{backgroundColor:t.data})});case"setCanvasSize":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateCanvasSize:!0,canvasState:Object(H.a)(Object(H.a)({},e.canvasState),{},{width:t.data.width,height:t.data.height})});case"setCanvasInitialSize":return Object(H.a)(Object(H.a)({},e),{},{canvasState:Object(H.a)(Object(H.a)({},e.canvasState),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight,width:t.data.width,height:t.data.height})});case"setImageCornerRadius":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateImage:!0,imageState:Object(H.a)(Object(H.a)({},e.imageState),{},{cornerRadius:t.data})});case"setShapeRadius":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(H.a)(Object(H.a)({},e.shapeState),{},{rx:t.data,ry:t.data})});case"setShapeFill":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(H.a)(Object(H.a)({},e.shapeState),{},{fill:t.data})});case"setShapeStroke":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(H.a)(Object(H.a)({},e.shapeState),{},{stroke:t.data})});case"setShapeStrokeWidth":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(H.a)(Object(H.a)({},e.shapeState),{},{strokeWidth:t.data})});case"setFontFamily":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{fontFamily:t.data})});case"setFontStyle":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{fontStyle:t.data})});case"setFontWeight":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{fontWeight:t.data})});case"setFontSize":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{fontSize:t.data})});case"setTextFill":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{fill:t.data})});case"setTextAlign":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateText:!0,textState:Object(H.a)(Object(H.a)({},e.textState),{},{textAlign:t.data})});case"setSubtitlesbackgroundColor":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{backgroundColor:t.data})});case"setSubtitlesFontFamily":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{fontFamily:t.data})});case"setSubtitlesFontStyle":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{fontStyle:t.data})});case"setSubtitlesFontWeight":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{fontWeight:t.data})});case"setSubtitlesFontSize":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{fontSize:t.data})});case"setSubtitlesTextFill":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{fill:t.data})});case"setSubtitlesTextAlign":return Object(H.a)(Object(H.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(H.a)(Object(H.a)({},e.subtitlesState),{},{textAlign:t.data})});default:return e}},On=function(){var e=Object(n.useReducer)(gn,hn),t=Object(c.a)(e,2);return[t[0],t[1]]},fn=function(e){var t=e.canvas,a=e.setCanvas,r=e.subArr,o=e.setSubArr,i=e.currentSub,s=e.setCurrentSub,l=e.videoCuts,d=e.setVideoCuts,u=e.viedoForUpload,b=e.videoUrl,p=e.words,j=e.videoRef,h=e.duration,O=e.setVideoForUpload,f=e.clearState,S=On(),v=Object(c.a)(S,2),m=v[0],C=v[1],x=Object(n.useState)(null),_=Object(c.a)(x,2),w=_[0],y=_[1],k=Object(n.useState)(0),D=Object(c.a)(k,2),T=D[0],N=D[1],I=Object(n.useState)(!1),A=Object(c.a)(I,2),M=A[0],R=A[1],B=Object(n.useState)(null),P=Object(c.a)(B,2),E=P[0],L=P[1],U=Object(n.useState)(null),H=Object(c.a)(U,2),z=H[0],W=H[1],V=Object(n.useState)(null),G=Object(c.a)(V,2),Y=G[0],K=G[1],X=Object(n.useState)(null),Z=Object(c.a)(X,2),J=Z[0],Q=Z[1],ee=Object(n.useState)(!1),te=Object(c.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){return function(){return f()}}),[f]),Object(n.useEffect)((function(){b&&(j.current.src=b)}),[b,j]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)($.Provider,{value:{editorState:m,editorDispatch:C},children:[Object(g.jsx)(jn,{viedoForUpload:u,setVideoForUpload:O,canvas:t,videoRef:j,videoCuts:l,duration:h,words:p,subArr:r,currentSub:i}),Object(g.jsxs)("main",{className:F.a.Main,children:[Object(g.jsx)(q,{className:F.a.VideoEditor,words:p,currentWordIndex:T,setCurrentWordIndex:N,isPlaying:M,videoRef:j,setCuts:d,currentSelection:w,setCurrentSelection:y,setPlayerTime:function(e){var t="0";if(null!==e){var a=p[e];t=a.end,j.current.currentTime=+a.start,L(+a.start)}for(var n=0,r=0;r<l.length;r++){+t>+l[r].end&&n++}W(n)},subArr:r,setCurrentSubIndex:K,currentSub:i,currentSubIndex:Y,setShouldRerenderSub:ne}),Object(g.jsx)(Sa,{videoRef:j,canvas:t,setCanvas:a,isPlaying:M,words:p,currentTime:E,videoCuts:l,setNextCutIndex:W,setCurrentWordIndex:N,nextCutIndex:z,currentWordIndex:T,subArr:r,setSubArr:o,currentSub:i,setCurrentSub:s,currentSubIndex:Y,setCurrentSubIndex:K,videoSize:J,shouldRerenderSub:ae,setShouldRerenderSub:ne}),Object(g.jsx)(Ca,{videoRef:j,setIsPlaying:R,currentSelection:w,setCurrentSelection:y,setCurrentTime:L,videoSize:J,videoCuts:l,words:p,setVideoSize:Q,setNextCutIndex:W,setCurrentWordIndex:N,setCurrentSubIndex:K,subArr:r})]})]})})},Sn=a(11),vn=a(146),mn=["component","where","allowed","redirect"],Cn=function(e){var t=e.component,a=(e.where,e.allowed),n=e.redirect,r=Object(vn.a)(e,mn);return Object(g.jsx)(Sn.b,Object(H.a)(Object(H.a)({},r),{},{children:a?Object(g.jsx)(t,Object(H.a)({},r)):Object(g.jsx)(Sn.a,{to:n})}))},xn=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),i=Object(c.a)(o,2),s=i[0],d=i[1],u=Object(n.useState)(null),b=Object(c.a)(u,2),p=b[0],j=b[1],h=Object(n.useState)(null),O=Object(c.a)(h,2),f=O[0],S=O[1],v=Object(n.useState)(null),m=Object(c.a)(v,2),C=m[0],x=m[1],_=Object(n.useState)(!1),w=Object(c.a)(_,2),y=w[0],k=w[1],D=Object(n.useState)(null),T=Object(c.a)(D,2),N=T[0],A=T[1],F=Object(n.useState)(null),M=Object(c.a)(F,2),R=M[0],B=M[1],P=Object(n.useRef)(null),E=Object(Sn.h)(),L=Object(n.useRef)(null),U=Object(n.useCallback)((function(){L.current=null,A(null),B(null),k(!1),j(null),S(null),d(null),r(null),x(null)}),[]);return Object(g.jsx)("div",{className:l.a.Editor,children:Object(g.jsxs)(Sn.d,{children:[Object(g.jsx)(Cn,{path:"".concat(E.path,"/new"),redirect:"".concat(E.path,"/video-editor"),where:"in the Editor new route",allowed:!y,component:I,viedoForUpload:a,setVideoForUpload:r,setIsFinished:k,setVideoUrl:B,setDuration:A,wordsRef:L}),Object(g.jsx)(Cn,{path:"".concat(E.path,"/video-editor"),redirect:"".concat(E.path,"/new"),where:"in the Editor video-editor route",allowed:y,component:fn,canvas:p,setCanvas:j,subArr:f,setSubArr:S,currentSub:C,setCurrentSub:x,videoCuts:s,setVideoCuts:d,viedoForUpload:a,videoUrl:R,words:L.current,videoRef:P,duration:N,clearState:U}),Object(g.jsx)(Sn.a,{to:"".concat(E.path,"/new")})]})})},_n=a(33),wn=a.n(_n),yn=a.p+"static/media/saly.d86e3215.png",kn=a.p+"static/media/twiso.2070abef.svg",Dn=a(39),Tn=a.n(Dn),Nn=a.p+"static/media/google.7575ce4f.svg",In=a(145),An=a.n(In),Fn=function(e){var t=e.children,a=e.onClick;return Object(g.jsx)("button",{onClick:a,className:An.a.Button,children:t})},Mn=a(58),Rn=a.n(Mn),Bn=function(){return Object(g.jsxs)("div",{className:Rn.a.Or,children:[Object(g.jsx)("div",{className:Rn.a.Line}),Object(g.jsx)("span",{className:Rn.a.Text,children:"or"}),Object(g.jsx)("div",{className:Rn.a.Line})]})},Pn=a(59),En=a.n(Pn),Ln=function(e){var t=e.placeholder,a=e.type,n=e.invalid,r=e.setValue,o=e.value,i=e.errorMessage;return Object(g.jsxs)("div",{className:En.a.InputContainer,children:[Object(g.jsx)("input",{className:[En.a.Input,n?En.a.Invalid:null].join(" "),placeholder:t,type:a,value:o,onBlur:function(){var e=""===o.trim();n&&!e&&r((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!1})}))},onFocus:function(){n&&r((function(e){return Object(H.a)(Object(H.a)({},e),{},{value:""})}))},onChange:function(e){return r((function(t){return Object(H.a)(Object(H.a)({},t),{},{value:e.target.value})}))}}),n?Object(g.jsx)("div",{className:En.a.ErrorMessage,children:i}):null]})},Un=a(52),Hn=a.n(Un),zn=Object(n.createContext)(null),Wn=a.p+"static/media/mail.4d849a6e.svg",Vn=function(){var e=Object(n.useContext)(zn).userDispatch,t=Object(Sn.g)();return Object(g.jsxs)("div",{className:Hn.a.CheckMail,children:[Object(g.jsx)("img",{src:Wn,alt:"mail",className:Hn.a.Mail}),Object(g.jsx)("h2",{className:Hn.a.Heading,children:"Check your inbox"}),Object(g.jsx)("p",{className:Hn.a.Subheading,children:"We sent you an activation link. Please be sure to check your spam folder too."}),Object(g.jsx)("div",{className:Hn.a.EditorLink,onClick:function(){e({type:"setIsAuthenticated",data:!0}),t.push("/editor")},children:"Go to editor"})]})},Gn=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},Yn=a(28),Kn=function(e){var t=e.authUrl,a=Object(n.useState)(!1),r=Object(c.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",validation:!0,errorMessage:"Please enter your email"}),l=Object(c.a)(s,2),d=l[0],u=l[1],b=Object(g.jsxs)("div",{className:Tn.a.SignIn,children:[Object(g.jsx)("h2",{className:Tn.a.Heading,children:"Welcome to Twiso!"}),Object(g.jsxs)("p",{className:Tn.a.Subheading,children:["Don't have an account?"," ",Object(g.jsx)(Yn.b,{to:"".concat(t,"/sign-up"),className:Tn.a.SignUpLink,children:"Sign up for free"})]}),Object(g.jsxs)("div",{className:Tn.a.FormContent,children:[Object(g.jsxs)(Fn,{onClick:function(e){console.log("Sign in with google")},children:[Object(g.jsx)("img",{src:Nn,alt:"google",className:Tn.a.GoogleLogo}),"Continue with Google"]}),Object(g.jsx)(Bn,{}),Object(g.jsxs)("form",{className:Tn.a.Form,children:[Object(g.jsx)(Ln,Object(H.a)(Object(H.a)({},d),{},{setValue:u})),Object(g.jsx)(Fn,{onClick:function(e){e.preventDefault(),Gn(d.value)?i(!0):u((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!0})}))},children:"Sign in"})]})]})]});return o?Object(g.jsx)(Vn,{}):b},qn=a(40),Xn=a.n(qn),Zn=a(48),Jn=a.n(Zn),Qn=a.p+"static/media/downArrow.2770f0b5.svg",$n=a(60),er=a.n($n),tr=a.p+"static/media/checkMark.707a0281.svg",ar=function(e){var t=e.options,a=e.value,r=e.setValue,o=e.setIsDropdown,i=Object(n.useCallback)((function(){return o(!1)}),[o]);return Object(n.useEffect)((function(){return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}}),[i]),Object(g.jsx)("ul",{className:er.a.Dropdown,children:t.map((function(e){var t=a&&a.id===e.id;return Object(g.jsxs)("li",{id:e.id,className:[er.a.Option,t?er.a.Current:null].join(" "),onClick:function(){return r((function(t){return Object(H.a)(Object(H.a)({},t),{},{value:e})}))},children:[Object(g.jsx)("span",{className:er.a.CheckMark,children:t?Object(g.jsx)("img",{src:tr,alt:"check mark"}):null}),e.type]},e.id)}))})},nr=function(e){var t=e.options,a=e.invalid,r=e.value,o=e.setValue,i=e.errorMessage,s=Object(n.useState)(null),l=Object(c.a)(s,2),d=l[0],u=l[1];return Object(g.jsxs)("div",{className:Jn.a.SelectContainer,children:[Object(g.jsxs)("div",{className:[Jn.a.Select,a?Jn.a.Invalid:null].join(" "),onClick:function(){a&&o((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!1})})),u(!0)},children:[Object(g.jsx)("p",{className:[Jn.a.Selected,"placeholder"!==r.id?Jn.a.Valid:null].join(" "),children:r.type}),Object(g.jsx)("img",{src:Qn,alt:"arrow"}),d?Object(g.jsx)(ar,{options:t,value:r,setValue:o,setIsDropdown:u}):null]}),a?Object(g.jsx)("div",{className:Jn.a.ErrorMessage,children:i}):null]})},rr=function(e){var t=e.authUrl,a=Object(n.useState)(!1),r=Object(c.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)({value:"",invalid:!1,type:"text",placeholder:"First name",errorMessage:"Please enter your name"}),l=Object(c.a)(s,2),d=l[0],u=l[1],b=Object(n.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",errorMessage:"Please enter your email"}),p=Object(c.a)(b,2),j=p[0],h=p[1],O=Object(n.useState)({value:{type:"What kind of work do you do?",id:"placeholder"},options:[{type:"What kind of work do you do?",id:"placeholder"},{type:"Marketing",id:"marketing"},{type:"Design",id:"design"},{type:"Influencer",id:"influencer"},{type:"Public Speaker",id:"publicSpeaker"},{type:"Student",id:"student"},{type:"Other",id:"other"}],invalid:!1,errorMessage:"Please fill out this field"}),f=Object(c.a)(O,2),S=f[0],v=f[1],m=Object(g.jsxs)("div",{className:Xn.a.SignUp,children:[Object(g.jsx)("h2",{className:Xn.a.Heading,children:"Create Account"}),Object(g.jsxs)("p",{className:Xn.a.Subheading,children:["Already have an account?"," ",Object(g.jsx)(Yn.b,{to:"".concat(t,"/sign-in"),className:Xn.a.SignInLink,children:"Sign in"})]}),Object(g.jsxs)("div",{className:Xn.a.FormContent,children:[Object(g.jsxs)(Fn,{onClick:function(e){console.log("Sign up with google")},children:[Object(g.jsx)("img",{src:Nn,alt:"google",className:Xn.a.GoogleLogo}),"Sign Up with Google"]}),Object(g.jsx)(Bn,{}),Object(g.jsxs)("form",{className:Xn.a.Form,children:[Object(g.jsx)(Ln,Object(H.a)(Object(H.a)({},d),{},{setValue:u})),Object(g.jsx)(Ln,Object(H.a)(Object(H.a)({},j),{},{setValue:h})),Object(g.jsx)(nr,Object(H.a)(Object(H.a)({},S),{},{setValue:v})),Object(g.jsx)(Fn,{onClick:function(e){e.preventDefault();var t=Gn(j.value),a=""!==d.value.trim(),n="placeholder"!==S.value.id;t||h((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!0})})),a||u((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!0})})),n||v((function(e){return Object(H.a)(Object(H.a)({},e),{},{invalid:!0})})),t&&a&&n&&i(!0)},children:"Create Account"})]})]})]});return o?Object(g.jsx)(Vn,{}):m},or=function(){var e=Object(Sn.h)();return Object(g.jsxs)("div",{className:wn.a.Auth,children:[Object(g.jsxs)("div",{className:wn.a.Testimonial,children:[Object(g.jsx)("div",{className:wn.a.Background}),Object(g.jsxs)("div",{className:wn.a.TestimonialContent,children:[Object(g.jsx)("img",{src:kn,alt:"twiso",className:wn.a.Twiso}),Object(g.jsx)("p",{className:wn.a.Heading,children:"Transcribe. Edit. Design."}),Object(g.jsx)("p",{className:wn.a.Subheading,children:"All in on one place."}),Object(g.jsx)("img",{src:yn,alt:"saly",className:wn.a.Mascot})]})]}),Object(g.jsx)("div",{className:wn.a.Account,children:Object(g.jsxs)(Sn.d,{children:[Object(g.jsx)(Sn.b,{exact:!0,path:"".concat(e.path,"/sign-in"),children:Object(g.jsx)(Kn,{authUrl:e.path})}),Object(g.jsx)(Sn.b,{exact:!0,path:"".concat(e.path,"/sign-up"),children:Object(g.jsx)(rr,{authUrl:e.path})}),Object(g.jsx)(Sn.a,{to:"".concat(e.path,"/sign-in")})]})})]})},ir={isAuthenticated:!1},cr=function(e,t){switch(t.type){case"setIsAuthenticated":return Object(H.a)(Object(H.a)({},e),{},{isAuthenticated:t.data});default:return e}},sr=function(){var e=Object(n.useReducer)(cr,ir),t=Object(c.a)(e,2);return[t[0],t[1]]},lr=function(){var e=sr(),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(zn.Provider,{value:{userState:a,userDispatch:n},children:Object(g.jsx)(Yn.a,{basename:"/",children:Object(g.jsxs)(Sn.d,{children:[Object(g.jsx)(Cn,{path:"/auth",redirect:"/editor",where:"in the App auth route",allowed:!a.isAuthenticated,component:or}),Object(g.jsx)(Cn,{path:"/editor",redirect:"/auth",where:"in the App editor route",allowed:a.isAuthenticated,component:xn}),Object(g.jsx)(Sn.b,{path:"/",children:a.isAuthenticated?Object(g.jsx)(Sn.a,{to:"/editor"}):Object(g.jsx)(Sn.a,{to:"/auth"})})]})})})})},dr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,292)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(lr,{})}),document.getElementById("root")),dr()},30:function(e,t,a){e.exports={FontSizeDropdown:"FontSizeDropdown_FontSizeDropdown__3vQgK",FontSizeOption:"FontSizeDropdown_FontSizeOption__5LIdC"}},31:function(e,t,a){e.exports={ImageToolbar:"ImageToolbar_ImageToolbar__1bSOG",BorderDiv:"ImageToolbar_BorderDiv__2L57I",ReaplaceContainer:"ImageToolbar_ReaplaceContainer__Bvs6n",RadiusContainer:"ImageToolbar_RadiusContainer__1809i",CropContainer:"ImageToolbar_CropContainer__3a9ik",DoneContainer:"ImageToolbar_DoneContainer__1sU7m",RadiusInput:"ImageToolbar_RadiusInput__3neeS",StrokeWidthArrowContainer:"ImageToolbar_StrokeWidthArrowContainer__2ZaEx",BorderStyle:"ImageToolbar_BorderStyle__2Np8t"}},32:function(e,t,a){e.exports={Dropdown:"SubtitlesDropdown_Dropdown__3CPKs",Text:"SubtitlesDropdown_Text__mqlQv",Buttons:"SubtitlesDropdown_Buttons__1LolQ",Button:"SubtitlesDropdown_Button__rnGL5",ButtonText:"SubtitlesDropdown_ButtonText__3zZ2n",Active:"SubtitlesDropdown_Active__1vfsr"}},33:function(e,t,a){e.exports={Auth:"Auth_Auth__2-Tih",Testimonial:"Auth_Testimonial__Gdo6e",Background:"Auth_Background__Sn6Rs",TestimonialContent:"Auth_TestimonialContent__1xfBA",Twiso:"Auth_Twiso__1yuUr",Heading:"Auth_Heading__219Co",Subheading:"Auth_Subheading__3iXme",Mascot:"Auth_Mascot__1P0gq",Account:"Auth_Account__FNRoH"}},35:function(e,t,a){e.exports={FontsDropdown:"FontsDropdown_FontsDropdown__2cMmK",SearchContainer:"FontsDropdown_SearchContainer__2xV2U",SearchSvg:"FontsDropdown_SearchSvg__2fL_Y",SearchInput:"FontsDropdown_SearchInput__1YJKM",FontOptionsContainer:"FontsDropdown_FontOptionsContainer__3NL_l",FontOption:"FontsDropdown_FontOption__YA26x",UploadFontContainer:"FontsDropdown_UploadFontContainer__BN5oN",UploadFontButton:"FontsDropdown_UploadFontButton__2fdT4",UploadFontFile:"FontsDropdown_UploadFontFile__17exH"}},36:function(e,t,a){e.exports={Menu:"ContextMenu_Menu__3Crct",Option:"ContextMenu_Option__2sY3r",Border:"ContextMenu_Border__2fUH-",Overlay:"ContextMenu_Overlay__1PFYP"}},38:function(e,t,a){e.exports={Transcription:"Transcription_Transcription__13teg",TextControls:"Transcription_TextControls__1U4fb",CutContainer:"Transcription_CutContainer__3Pv4S",SearchContainer:"Transcription_SearchContainer__3q-zR",SearchInput:"Transcription_SearchInput__3ojca",Text:"Transcription_Text__3pvrU"}},39:function(e,t,a){e.exports={SignIn:"SignIn_SignIn__2rDwX",Heading:"SignIn_Heading__3_D8_",Subheading:"SignIn_Subheading__25WFn",SignUpLink:"SignIn_SignUpLink__19pi6",FormContent:"SignIn_FormContent__2RCot",Form:"SignIn_Form__Qj1Re",GoogleLogo:"SignIn_GoogleLogo__2dqJk"}},40:function(e,t,a){e.exports={SignUp:"SignUp_SignUp__FrU6o",Heading:"SignUp_Heading__3VK7d",Subheading:"SignUp_Subheading__3Fzc1",SignInLink:"SignUp_SignInLink__2n2-H",FormContent:"SignUp_FormContent__2PhXm",Form:"SignUp_Form__2HSyr",GoogleLogo:"SignUp_GoogleLogo__veA94"}},46:function(e,t,a){e.exports={UploadProgress:"UploadProgress_UploadProgress__u7hxD",Percentage:"UploadProgress_Percentage__IJKYZ",Heading:"UploadProgress_Heading__1BSO0",ProgressBar:"UploadProgress_ProgressBar__hfMfg",ProgressBarInner:"UploadProgress_ProgressBarInner__1AOYq",Subheading:"UploadProgress_Subheading__FMja8"}},47:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1vpyv",DownloadButton:"Navigation_DownloadButton__2FuTK",DownloadDropdown:"Navigation_DownloadDropdown__2IsbQ",DownloadLink:"Navigation_DownloadLink__3PFN5",UploadVideo:"Navigation_UploadVideo__3uZ5a",DownloadVideoContainer:"Navigation_DownloadVideoContainer__3mjYd",DownloadVideo:"Navigation_DownloadVideo__1Kc0Z",Close:"Navigation_Close__12UHs"}},48:function(e,t,a){e.exports={SelectContainer:"Select_SelectContainer__1RMVl",Select:"Select_Select__1aFjD",Selected:"Select_Selected__w1Ai2",Valid:"Select_Valid__2h_nP",Invalid:"Select_Invalid__2e9oA",ErrorMessage:"Select_ErrorMessage__1bWOP"}},50:function(e,t,a){e.exports={FontsDropdown:"TextDropdowns_FontsDropdown__lZ_Yz",FontSizeDropdown:"TextDropdowns_FontSizeDropdown__zNPWy",SketchPickerContainer:"TextDropdowns_SketchPickerContainer__1ap0H",TextAlignDropdown:"TextDropdowns_TextAlignDropdown___lslt"}},51:function(e,t,a){e.exports={Dropdown:"ResizeDropdown_Dropdown__1YZKt",SizeOptions:"ResizeDropdown_SizeOptions__2PmX4",SizeOption:"ResizeDropdown_SizeOption__3MBs1",Current:"ResizeDropdown_Current__2rsB4",CustomSizeOption:"ResizeDropdown_CustomSizeOption__24EiF",CustomSizeText:"ResizeDropdown_CustomSizeText__1TGCQ",InputsContainer:"ResizeDropdown_InputsContainer__cUM6V",InputWidth:"ResizeDropdown_InputWidth__18mBb",InputHeight:"ResizeDropdown_InputHeight__1A-ho",PxText:"ResizeDropdown_PxText__cacdv"}},52:function(e,t,a){e.exports={CheckMail:"CheckMail_CheckMail__2juXE",Heading:"CheckMail_Heading__2JEwf",Subheading:"CheckMail_Subheading__3AHm5",EditorLink:"CheckMail_EditorLink__IbMoD"}},56:function(e,t,a){e.exports={Player:"Player_Player__29WZA",PlayerContent:"Player_PlayerContent__GS7Av",PlayerControls:"Player_PlayerControls__1cImT",PlayButton:"Player_PlayButton__1jzX7",Sub:"Player_Sub__VHkeE"}},58:function(e,t,a){e.exports={Or:"Or_Or__3D8lV",Line:"Or_Line__3NIcd",Text:"Or_Text__3K4vP"}},59:function(e,t,a){e.exports={InputContainer:"Input_InputContainer__FRPf0",Input:"Input_Input__2JU04",Inpit:"Input_Inpit__B7DHg",Invalid:"Input_Invalid__2bXHj",ErrorMessage:"Input_ErrorMessage__NGuQM"}},60:function(e,t,a){e.exports={Dropdown:"Dropdown_Dropdown__3ndzl",Option:"Dropdown_Option__2rSF0",Current:"Dropdown_Current__1ur6I",CheckMark:"Dropdown_CheckMark__-dXeR"}},7:function(e,t,a){e.exports={TextToolbar:"TextToolbar_TextToolbar__30rxF",BorderDiv:"TextToolbar_BorderDiv__XlYMr",DownArrow:"TextToolbar_DownArrow__3bu3E",TextAlign:"TextToolbar_TextAlign__2KX5Y",Bold:"TextToolbar_Bold__38wPs",Italic:"TextToolbar_Italic__I_P46",FontsContainer:"TextToolbar_FontsContainer__2NtOu",FontSizeContainer:"TextToolbar_FontSizeContainer__1QFbt",ColorPickerContainer:"TextToolbar_ColorPickerContainer__1EnTr",FontWeightBoldContainer:"TextToolbar_FontWeightBoldContainer__2-Bfx",FontStyleItalicContainer:"TextToolbar_FontStyleItalicContainer__6Diha",TextAlignContainer:"TextToolbar_TextAlignContainer__HLDJn",BgColorContainer:"TextToolbar_BgColorContainer__3QNkE",FontSizeInputContainer:"TextToolbar_FontSizeInputContainer__p2Uno",FontSizeInput:"TextToolbar_FontSizeInput__3nD-x",FontSizeArrowContainer:"TextToolbar_FontSizeArrowContainer__1N8MA",ColorPickerBorder:"TextToolbar_ColorPickerBorder__EGOSu",ColorPicker:"TextToolbar_ColorPicker__2Mme4",Active:"TextToolbar_Active__2gO17",BgColor:"TextToolbar_BgColor__19qDO"}},72:function(e,t,a){e.exports={FillDropdownContainer:"ShapeDropdowns_FillDropdownContainer__XKdBu",StrokeDropdownContainer:"ShapeDropdowns_StrokeDropdownContainer__2g9Q8",StrokeWidthDropdownContainer:"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz"}},8:function(e,t,a){e.exports={ControlsContainer:"DesignControls_ControlsContainer__2Nypq",DesignControl:"DesignControls_DesignControl__1FKA0",AddTextContainer:"DesignControls_AddTextContainer__2kzlD",AddImageContainer:"DesignControls_AddImageContainer__1-kZJ",AddShapeContainer:"DesignControls_AddShapeContainer__2l0qj",HoverContent:"DesignControls_HoverContent__RaV8d",HoverTriangle:"DesignControls_HoverTriangle__uOTqR",HoverText:"DesignControls_HoverText__3mdpQ",ShapeDropdown:"DesignControls_ShapeDropdown__3m4QA",ImageDropdown:"DesignControls_ImageDropdown__1kbq4",SubtitlesDropdown:"DesignControls_SubtitlesDropdown__1E3X-"}},93:function(e,t,a){e.exports={DownloadCanvas:"VideoEditor_DownloadCanvas__3rCEz",Main:"VideoEditor_Main__RsHdg"}},94:function(e,t,a){e.exports={CanvasComponent:"Canvas_CanvasComponent__2cQcG",Canvas:"Canvas_Canvas__3oXwS"}}},[[290,1,2]]]);
//# sourceMappingURL=main.1182e6fa.chunk.js.map