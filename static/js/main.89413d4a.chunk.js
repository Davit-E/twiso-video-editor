(this["webpackJsonptwiso-video-editor"]=this["webpackJsonptwiso-video-editor"]||[]).push([[0],{10:function(e,t,a){e.exports={TextToolbar:"TextToolbar_TextToolbar__30rxF",BorderDiv:"TextToolbar_BorderDiv__XlYMr",DownArrow:"TextToolbar_DownArrow__3bu3E",TextAlign:"TextToolbar_TextAlign__2KX5Y",Bold:"TextToolbar_Bold__38wPs",Italic:"TextToolbar_Italic__I_P46",FontsContainer:"TextToolbar_FontsContainer__2NtOu",FontSizeContainer:"TextToolbar_FontSizeContainer__1QFbt",ColorPickerContainer:"TextToolbar_ColorPickerContainer__1EnTr",FontWeightBoldContainer:"TextToolbar_FontWeightBoldContainer__2-Bfx",FontStyleItalicContainer:"TextToolbar_FontStyleItalicContainer__6Diha",TextAlignContainer:"TextToolbar_TextAlignContainer__HLDJn",BgColorContainer:"TextToolbar_BgColorContainer__3QNkE",FontSizeInputContainer:"TextToolbar_FontSizeInputContainer__p2Uno",FontSizeInput:"TextToolbar_FontSizeInput__3nD-x",FontSizeArrowContainer:"TextToolbar_FontSizeArrowContainer__1N8MA",ColorPickerBorder:"TextToolbar_ColorPickerBorder__EGOSu",ColorPicker:"TextToolbar_ColorPicker__2Mme4",Active:"TextToolbar_Active__2gO17",BgColor:"TextToolbar_BgColor__19qDO"}},107:function(e,t,a){e.exports={DownloadCanvas:"VideoEditor_DownloadCanvas__3rCEz",Main:"VideoEditor_Main__RsHdg"}},108:function(e,t,a){e.exports={CanvasComponent:"PlayerCanvas_CanvasComponent__2ZNRl",Canvas:"PlayerCanvas_Canvas__3KakF"}},11:function(e,t,a){e.exports={ControlsContainer:"DesignControls_ControlsContainer__2Nypq",DesignControl:"DesignControls_DesignControl__1FKA0",AddTextContainer:"DesignControls_AddTextContainer__2kzlD",AddImageContainer:"DesignControls_AddImageContainer__1-kZJ",AddShapeContainer:"DesignControls_AddShapeContainer__2l0qj",HoverContent:"DesignControls_HoverContent__RaV8d",HoverTriangle:"DesignControls_HoverTriangle__uOTqR",HoverText:"DesignControls_HoverText__3mdpQ",ShapeDropdown:"DesignControls_ShapeDropdown__3m4QA",ImageDropdown:"DesignControls_ImageDropdown__1kbq4",SubtitlesDropdown:"DesignControls_SubtitlesDropdown__1E3X-"}},110:function(e,t,a){e.exports={StrokeDropdownContainer:"VideoDropdowns_StrokeDropdownContainer__1cB9e",StrokeWidthDropdownContainer:"VideoDropdowns_StrokeWidthDropdownContainer__1VFYT"}},111:function(e,t,a){e.exports={CropCanvas:"CropCanvas_CropCanvas__2QUHd",Backdrop:"CropCanvas_Backdrop__15lRv"}},113:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1vpyv",DownloadButton:"Navigation_DownloadButton__2FuTK",DownloadDropdown:"Navigation_DownloadDropdown__2IsbQ",DownloadLink:"Navigation_DownloadLink__3PFN5",UploadVideo:"Navigation_UploadVideo__3uZ5a",DownloadVideoContainer:"Navigation_DownloadVideoContainer__3mjYd",DownloadVideo:"Navigation_DownloadVideo__1Kc0Z",Close:"Navigation_Close__12UHs"}},114:function(e,t,a){e.exports={Homepage:"Homepage_Homepage__3OyFd",Main:"Homepage_Main__1n7s2"}},115:function(e,t,a){e.exports={VideoContainer:"CustomPlayer_VideoContainer__3sLMV",Video:"CustomPlayer_Video__3yEBQ"}},116:function(e,t,a){e.exports={Time:"Time_Time__2bwh7",Timeline:"Time_Timeline__2XAL4"}},13:function(e,t,a){e.exports={LineDropdown:"StrokeWidthDropdown_LineDropdown__2P8_5",ShapeDropdown:"StrokeWidthDropdown_ShapeDropdown__1sirw",StrokeOption:"StrokeWidthDropdown_StrokeOption__2JfPD"}},152:function(e,t,a){e.exports={Editor:"Editor_Editor__3ckPM"}},153:function(e,t,a){e.exports={Uploader:"Uploader_Uploader__lgMfw"}},157:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1YXGU"}},16:function(e,t,a){e.exports={Templates:"Templates_Templates__18kjm",NavLinks:"Templates_NavLinks__39YJI",Link:"Templates_Link__BofFD",Active:"Templates_Active__21pqj",Heading:"Templates_Heading__uEwga"}},162:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__ko406"}},164:function(e,t,a){e.exports={Video:"Video_Video__3P9at"}},165:function(e,t,a){e.exports={Canvas:"SpeakersCanvas_Canvas__1_qgr"}},166:function(e,t,a){e.exports={Button:"Button_Button__364Yd"}},167:function(e,t,a){e.exports={Token:"Token_Token__dZAfL"}},168:function(e,t,a){e.exports={Slider:"TimelineSlider_Slider__3FZvE"}},169:function(e,t,a){e.exports={Slider:"VolumeSlider_Slider__3Dz_-"}},175:function(e,t,a){},176:function(e,t,a){},18:function(e,t,a){e.exports={VideoToolbar:"VideoToolbar_VideoToolbar__23h3P",BorderDiv:"VideoToolbar_BorderDiv__2wSCo",StrokeContainer:"VideoToolbar_StrokeContainer__32EUg",StrokeWidthContainer:"VideoToolbar_StrokeWidthContainer__20qdy",CircleCropContainer:"VideoToolbar_CircleCropContainer__1fOak",RadiusContainer:"VideoToolbar_RadiusContainer__ZqwJN",CropContainer:"VideoToolbar_CropContainer__2Dxpf",DoneContainer:"VideoToolbar_DoneContainer__2gT_8",StrokeWidthInput:"VideoToolbar_StrokeWidthInput__Ss4Xq",RadiusInput:"VideoToolbar_RadiusInput__1kwS5",StrokeWidthArrowContainer:"VideoToolbar_StrokeWidthArrowContainer__1aF3z",CircleCropCircle:"VideoToolbar_CircleCropCircle__3uHh9",BorderStyle:"VideoToolbar_BorderStyle__392SW",DownArrow:"VideoToolbar_DownArrow__1TUzs",ColorPickerBorder:"VideoToolbar_ColorPickerBorder__21hnf",ColorPicker:"VideoToolbar_ColorPicker__2H6CG",StrokeWidthInputContainer:"VideoToolbar_StrokeWidthInputContainer__3iFYS"}},19:function(e,t,a){e.exports={TextAlignDropdown:"TextAlignDropdown_TextAlignDropdown__PkoUd",TextAlignOption:"TextAlignDropdown_TextAlignOption__2NPzu",Current:"TextAlignDropdown_Current__2vk5u",TextAlignImage:"TextAlignDropdown_TextAlignImage__wtSLz",TextAlignText:"TextAlignDropdown_TextAlignText__nuEMl"}},20:function(e,t,a){e.exports={ShapeToolbar:"ShapeToolbar_ShapeToolbar__3ltKA",BorderDiv:"ShapeToolbar_BorderDiv__1MpYU",DownArrow:"ShapeToolbar_DownArrow__MgRL3",FillContainer:"ShapeToolbar_FillContainer__dFbZJ",StrokeContainer:"ShapeToolbar_StrokeContainer__21-kB",StrokeWidthContainer:"ShapeToolbar_StrokeWidthContainer__1IzFk",RadiusContainer:"ShapeToolbar_RadiusContainer__3GI8W",ColorPickerBorder:"ShapeToolbar_ColorPickerBorder__qXCuh",ColorPicker:"ShapeToolbar_ColorPicker__2vzHo",StrokeWidthInputContainer:"ShapeToolbar_StrokeWidthInputContainer__1ISoG",StrokeWidthInput:"ShapeToolbar_StrokeWidthInput__239HS",StrokeWidthArrowContainer:"ShapeToolbar_StrokeWidthArrowContainer__2MBk5",RadiusInput:"ShapeToolbar_RadiusInput__19zGn"}},205:function(e,t){},206:function(e,t){},207:function(e,t){},21:function(e,t,a){e.exports={CanvasToolbar:"CanvasToolbar_CanvasToolbar__2hdMU",BorderDiv:"CanvasToolbar_BorderDiv__1KyoH",DownArrow:"CanvasToolbar_DownArrow__2Ii5A",TemplatesContainer:"CanvasToolbar_TemplatesContainer__23oBW",ResizeContainer:"CanvasToolbar_ResizeContainer__198p0",CropContainer:"CanvasToolbar_CropContainer__1_XTo",ColorContainer:"CanvasToolbar_ColorContainer__3uL9Q",OptionText:"CanvasToolbar_OptionText__cr_ng",ResizeDropdown:"CanvasToolbar_ResizeDropdown__2Fhs4",ColorPickerBorder:"CanvasToolbar_ColorPickerBorder__1sugA",ColorPicker:"CanvasToolbar_ColorPicker__3ROju",ColorDropdownContainer:"CanvasToolbar_ColorDropdownContainer__L8SXX"}},22:function(e,t,a){e.exports={Webinar:"Webinar_Webinar__3CCu4",Heading:"Webinar_Heading__2-VYO",Subheading:"Webinar_Subheading__wvhlo",TemplatesList:"Webinar_TemplatesList__3YOqH",Template:"Webinar_Template__2t8zc",TemplateInner:"Webinar_TemplateInner__3GfSd"}},23:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__3RMWK",BackFileInfoContainer:"Navbar_BackFileInfoContainer__3ky9K",BackButton:"Navbar_BackButton__1R1aO",BackArrow:"Navbar_BackArrow__2uTRU",FileInfoContainer:"Navbar_FileInfoContainer__3b5oQ",FileName:"Navbar_FileName__23abe",Creater:"Navbar_Creater__j3mKP",EditVideo:"Navbar_EditVideo__1kNxg",UserInfoContainer:"Navbar_UserInfoContainer__w_iEs",User:"Navbar_User__2G6Ae",UserInitials:"Navbar_UserInitials__1Z-As",LogInLink:"Navbar_LogInLink__BnnPz",SignUpLink:"Navbar_SignUpLink__33Ovn"}},24:function(e,t,a){e.exports={SelectSpeakers:"SelectSpeakers_SelectSpeakers__1sJES",Heading:"SelectSpeakers_Heading__8zH9K",Video:"SelectSpeakers_Video__3v4_Z",SelectedText:"SelectSpeakers_SelectedText__29VjD",SelectedNumber:"SelectSpeakers_SelectedNumber__u1ZaC",SpeakerButtons:"SelectSpeakers_SpeakerButtons__2E6zY",AddSpeakerButton:"SelectSpeakers_AddSpeakerButton__2jPJf",RemoveSpeakerButton:"SelectSpeakers_RemoveSpeakerButton__3EhX6",AddSpeakers:"SelectSpeakers_AddSpeakers__yU4j4",RemoveSpeakers:"SelectSpeakers_RemoveSpeakers__1IG3b",AddSpeakersText:"SelectSpeakers_AddSpeakersText__bYScV",RemoveSpeakersText:"SelectSpeakers_RemoveSpeakersText__2jvXO",NextSteps:"SelectSpeakers_NextSteps__nYc_K",Confirm:"SelectSpeakers_Confirm__29WEc",Skip:"SelectSpeakers_Skip__10Iwh"}},25:function(e,t,a){e.exports={Preview:"Preview_Preview__17wzV",Main:"Preview_Main__1ts9X",MainContent:"Preview_MainContent__3yphW",CustomPlayer:"Preview_CustomPlayer__2cIUh",VideoFooter:"Preview_VideoFooter__14BqQ",Title:"Preview_Title__1FDCi",DownloadAndLink:"Preview_DownloadAndLink__2b3Hg",Download:"Preview_Download__1l2FY",CopyLink:"Preview_CopyLink__g0mcY",HeadlineAndExport:"Preview_HeadlineAndExport__3vxHH",Headline:"Preview_Headline__2yd8P",ExportButton:"Preview_ExportButton__3t5_Z",Text:"Preview_Text__3m3nn"}},29:function(e,t,a){e.exports={DragDrop:"DragDrop_DragDrop__69U1q",UploadText:"DragDrop_UploadText__3BF2H",DropArea:"DragDrop_DropArea__3Ck_W",DropAreaContent:"DragDrop_DropAreaContent__2FbMw",DropAreaText:"DragDrop_DropAreaText__3Nk_9",DropAreaHeading:"DragDrop_DropAreaHeading__3SZMc",DropAreaSubheading:"DragDrop_DropAreaSubheading__37y0F",DropAreaBrowse:"DragDrop_DropAreaBrowse__1ku5G",Active:"DragDrop_Active__2Le0T"}},31:function(e,t,a){e.exports={WordContainer:"Words_WordContainer__2MxYw",Word:"Words_Word__3b2m1",Pause:"Words_Pause__33kzp",Deleted:"Words_Deleted__3CMYk",DeletedText:"Words_DeletedText__1n8km",WordInput:"Words_WordInput__3lLIb",CurrentWord:"Words_CurrentWord__3w6qS",Highlight:"Words_Highlight__cba72",DeletedImgContainer:"Words_DeletedImgContainer__2Mj9-",DeletedImg:"Words_DeletedImg__2JxpA",InSelection:"Words_InSelection__33LHP"}},314:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c=a(0),s=a.n(c),l=a(151),u=a.n(l),d=(a(175),a(3)),b=(a(176),a(152)),h=a.n(b),j=a(153),p=a.n(j),f=a(29),g=a.n(f),O=a.p+"static/media/upload.e681cc4b.svg",v=a(1),m=function(e){var t=e.setVideoForUpload,a=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useCallback)((function(e){return e.preventDefault(),e.dataTransfer.dropEffect="copy",n.current.classList.add(g.a.Active),!1}),[]),i=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),n.current.classList.add(g.a.Active)}),[]),o=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),n.current.classList.remove(g.a.Active)}),[]),s=Object(c.useCallback)((function(e){if("video/mp4"===e.type){var a=document.createElement("video");a.preload="metadata",a.onloadedmetadata=function(){a.duration>1&&t(e)},a.src=URL.createObjectURL(e)}}),[t]),l=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),n.current.classList.remove(g.a.Active);var t=e.dataTransfer.files[0];return s(t),!1}),[s]);return Object(c.useEffect)((function(){var e=n.current;return e.addEventListener("dragover",r,!1),e.addEventListener("dragenter",i,!1),e.addEventListener("dragleave",o,!1),e.addEventListener("drop",l,!1),function(){e.removeEventListener("dragover",r,!1),e.removeEventListener("dragenter",i,!1),e.removeEventListener("dragleave",o,!1),e.removeEventListener("drop",l,!1)}}),[r,l,i,o]),Object(v.jsxs)("div",{className:g.a.DragDrop,children:[Object(v.jsx)("p",{className:g.a.UploadText,children:"Upload a video or audio file"}),Object(v.jsx)("div",{ref:n,className:g.a.DropArea,onClick:function(){return a.current.click()},children:Object(v.jsxs)("div",{className:g.a.DropAreaContent,children:[Object(v.jsx)("img",{src:O,alt:"upload"}),Object(v.jsxs)("div",{className:g.a.DropAreaText,children:[Object(v.jsx)("p",{className:g.a.DropAreaHeading,children:"Drag & drop your file here"}),Object(v.jsxs)("p",{className:g.a.DropAreaSubheading,children:["or click to ",Object(v.jsx)("span",{className:g.a.DropAreaBrowse,children:"browse"})]})]})]})}),Object(v.jsx)("input",{ref:a,type:"file",accept:"video/mp4",style:{display:"none"},onChange:function(){return s(a.current.files[0])}})]})},S=a(55),x=a.n(S),C=function(e){var t=e.uploadProgress;return Object(v.jsxs)("div",{className:x.a.UploadProgress,children:[Object(v.jsxs)("p",{className:x.a.Percentage,children:[t,"%"]}),Object(v.jsx)("p",{className:x.a.Heading,children:"Uploading your video"}),Object(v.jsx)("div",{className:x.a.ProgressBar,children:Object(v.jsx)("div",{className:x.a.ProgressBarInner,style:{maxWidth:t+"%"}})}),Object(v.jsx)("p",{className:x.a.Subheading,children:"Please be patient. It may take several minutes."})]})},_=a(7),k=a.n(_),w=a(9),y=a(154),T=a.n(y),N=T.a.create({baseURL:"".concat("https://holovan.eu.ngrok.io","/api/v1")}),D=N,A=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(0),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useRef)(null),p=Object(c.useRef)(!1),f=function(e){var t=Math.round(100*e.loaded/e.total);p.current&&100!==t&&h(t)},g=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.post("/videos",e,{onUploadProgress:f,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),O=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(0),n(!0),e.prev=2,e.next=5,g(t);case 5:a=e.sent,console.log(a),p.current&&(h(100),j.current=a.data.subtitles.captions,s({id:a.data._id,duration:a.data.duration,url:a.data.original_video_url,title:a.data.title})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error Uploading Video",e.t0);case 13:return e.prev=13,p.current&&n(!1),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,13,17]])})));return function(t){return e.apply(this,arguments)}}(),[g]);return Object(c.useEffect)((function(){return p.current=!0,function(){return p.current=!1}}),[]),{isUploading:a,uploadVideo:O,words:j.current,info:o,uploadProgress:b}},I=a(23),R=a.n(I),P=a.p+"static/media/backArrow.0fa2b863.svg",F=a(15),E=a(8),B=a.p+"static/media/twiso.8864782d.svg",M=function(e){var t=e.children,a=e.videoData,n=e.isPreview,r=e.getVideoError,i=e.isAuth,o=Object(F.g)();return Object(v.jsxs)("header",{className:R.a.Navbar,children:[Object(v.jsxs)("div",{className:R.a.BackFileInfoContainer,children:[i||!n?Object(v.jsx)("div",{className:R.a.BackButton,onClick:function(){return o.goBack()},children:Object(v.jsx)("img",{className:R.a.BackArrow,src:P,alt:"back"})}):null,!i&&n?Object(v.jsx)("img",{className:R.a.Twiso,src:B,alt:"twiso"}):null,a&&!n?Object(v.jsxs)("div",{className:R.a.FileInfoContainer,children:[Object(v.jsx)("p",{className:R.a.FileName,children:a.title}),Object(v.jsx)("p",{className:R.a.Creater,children:"Dmitry"})]}):null,n&&i&&!r?Object(v.jsx)(E.b,{to:"/editor/".concat(a.id),className:R.a.EditVideo,children:"Edit video"}):null]}),t,!i&&n?Object(v.jsxs)("div",{className:R.a.UserInfoContainer,children:[Object(v.jsx)(E.b,{to:"/auth/sign-in",className:R.a.LogInLink,children:"Log in"}),Object(v.jsx)(E.b,{to:"/auth/sign-up",className:R.a.SignUpLink,children:"Get Twiso for free"})]}):null,i||!n?Object(v.jsx)("div",{className:R.a.UserInfoContainer,children:Object(v.jsx)("div",{className:R.a.User,children:Object(v.jsx)("p",{className:R.a.UserInitials,children:"DE"})})}):null]})},L=function(e){var t=e.viedoForUpload,a=e.setVideoForUpload,n=e.setVideoData,r=A(),i=r.uploadVideo,o=r.info,s=r.uploadProgress;return Object(c.useEffect)((function(){o&&n(o)}),[o,n]),Object(c.useEffect)((function(){if(t){var e=new FormData;e.append("video",t),i(e)}}),[t,i]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(M,{}),Object(v.jsx)("div",{className:p.a.Uploader,children:t?Object(v.jsx)(C,{uploadProgress:s}):Object(v.jsx)(m,{setVideoForUpload:a})})]})},H=a(107),U=a.n(H),W=a(49),V=a.n(W),z=a.p+"static/media/cut.663cdfbd.svg",Y=a.p+"static/media/search.243833c0.svg",G=function(e,t,a,n,r,i){"delete"===e?function(e,t,a,n){for(var r=[],i=!1,o=0,c=0,s=0,l=0,u=0;u<e.length;u++){var d=e[u];d.active&&i?(i=!1,e[c].next=u,r.push({start:o,end:l})):d.active||i?!d.active&&i&&(l=d.end,s=u):(i=!0,o=d.start,c=u,l=d.end)}i&&r.push({start:o,end:l}),i&&c!==e.length-1?e[c].next=s:i&&(e[c].next=e.length-1),null!==n&&a(n),t([].concat(r))}(t,a,n,r):"restore"===e&&function(e,t,a,n){e((function(e){for(var r=[],i=0;i<e.length;i++){var o=e[i];o.start!==n&&r.push(o)}return t(a),[].concat(r)}))}(a,n,r,i)},X=function(e,t,a,n,r){for(var i=null,o=e;o>=0;o--){if(t[o].active){i=o;break}}if(null===i)for(var c=e;c<t.length;c++){if(t[c].active){i=c;break}}a(i),G("delete",t,n,r,i)},q=a(2),K=a(31),Z=a.n(K),J=a.p+"static/media/restoreText.28a66a4d.svg",Q=Object(c.createContext)(null),$=Q,ee=function(e){var t=e.wordsArr,a=e.currentWordIndex,n=e.searchInput,r=e.wordClickHandler,i=e.inputIndex,o=e.setInputIndex,s=e.currentSelection,l=e.fabricSub,u=e.currentSub,b=e.setShouldRerenderSub,h=Object(c.useContext)($).editorDispatch,j=Object(c.useState)(""),p=Object(d.a)(j,2),f=p[0],g=p[1],O=Object(c.useRef)(null),m=function(e,t,a){!a&&t&&e?function(e,t){for(var a=u.val.words,n=0;n<a.length;n++){var r=a[n];if(r._id===e){var i=0===r.text.indexOf(" ");r.text=i?" "+t:t,r.silence&&(r.silence=!1);break}}}(e,t):t&&a?function(e,t){var a=u.val.words;if(a)for(var n=0;n<a.length;n++){var r=a[n];if(r._id===e){var i=0===n;t=i?t+" ":t;var o=0!==r.text.indexOf(" ");r.text=o&&!i?" "+t:t,r.silence&&(r.silence=!1);break}}else u.val.silence=!1,u.val.words=[Object(q.a)(Object(q.a)({},u.val),{},{text:t})]}(e,t):e&&function(e){for(var t=u.val.words,a=0,n=0;n<t.length;n++){var r=t[n];r._id===e&&(r.text="",r.silence=!0),r.silence&&a++}a===t.length&&(u.val.silence=!0,u.val.words=null)}(e),b(!0)},S=function(e){var a=e.target.parentNode.id,n=f.trim().length>0?f:null;t[i]&&(n&&!t[i].silence?(t[i].text=n,l&&m(a,n,!1)):n?(t[i].text=n,t[i].silence=!1,l&&m(a,n,!0)):(l&&!t[i].silence&&m(a,n,!1),t[i].silence=!0)),g(""),o(null),h({type:"setShouldTriggerWordsUpdate",data:!0})},x=!1,C=!0,_=!1,k=!1;return Object(c.useEffect)((function(){null!==i&&(O.current.focus(),t[i]&&!t[i].silence&&g(t[i].text))}),[i,t]),t.map((function(e,t){C=!(x&&!e.active);var o=t===a&&!s&&e.active,c=!e.silence&&e.active&&n.trim().length>1&&e.text.trim().toLowerCase().includes(n.trim().toLowerCase());x||e.active||(x=!0),x&&e.active&&(x=!1),s&&s.start===t?_=!0:s&&s.end===t?k=!0:k&&(_=!1,k=!1);var l=null!==i&&o,u=l?Object(v.jsx)("input",{ref:O,className:Z.a.WordInput,type:"text",value:f,onBlur:S,onChange:function(e){return g(e.target.value)}}):Object(v.jsx)("span",{className:e.silence?Z.a.Pause:Z.a.Word,children:e.silence?"\u2022\u2022\u2022\u2022 ":e.text+" "}),d=e.active?u:Object(v.jsxs)("span",{className:Z.a.Deleted,children:[Object(v.jsx)("span",{className:Z.a.DeletedImgContainer,children:Object(v.jsx)("img",{className:Z.a.DeletedImg,src:J,alt:"restore text"})}),Object(v.jsx)("span",{className:Z.a.DeletedText,children:"[...] "})]}),b={width:"auto"};return l&&(b.width=e.silence?"70px":1.5*e.text.length+"ch",b.marginRight="0.4rem"),C?Object(v.jsx)("span",{style:b,id:e._id,className:[Z.a.WordContainer,o?Z.a.CurrentWord:null,c?Z.a.Highlight:null,_?Z.a.InSelection:null].join(" "),onClick:function(t){return r(t,!e.active)},children:d},e._id):null}))},te=function(e,t,a){var n=t[e];if(a&&n){for(var r=a.head,i=0;i<a.length;i++){var o=r.val;if(o.words&&+o.end>=+n.start)for(var c=0;c<o.words.length;c++){var s=o.words[c];if(s&&s._id===n._id)return r}else if(o.silence&&n._id===o._id)return r;r=r.next}return null}return null},ae=function(e,t){for(var a=0;a<t.length;a++){if(t[a]._id===e)return a}return null},ne=a(12),re=a(60),ie=a.n(re),oe=function(e){var t=e.status,a=e.words,n=e.setIsFinished,r=Object(c.useState)(0),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useRef)(null),b=Object(c.useState)(!0),h=Object(d.a)(b,2),j=h[0],p=h[1];Object(c.useEffect)((function(){j&&(t.isFinished&&n(!0),p(!1))}),[j,t,n]),Object(c.useEffect)((function(){var e=u.current;return function(){e&&clearInterval(e)}}),[]);var f=Object(c.useCallback)((function(e){var t=setInterval((function(){l.current&&s((function(e){return e>=99?(clearInterval(t),99):e+1}))}),e);u.current=t}),[]),g=Object(c.useCallback)((function(e){if(e.timeLeft&&e.timeLeft>1){u.current&&clearInterval(u.current);var t=new Date(1e3*+e.startDate),a=new Date,n=Math.floor((a-t)/1e3),r=100*n/(n+e.timeLeft);s(r);var i=1e3*e.timeLeft/(100-r);s(r),f(i)}else s(99)}),[f]);return Object(c.useEffect)((function(){if(!j&&t.isFinished){clearInterval(u.current);var e=setInterval((function(){l.current&&s((function(t){return t>=100?(clearInterval(e),100):t+1}))}),100)}else g(t);return function(){0}}),[j,t,g]),Object(c.useEffect)((function(){var e=null;return 100===o&&a&&(e=setTimeout((function(){l.current&&n(!0)}),500)),function(){null!==e&&clearTimeout(e)}}),[o,a,n]),Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),Object(v.jsx)("div",{className:ie.a.TranscriptionProgress,children:j?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{className:ie.a.Heading,children:"We are transcribing your video, this process may take several minutes. Once it's finished, you can edit your video by editing text."}),Object(v.jsxs)("p",{className:ie.a.Percentage,children:[Math.floor(o),"%"]}),Object(v.jsx)("div",{className:ie.a.Box,children:Object(ne.a)(Array(20)).map((function(e,t){return Object(v.jsx)("div",{className:ie.a.Line},t)}))})]})})},ce=function(e){var t=e.words,a=e.currentWordIndex,n=e.setCurrentWordIndex,r=e.isPlaying,i=e.videoRef,o=e.setCuts,s=e.currentSelection,l=e.setCurrentSelection,u=e.currentSub,b=e.fabricSub,h=e.setShouldRerenderSub,j=e.setCurrentTime,p=e.setNextCutIndex,f=e.videoCuts,g=e.status,O=Object(c.useState)(""),m=Object(d.a)(O,2),S=m[0],x=m[1],C=Object(c.useState)(null),_=Object(d.a)(C,2),k=_[0],w=_[1],y=Object(c.useState)(!0),T=Object(d.a)(y,2),N=T[0],D=T[1],A=Object(c.useState)(!1),I=Object(d.a)(A,2),R=I[0],P=I[1],F=Object(c.useCallback)((function(e){var a="0";if(null!==e){var n=t[e];a=n.end,i.current.currentTime=+n.start,j(+n.start)}for(var r=0,o=0;o<f.length;o++){+a>+f[o].end&&r++}p(r)}),[j,p,f,i,t]);Object(c.useEffect)((function(){N&&t&&(D(null),X(0,t,n,o,F))}),[N,t,o,F,n]);var E=Object(c.useCallback)((function(e,a,r,i,o,c){var s="",u="";if(a.parentNode.id===r.parentNode.id){var d=ae(a.parentNode.id,t);a.parentNode.id&&null!==d&&(F(d),n(d)),e.removeAllRanges(),l(null)}else i&&o?4===c?(s=a.parentNode.id,u=r.parentNode.id):2===c&&(s=r.parentNode.id,u=a.parentNode.id):i?4===c?(s=a.parentNode.id,u=a.parentNode.parentNode.lastChild.id):2===c&&(s=a.parentNode.parentNode.firstChild.id,u=a.parentNode.id):o&&(4===c?(s=a.parentNode.parentNode.firstChild.parentNode.id,u=r.id):2===c&&(s=r.id,u=a.parentNode.parentNode.lastChild.parentNode.id));if(""!==s&&""!==u){var b=ae(s,t),h=ae(u,t);null!==b&&null!==h&&(l({start:b,end:h}),F(b),n(b))}}),[n,l,F,t]),B=Object(c.useCallback)((function(e){var t=document.getSelection();if(e.detail<2&&t.anchorNode&&t.focusNode){var a=t.anchorNode.parentNode,n=t.focusNode.parentNode,o="SPAN"===a.tagName,c="SPAN"===n.tagName,s=t.anchorNode.compareDocumentPosition(t.focusNode);!o&&!c||t.isCollapsed||(r&&i.current.pause(),E(t,a,n,o,c,s))}}),[E,r,i]);Object(c.useEffect)((function(){return document.addEventListener("mouseup",B),function(){return document.removeEventListener("mouseup",B)}}),[B]);return Object(v.jsxs)("div",{className:V.a.Transcription,children:[Object(v.jsxs)("div",{className:V.a.TextControls,children:[Object(v.jsxs)("div",{className:V.a.CutContainer,onClick:function(){r&&i.current.pause(),!s&&null!==a&&t?function(e,t,a,n,r){e[t].active=!1,X(t,e,a,n,r)}(t,a,n,o,F):s&&t&&function(e,t,a,n,r,i){for(var o=a.start,c=a.end,s=o;s<e.length&&(e[s].active=!1,s!==c);s++);X(o,e,t,r,i),n(null)}(t,n,s,l,o,F),document.getSelection().removeAllRanges()},children:[Object(v.jsx)("img",{src:z,alt:"cut"}),Object(v.jsx)("p",{children:"Cut"})]}),Object(v.jsxs)("div",{className:V.a.SearchContainer,children:[Object(v.jsx)("input",{value:S,onChange:function(e){return x(e.target.value)},className:V.a.SearchInput,placeholder:"Search",type:"text"}),Object(v.jsx)("img",{className:V.a.SearchSvg,src:Y,alt:"search"})]})]}),Object(v.jsx)("div",{id:"textbox",className:V.a.Text,children:R?Object(v.jsx)(ee,{wordsArr:t,currentWordIndex:a,searchInput:S,wordClickHandler:function(e,a){var c=e.currentTarget.id,s=ae(c,t);r&&i.current.pause(),e.detail>1&&null===k&&w(s),a||null!==k||null===s?null===k&&function(e,t,a,n,r,i){for(var o=t;o<e.length;o++){var c=e[o];if(c.active)break;c.active=!0,null!==c.next&&(c.next=null)}var s=e[t].start;G("restore",null,r,i,t,s),n(null),a(t)}(t,s,n,l,o,F):(l(null),F(s),n(s))},inputIndex:k,setInputIndex:w,currentSelection:s,fabricSub:b,currentSub:u,setShouldRerenderSub:h}):Object(v.jsx)(oe,{status:g,words:t,setIsFinished:P})})]})},se=a(65),le=a.n(se),ue=a(108),de=a.n(ue),be=a(4),he=function(){var e=Object(w.a)(k.a.mark((function e(t,a,n,r,i,o,c,s){var l,u,d,b,h,j,p,f,g,O,v,m,S;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.imageToAdd.src,u=o.filter((function(e){return e.src===l}))[0],t.shouldReplaceImage?(d=a.getActiveObject(),u?(b=d.width*d.scaleX/u.width,h=new be.fabric.CustomImage(u,{originalWidth:u.width,originalHeight:u.height,width:u.width,height:u.height,src:l,scaleX:b,scaleY:b,top:d.top,left:d.left,id:d.id,cornerRadius:d.cornerRadius,angle:d.angle,isSvg:"svg"===t.imageToAdd.type,crossOrigin:"Anonymous"}),a.remove(d),a.add(h).setActiveObject(h),a.requestRenderAll(),n({type:"setShouldUpdateImage",data:!0})):((j=new Image).src=l,p=new be.fabric.CustomImage(j,{originalWidth:0,originalHeight:0,width:d.width,height:d.height,src:l,scaleX:d.scaleX,scaleY:d.scaleY,top:d.top,left:d.left,id:d.id,cornerRadius:d.cornerRadius,angle:d.angle,isSvg:"svg"===t.imageToAdd.type,crossOrigin:"Anonymous"}),a.remove(d),a.add(p).setActiveObject(p),a.requestRenderAll(),j.onload=function(){var e=d.width*d.scaleX/j.width;p.originalWidth=j.width,p.originalHeight=j.height,p.width=j.width,p.height=j.height,p.scaleX=e,p.scaleY=e,a.requestRenderAll(),s.current&&c((function(e){return[].concat(Object(ne.a)(e),[j])})),n({type:"setShouldUpdateImage",data:!0})}),n({type:"setShouldReplaceImage",data:!1})):u?(f=new be.fabric.CustomImage(u,{originalWidth:u.width,originalHeight:u.height,width:u.width,height:u.height,src:l,scaleX:256/u.width,scaleY:256/u.width,left:100,top:100,id:r,cornerRadius:0,isSvg:"svg"===t.imageToAdd.type,crossOrigin:"Anonymous"}),a.add(f).setActiveObject(f),a.requestRenderAll(),i()):((g=new Image).src=l,O=g.width,v=g.height,0!==O&&0!==v||(O=256,v=320),m=256/O,S=new be.fabric.CustomImage(g,{originalWidth:0,originalHeight:0,width:O,height:v,src:l,scaleX:m,scaleY:m,left:100,top:100,id:r,cornerRadius:0,isSvg:"svg"===t.imageToAdd.type,crossOrigin:"Anonymous"}),a.add(S).setActiveObject(S),a.requestRenderAll(),i(),g.onload=function(){S.originalWidth=g.width,S.originalHeight=g.height,S.width=g.width,S.height=g.height,S.scaleX=256/g.width,S.scaleY=256/g.width,a.requestRenderAll(),s.current&&c((function(e){return[].concat(Object(ne.a)(e),[g])}))}),n({type:"setImageToAdd",data:null});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,o,c,s){return e.apply(this,arguments)}}(),je=function(e,t,a,n,r){a({type:"setShapeToAdd",data:null});var i=null;"square"===e.shapeToAdd?i=new be.fabric.Rect({left:100,top:100,width:152,height:152,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"circle"===e.shapeToAdd?i=new be.fabric.Circle({left:100,top:100,radius:76,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"triangle"===e.shapeToAdd?i=new be.fabric.Triangle({left:100,top:100,width:152,height:150,noScaleCache:!1,strokeUniform:!0,fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0}):"line"===e.shapeToAdd&&(i=new be.fabric.Line([0,0,300,0],{left:100,top:100,stroke:"rgba(196,196,196,1)",strokeWidth:2,noScaleCache:!1,rx:0,ry:0})),i&&(i.id=n,t.add(i).setActiveObject(i),t.requestRenderAll(),r())},pe=function(e,t,a,n,r,i,o){var s=Object(c.useRef)(!1);Object(c.useEffect)((function(){return s.current=!0,function(){return s.current=!1}}),[]),Object(c.useEffect)((function(){e.shapeToAdd?je(e,a,t,n,r):e.imageToAdd?he(e,a,t,n,r,i,o,s):e.shouldAddText&&function(e,t,a,n,r){a({type:"setShouldAddText",data:!1});var i=new be.fabric.CustomTextbox("Add\u2004text\u200e",Object(q.a)({left:100,top:100,width:130,paddingX:40,paddingY:0,splitByGrapheme:!0,cursorWidth:.5},t.textState));i.id=n,e.add(i).setActiveObject(i),e.requestRenderAll(),r()}(a,e,t,n,r)}),[a,t,e,n,r,i,o])},fe=Object(c.createContext)(null),ge=["fontFamily","fontStyle","fontWeight","fontSize","fill","opacity","textAlign"],Oe=["fill","stroke","strokeWidth","rx","ry"],ve=["cornerRadius","isSvg"],me=["cornerRadius","stroke","strokeWidth"],Se=function(e,t,a,n){var r={};"video"===e.target.type&&null===e.target.stroke&&(e.target.stroke="rgba(255,255,255,1)"),n.forEach((function(t){r[t]=e.target[t]})),t({type:a,data:r})},xe=function(e,t){var a={type:"",object:null};t({type:"setCurrentCoords",data:e.target.lineCoords}),"customTextbox"===e.target.type?(a.type="text",Se(e,t,"setTextState",ge)):"customImage"===e.target.type?(a.type="customImage",Se(e,t,"setImageState",ve)):"subtitle"===e.target.type?a.type="subtitle":"video"===e.target.type?(a.type="video",Se(e,t,"setVideoState",me)):(a.type=e.target.type,Se(e,t,"setShapeState",Oe)),a.object=e.target,t({type:"setCurrentObject",data:a})},Ce=function(e){e.off("selection:created"),e.off("selection:updated"),e.off("selection:cleared"),e.off("object:modified"),e.off("object:added"),e.off("object:removed"),e.off("object:rotating"),e.off("object:rotated"),e.off("object:scaling"),e.off("object:scaled"),e.off("object:skewing"),e.off("object:skewed"),e.off("object:moved"),e.off("text:editing:entered"),e.off("text:editing:exited")},_e=function(e,t,a,n){var r=Object(c.useContext)(fe),i=r.eventState,o=r.eventDispatch,s=Object(c.useState)(!1),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useState)(!1),j=Object(d.a)(h,2),p=j[0],f=j[1],g=Object(c.useState)(!1),O=Object(d.a)(g,2),v=O[0],m=O[1],S=Object(c.useState)(!1),x=Object(d.a)(S,2),C=x[0],_=x[1],k=Object(c.useRef)(!0),w=Object(c.useRef)(null),y=Object(c.useCallback)((function(e){var a=e.target;a.isOnScreen()||("subtitle"===a.id?(a.left=t.getWidth()/t.getZoom()/2,a.top=t.getHeight()/t.getZoom()-a.height-a.paddingY):(a.top=0,a.left=0,a.angle=0),a.setCoords())}),[t]),T=Object(c.useCallback)((function(e,t,a){e.on("text:editing:entered",(function(t){return function(e,t,a){a(!0),"Add\u2004text\u200e"===e.target.text&&(e.target.text="",e.target.hiddenTextarea.value="",t.requestRenderAll())}(t,e,_)})),e.on("text:editing:exited",(function(t){return function(e,t,a){a(!1),""===e.target.text&&(e.target.text="Add\u2004text\u200e"),t.requestRenderAll()}(t,e,_)})),e.on("selection:created",(function(n){return function(e,t,a,n){"activeSelection"!==e.target.type?(n&&a({type:"setShowCanvasToolbar",data:!1}),xe(e,a)):t.discardActiveObject()}(n,e,t,a)})),e.on("selection:updated",(function(e){return function(e,t){t({type:"setShowToolbar",data:!1}),xe(e,t)}(e,t)})),e.on("object:modified",(function(e){return function(e,t){xe(e,t),"subtitle"!==e.target.id&&t({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,t)})),e.on("object:added",(function(e){return function(e,t){t({type:"setShouldTriggerCanvasUpdate",data:!0})}(0,t)})),e.on("object:removed",(function(e){return function(e,t){t({type:"setShouldTriggerCanvasUpdate",data:!0})}(0,t)})),e.on("selection:cleared",(function(e){return function(e,t,a){a.current=null,t({type:"setCurrentObject",data:{type:"",object:null}}),t({type:"setCurrentCoords",data:null})}(0,t,w)})),e.on("object:rotating",(function(){return b(!0)})),e.on("object:rotated",(function(){return b(!1)})),e.on("object:scaling",(function(){return f(!0)})),e.on("object:scaled",(function(e){y(e),f(!1)})),e.on("object:skewing",(function(){return m(!0)})),e.on("object:skewed",(function(){return m(!1)})),e.on("object:moved",(function(e){y(e),o({type:"setIsMoving",data:!1})}))}),[o,y]);Object(c.useEffect)((function(){return e&&(a.isCropMode?Ce(t):T(t,n,a.showCanvasToolbar)),function(){e&&Ce(t)}}),[n,e,t,T,a.isCropMode,a.showCanvasToolbar]),Object(c.useEffect)((function(){if(!k.current){var e=!0;(u||p||v||i.isMoving||C||!a.currentCoords||a.isCropMode)&&(e=!1),n({type:"setShowToolbar",data:e})}}),[i,u,p,v,C,a.isCropMode,a.currentCoords,a.currentObject,n]),Object(c.useEffect)((function(){k.current?k.current=!1:a.currentCoords?a.currentObject.object&&a.currentObject.object.id!==w.current&&(w.current=a.currentObject.object.id,n({type:"setShowToolbar",data:!0})):n({type:"setShowToolbar",data:!1})}),[a.currentCoords,a.currentObject,n,a.isCropMode])},ke=function(e,t,a,n,r,i,o,c,s){r.save(),r.lineWidth=i,r.strokeStyle=o,r.beginPath(),r.moveTo((e+c[4])*s,(t+c[5])*s),r.lineTo((a+c[4])*s,(n+c[5])*s),r.stroke(),r.restore()},we=function(e,t,a){e=Math.round(e),t=Math.round(t);for(var n=e-a,r=e+a;n<=r;n++)if(n===t)return!0;return!1},ye=function(e,t,a,n,r,i){ke(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1,t,a,n,r,i)},Te=function(e,t,a,n,r,i){ke(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5,t,a,n,r,i)},Ne=function(e,t,a,n,r,i,o,c){r.save(),r.strokeStyle=i,r.lineWidth=o,r.beginPath(),r.moveTo(e*c[0],t*c[3]),r.lineTo(a*c[0],n*c[3]),r.stroke(),r.restore()},De=function(e,t,a,n,r,i){var o=Object(c.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(null),h=Object(d.a)(b,2),j=h[0],p=h[1],f=Object(c.useState)([]),g=Object(d.a)(f,2),O=g[0],v=g[1],m=Object(c.useState)([]),S=Object(d.a)(m,2),x=S[0],C=S[1],_=Object(c.useState)(1),k=Object(d.a)(_,2),w=k[0],y=k[1],T=Object(c.useState)(null),N=Object(d.a)(T,2),D=N[0],A=N[1],I=Object(c.useState)(null),R=Object(d.a)(I,2),P=R[0],F=R[1],E=Object(c.useState)({}),B=Object(d.a)(E,2),M=B[0],L=B[1],H=Object(c.useState)({}),U=Object(d.a)(H,2),W=U[0],V=U[1],z=Object(c.useState)(null),Y=Object(d.a)(z,2),G=Y[0],X=Y[1],q=Object(c.useState)(null),K=Object(d.a)(q,2),Z=K[0],J=K[1],Q="rgb(111, 123, 208)",$="rgb(111, 123, 208)",ee=Object(c.useCallback)((function(){p(a.viewportTransform),y(a.getZoom())}),[a]),te=Object(c.useCallback)((function(){a.clearContext(a.contextTop)}),[a]),ae=Object(c.useCallback)((function(e){!function(e,t,a,n,r,i,o){var c=e.target,s=t.getObjects(),l=c.getCenterPoint(),u=l.x,d=l.y,b=c.getBoundingRect(),h=b.height/a[3],j=b.width/a[0],p=!1,f=!1;if(t._currentTransform){for(var g=function(e){if(s[e]===c)return"continue";var t=s[e].getCenterPoint(),l=t.x,b=t.y,g=s[e].getBoundingRect(),O=g.height/a[3],v=g.width/a[0];we(l,u,o)&&(f=!0,r((function(e){return[].concat(Object(ne.a)(e),[{x:l,y1:b<d?b-O/2-n:b+O/2+n,y2:d>b?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(l,d),"center","center")),we(l-v/2,u-j/2,o)&&(f=!0,r((function(e){return[].concat(Object(ne.a)(e),[{x:l-v/2,y1:b<d?b-O/2-n:b+O/2+n,y2:d>b?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(l-v/2+j/2,d),"center","center")),we(l+v/2,u+j/2,o)&&(f=!0,r((function(e){return[].concat(Object(ne.a)(e),[{x:l+v/2,y1:b<d?b-O/2-n:b+O/2+n,y2:d>b?d+h/2+n:d-h/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(l+v/2-j/2,d),"center","center")),we(b,d,o)&&(p=!0,i((function(e){return[].concat(Object(ne.a)(e),[{y:b,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(u,b),"center","center")),we(b-O/2,d-h/2,o)&&(p=!0,i((function(e){return[].concat(Object(ne.a)(e),[{y:b-O/2,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(u,b-O/2+h/2),"center","center")),we(b+O/2,d+h/2,o)&&(p=!0,i((function(e){return[].concat(Object(ne.a)(e),[{y:b+O/2,x1:l<u?l-v/2-n:l+v/2+n,x2:u>l?u+j/2+n:u-j/2-n}])})),c.setPositionByOrigin(new be.fabric.Point(u,b+O/2-h/2),"center","center"))},O=s.length;O--;)g(O);p||i([]),f||r([])}}(e,a,j,5,v,C,4),function(e,t,a,n,r,i,o,c){var s=e.target,l=s.getCenterPoint();if(t._currentTransform){var u=Math.round(l.x)in r,d=Math.round(l.y)in i;a(u),n(d),(u||d)&&s.setPositionByOrigin(new be.fabric.Point(u?o/2:l.x,d?c/2:l.y),"center","center")}}(e,a,X,J,M,W,D,P)}),[a,j,P,W,D,M]),re=Object(c.useCallback)((function(){for(var e=O.length;e--;)ye(O[e],l,1,Q,j,w);for(var t=x.length;t--;)Te(x[t],l,1,Q,j,w);v([]),C([]),G&&function(e,t,a,n,r,i){Ne(e+.5,0,e+.5,t,a,n,r,i)}(D/2,P,l,$,1,j),Z&&function(e,t,a,n,r,i){Ne(0,e+.5,t,e+.5,a,n,r,i)}(P/2,D,l,$,1,j)}),[l,j,x,O,w,P,D,Z,G]),ie=Object(c.useCallback)((function(){v([]),C([]),X(null),J(null),a.requestRenderAll()}),[a]),oe=Object(c.useCallback)((function(){u(a.getSelectionContext()),A(a.getWidth()/a.getZoom()),F(a.getHeight()/a.getZoom());for(var e={},t={},n=D/2-4,r=D/2+4;n<=r;n++)e[Math.round(n)]=!0;for(var i=P/2-4,o=P/2+4;i<=o;i++)t[Math.round(i)]=!0;L(e),V(t)}),[P,D,a]),ce=Object(c.useCallback)((function(e){e.off("mouse:down"),e.off("object:moving"),e.off("before:render"),e.off("after:render"),e.off("mouse:up"),e.off("mouse:dblclick")}),[]),se=Object(c.useCallback)((function(e){e.off("before:render"),e.off("after:render")}),[]);Object(c.useEffect)((function(){t&&oe()}),[e.shouldUpdateCanvasSize,t,oe]),Object(c.useEffect)((function(){return t&&l&&!i?(a.on("mouse:down",ee),a.on("object:moving",(function(e){r&&!n.isMoving&&r({type:"setIsMoving",data:!0}),ae(e)})),a.on("mouse:up",(function(e){r&&3===e.button&&(r({type:"setRightClickEvent",data:e}),e.e.preventDefault()),ie(e)})),a.on("mouse:dblclick",(function(e){!e.target||"customImage"!==e.target.type&&"video"!==e.target.type||r({type:"setDbClickEvent",data:e})}))):i&&ce(a),function(){t&&l&&ce(a)}}),[n,r,e.shouldUpdateCanvasSize,i,ce,t,l,a,ie,ae,ee]),Object(c.useEffect)((function(){return t&&l&&!i?(a.on("before:render",te),a.on("after:render",re)):i&&se(a),function(){t&&l&&se(a)}}),[e.shouldUpdateCanvasSize,i,se,t,l,a,re,te])},Ae=a(156),Ie=a.n(Ae),Re=["Inter"],Pe=function(e,t){var a=0,n=e.width,r=e.height;return e.cropRect&&(n=e.cropRect.w,r=e.cropRect.h),a=(n+=e.strokeWidth)<(r+=e.strokeWidth)?n*t/200:r*t/200,new be.fabric.Rect({width:e.width+e.strokeWidth,height:e.height+e.strokeWidth,rx:a,ry:a,left:(-e.width-e.strokeWidth)/2,top:(-e.height-e.strokeWidth)/2,noScaleCache:!1})},Fe=function(e,t,a,n){Ie.a.load({google:{families:[a]},timeout:5e3,fontactive:function(a,r){t.set({fontFamily:a}),e.requestRenderAll(),n&&n({type:"setShouldTriggerCanvasUpdate",data:!0})}})},Ee=["rect","circle","triangle","line"],Be=function(e,t,a){Object(c.useEffect)((function(){e.shouldUpdateSubtitles&&function(e,t,a){var n=e.currentObject.object;if(n){var r=e.subtitlesState;n._clearCache();for(var i=0,o=Object.entries(r);i<o.length;i++){var c=Object(d.a)(o[i],2),s=c[0],l=c[1];"fontFamily"!==s&&n.set(s,l)}Re.includes(r.fontFamily)?(n.set({fontFamily:r.fontFamily}),t.requestRenderAll()):(Fe(t,n,r.fontFamily),Re.push(r.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateSubtitles",data:!1})}(e,a,t),e.shouldUpdateText&&function(e,t,a){var n=e.currentObject.object,r=e.textState;if(r&&n){n._clearCache();for(var i=0,o=Object.entries(r);i<o.length;i++){var c=Object(d.a)(o[i],2),s=c[0],l=c[1];"fontFamily"!==s&&n.set(s,l)}Re.includes(r.fontFamily)?(n.set({fontFamily:r.fontFamily}),t.requestRenderAll(),a({type:"setShouldTriggerCanvasUpdate",data:!0})):(Fe(t,n,r.fontFamily,a),Re.push(r.fontFamily)),e.showToolbar||a({type:"setShowToolbar",data:!0})}a({type:"setShouldUpdateText",data:!1})}(e,a,t),e.shouldUpdateShape&&Ee.includes(e.currentObject.type)&&function(e,t,a){var n=e.currentObject.object;if(n){for(var r=0,i=Object.entries(e.shapeState);r<i.length;r++){var o=Object(d.a)(i[r],2),c=o[0],s=o[1];n.set(c,s)}e.showToolbar||a({type:"setShowToolbar",data:!0}),t.requestRenderAll()}a({type:"setShouldUpdateShape",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t),e.shouldUpdateImage&&"customImage"===e.currentObject.type&&function(e,t,a){var n=e.currentObject.object;if(n&&"customImage"===n.type&&n.originalWidth>0&&n.originalHeight>0){var r=e.imageState.cornerRadius;n.set("clipPath",Pe(n,r)),n.cornerRadius=r,t.requestRenderAll()}a({type:"setShouldUpdateImage",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t),e.shouldUpdateVideo&&function(e,t,a){var n=e.currentObject.object;if(n&&"video"===n.type){var r=e.videoState.cornerRadius;0===r?n.clipPath=null:n.set("clipPath",Pe(n,r));for(var i=0,o=Object.entries(e.videoState);i<o.length;i++){var c=Object(d.a)(o[i],2),s=c[0],l=c[1];n.set(s,l)}e.showToolbar||a({type:"setShowToolbar",data:!0}),t.requestRenderAll()}a({type:"setShouldUpdateVideo",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t)}),[e,t,a])},Me=function(e,t){var a=Math.min(e.width/e.videoWidth,e.height/e.videoHeight);t.setZoom(a),t.setDimensions({width:e.width,height:e.height}),t.renderAll()},Le=function(e,t,a,n){var r=t.getZoom(),i=t.getWidth()/r,o=t.getHeight()/r,c=e.height*e.scaleY,s=e.width*e.scaleX,l="subtitle"===e.type,u="customTextbox"===e.type||l,d="vertical"===a,b=d&&(s>2*i/3||c>2*o/3);if(b&&u)e.width=i/2,s=i/2;else if(b){var h=2*i/3/e.width;e.scaleX=h,e.scaleY=h,s=e.width*e.scaleX,c=e.height*e.scaleY}if(u&&d&&+e.fontSize>30&&n&&(e.fontSize=30,n({type:l?"setSubtitlesFontSize":"setFontSize",data:30})),e.isOnScreen()||l){if(l){e.left=i/2;var j=o-e.height-e.paddingY;e.top=j>0?j:e.height/2,e.width=550<i/2?550:i/2}}else(e.top>o||e.top<0)&&(e.top=o-c),(e.left>i||e.left<0)&&(e.left=i-s);e.setCoords()},He=function(e,t,a){Object(c.useEffect)((function(){e.shouldUpdateCanvas&&function(e,t,a){t.backgroundColor=e.backgroundColor,t.requestRenderAll(),a({type:"setShouldUpdateCanvas",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t),e.shouldUpdateCanvasSize&&function(e,t,a){if(a({type:"setShouldUpdateCanvasSize",data:!1}),t){t.discardActiveObject();var n=t.resize!==e.resize;if(t.resize=e.resize,Me(e,t),n){for(var r=t.getObjects(),i=0;i<r.length;i++){var o=r[i];Le(o,t,e.resize,a)}a({type:"setShouldTriggerCanvasUpdate",data:!0})}t.renderAll()}}(e,a,t)}),[e,t,a])},Ue=function(e,t,a,n,r,i,o,s,l){var u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(c.useRef)(!1);Object(c.useEffect)((function(){return p.current=!0,function(){return p.current=!1}}),[]),Object(c.useEffect)((function(){if(h&&e.width>0&&l){var c=n&&n.canvas&&n.canvas.objects.length>0,u=0===i.length&&c;u&&r(!0),function(e,t,a,n,r,i,o,c){var s=new be.fabric.Canvas("canvas",{width:e.videoWidth,height:e.videoHeight,resize:e.resize,backgroundColor:"rgba(255,255,255,1)",preserveObjectStacking:!0,fireRightClick:!0,stopContextMenu:!0,selection:!1});if(t.canvas){s.clear();var l=[],u=1;s.loadFromJSON(t.canvas,(function(){for(var t=s.getObjects(),d=[],b=0;b<t.length;b++){var h=t[b];a||"video"!==h.type?(h.id=u,u++,"customTextbox"===h.type?d.push(h):"video"===h.type&&l.push(h)):s.remove(h)}for(var j=0;j<d.length;j++){var p=d[j];Fe(s,p,p.fontFamily)}c.current&&(Me(e,s),n(u),r(s),i(!0),a&&o(l))}))}else Me(e,s),r(s),i(!0)}(e,n,u,o,t,a,s,p),j(!1)}}),[i,t,a,e,h,n,r,o,s,l])},We=function(e,t,a,n,r,i,o,s){var l=Object(c.useState)(!0),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useCallback)((function(e,t,a){return new be.fabric.Video(e,{id:a,src:e.src,originalWidth:e.videoWidth,originalHeight:e.videoHeight,left:t.x,top:t.y,width:t.w,height:t.h,stroke:"rgba(255,255,255,1)",cropRect:Object(q.a)({},t)})}),[]);Object(c.useEffect)((function(){if(b&&!o&&e&&t){h(!1);var a=[],c=r;if(n.length>0)for(var l=0;l<n.length;l++){var u=n[l],d=j(e,u,c);t.add(d),c++,Le(d,t,t.resize,null),a.push(d)}else{var p=j(e,{w:e.videoWidth,h:e.videoHeight,x:0,y:0},c);t.add(p),c++,Le(p,t,t.resize,null),a.push(p)}s(a),i(c)}}),[o,r,i,e,t,b,j,n,s])},Ve=function(e,t,a,n,r,i,o){var c=t.coords.top+15,s=t.coords.left+15,l=t.object.type;t.object.clone((function(u){u.id=a,u.top=c,u.left=s,"customImage"===l?(u.isSvg=t.object.isSvg,u.cornerRadius=t.object.cornerRadius):"customTextbox"===l?u.cursorWidth=.5:"line"===l?(u.borderColor="transparent",u.noScaleCache=!1):(u.noScaleCache=!1,u.strokeUniform=!0),e.add(u).setActiveObject(u),o&&e.bringToFront(o),e.requestRenderAll(),r({object:t.object,coords:{top:c,left:s}}),n(),i&&i({type:"setRightClickEvent",data:null})}))},ze=function(e,t,a,n,r,i){if(t){var o=e.ctrlKey||e.metaKey;"Delete"===e.code||"Delete"===e.key||"Backspace"===e.code||"Backspace"===e.key?function(e){var t=e.getActiveObject();"INPUT"===document.activeElement.tagName||!t||t.isEditing||"video"===t.type||"subtitle"===t.id||(e.remove(t),e.discardActiveObject().requestRenderAll())}(t):"KeyC"===e.code||"c"===e.key?o&&(e.preventDefault(),n(!0)):"KeyV"===e.code||"v"===e.key?o&&(e.preventDefault(),a(!0)):"BracketRight"===e.code||"]"===e.key?o&&(e.preventDefault(),r(!0)):"BracketLeft"!==e.code&&"["!==e.key||o&&(e.preventDefault(),i(!0))}},Ye=function(e,t,a,n,r,i,o){var s=Object(c.useState)(!1),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useState)(!1),j=Object(d.a)(h,2),p=j[0],f=j[1],g=Object(c.useState)(!1),O=Object(d.a)(g,2),v=O[0],m=O[1],S=Object(c.useState)(!1),x=Object(d.a)(S,2),C=x[0],_=x[1],k=Object(c.useState)(!0),w=Object(d.a)(k,2),y=w[0],T=w[1];Object(c.useEffect)((function(){if(y&&u&&t)T(!1),Ve(e,t,n,r,a,null,i);else if(y&&p){T(!1);var c=e.getActiveObject();c&&"video"!==c.type&&"subtitle"!==c.id&&a({object:c,coords:{top:c.top,left:c.left}})}else if(y&&v){T(!1);var s=e.getActiveObject();s&&"subtitle"!==s.id&&(e.bringToFront(s),i&&e.bringToFront(i),o({type:"setShouldTriggerCanvasUpdate",data:!0}))}else if(y&&C){T(!1);var l=e.getActiveObject();l&&"subtitle"!==l.id&&(e.sendToBack(l),o({type:"setShouldTriggerCanvasUpdate",data:!0}))}}),[e,u,p,v,C,n,a,t,r,y,i,o]);var N=Object(c.useCallback)((function(t){ze(t,e,b,f,m,_)}),[e]),D=Object(c.useCallback)((function(e){!function(e,t,a,n,r){t(!1),e(!1),a(!1),n(!1),r(!0)}(b,f,m,_,T)}),[]);Object(c.useEffect)((function(){return document.addEventListener("keydown",N),document.addEventListener("keyup",D),function(){document.removeEventListener("keydown",N),document.removeEventListener("keyup",D)}}),[N,D])},Ge=function(e,t){var a=Object(c.useCallback)((function(a){if(e&&!t.isCropMode&&!t.shouldCropMedia&&!t.shouldReplaceImage){for(var n=0;n<a.path.length;n++)if("canvasComponent"===a.path[n].id)return;e.discardActiveObject().requestRenderAll()}}),[e,t.isCropMode,t.shouldCropMedia,t.shouldReplaceImage]);Object(c.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[e,a])},Xe=a(157),qe=a.n(Xe),Ke=a(10),Ze=a.n(Ke),Je=a.p+"static/media/downArrow.400d75ac.svg",Qe=a.p+"static/media/bold.d705790f.svg",$e=a.p+"static/media/subBackground.dce1ffb0.svg",et=a.p+"static/media/italic.ee8b3de6.svg",tt=a.p+"static/media/textLeft.37f6ba9c.svg",at=a.p+"static/media/textRight.67805ee0.svg",nt=a.p+"static/media/textCenter.357cd59c.svg",rt=a.p+"static/media/textJustify.3d19e46c.svg",it=a(42),ot=a.n(it),ct=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akaya Kanadaka","Akaya Telivigala","Akronim","Aladin","Alata","Alatsi","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Andika New Basic","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Bebas Neue","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Beth Ellen","Bevan","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bodoni Moda","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Brygada 1918","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comic Neue","Coming Soon","Commissioner","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Epilogue","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gayathri","Gelasio","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Goldman","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Graduate","Grand Hotel","Grandstander","Gravitas One","Great Vibes","Grenze","Grenze Gotisch","Griffy","Gruppo","Gudea","Gugi","Gupter","Gurajada","Habibi","Hachi Maru Pop","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inter","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Kiwi Maru","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","MuseoModerno","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piazzolla","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Recursive","Red Hat Display","Red Hat Text","Red Rose","Redressed","Reem Kufi","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shippori Mincho","Shippori Mincho B1","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Solway","Song Myung","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Tomorrow","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tulpen One","Turret Road","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vesper Libre","Viaoda Libre","Vibes","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Xanh Mono","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],st=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.isSub,r=Object(c.useState)(""),i=Object(d.a)(r,2),o=i[0],s=i[1],l=ct.filter((function(e){return e.toLowerCase().includes(o.toLowerCase())})).map((function(e){return Object(v.jsx)("li",{className:ot.a.FontOption,children:e},e)}));return Object(v.jsxs)("div",{className:ot.a.FontsDropdown,children:[Object(v.jsxs)("div",{className:ot.a.SearchContainer,children:[Object(v.jsx)("img",{className:ot.a.SearchSvg,src:Y,alt:"search"}),Object(v.jsx)("input",{value:o,onChange:function(e){return s(e.target.value)},className:ot.a.SearchInput,placeholder:"Search",type:"text"})]}),Object(v.jsx)("ul",{className:ot.a.FontOptionsContainer,onClick:function(e){"LI"===e.target.tagName&&(a({type:n?"setSubtitlesFontFamily":"setFontFamily",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:l}),Object(v.jsx)("div",{className:ot.a.UploadFontContainer,children:Object(v.jsx)("button",{className:ot.a.UploadFontButton,children:"Upload font"})})]})},lt=a(38),ut=a.n(lt),dt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.isSub;return Object(v.jsxs)("ul",{className:ut.a.FontSizeDropdown,onClick:function(e){"LI"===e.target.tagName&&(a({type:n?"setSubtitlesFontSize":"setFontSize",data:e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))},children:[Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"14"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"24"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"30"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"36"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"48"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"60"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"72"}),Object(v.jsx)("li",{className:ut.a.FontSizeOption,children:"96"})]})},bt=a(19),ht=a.n(bt),jt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.current;return Object(v.jsxs)("ul",{className:ht.a.TextAlignDropdown,onClick:function(e){var n=null;"LI"===e.target.tagName?n=e.target.childNodes[0].alt:"P"===e.target.tagName?n=e.target.textContent:"IMG"===e.target.tagName&&(n=e.target.alt),n&&(a({type:"setTextAlign",data:n.toLowerCase()}),t(!1))},children:[Object(v.jsxs)("li",{className:[ht.a.TextAlignOption,"left"===n?ht.a.Current:null].join(" "),children:[Object(v.jsx)("img",{className:ht.a.TextAlignImage,src:tt,alt:"left"}),Object(v.jsx)("p",{className:ht.a.TextAlignText,children:"Left"})]}),Object(v.jsxs)("li",{className:[ht.a.TextAlignOption,"center"===n?ht.a.Current:null].join(" "),children:[Object(v.jsx)("img",{className:ht.a.TextAlignImage,src:nt,alt:"center"}),Object(v.jsx)("p",{className:ht.a.TextAlignText,children:"Center"})]}),Object(v.jsxs)("li",{className:[ht.a.TextAlignOption,"right"===n?ht.a.Current:null].join(" "),children:[Object(v.jsx)("img",{className:ht.a.TextAlignImage,src:at,alt:"right"}),Object(v.jsx)("p",{className:ht.a.TextAlignText,children:"Right"})]}),Object(v.jsxs)("li",{className:[ht.a.TextAlignOption,"justify"===n?ht.a.Current:null].join(" "),children:[Object(v.jsx)("img",{className:ht.a.TextAlignImage,src:rt,alt:"justify"}),Object(v.jsx)("p",{className:ht.a.TextAlignText,children:"Justify"})]})]})},pt=a(37),ft=a(61),gt=a.n(ft),Ot=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.isFontFamilyDropdown,i=e.isFontSizeDropdown,o=e.isColorDropdown,s=e.isTextAlignDropDown,l=e.setIsFontFamilyDropdown,u=e.setIsFontSizeDropdown,b=e.colorChangeCompleteHandler,h=e.setIsTextAlignDropDown,j=e.setColor,p=e.color,f=e.colorPickerRef,g=e.isSub,O=e.isBgColorDropdown,m=e.setBgColor,S=e.bgColor,x=e.bgColorPickerRef,C=Object(c.useState)({top:41}),_=Object(d.a)(C,2),k=_[0],w=_[1];return Object(c.useEffect)((function(){n&&n.coordY+301+41+20>t.canvasState.height&&w({bottom:41})}),[t.canvasState,n]),Object(v.jsxs)(v.Fragment,{children:[r?Object(v.jsx)("div",{className:gt.a.FontsDropdown,style:k,children:Object(v.jsx)(st,{setIsDropDown:l,dispatch:a,isSub:g})}):null,i?Object(v.jsx)("div",{className:gt.a.FontSizeDropdown,style:Object(q.a)(Object(q.a)({},k),{},{right:g?"223px":"151px"}),children:Object(v.jsx)(dt,{setIsDropDown:u,dispatch:a,isSub:g})}):null,o?Object(v.jsx)("div",{className:gt.a.SketchPickerContainer,style:k,children:Object(v.jsx)(pt.a,{color:p,onChange:function(e){return j(e.rgb)},onChangeComplete:function(e){return b(e,f,a,g,O)}})}):null,s?Object(v.jsx)("div",{className:gt.a.TextAlignDropdown,style:k,children:Object(v.jsx)(jt,{setIsDropDown:h,dispatch:a,current:t.textState.textAlign})}):null,O?Object(v.jsx)("div",{className:gt.a.SketchPickerContainer,style:k,children:Object(v.jsx)(pt.a,{color:S,onChange:function(e){return m(e.rgb)},onChangeComplete:function(e){return b(e,x,a,g,O)}})}):null]})},vt=function(e,t,a,n,r){var i="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");if(r&&t.current)t.current.style.background=i,a({type:"setSubtitlesbackgroundColor",data:i});else if(t.current){var o=n?"setSubtitlesTextFill":"setTextFill";t.current.style.background=i,a({type:o,data:i})}},mt=function(e){var t=e.coords,a=e.isSub,n=Object(c.useContext)($),r=n.editorState,i=n.editorDispatch,o=Object(c.useState)(0),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(!0),h=Object(d.a)(b,2),j=h[0],p=h[1],f=Object(c.useState)(!1),g=Object(d.a)(f,2),O=g[0],m=g[1],S=Object(c.useState)(!1),x=Object(d.a)(S,2),C=x[0],_=x[1],k=Object(c.useState)(!1),w=Object(d.a)(k,2),y=w[0],T=w[1],N=Object(c.useState)(!1),D=Object(d.a)(N,2),A=D[0],I=D[1],R=Object(c.useState)(!1),P=Object(d.a)(R,2),F=P[0],E=P[1],B=Object(c.useState)({r:0,g:0,b:0,a:1}),M=Object(d.a)(B,2),L=M[0],H=M[1],U=Object(c.useState)({r:0,g:0,b:0,a:1}),W=Object(d.a)(U,2),V=W[0],z=W[1],Y=Object(c.useRef)(null),G=Object(c.useRef)(null),X=[Ze.a.FontWeightBoldContainer],q=[Ze.a.FontStyleItalicContainer],K=a?r.subtitlesState:r.textState,Z="Bold"===K.fontWeight,J="Italic"===K.fontStyle;Z&&X.push(Ze.a.Active),J&&q.push(Ze.a.Active);var Q=tt;"center"===r.textState.textAlign?Q=nt:"right"===r.textState.textAlign?Q=at:"justify"===r.textState.textAlign&&(Q=rt);var ee={fontFamily:m,fontSizeArrow:_,colorPicker:T,textAlign:I,bgColor:E},te={bold:function(){var e="Bold";Z&&(e="Normal"),i({type:a?"setSubtitlesFontWeight":"setFontWeight",data:e})},italic:function(){var e="Italic";J&&(e="Normal"),i({type:a?"setSubtitlesFontStyle":"setFontStyle",data:e})}},ae=function(e){return function(e,t,a){"bold"!==e.currentTarget.id&&"italic"!==e.currentTarget.id||a[e.currentTarget.id]();for(var n=0,r=Object.entries(t);n<r.length;n++){var i=Object(d.a)(r[n],2),o=i[0],c=i[1];o===e.currentTarget.id?c((function(e){return!e})):c(!1)}}(e,ee,te)};return Object(c.useEffect)((function(){if(j){p(!1),u(K.fontSize);var e=K.fill.split("(")[1].split(")")[0].split(","),t=Object(d.a)(e,4),n=t[0],r=t[1],i=t[2],o=t[3];if(H({r:n,g:r,b:i,a:o}),Y.current.style.background=K.fill,a){var c=K.backgroundColor.split("(")[1].split(")")[0].split(","),s=Object(d.a)(c,4);n=s[0],r=s[1],i=s[2],o=s[3],z({r:n,g:r,b:i,a:o}),G.current.style.background=K.backgroundColor}}}),[K,j,a]),Object(v.jsxs)("div",{className:Ze.a.TextToolbar,children:[Object(v.jsxs)("div",{className:Ze.a.FontsContainer,id:"fontFamily",onClick:ae,children:[Object(v.jsx)("p",{children:K.fontFamily}),Object(v.jsx)("img",{className:Ze.a.DownArrow,src:Je,alt:"arrow"})]}),Object(v.jsx)("div",{className:Ze.a.BorderDiv}),Object(v.jsxs)("div",{className:Ze.a.FontSizeContainer,children:[Object(v.jsx)("div",{className:Ze.a.FontSizeInputContainer,children:Object(v.jsx)("input",{className:Ze.a.FontSizeInput,type:"number",value:l,onChange:function(e){return function(e,t,a,n){t(e.target.value);var r=+e.target.value;r<=0?r=1:r>1080&&(r=1080),a({type:n?"setSubtitlesFontSize":"setFontSize",data:r})}(e,u,i,a)}})}),Object(v.jsx)("div",{className:Ze.a.FontSizeArrowContainer,id:"fontSizeArrow",onClick:ae,children:Object(v.jsx)("img",{className:Ze.a.DownArrow,src:Je,alt:"arrow"})})]}),Object(v.jsx)("div",{className:Ze.a.BorderDiv}),Object(v.jsx)("div",{className:Ze.a.ColorPickerContainer,id:"colorPicker",onClick:ae,children:Object(v.jsx)("div",{className:Ze.a.ColorPickerBorder,children:Object(v.jsx)("div",{ref:Y,className:Ze.a.ColorPicker})})}),Object(v.jsx)("div",{className:Ze.a.BorderDiv}),Object(v.jsx)("div",{className:X.join(" "),id:"bold",onClick:ae,children:Object(v.jsx)("img",{className:Ze.a.Bold,src:Qe,alt:"bold"})}),Object(v.jsx)("div",{className:Ze.a.BorderDiv}),Object(v.jsx)("div",{className:q.join(" "),id:"italic",onClick:ae,children:Object(v.jsx)("img",{className:Ze.a.Italic,src:et,alt:"italic"})}),Object(v.jsx)("div",{className:Ze.a.BorderDiv}),a?Object(v.jsxs)("div",{className:Ze.a.BgColorContainer,id:"bgColor",onClick:ae,children:[Object(v.jsx)("div",{className:Ze.a.BgColor,ref:G}),Object(v.jsx)("img",{src:$e,alt:"italic"}),Object(v.jsx)("p",{children:"Background"})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:Ze.a.TextAlignContainer,id:"textAlign",onClick:ae,children:Object(v.jsx)("img",{className:Ze.a.TextAlign,src:Q,alt:"textAlign"})})}),Object(v.jsx)(Ot,{state:r,dispatch:i,coords:t,isFontFamilyDropdown:O,isFontSizeDropdown:C,isColorDropdown:y,isTextAlignDropDown:A,setIsFontFamilyDropdown:m,setIsFontSizeDropdown:_,colorChangeCompleteHandler:vt,setIsTextAlignDropDown:I,setColor:H,setBgColor:z,color:L,bgColor:V,colorPickerRef:Y,bgColorPickerRef:G,isSub:a,isBgColorDropdown:F})]})},St=a(20),xt=a.n(St),Ct=a.p+"static/media/cornerRadius.edfa6868.svg",_t=a(83),kt=a.n(_t),wt=a(13),yt=a.n(wt),Tt=function(e){var t=e.setIsDropDown,a=e.dispatch,n=e.type,r=e.isSmallRange,i=e.includesZero,o=function(e){"LI"===e.target.tagName&&(a({type:n,data:+e.target.textContent}),a({type:"setShowToolbar",data:!1}),t(!1))};return r?Object(v.jsxs)("ul",{className:yt.a.LineDropdown,onClick:o,children:[i?Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"0"}):Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"1"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"5"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"10"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"15"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"20"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"25"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"30"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"35"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"40"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"45"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"50"})]}):Object(v.jsxs)("ul",{className:yt.a.ShapeDropdown,onClick:o,children:[Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"0"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"4"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"8"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"12"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"24"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"48"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"96"}),Object(v.jsx)("li",{className:yt.a.StrokeOption,children:"120"})]})},Nt=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.shapeToolbar,i=e.isStrokeWidthDropdown,o=e.isFillDropdown,s=e.isStrokeDropdown,l=e.fill,u=e.setFill,b=e.fillChangeCompleteHandler,h=e.fillRef,j=e.stroke,p=e.setStroke,f=e.strokeChangeCompleteHandler,g=e.strokeRef,O=e.setIsStrokeWidthDropdown,m=e.isLine,S=e.isRect,x=Object(c.useState)({top:41}),C=Object(d.a)(x,2),_=C[0],k=C[1],w=Object(c.useState)({top:41}),y=Object(d.a)(w,2),T=y[0],N=y[1],D=Object(c.useCallback)((function(e,t,a){var n=t.offsetWidth,r={};e.coordY+301+41+20>a&&(r.bottom=41,N({bottom:41,right:S?66:0})),e.coordX+n-220<0&&(r.left=0,r.bottom||(r.top=41)),0!==Object.keys(r).length&&k(r)}),[S]);return Object(c.useEffect)((function(){n&&r&&D(n,r,t.canvasState.height)}),[D,r,t.canvasState,n]),Object(v.jsxs)(v.Fragment,{children:[o?Object(v.jsx)("div",{className:kt.a.FillDropdownContainer,style:_,children:Object(v.jsx)(pt.a,{color:l,onChange:function(e){return u(e.rgb)},onChangeComplete:function(e){return b(e,a,h)}})}):null,s?Object(v.jsx)("div",{className:kt.a.StrokeDropdownContainer,style:_,children:Object(v.jsx)(pt.a,{color:j,onChange:function(e){return p(e.rgb)},onChangeComplete:function(e){return f(e,a,g)}})}):null,i?Object(v.jsx)("div",{className:kt.a.StrokeWidthDropdownContainer,style:T,children:Object(v.jsx)(Tt,{setIsDropDown:O,isSmallRange:m,includesZero:!1,dispatch:a,type:"setShapeStrokeWidth"})}):null]})},Dt=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeFill",data:n}),a.current.style.background=n}},At=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setShapeStroke",data:n}),a.current.style.background=n}},It=function(e){var t=e.coords,a=Object(c.useContext)($),n=a.editorState,r=a.editorDispatch,i=Object(c.useState)(!0),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)("rgba(196,196,196,1)"),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(c.useState)("rgba(255,255,255,1)"),f=Object(d.a)(p,2),g=f[0],O=f[1],m=Object(c.useState)(!1),S=Object(d.a)(m,2),x=S[0],C=S[1],_=Object(c.useState)(!1),k=Object(d.a)(_,2),w=k[0],y=k[1],T=Object(c.useState)(!1),N=Object(d.a)(T,2),D=N[0],A=N[1],I=Object(c.useState)(n.shapeState.strokeWidth),R=Object(d.a)(I,2),P=R[0],F=R[1],E=Object(c.useState)(n.shapeState.rx),B=Object(d.a)(E,2),M=B[0],L=B[1],H=Object(c.useRef)(null),U=Object(c.useRef)(null),W=Object(c.useRef)(null),V=Object(c.useRef)(null),z="line"===n.currentObject.type,Y="rect"===n.currentObject.type,G=function(e){return function(e,t,a,n){var r=e.currentTarget.id;"fill"===r?(t((function(e){return!e})),a(!1),n(!1)):"stroke"===r?(a((function(e){return!e})),t(!1),n(!1)):"strokeWidth"===r?(n((function(e){return!e})),t(!1),a(!1)):(n(!1),t(!1),a(!1))}(e,C,y,A)};return Object(c.useEffect)((function(){s&&function(e,t,a,n,r,i,o,c){if(a(!1),e)i.current.style.borderTopLeftRadius="15px",i.current.style.borderBottomLeftRadius="15px";else{var s=t.fill.split("(")[1].split(")")[0].split(","),l=Object(d.a)(s,4);n({r:l[0],g:l[1],b:l[2],a:l[3]}),r.current.style.background=t.fill}var u=t.stroke.split("(")[1].split(")")[0].split(","),b=Object(d.a)(u,4);o({r:b[0],g:b[1],b:b[2],a:b[3]}),c.current.style.background=t.stroke}(z,n.shapeState,l,j,U,V,O,W)}),[z,n.shapeState,s]),Object(v.jsxs)("div",{ref:H,className:xt.a.ShapeToolbar,children:[z?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:xt.a.FillContainer,id:"fill",onClick:G,children:[Object(v.jsx)("div",{className:xt.a.ColorPickerBorder,children:Object(v.jsx)("div",{ref:U,className:xt.a.ColorPicker})}),Object(v.jsx)("p",{children:"Fill"})]}),Object(v.jsx)("div",{className:xt.a.BorderDiv})]}),Object(v.jsxs)("div",{ref:V,className:xt.a.StrokeContainer,id:"stroke",onClick:G,children:[Object(v.jsx)("div",{className:xt.a.ColorPickerBorder,children:Object(v.jsx)("div",{ref:W,className:xt.a.ColorPicker})}),Object(v.jsx)("p",{children:"Stroke"})]}),Object(v.jsx)("div",{className:xt.a.BorderDiv}),Object(v.jsxs)("div",{className:xt.a.StrokeWidthContainer,children:[Object(v.jsx)("div",{className:xt.a.StrokeWidthInputContainer,children:Object(v.jsx)("input",{className:xt.a.StrokeWidthInput,type:"number",value:P,onChange:function(e){return function(e,t,a,n){a(e.target.value);var r=+e.target.value;n&&r<=0?r=1:n&&r>50?r=50:!n&&r>120?r=120:!n&&r<0&&(r=0),t({type:"setShapeStrokeWidth",data:r})}(e,r,F,z)}})}),Object(v.jsx)("div",{style:{borderTopRightRadius:Y?"0":"15px",borderBottomRightRadius:Y?"0":"15px"},className:xt.a.StrokeWidthArrowContainer,id:"strokeWidth",onClick:G,children:Object(v.jsx)("img",{className:xt.a.DownArrow,src:Je,alt:"arrow"})})]}),Y?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:xt.a.BorderDiv}),Object(v.jsxs)("div",{className:xt.a.RadiusContainer,id:"radius",onClick:G,children:[Object(v.jsx)("img",{src:Ct,alt:"radius"}),Object(v.jsx)("input",{className:xt.a.RadiusInput,type:"number",value:M,onChange:function(e){L(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),r({type:"setShapeRadius",data:t})}})]})]}):null,Object(v.jsx)(Nt,{state:n,dispatch:r,coords:t,shapeToolbar:H.current,isStrokeWidthDropdown:D,setIsStrokeWidthDropdown:A,isStrokeDropdown:w,isFillDropdown:x,fill:h,setFill:j,fillChangeCompleteHandler:Dt,fillRef:U,stroke:g,setStroke:O,strokeChangeCompleteHandler:At,strokeRef:W,isLine:z,isRect:Y})]})},Rt=a(43),Pt=a.n(Rt),Ft=a.p+"static/media/replaceImage.24b71204.svg",Et=a.p+"static/media/cropImage.06a8d86d.svg",Bt=function(){var e=Object(c.useContext)($),t=e.editorState,a=e.editorDispatch,n=Object(c.useContext)(fe).eventState,r=Object(c.useState)(t.imageState.cornerRadius),i=Object(d.a)(r,2),o=i[0],s=i[1],l=function(e){"replace"===e.currentTarget.id?a({type:"setShouldReplaceImage",data:!0}):"crop"===e.currentTarget.id&&a({type:"setCropType",data:"rect"})};Object(c.useEffect)((function(){n.dbClickEvent&&a({type:"setCropType",data:"rect"})}),[n,a]);var u=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:[Pt.a.ReaplaceContainer,t.imageState.isSvg?Pt.a.BorderStyle:null].join(" "),id:"replace",onClick:l,children:[Object(v.jsx)("img",{src:Ft,alt:"replace"}),Object(v.jsx)("p",{children:"Replace"})]}),t.imageState.isSvg?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Pt.a.BorderDiv}),Object(v.jsxs)("div",{className:Pt.a.RadiusContainer,id:"radius",onClick:l,children:[Object(v.jsx)("img",{src:Ct,alt:"radius"}),Object(v.jsx)("input",{className:Pt.a.RadiusInput,type:"number",value:o,onChange:function(e){s(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),a({type:"setImageCornerRadius",data:t})}})]}),Object(v.jsx)("div",{className:Pt.a.BorderDiv}),Object(v.jsxs)("div",{className:Pt.a.CropContainer,id:"crop",onClick:l,children:[Object(v.jsx)("img",{src:Et,alt:"crop"}),Object(v.jsx)("p",{children:"Crop"})]})]})]});return Object(v.jsx)("div",{className:Pt.a.ImageToolbar,children:u})},Mt=a(18),Lt=a.n(Mt),Ht=function(e,t,a){if(a.current){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t({type:"setVideoStroke",data:n}),a.current.style.background=n}},Ut=a(110),Wt=a.n(Ut),Vt=function(e){var t=e.state,a=e.dispatch,n=e.coords,r=e.videoToolbar,i=e.isStrokeWidthDropdown,o=e.setIsStrokeWidthDropdown,s=e.isStrokeDropdown,l=e.stroke,u=e.setStroke,b=e.strokeChangeCompleteHandler,h=e.strokeRef,j=Object(c.useState)({top:41}),p=Object(d.a)(j,2),f=p[0],g=p[1],O=Object(c.useCallback)((function(e,t,a){var n=t.offsetWidth,r={};e.coordY+301+41+20>a&&(r.bottom=41),e.coordX+n-220<0&&(r.left=0,r.bottom||(r.top=41)),0!==Object.keys(r).length&&g(r)}),[]);return Object(c.useEffect)((function(){n&&r&&O(n,r,t.canvasState.height)}),[O,r,t.canvasState,n]),Object(v.jsxs)(v.Fragment,{children:[s?Object(v.jsx)("div",{className:Wt.a.StrokeDropdownContainer,style:f,children:Object(v.jsx)(pt.a,{color:l,onChange:function(e){return u(e.rgb)},onChangeComplete:function(e){return b(e,a,h)}})}):null,i?Object(v.jsx)("div",{className:Wt.a.StrokeWidthDropdownContainer,style:f,children:Object(v.jsx)(Tt,{type:"setVideoStrokeWidth",setIsDropDown:o,isSmallRange:!0,includesZero:!0,dispatch:a})}):null]})},zt=function(e){var t=e.coords,a=Object(c.useContext)($),n=a.editorState,r=a.editorDispatch,i=Object(c.useContext)(fe).eventState,o=Object(c.useState)(!0),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(n.videoState.cornerRadius),h=Object(d.a)(b,2),j=h[0],p=h[1],f=Object(c.useState)("rgba(255,255,255,1)"),g=Object(d.a)(f,2),O=g[0],m=g[1],S=Object(c.useState)(!1),x=Object(d.a)(S,2),C=x[0],_=x[1],k=Object(c.useState)(!1),w=Object(d.a)(k,2),y=w[0],T=w[1],N=Object(c.useState)(n.videoState.strokeWidth),D=Object(d.a)(N,2),A=D[0],I=D[1],R=Object(c.useRef)(null),P=Object(c.useRef)(null),F=Object(c.useRef)(null),E=function(e){var t=e.currentTarget.id;"crop"===t?r({type:"setCropType",data:"rect"}):"circleCrop"===t&&r({type:"setCropType",data:"circle"}),function(e,t,a){"stroke"===e?(t((function(e){return!e})),a(!1)):"strokeWidth"===e?(a((function(e){return!e})),t(!1)):(a(!1),t(!1))}(t,_,T)};Object(c.useEffect)((function(){i.dbClickEvent&&r({type:"setCropType",data:"rect"})}),[i,r]),Object(c.useEffect)((function(){l&&(u(!1),function(e,t,a){if(a.current&&null!==e.stroke){var n=e.stroke.split("(")[1].split(")")[0].split(","),r=Object(d.a)(n,4);t({r:r[0],g:r[1],b:r[2],a:r[3]}),a.current.style.background=e.stroke}}(n.videoState,m,R))}),[n.videoState,l]);var B=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:Lt.a.CropContainer,id:"crop",onClick:E,children:[Object(v.jsx)("img",{src:Et,alt:"replace"}),Object(v.jsx)("p",{children:"Crop"})]}),Object(v.jsx)("div",{className:Lt.a.BorderDiv}),Object(v.jsxs)("div",{className:Lt.a.CircleCropContainer,id:"circleCrop",onClick:E,children:[Object(v.jsx)("div",{className:Lt.a.CircleCropCircle}),Object(v.jsx)("p",{children:"Circle crop"})]}),Object(v.jsx)("div",{className:Lt.a.BorderDiv}),Object(v.jsxs)("div",{ref:P,className:Lt.a.StrokeContainer,id:"stroke",onClick:E,children:[Object(v.jsx)("div",{className:Lt.a.ColorPickerBorder,children:Object(v.jsx)("div",{ref:R,className:Lt.a.ColorPicker})}),Object(v.jsx)("p",{children:"Stroke"})]}),Object(v.jsx)("div",{className:Lt.a.BorderDiv}),Object(v.jsxs)("div",{className:Lt.a.StrokeWidthContainer,children:[Object(v.jsx)("div",{className:Lt.a.StrokeWidthInputContainer,children:Object(v.jsx)("input",{className:Lt.a.StrokeWidthInput,type:"number",value:A,onChange:function(e){return function(e,t,a){a(e.target.value);var n=+e.target.value;n>50?n=50:n<0&&(n=0),t({type:"setVideoStrokeWidth",data:n})}(e,r,I)}})}),Object(v.jsx)("div",{className:Lt.a.StrokeWidthArrowContainer,id:"strokeWidth",onClick:E,children:Object(v.jsx)("img",{className:Lt.a.DownArrow,src:Je,alt:"arrow"})})]}),Object(v.jsx)("div",{className:Lt.a.BorderDiv}),Object(v.jsxs)("div",{className:Lt.a.RadiusContainer,id:"radius",onClick:E,children:[Object(v.jsx)("img",{src:Ct,alt:"radius"}),Object(v.jsx)("input",{className:Lt.a.RadiusInput,type:"number",value:j,onChange:function(e){p(e.target.value);var t=+e.target.value;t<0&&(t=0),t>100&&(t=100),r({type:"setVideoCornerRadius",data:t})}})]}),Object(v.jsx)(Vt,{state:n,dispatch:r,coords:t,videoToolbar:F.current,isStrokeWidthDropdown:y,setIsStrokeWidthDropdown:T,isStrokeDropdown:C,stroke:O,setStroke:m,strokeChangeCompleteHandler:Ht,strokeRef:R})]});return Object(v.jsx)("div",{className:Lt.a.VideoToolbar,ref:F,children:B})},Yt=function(e){var t=e.canvas,a=Object(c.useState)(null),n=Object(d.a)(a,2),r=n[0],i=n[1],o=Object(c.useContext)($).editorState,s=Object(c.useRef)(null),l=Object(c.useCallback)((function(e){s.current.style.transform="translate(".concat(e.coordX,"px, ").concat(e.coordY,"px)"),s.current.style.opacity=1,i(e)}),[]);return Object(c.useEffect)((function(){o.currentCoords&&l(function(e,t,a,n,r,i){var o=n.offsetWidth,c=n.offsetHeight,s=e.tl.y>e.bl.y,l=s?r+c:r,u=Math.min(e.tl.y,e.tr.y,e.br.y,e.bl.y)-c-l;if(u-i<0){var d=Math.max(e.tl.y,e.tr.y,e.br.y,e.bl.y)+r+(s?0:c);u=d+i+c<a?d:a-c-r}var b=Math.min(e.tl.x,e.tr.x,e.br.x,e.bl.x);return b+o>t?b=t-o:b<0&&(b=0),{coordX:b,coordY:u}}(o.currentCoords,t.getWidth(),t.getHeight(),s.current,28,10))}),[t,l,o.currentCoords,o.isCroppingImage]),Object(v.jsxs)("div",{ref:s,className:qe.a.Toolbar,children:["text"===o.currentObject.type?Object(v.jsx)(mt,{coords:r,isSub:!1}):null,"subtitle"===o.currentObject.type?Object(v.jsx)(mt,{coords:r,isSub:!0}):null,["rect","circle","triangle","line"].includes(o.currentObject.type)?Object(v.jsx)(It,{coords:r}):null,"customImage"===o.currentObject.type?Object(v.jsx)(Bt,{}):null,"video"===o.currentObject.type?Object(v.jsx)(zt,{coords:r}):null]})},Gt=a(44),Xt=a.n(Gt),qt=function(e){var t=e.canvas,a=e.isCanvasSet,n=e.objId,r=e.updateId,i=e.clipboard,o=e.setClipboard,s=e.fabricSub,l=e.dispatch,u=Object(c.useContext)(fe),b=u.eventState,h=u.eventDispatch,j=Object(c.useState)(!1),p=Object(d.a)(j,2),f=p[0],g=p[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),S=m[0],x=m[1],C=Object(c.useState)(!1),_=Object(d.a)(C,2),k=_[0],w=_[1],y=Object(c.useRef)(null),T=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){return T.current=!1}}),[]);var N=Object(c.useCallback)((function(e){if(e.currentTarget&&"subtitle"!==e.currentTarget.id||i){if(e.currentTarget&&"subtitle"!==e.currentTarget.id){var a=t.getActiveObject();a&&a.id===e.currentTarget.id||t.setActiveObject(e.currentTarget),x(e.currentTarget),w(!1)}else w(!0);e.pointer.x+y.current.offsetWidth>t.getWidth()?y.current.style.left=e.pointer.x-y.current.offsetWidth+"px":y.current.style.left=e.pointer.x+"px",y.current.style.top=e.pointer.y+"px"}else h({type:"setRightClickEvent",data:null})}),[t,h,i]),D=function(e){e.preventDefault(),f&&(g(!1),h({type:"setRightClickEvent",data:null}))},A=function(e){var a=e.currentTarget.id;"delete"===a&&"video"!==S.type?(t.remove(S),t.discardActiveObject().requestRenderAll(),h({type:"setRightClickEvent",data:null})):"bringToFront"===a?(t.bringToFront(S),s&&t.bringToFront(s),l({type:"setShouldTriggerCanvasUpdate",data:!0}),h({type:"setRightClickEvent",data:null})):"sendToBack"===a?(t.sendToBack(S),l({type:"setShouldTriggerCanvasUpdate",data:!0}),h({type:"setRightClickEvent",data:null})):"copy"===a?(o({object:S,coords:{top:S.top,left:S.left}}),h({type:"setRightClickEvent",data:null})):"paste"===a&&(i?Ve(t,i,n,r,o,h,s):h({type:"setRightClickEvent",data:null}))};Object(c.useEffect)((function(){return a&&b.rightClickEvent&&(N(b.rightClickEvent),setTimeout((function(){T.current&&g(!0)}),400)),function(){T.current&&g(!1)}}),[a,b.rightClickEvent,N]);var I=S&&"video"===S.type,R=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Xt.a.Overlay,onContextMenu:D,onClick:D}),Object(v.jsxs)("ul",{onContextMenu:function(e){return e.preventDefault()},ref:y,className:Xt.a.Menu,id:"contextMenu",children:[k||I?null:Object(v.jsxs)("li",{className:Xt.a.Option,id:"copy",onClick:A,children:[Object(v.jsx)("p",{children:"Copy"}),Object(v.jsx)("p",{children:"\u2318C"})]}),Object(v.jsxs)("li",{className:Xt.a.Option,id:"paste",onClick:A,children:[Object(v.jsx)("p",{children:"Paste"}),Object(v.jsx)("p",{children:"\u2318V"})]}),k||I?null:Object(v.jsxs)("li",{className:Xt.a.Option,id:"delete",onClick:A,children:[Object(v.jsx)("p",{children:"Delete"}),Object(v.jsx)("p",{children:"DEL"})]}),k?null:Object(v.jsx)("li",{className:Xt.a.Border}),k?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("li",{className:Xt.a.Option,id:"bringToFront",onClick:A,children:[Object(v.jsx)("p",{children:"Bring to front"}),Object(v.jsx)("p",{children:"\u2318]"})]}),Object(v.jsxs)("li",{className:Xt.a.Option,id:"sendToBack",onClick:A,children:[Object(v.jsx)("p",{children:"Send to back"}),Object(v.jsx)("p",{children:"\u2318["})]})]})]})]});return b.rightClickEvent?R:null},Kt=function(e,t,a,n,r,i){var o=Object(c.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useRef)(!0),h=Object(c.useRef)(null),j=Object(c.useCallback)((function(e){be.fabric.util.cancelAnimFrame(h.current),h.current=null,t&&t.requestRenderAll()}),[t]),p=Object(c.useCallback)((function(e){h.current&&be.fabric.util.cancelAnimFrame(h.current);be.fabric.util.requestAnimFrame((function a(){t.requestRenderAll();for(var n=0;n<e.length;n++)e[n].dirty=!0;h.current=be.fabric.util.requestAnimFrame(a)}))}),[t]);Object(c.useEffect)((function(){e&&p(a)}),[e,p,j,n,a]),Object(c.useEffect)((function(){l&&(u(!1),r.currentTime=i>0?i:.001)}),[l,i,r]),Object(c.useEffect)((function(){return function(){h.current&&be.fabric.util.cancelAnimFrame(h.current)}}),[]),Object(c.useEffect)((function(){return function(){return b.current=!1}}),[])},Zt=a(111),Jt=a.n(Zt),Qt=function(e,t){return new be.fabric.SpeakerCropBox(Object(q.a)(Object(q.a)({},e),{},{fill:"rgba(111, 122, 208, 0.4)",top:0,left:0,borderColor:"#6F7BD0",lockScalingFlip:!0,id:t}))},$t=function(e){var t=e.scaleX,a=e.scaleY,n=e.width,r=e.height;return e.cropRect&&(t*=e.width/e.originalWidth,a*=e.height/e.originalHeight,n=e.originalWidth,r=e.originalHeight),{scaleX:t,scaleY:a,width:n,height:r}},ea=function(e){var t=e.cropRect;t&&(e.top=e.top-t.y*e.scaleY,e.left=e.left-t.x*e.scaleX,e.width=e.originalWidth,e.height=e.originalHeight,e.cropRect={x:0,y:0,w:e.width,h:e.height}),e.setCoords()},ta=function(e,t,a,n,r,i,o,c){t.discardActiveObject(),e.visible=!1,e.angle=0,e.setCoords(),e.clipPath=null,e.strokeWidth=0;var s="video"===e.type,l="rect"===o;s||e.setControlsVisibility({mtr:!1});var u,d=null,b=null;l?(d=function(e){var t=$t(e),a=t.scaleX,n=t.scaleY,r=t.width,i=t.height;return new be.fabric.RectCropBox({fill:"rgba(255, 255, 255, 0)",originX:"left",originY:"top",left:e.left,top:e.top,width:r,height:i,scaleX:a,scaleY:n,borderColor:"rgba(0, 0, 0, 0)",strokeWidth:2,strokeUniform:!0,strokeDashArray:[12,12],stroke:"#dbff17",selectable:!0,lockScalingFlip:!0,type:"cropbox",noScaleCache:!1,excludeFromExport:!0,globalCompositeOperation:"source-over"})}(e),u=d,b=new be.fabric.Rect({fill:"rgba(255, 255, 255, 1)",originX:"left",originY:"top",top:u.top,left:u.left,width:u.width,height:u.height,scaleX:u.scaleX,scaleY:u.scaleY,selectable:!1,lockScalingFlip:!0,borderColor:"rgba(0, 0, 0, 0)",stroke:"rgba(0, 0, 0, 0)",strokeWidth:2,strokeUniform:!1,type:"holeBox",excludeFromExport:!0,noScaleCache:!1,globalCompositeOperation:"destination-out"})):(d=function(e){var t=$t(e),a=t.scaleX,n=t.scaleY,r=t.width,i=t.height,o=Math.min(i,r),c=o===i?n:a;return new be.fabric.CircleCropBox({originX:"left",originY:"top",left:e.left,top:e.top,strokeDashArray:[12,12],fill:"rgba(255, 255, 255, 0)",borderColor:"rgba(0, 0, 0, 0)",strokeWidth:2,strokeUniform:!0,stroke:"#dbff17",radius:o/2,scaleX:c,scaleY:c,selectable:!0,lockScalingFlip:!0,type:"cropbox",excludeFromExport:!0,noScaleCache:!1,globalCompositeOperation:"source-over"})}(e),b=function(e){return new be.fabric.Circle({fill:"rgba(255, 255, 255, 1)",originX:"left",originY:"top",top:e.top,left:e.left,radius:e.radius,scaleX:e.scaleX,scaleY:e.scaleY,selectable:!1,lockScalingFlip:!0,borderColor:"rgba(0, 0, 0, 0)",stroke:"rgba(0, 0, 0, 0)",strokeWidth:2,strokeUniform:!1,type:"holeBox",excludeFromExport:!0,noScaleCache:!1,globalCompositeOperation:"destination-out"})}(d));var h=s?be.fabric.Video:be.fabric.CustomImage,j=null;if(j=s?e._element:c.filter((function(t){return t.src===e.src}))[0],a.add(function(e){var t=e.getZoom(),a=e.getWidth()/t,n=e.getHeight()/t;return new be.fabric.Rect({left:0,top:0,width:a,height:n,noScaleCache:!1,fill:"rgba(0, 0, 0, 0.5)",strokeWidth:0,selectable:!1,excludeFromExport:!0,rx:0,ry:0,id:"overlay",globalCompositeOperation:"source-over"})}(a)),j){a.add(b);var p=new h(j,{originalWidth:e.originalWidth,originalHeight:e.originalHeight,left:e.left,top:e.top,width:e.width,height:e.height,scaleX:e.scaleX,scaleY:e.scaleY,cornerRadius:e.cornerRadius,excludeFromExport:!0,id:"image",cropRect:e.cropRect,globalCompositeOperation:"destination-atop"});a.add(p),ea(p),n(p),a.setActiveObject(p),a.add(d),a.requestRenderAll(),i(b),r(d)}else e.clone((function(e){a.add(b),e.excludeFromExport=!0,e.id="image",e.visible=!0,e.globalCompositeOperation="destination-atop",a.add(e),ea(e),n(e),a.setActiveObject(e),a.add(d),a.requestRenderAll(),i(b),r(d)}))},aa=function(e,t){e.left=t.left,e.top=t.top,e.scaleY=t.scaleY,e.scaleX=t.scaleX,e.setCoords()},na=function(e,t){var a=t.height*t.scaleY,n=t.width*t.scaleX,r=e.height*e.scaleY,i=e.width*e.scaleX,o=t.top,c=t.left,s=o+a,l=c+n,u=e.top,d=u+r,b=e.left;return{top:o,left:c,right:l,bottom:s,leftBound:b,topBound:u,rightBound:b+i,bottomBound:d,objectWidth:n,objectHeight:a}},ra=function(e,t,a){t.on("moving",(function(n){var r=na(e,t),i=r.top,o=r.left,c=r.right,s=r.bottom,l=r.leftBound,u=r.topBound,d=r.rightBound,b=r.bottomBound,h=r.objectWidth,j=r.objectHeight;o<l&&(t.left=l),i<u&&(t.top=u),c>d&&(t.left=d-h),s>b&&(t.top=b-j),a&&aa(a,t)})),t.on("scaling",(function(n){var r=na(e,t),i=r.top,o=r.left,c=r.right,s=r.bottom,l=r.leftBound,u=r.topBound,d=r.rightBound,b=r.bottomBound,h=r.objectWidth,j=r.objectHeight;t.left=Math.min(Math.max(o,l),d-h),t.top=Math.min(Math.max(i,u),b-j),t.scaleX>e.scaleX&&(t.scaleX=e.scaleX,(o<l||c>d)&&(t.left=l)),t.scaleY>e.scaleY&&(t.scaleY=e.scaleY,(i<u||s>b)&&(t.top=u)),a&&aa(a,t)}))},ia=function(e,t,a,n,r,i){var o=Object(c.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(null),h=Object(d.a)(b,2),j=h[0],p=h[1],f=Object(c.useState)(null),g=Object(d.a)(f,2),O=g[0],v=g[1],m=Object(c.useState)(null),S=Object(d.a)(m,2),x=S[0],C=S[1],_=Object(c.useState)(null),k=Object(d.a)(_,2),w=k[0],y=k[1],T=Object(c.useState)(null),N=Object(d.a)(T,2),D=N[0],A=N[1],I=Object(c.useCallback)((function(){u(null),v(null),p(null),y(null),A(null)}),[]);Object(c.useEffect)((function(){e.shouldCropMedia&&j&&w&&O?function(e,t,a,n,r){var i=t.scaleX/a.scaleX,o=t.scaleY/a.scaleY,c=(t.top-a.top)/a.scaleY,s=(t.left-a.left)/a.scaleX;if(e.width=t.width*i,e.height=t.height*o,e.scaleX=a.scaleX,e.scaleY=a.scaleY,e.cropRect={x:s,y:c,w:t.width*i,h:t.height*o},t.isOnScreen())e.top=t.top,e.left=t.left;else{var l=r.getZoom(),u=r.getWidth()/l,d=r.getHeight()/l;t.top>d?e.top=d-e.height*e.scaleY:t.top<0&&(e.top=0),t.left>u?e.left=u-e.width*e.scaleX:t.left<0&&(e.left=0)}n(e)}(j,w,O,A,n):e.shouldCropMedia&&A(j)}),[e.shouldCropMedia,j,w,O,n]),Object(c.useEffect)((function(){D&&e.shouldCropMedia&&function(e,t,a,n,r,i,o,c,s){r.visible=!0,r.angle=o.angle,e.setActiveObject(r);var l=r.type;"circle"===i&&(r.cornerRadius=100),n({type:"setCurrentObject",data:{type:l,object:r}}),r.cornerRadius>0?(r.strokeWidth=0,n({type:"video"===l?"setVideoCornerRadius":"setImageCornerRadius",data:r.cornerRadius})):"video"===l&&n({type:"setVideoStrokeWidth",data:r.strokeWidth}),r.setCoords(),"video"!==l&&r.setControlsVisibility({mtr:!0}),t.clear(),s(),e.requestRenderAll(),c({type:"setDbClickEvent",data:null}),n({type:"setShouldCropMedia",data:!1}),n({type:"setIsCropMode",data:!1}),n({type:"setCurrentCoords",data:r.lineCoords}),n({type:"setShowToolbar",data:!0}),n({type:"setShouldTriggerCanvasUpdate",data:!0})}(a,n,0,t,D,e.cropType,l,r,I)}),[w,l,D,e,t,a,n,r,I]),Object(c.useEffect)((function(){if(e.isCropMode){var r=a.getActiveObject();r&&r.originalWidth>0&&r.originalHeight>0?(p(r),u({cornerRadius:r.cornerRadius,width:r.width,height:r.height,top:r.top,left:r.left,angle:r.angle,strokeWidth:r.strokeWidth,cropRect:r.cropRect}),ta(r,a,n,v,y,C,e.cropType,i)):t({type:"setIsCropMode",data:!1})}}),[e.isCropMode,e.cropType,a,n,t,i]),Object(c.useEffect)((function(){var e,t;return w&&O&&x&&(ra(O,w,x),t=w,(e=O).on("moving",(function(a){var n=e.height*e.scaleY,r=e.width*e.scaleX,i=t.height*t.scaleY,o=t.width*t.scaleX,c=e.top,s=e.left,l=e.top+n,u=e.left+r,d=t.top,b=d+i,h=t.left,j=h+o;s>h&&(e.left=h),c>d&&(e.top=d),u<j&&(e.left=j-r),l<b&&(e.top=b-n)})),e.on("scaling",(function(a){var n=e.height*e.scaleY,r=e.width*e.scaleX,i=t.height*t.scaleY,o=t.width*t.scaleX,c=e.top,s=c+n,l=e.left,u=l+r,d=t.top,b=d+i,h=t.left,j=h+o;e.left=Math.max(Math.min(l,h),j-r),e.top=Math.max(Math.min(c,d),b-n),(e.scaleX<t.scaleX||e.scaleY<t.scaleY)&&(e.scaleX=Math.max(t.scaleX,t.scaleY),e.scaleY=e.scaleX,(l>h||u<j)&&(e.left=h),(c>d||s<b)&&(e.top=d))}))),function(){O&&(O.off("moving"),O.off("scaling")),w&&(w.off("moving"),w.off("scaling"))}}),[w,O,x]),Object(c.useEffect)((function(){return w&&e.isCropMode&&(n.on("mouse:down",(function(e){(!e.target||"cropbox"!==e.target.type&&"image"!==e.target.id)&&(t({type:"setShouldCropMedia",data:!0}),t({type:"setShowToolbar",data:!1}))})),n.on("mouse:over",(function(e){!e.target||"cropbox"!==e.target.type&&"image"!==e.target.id||(n.setActiveObject(e.target),n.renderAll())}))),function(){n&&(n.off("mouse:over"),n.off("mouse:down"))}}),[w,e,t,n,O])},oa=function(e,t){var a=Object(c.useState)(!0),n=Object(d.a)(a,2),r=n[0],i=n[1];Object(c.useEffect)((function(){if(e&&r){i(!1);var a=new be.fabric.Canvas("cropCanvas",{width:0,height:0,preserveObjectStacking:!0,fireRightClick:!0,stopContextMenu:!0,selection:!1});t(a)}}),[e,r,t])},ca=function(e,t,a,n){Object(c.useEffect)((function(){e&&(e.resize=t.resize,Me(t,e))}),[t,e]),Object(c.useEffect)((function(){n.current.style.display=a?"block":"none"}),[a,e,n])},sa=function(e){var t=e.canvas,a=e.userAssets,n=Object(c.useContext)($),r=n.editorState,i=n.editorDispatch,o=Object(c.useContext)(fe).eventDispatch,s=Object(c.useState)(null),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useRef)(null);oa(t,b),ia(r,i,t,u,o,a),ca(u,r.canvasState,r.isCropMode,h);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Jt.a.CropCanvas,ref:h,children:Object(v.jsx)("canvas",{id:"cropCanvas"})}),r.isCropMode?Object(v.jsx)("div",{className:Jt.a.Backdrop,onClick:function(){i({type:"setShouldCropMedia",data:!0}),i({type:"setShowToolbar",data:!1})}}):null]})},la=function(e){var t=e.canvas,a=e.setCanvas,n=e.video,r=e.fabricSub,i=e.currentTime,o=e.speakers,s=e.info,l=e.isPlaying,u=e.isCanvasSet,b=e.setIsCanvasSet,h=e.userAssets,j=e.setUserAssets,p=Object(c.useContext)($),f=p.editorState,g=p.editorDispatch,O=Object(c.useContext)(fe),m=O.eventState,S=O.eventDispatch,x=Object(c.useState)(1),C=Object(d.a)(x,2),_=C[0],k=C[1],w=Object(c.useState)(null),y=Object(d.a)(w,2),T=y[0],N=y[1],D=Object(c.useState)(!1),A=Object(d.a)(D,2),I=A[0],R=A[1],P=Object(c.useCallback)((function(){return k((function(e){return e+1}))}),[]),F=Object(c.useState)([]),E=Object(d.a)(F,2),B=E[0],M=E[1];return Kt(u,t,B,l,n,i),De(f.canvasState,u,t,m,S,f.isCropMode),pe(f,g,t,_,P,h,j),_e(u,t,f,g),Be(f,g,t),He(f.canvasState,g,t),Ue(f.canvasState,a,b,s,R,o,k,M,h),Ye(t,T,N,_,P,r,g),Ge(t,f),We(n,t,i,o,_,k,I,M),Object(v.jsxs)("div",{className:de.a.CanvasComponent,id:"canvasComponent",children:[Object(v.jsx)("div",{className:de.a.Canvas,children:Object(v.jsx)("canvas",{id:"canvas"})}),Object(v.jsx)(sa,{canvas:t,userAssets:h}),f.showToolbar?Object(v.jsx)(Yt,{canvas:t}):null,Object(v.jsx)(qt,{canvas:t,isCanvasSet:u,objId:_,updateId:P,clipboard:T,setClipboard:N,fabricSub:r,dispatch:g})]})},ua={isMoving:!1,rightClickEvent:null,dbClickEvent:null},da=function(e,t){switch(t.type){case"setIsMoving":return Object(q.a)(Object(q.a)({},e),{},{isMoving:t.data});case"setRightClickEvent":return Object(q.a)(Object(q.a)({},e),{},{rightClickEvent:t.data});case"setDbClickEvent":return Object(q.a)(Object(q.a)({},e),{},{dbClickEvent:t.data});default:return e}},ba=function(){var e=Object(c.useReducer)(da,ua),t=Object(d.a)(e,2);return[t[0],t[1]]},ha=a(21),ja=a.n(ha),pa=a(56),fa=a.n(pa),ga=[{name:"landscape",text:"Landscape 16:9",boxStyle:{width:"11.25rem"}},{name:"square",text:"Square 1:1",boxStyle:{width:"6.375rem"}},{name:"vertical",text:"Vertical 9:16",boxStyle:{width:"3.6875rem"}}],Oa=function(){var e=Object(c.useContext)($),t=e.editorState,a=e.editorDispatch,n=function(e){var n=e.currentTarget.id,r=function(e,t,a){var n=e,r=t,i="original";return"landscape"===a?(n=Math.round(16*r/9),r=Math.round(9*n/16),i=a):"square"===a?(r>n?n=r:r=n,i=a):"vertical"===a&&(n=n>r?t:e,r=Math.round(16*n/9),i=a),{width:n,height:r,resize:i}}(t.canvasState.initialWidth,t.canvasState.initialHeight,n),i=r.width,o=r.height,c=r.resize;a({type:"setVideoSize",data:{width:i,height:o,resize:c}}),a({type:"setIsResizeDropdown",data:!1})};return Object(v.jsx)("div",{className:fa.a.Dropdown,children:Object(v.jsx)("ul",{className:fa.a.SizeOptions,children:ga.map((function(e){return Object(v.jsxs)("li",{id:e.name,className:[fa.a.SizeOption,t.canvasState.resize===e.name?fa.a.Current:null].join(" "),onClick:n,children:[Object(v.jsx)("p",{className:fa.a.SizeOptionText,children:e.text}),Object(v.jsx)("div",{className:fa.a.SizeOptionBox,style:e.boxStyle})]},e.name)}))})})},va=a(162),ma=a.n(va),Sa=function(e){var t=Object(c.useContext)($),a=t.editorState,n=t.editorDispatch;return Object(v.jsx)("div",{className:ma.a.Backdrop,onClick:function(e){if("backdrop"===e.target.id){var t="";a.isImageDropdown?t="setIsImageDropdown":a.isShapeDropdown?t="setIsShapeDropdown":a.isSubtitlesDropdown?t="setIsSubtitlesDropdown":a.shouldReplaceImage?t="setShouldReplaceImage":a.isResizeDropdown?t="setIsResizeDropdown":a.isCanvasBgColorDropdown?t="setIsCanvasBgColorDropdown":a.isZoomDropdown?t="setIsZoomDropdown":a.shouldAddCanvasBgImage?t="setShouldAddCanvasBgImage":a.isDownloadDropdown&&(t="setIsDownloadDropdown"),n({type:t,data:!1})}},id:"backdrop",children:e.children})},xa=["title","titleId"];function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _a(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ka(e,t){var a=e.title,s=e.titleId,l=_a(e,xa);return c.createElement("svg",Ca({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),a?c.createElement("title",{id:s},a):null,n||(n=c.createElement("path",{d:"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=c.createElement("path",{d:"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=c.createElement("path",{d:"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=c.createElement("path",{d:"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var wa,ya,Ta=c.forwardRef(ka),Na=(a.p,["title","titleId"]);function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Aa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ia(e,t){var a=e.title,n=e.titleId,r=Aa(e,Na);return c.createElement("svg",Da({width:15,height:13,viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,wa||(wa=c.createElement("path",{d:"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})),ya||(ya=c.createElement("path",{d:"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z",stroke:"black",strokeWidth:.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var Ra,Pa=c.forwardRef(Ia),Fa=(a.p,["title","titleId"]);function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ba(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ma(e,t){var a=e.title,n=e.titleId,r=Ba(e,Fa);return c.createElement("svg",Ea({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Ra||(Ra=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 11.4H4.1V11V5.4H1.5V4.6H4.1V2H4.9V4.6H11H11.4V5V10.6H14V11.4H11.4V14H10.6V11.4H4.5ZM10.6 10.6H4.9V5.4H10.6V10.6Z",fill:"#1E1E1E"})))}var La,Ha,Ua,Wa,Va,za,Ya,Ga=c.forwardRef(Ma),Xa=(a.p,function(e){var t=e.setVideoData,a=e.info,n=e.setSpeakers,r=e.canvas,i=Object(c.useContext)($),o=i.editorState,s=i.editorDispatch,l=Object(c.useState)(o.canvasState.backgroundColor),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useRef)(null),p=Object(c.useRef)(null),f=Object(c.useRef)(null),g=Object(F.g)(),O=function(e){if(!o.shouldCropMedia)if(o.isCropMode)s({type:"setShouldCropMedia",data:!0});else{var i=e.currentTarget.id;if("resize"===i)s({type:"setIsResizeDropdown",data:!0});else if("bgColor"===i)s({type:"setIsCanvasBgColorDropdown",data:!0});else if("crop"===i){t(Object(q.a)({},a));for(var c=r.getObjects(),l=[],u=0;u<c.length;u++){var d=c[u];"video"===d.type&&l.push(Object(q.a)({},d.cropRect))}n(l),g.push("/editor/speakers")}}};return Object(c.useEffect)((function(){j.current.style.background=b}),[b]),Object(v.jsxs)("div",{className:ja.a.CanvasToolbar,children:[Object(v.jsxs)("div",{className:ja.a.TemplatesContainer,id:"templates",onClick:O,children:[Object(v.jsx)(Ta,{}),Object(v.jsx)("p",{className:ja.a.OptionText,children:"Templates"})]}),Object(v.jsx)("div",{className:ja.a.BorderDiv}),Object(v.jsxs)("div",{className:ja.a.ResizeContainer,id:"resize",onClick:O,children:[Object(v.jsx)(Pa,{}),Object(v.jsx)("p",{className:ja.a.OptionText,children:"Resize"})]}),Object(v.jsx)("div",{className:ja.a.BorderDiv}),Object(v.jsxs)("div",{className:ja.a.CropContainer,id:"crop",onClick:O,children:[Object(v.jsx)(Ga,{}),Object(v.jsx)("p",{className:ja.a.OptionText,children:"Crop"})]}),Object(v.jsx)("div",{className:ja.a.BorderDiv}),Object(v.jsxs)("div",{className:ja.a.ColorContainer,id:"bgColor",onClick:O,children:[Object(v.jsx)("div",{className:ja.a.ColorPickerBorder,children:Object(v.jsx)("div",{ref:j,className:ja.a.ColorPicker})}),Object(v.jsx)("p",{className:ja.a.OptionText,children:"Background color"})]}),o.isResizeDropdown?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Sa,{}),Object(v.jsx)("div",{className:ja.a.ResizeDropdown,ref:f,children:Object(v.jsx)(Oa,{})})]}):null,o.isCanvasBgColorDropdown?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Sa,{}),Object(v.jsx)("div",{className:ja.a.ColorDropdownContainer,ref:p,children:Object(v.jsx)(pt.a,{color:b,onChange:function(e){return h(e.rgb)},onChangeComplete:function(e){if(j.current){var t="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");j.current.style.background=t,s({type:"setCanvasBackgroundColor",data:t})}}})})]}):null]})}),qa=a.p+"static/media/play.516f516e.svg",Ka=a.p+"static/media/pause.2c1b8172.svg",Za=function(e,t,a){var n=Object(c.useCallback)((function(){var t=function(e){var t=560;"square"===e.resize&&(t=500);var a=e.containerWidth,n=e.videoHeight*a/e.videoWidth;return a>n?a>800&&(n=800*n/a,a=800):n>t&&(a=a*t/n,n=t),{width:a,height:n}}(e),n=t.width,r=t.height;return a.current.style.paddingTop=n>r?"5rem":"1rem",n>100?{width:n,height:r}:{}}),[a,e]),r=Object(c.useCallback)((function(){var e=function(e,t){var a=window.innerWidth-e.current.offsetLeft-t,n=e.current.offsetHeight;return a>800&&(n=800*n/a,a=800),{containerWidth:a,containerHeight:n}}(a,88),n=e.containerWidth,r=e.containerHeight;t({type:"setContainerSize",data:{width:n,height:r}})}),[t,a]);Object(c.useEffect)((function(){if(e.initialWidth>0&&e.should\u0421alculateCanvasSize){t({type:"setShould\u0421alculateCanvasSize",data:!1});var a=n(),r=a.width,i=a.height;r&&t({type:"setCanvasSize",data:{width:r,height:i}})}}),[t,n,e]),Object(c.useEffect)((function(){r()}),[r]),Object(c.useEffect)((function(){return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[r])},Ja=function(e,t,a,n,r,i,o,s,l,u,d,b){var h=Object(c.useCallback)((function(a){if(t.length>0&&t[i]){var n=(a=+a+.05)>=+t[i].start,r=a<=+t[i].end,c=+t[i].end-t[i].start<=.05&&n;(n&&r||c)&&(e.current.currentTime=+t[i].end,t[i+1]?o(i+1):o(null))}}),[t,i,e,o]),j=Object(c.useCallback)((function(e,t){e=+e+.05;var r=a[t],i=a[t+1];if(null!==t&&i&&e>+r.end){var o=+r.end-r.start<=.05&&!n;o||i.active||null===i.next?o||l((function(e){return e+1})):l(i.next)}}),[n,a,l]),p=Object(c.useCallback)((function(e,t){e=+e+.05;var a=t.next;t&&a&&e>+t.val.end&&(a.val.active?d((function(e){return e.next})):d(a.nextSub))}),[d]);Object(c.useEffect)((function(){a&&n&&b&&u&&null!==r&&p(r,u)}),[a,n,b,r,p,u]),Object(c.useEffect)((function(){a&&null!==r&&j(r,s)}),[a,r,j,s]),Object(c.useEffect)((function(){a&&null!==r&&h(r)}),[a,r,h])},Qa=a(163),$a=a(112),en=function e(t){Object($a.a)(this,e),this.val=t,this.next=null},tn=function(){function e(){Object($a.a)(this,e),this.head=null,this.tail=null,this.length=0}return Object(Qa.a)(e,[{key:"push",value:function(e){var t=new en(e);return this.head?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),this.length++,this.length}},{key:"pop",value:function(){if(!this.head)return null;for(var e=this.head,t=e;e.next;)t=e,e=e.next;return 1===this.length?(this.head=null,this.tail=null):(this.tail=t,this.tail.next=null),this.length--,e}},{key:"shift",value:function(){if(!this.head)return null;var e=this.head;return this.head=this.head.next,e.next=null,this.length--,0===this.length&&(this.tail=null),e}},{key:"unshift",value:function(e){var t=new en(e);return this.head?t.next=this.head:this.tail=t,this.head=t,this.length++,this}},{key:"get",value:function(e){if(e<0||e>=this.length)return null;for(var t=this.head,a=0;a<=e;a++){if(a===e)return t;t=t.next}}},{key:"set",value:function(e,t){var a=this.get(e);return!!a&&(a.val=t,!0)}},{key:"insert",value:function(e,t){if(e<0||e>this.length)return!1;if(0===e)return!!this.unshift(t);if(e===this.length)return!!this.push(t);var a=new en(t),n=this.get(e-1);return a.next=n.next,n.next=a,this.length++,!0}},{key:"remove",value:function(e){if(e<0||e>=this.length)return!1;if(0===e)return!!this.shift();if(e===this.length-1)return!!this.pop();var t=this.get(e-1);return t.next=t.next.next,this.length--,!0}},{key:"reverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.head;if(this.length<=1)return this;var a=t.next;return e||(this.tail=this.head,this.tail.next=null),t.next=e,e=t,null===a.next?(this.head=a,this.head.next=e,this):this.reverse(e,a)}}]),e}(),an=function(e,t,a,n,r,i,o,s,l,u,d,b,h,j,p){Object(c.useEffect)((function(){a&&s&&(b&&h(!1),function(e,t){if(t.val.silence)e.visible=!1;else if(t.val.active){for(var a="",n=0;n<t.val.words.length;n++)a+=t.val.words[n].text;e.set({text:a,visible:!0})}}(a,s))}),[a,s,b,h,i]),Object(c.useEffect)((function(){if(i&&!j){var e=te(u,r,i);null!==e&&l(e)}}),[i,l,r,u,j]),Object(c.useEffect)((function(){a&&d&&function(e,t){for(var a=new tn,n=null,r=null,i=function(e,t,n){r&&(a.get(r).nextSub=a.tail,r=null)},o=0;o<e.length;o++){var c=e[o],s=e[o+1];if(c.active){var l=o===e.length-1,u=+c.end-+c.start;if(c.silence&&(!n&&s&&!s.active||u>=.4))n&&(a.push(Object(q.a)({},n)),i(),n=null),a.push(Object(q.a)({},c)),i();else if(c.silence)n?(n.end+=c.end,n.words.push(Object(q.a)(Object(q.a)({},c),{},{text:""})),l&&(a.push(n),i())):(n={words:[Object(q.a)(Object(q.a)({},c),{},{text:""})],start:c.start,end:c.end,strLength:0,active:!0},l&&(a.push(Object(q.a)({},c)),i()));else{var d=!!c.text.match(/[.,:!?]$/),b=null!==n&&n.strLength+c.text.length+1<48;if(b&&d&&n){var h="";n.strLength>0&&(h=" "),h+=c.text,n.words.push(Object(q.a)(Object(q.a)({},c),{},{text:h})),n.end=c.end,n.strLength+=h.length,a.push(Object(q.a)({},n)),i(),n=null}else if(d&&n)a.push(Object(q.a)({},n)),i(),n={words:[Object(q.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(q.a)({},n)),n=null;else if(d)n={words:[Object(q.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},a.push(Object(q.a)({},n)),i(),n=null;else if(b){var j="";n.strLength>0&&(j=" "),j+=c.text,n.words.push(Object(q.a)(Object(q.a)({},c),{},{text:j})),n.end=c.end,n.strLength+=j.length,l&&(a.push(n),i())}else n?(a.push(Object(q.a)({},n)),i(),n={words:[Object(q.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&a.push(n)):(n={words:[Object(q.a)({},c)],start:c.start,end:c.end,strLength:c.text.length,active:!0},l&&(a.push(n),i()))}}else n?(a.push(Object(q.a)({},n)),i(),n=null,a.push(Object(q.a)({},c)),r=a.length-1):(a.push(Object(q.a)({},c)),r||(r=a.length-1))}t(a)}(r,o)}),[a,d,o,r]),Object(c.useEffect)((function(){if(t&&!a&&e.isSubtitles){j&&p.current.pause();var r=function(e,t){var a=e.getZoom(),n=e.getWidth()/a,r=e.getHeight()/a,i=550<n/2?550:n/2,o=new be.fabric.SubtitleWithResize(" ",Object(q.a)(Object(q.a)({width:i,paddingX:20,paddingY:20,breakWords:!0,editable:!1,originX:"center",originY:"center",textAlign:"center"},t.subtitlesState),{},{id:"subtitle",excludeFromExport:!0,prevTop:null,prevLeft:null,visible:!1}));return o.left=n/2,o.top=r-o.height-o.paddingY,o}(t,e);t.add(r),t.requestRenderAll(),n(r)}else a&&!e.isSubtitles&&(t.remove(a),n(null))}),[p,j,e.isSubtitles,a,n,t,e,i,r,o]),Object(c.useEffect)((function(){return t&&a&&t.on("object:added",(function(e){t.bringToFront(a)})),function(){t&&t.off("object:added")}}),[t,a])},nn=(a(314),function(e){var t=e.style;return Object(v.jsxs)("div",{className:"sk-circle",style:t,children:[Object(v.jsx)("div",{className:"sk-circle1 sk-child"}),Object(v.jsx)("div",{className:"sk-circle2 sk-child"}),Object(v.jsx)("div",{className:"sk-circle3 sk-child"}),Object(v.jsx)("div",{className:"sk-circle4 sk-child"}),Object(v.jsx)("div",{className:"sk-circle5 sk-child"}),Object(v.jsx)("div",{className:"sk-circle6 sk-child"}),Object(v.jsx)("div",{className:"sk-circle7 sk-child"}),Object(v.jsx)("div",{className:"sk-circle8 sk-child"}),Object(v.jsx)("div",{className:"sk-circle9 sk-child"}),Object(v.jsx)("div",{className:"sk-circle10 sk-child"}),Object(v.jsx)("div",{className:"sk-circle11 sk-child"}),Object(v.jsx)("div",{className:"sk-circle12 sk-child"})]})}),rn=function(e){var t=e.videoRef,a=e.canvas,n=e.setCanvas,r=e.isPlaying,i=e.words,o=e.currentTime,s=e.videoCuts,l=e.setNextCutIndex,u=e.setCurrentWordIndex,b=e.nextCutIndex,h=e.currentWordIndex,j=e.subList,p=e.setSubList,f=e.fabricSub,g=e.setFabricSub,O=e.currentSub,m=e.setCurrentSub,S=e.shouldRerenderSub,x=e.setShouldRerenderSub,C=e.speakers,_=e.info,k=e.setVideoData,w=e.transcriptonStatus,y=e.setSpeakers,T=e.userAssets,N=e.setUserAssets,D=Object(c.useContext)($),A=D.editorState,I=D.editorDispatch,R=ba(),P=Object(d.a)(R,2),F=P[0],E=P[1],B=Object(c.useState)(!1),M=Object(d.a)(B,2),L=M[0],H=M[1],U=Object(c.useRef)(null);return Object(c.useEffect)((function(){w&&w.isFinished&&t.current.pause()}),[w,t]),Object(c.useEffect)((function(){A.isCropMode&&t.current.pause()}),[A.isCropMode,t]),Za(A.canvasState,I,U),Ja(t,s,i,r,o,b,l,h,u,O,m,f),an(A,a,f,g,i,j,p,O,m,h,s,S,x,r,t),Object(v.jsxs)("div",{className:le.a.Player,ref:U,children:[L?null:Object(v.jsx)(nn,{style:{width:"100px",height:"100px",position:"absolute",zIndex:"100",margin:"auto",left:"0",right:"0",top:"200px"}}),Object(v.jsx)(fe.Provider,{value:{eventState:F,eventDispatch:E},children:Object(v.jsxs)("div",{className:le.a.PlayerContent,children:[Object(v.jsx)(la,{canvas:a,setCanvas:n,video:t.current,fabricSub:f,currentTime:o,speakers:C,info:_,isPlaying:r,isCanvasSet:L,setIsCanvasSet:H,userAssets:T,setUserAssets:N}),a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:le.a.PlayerControls,children:Object(v.jsx)("div",{className:le.a.PlayButton,onClick:function(){r?t.current.pause():t.current.play()},children:r?Object(v.jsx)("img",{src:Ka,alt:"pause"}):Object(v.jsx)("img",{src:qa,alt:"play"})})}),Object(v.jsx)(Xa,{setVideoData:k,info:_,setSpeakers:y,canvas:a})]}):null]})})]})},on=a(164),cn=a.n(on),sn=function(e){var t=e.videoRef,a=e.setIsPlaying,n=e.currentSelection,r=e.setCurrentSelection,i=e.setCurrentTime,o=e.videoCuts,s=e.words,l=e.setNextCutIndex,u=e.setCurrentWordIndex,b=e.setCurrentSub,h=e.subList,j=e.info,p=Object(c.useContext)($).editorDispatch,f=Object(c.useState)(null),g=Object(d.a)(f,2),O=g[0],m=g[1];Object(c.useEffect)((function(){return function(){O&&clearInterval(O)}}),[O]);return Object(v.jsx)("video",{src:j?j.url:null,id:"video",preload:"auto",className:cn.a.Video,ref:t,controls:!0,onPause:function(){return function(e,t,a){e(!1),a&&clearInterval(t)}(a,O,s)},onPlay:function(){return function(e,t,a,n,r,i,o){a(!0),document.getSelection().removeAllRanges(),e&&t(null),i(setInterval((function(){o&&r.current&&n(r.current.currentTime)}),10))}(n,r,a,i,t,m,s)},onEnded:function(){return function(e,t,a,n,r,i,o){if(a){e.length>0&&t(0);var c=a[0],s=0,l=c.start;c.active||null===c.next||(l=a[s=c.next].start),n(s),i(te(s,a,o)),r(+l)}}(o,l,s,u,i,b,h)},onLoadedMetadata:function(){var e=t.current.videoWidth,a=t.current.videoHeight;p({type:"setCanvasInitialSize",data:{initialWidth:e,initialHeight:a}});var n={};n=j.canvas&&j.canvas.width?{width:+j.canvas.width,height:+j.canvas.height,resize:j.canvas.resize}:{width:e,height:a,resize:"original"},p({type:"setVideoSize",data:n})},crossOrigin:"Anonymous"})},ln=a(113),un=a.n(ln),dn=function(e,t){return{position:{x:e.left,y:e.top,w:e.width*e.scaleX,h:e.height*e.scaleY,z:t,crop:e.cropRect}}},bn=function(e,t,a,n,r){e.renderAll();var i=e.toDataURL({format:"image/jpg",quality:1});n.push({image:i,position:{x:0,y:0,w:t,h:a,z:r}}),e.clear(),e.backgroundColor="rgba(255, 255, 255, 0)"},hn=function(e,t,a,n){var r=t.getObjects(),i=t.getWidth()/t.getZoom(),o=t.getHeight()/t.getZoom(),c=[],s=[],l=!0,u=1;bn(e,i,o,s,0);for(var d=0;d<r.length;d++){var b=r[d];if("subtitle"===b.type&&l)bn(e,i,o,s,u),l=!1;else{if("subtitle"===b.type)continue;if("video"===b.type)l&&(bn(e,i,o,s,u),u++,l=!1),c.push(dn(b,u)),u++;else if("video"!==b.type&&"subtitle"!==b.type){var h=be.fabric.util.object.clone(b);e.add(h),l=!0}}}l&&bn(e,i,o,s,u),n({coordinates:c}),a(s)},jn=function(){var e=Object(w.a)(k.a.mark((function e(t,a,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new be.fabric.Canvas).setDimensions({width:t.getWidth()/t.getZoom(),height:t.getHeight()/t.getZoom()}),r.backgroundColor=t.backgroundColor,hn(r,t,a,n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pn=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},fn=function(e){var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),a=(t&&t[4]||"").trim(),n=t?(256|t[1]).toString(16).slice(1)+(256|t[2]).toString(16).slice(1)+(256|t[3]).toString(16).slice(1):e,r=""!==a?a:"01";return n+=r=(255*+r|256).toString(16).slice(1)},gn=function(e,t,a,n){var r=function(e,t){var a=e.canvas.getZoom(),n=e.canvas.getWidth()/a,r=e.canvas.getHeight()/a;return{x:100*e.left/n,y:100*e.top/r,width:n,height:r,objectWidth:e.width,objectHeight:e.height,xCoordinate:e.left,yCoordinate:e.top,top:e.lineCoords.tl.y,left:e.lineCoords.tl.x,fontSize:t.fontSize,fontColor:fn(t.fill),fontFamily:t.fontFamily,backgroundColor:fn(t.backgroundColor),textAlign:"center",padding:0!==e.paddingY?e.paddingY/2:0,fontWeight:t.fontWeight,fontStyle:t.fontStyle}}(t,a);console.log(r);for(var i=0,o=0,c=!1,s=[],l=e.head,u=0;u<e.length;u++){var d=l.val;if(d.active&&c){var b=pn();c=!1,s.push({start:i,end:o,active:!1,silence:!0,_id:b})}else d.active||c?!d.active&&c&&(o=d.end):(c=!0,i=d.start,o=d.end);if(d.silence&&d.active){var h=pn();s.push({start:d.start,end:d.end,silence:!0,_id:h,active:!0})}else if(d.active){for(var j=pn(),p="",f=0;f<d.words.length;f++){p+=d.words[f].text}s.push({start:d.start,end:d.end,text:p,silence:!1,active:!0,_id:j})}l=l.next}if(c){var g=pn();s.push({start:i,end:o,active:!1,silence:!0,_id:g})}var O={captions:s,config:r};console.log(O),n(O)},On=a(11),vn=a.n(On),mn=a(32),Sn=a.n(mn),xn=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.post("/images",e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),b=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),n(!0),e.prev=2,e.next=5,u(t);case 5:a=e.sent,l.current&&s(a.data),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error Uploading Asset",e.t0),l.current&&s("error");case 14:return e.prev=14,l.current&&n(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,10,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isUploadingAsset:a,uploadAsset:b,uploadResponse:o}},Cn=function(e){var t=e.assets,a=e.setAssets,n=Object(c.useContext)($).editorDispatch,r=xn(),i=r.isUploadingAsset,o=r.uploadAsset,s=r.uploadResponse,l=Object(c.useRef)(null);Object(c.useEffect)((function(){s&&"error"!==s&&a((function(e){return[].concat(Object(ne.a)(e),[s.image])}))}),[s,a]);var u=function(e){var t="customImage",a=e.currentTarget.src,r=a.split(".");"svg"===r[r.length-1]&&(t="svg"),n({type:"setImageToAdd",data:{type:t,src:a}})},d=t?t.filter((function(e,t){return(t+1)%2!==0})):null,b=t?t.filter((function(e,t){return(t+1)%2===0})):null,h=t?Object(v.jsxs)("div",{className:Sn.a.Images,children:[Object(v.jsx)("div",{className:Sn.a.Column,children:d.map((function(e,t){return Object(v.jsx)("div",{className:Sn.a.ImageContainer,children:Object(v.jsx)("img",{className:Sn.a.Image,src:e.image_url,alt:"asset",onClick:u})},e._id)}))}),Object(v.jsx)("div",{className:Sn.a.Column,children:b.map((function(e,t){return Object(v.jsx)("div",{className:Sn.a.ImageContainer,children:Object(v.jsx)("img",{className:Sn.a.Image,src:e.image_url,alt:"asset",onClick:u})},e._id)}))})]}):null;return Object(v.jsxs)("div",{className:Sn.a.Dropdown,children:[Object(v.jsxs)("div",{className:Sn.a.UplaodButtonContainer,children:[Object(v.jsx)("button",{onClick:function(){l.current.click()},className:Sn.a.UploadButton,children:"Upload image"}),Object(v.jsx)("input",{accept:"image/png, image/gif, image/jpeg, image/svg+xml",className:Sn.a.FileInput,ref:l,type:"file",onChange:function(){if(l.current.files[0]){var e=l.current.files[0],t=new FormData;t.append("image",e),o(t)}}}),i?Object(v.jsx)(nn,{style:{width:"25px",height:"25px",margin:"25px auto",position:"absolute",right:"20px"}}):null]}),t?h:Object(v.jsx)(nn,{style:{width:"50px",height:"50px"}})]})},_n=a(35),kn=a.n(_n),wn=a.p+"static/media/square.1a317c4f.svg",yn=a.p+"static/media/circle.0bedfa10.svg",Tn=a.p+"static/media/triangle.84433629.svg",Nn=a.p+"static/media/line.60fd0829.svg",Dn=function(){var e=Object(c.useContext)($).editorDispatch;return Object(v.jsxs)("div",{className:kn.a.Dropdown,onClick:function(t){"IMG"===t.target.tagName?e({type:"setShapeToAdd",data:t.target.id}):t.target.classList.contains(kn.a.ShapeContainer)&&e({type:"setShapeToAdd",data:t.target.childNodes[0].id})},children:[Object(v.jsx)("div",{className:kn.a.ShapeContainer,children:Object(v.jsx)("img",{className:kn.a.Shape,src:wn,alt:"square",id:"square"})}),Object(v.jsx)("div",{className:kn.a.ShapeContainer,children:Object(v.jsx)("img",{className:kn.a.Shape,src:yn,alt:"circle",id:"circle"})}),Object(v.jsx)("div",{className:kn.a.ShapeContainer,children:Object(v.jsx)("img",{className:kn.a.Shape,src:Tn,alt:"triangle",id:"triangle"})}),Object(v.jsx)("div",{className:kn.a.ShapeContainer,children:Object(v.jsx)("img",{className:kn.a.Shape,src:Nn,alt:"line",id:"line"})})]})},An=a(39),In=a.n(An),Rn=["title","titleId"];function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function En(e,t){var a=e.title,n=e.titleId,r=Fn(e,Rn);return c.createElement("svg",Pn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,La||(La=c.createElement("path",{d:"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z",fill:"current"})),Ha||(Ha=c.createElement("path",{d:"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z",fill:"current"})),Ua||(Ua=c.createElement("path",{d:"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z",fill:"current"})),Wa||(Wa=c.createElement("path",{d:"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z",fill:"current"})),Va||(Va=c.createElement("path",{d:"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z",fill:"current"})),za||(za=c.createElement("path",{d:"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z",fill:"current"})),Ya||(Ya=c.createElement("path",{d:"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z",fill:"current"})))}var Bn,Mn,Ln=c.forwardRef(En),Hn=(a.p,["title","titleId"]);function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Vn(e,t){var a=e.title,n=e.titleId,r=Wn(e,Hn);return c.createElement("svg",Un({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Bn||(Bn=c.createElement("g",{clipPath:"url(#clip0)"},c.createElement("path",{d:"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z",fill:"current"}),c.createElement("path",{d:"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z",fill:"current"}),c.createElement("path",{d:"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z",fill:"current"}))),Mn||(Mn=c.createElement("defs",null,c.createElement("clipPath",{id:"clip0"},c.createElement("rect",{width:16,height:16,fill:"white"})))))}var zn,Yn=c.forwardRef(Vn),Gn=(a.p,function(e){var t=e.words,a=Object(c.useContext)($),n=a.editorState,r=a.editorDispatch,i=function(e){if(t){var a=!0;"subOff"===e.currentTarget.id&&(a=!1),r({type:"setIsSubtitles",data:a})}};return Object(v.jsxs)("div",{className:In.a.Dropdown,children:[Object(v.jsx)("p",{className:In.a.Text,children:"Subtitles"}),Object(v.jsxs)("div",{className:In.a.Buttons,children:[Object(v.jsxs)("div",{className:[In.a.Button,n.isSubtitles?null:In.a.Active].join(" "),id:"subOff",onClick:i,children:[Object(v.jsx)(Yn,{fill:n.isSubtitles?"#000000":"#6F7BD0"}),Object(v.jsx)("p",{className:In.a.ButtonText,children:"Off"})]}),Object(v.jsxs)("div",{className:[In.a.Button,n.isSubtitles?In.a.Active:null].join(" "),id:"subOn",onClick:i,children:[Object(v.jsx)(Ln,{fill:n.isSubtitles?"#6F7BD0":"#000000"}),Object(v.jsx)("p",{className:In.a.ButtonText,children:"On"})]})]})]})}),Xn=a.p+"static/media/addText.3a1cc6fe.svg",qn=a.p+"static/media/addImage.5167341a.svg",Kn=a.p+"static/media/addShape.efc88c00.svg",Zn=a.p+"static/media/subtitles.185e9c1f.svg",Jn=function(e){var t=e.canvas,a=e.words,n=e.assets,r=e.setAssets,i=Object(c.useContext)($),o=i.editorState,s=i.editorDispatch,l=function(e){if(t&&!o.shouldCropMedia){var a="",n=e.currentTarget.id;"addText"===n?a="setShouldAddText":"addImage"===n?a="setIsImageDropdown":"addShape"===n?a="setIsShapeDropdown":"subtitles"===n&&(a="setIsSubtitlesDropdown"),s({type:a,data:!0}),o.isCropMode&&s({type:"setShouldCropMedia",data:!0})}};return Object(v.jsxs)("div",{className:vn.a.ControlsContainer,children:[Object(v.jsxs)("div",{className:vn.a.AddTextContainer,id:"addText",onClick:l,children:[Object(v.jsx)("img",{src:Xn,alt:"add text"}),Object(v.jsxs)("div",{className:vn.a.HoverContent,children:[Object(v.jsx)("div",{className:vn.a.HoverTriangle}),Object(v.jsx)("p",{className:vn.a.HoverText,children:"Add text"})]})]}),Object(v.jsxs)("div",{className:vn.a.DesignControl,children:[Object(v.jsxs)("div",{className:vn.a.AddImageContainer,id:"addImage",onClick:l,children:[Object(v.jsx)("img",{src:qn,alt:"add image"}),Object(v.jsxs)("div",{className:vn.a.HoverContent,children:[Object(v.jsx)("div",{className:vn.a.HoverTriangle}),Object(v.jsx)("p",{className:vn.a.HoverText,children:"Add image"})]})]}),o.isImageDropdown||o.shouldReplaceImage||o.shouldAddCanvasBgImage?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Sa,{}),Object(v.jsx)("div",{className:vn.a.ImageDropdown,children:Object(v.jsx)(Cn,{assets:n,setAssets:r})})]}):null]}),Object(v.jsxs)("div",{className:vn.a.DesignControl,children:[Object(v.jsxs)("div",{className:vn.a.AddShapeContainer,id:"addShape",onClick:l,children:[Object(v.jsx)("img",{src:Kn,alt:"add shape"}),Object(v.jsxs)("div",{className:vn.a.HoverContent,children:[Object(v.jsx)("div",{className:vn.a.HoverTriangle}),Object(v.jsx)("p",{className:vn.a.HoverText,children:"Add shape"})]})]}),o.isShapeDropdown?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Sa,{}),Object(v.jsx)("div",{className:vn.a.ShapeDropdown,children:Object(v.jsx)(Dn,{})})]}):null]}),Object(v.jsx)("div",{className:vn.a.DesignControl,children:Object(v.jsxs)("div",{className:vn.a.AddShapeContainer,id:"subtitles",onClick:l,children:[Object(v.jsx)("img",{src:Zn,alt:"subtitles"}),Object(v.jsxs)("div",{className:vn.a.HoverContent,children:[Object(v.jsx)("div",{className:vn.a.HoverTriangle}),Object(v.jsx)("p",{className:vn.a.HoverText,children:"Subtitles"})]})]})}),o.isSubtitlesDropdown?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Sa,{}),Object(v.jsx)("div",{className:vn.a.SubtitlesDropdown,children:Object(v.jsx)(Gn,{words:a})})]}):null]})},Qn=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(){return new Promise((function(e,t){D.get("/images").then((function(t){e(t)})).catch((function(e){t(e)}))}))}),[]),b=Object(c.useCallback)(Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),n(!0),e.prev=2,e.next=5,u();case 5:t=e.sent,l.current&&s(t.data),console.log(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error Getting Assets",e.t0);case 13:return e.prev=13,l.current&&n(!1),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,13,17]])}))),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isGettingAssets:a,getAssets:b,assets:o,setAssets:s}},$n=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new Image;n.onload=function(){return e(n)},n.onerror=function(){return a()},n.src=t.src})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Object(w.a)(k.a.mark((function e(t,a,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return $n(e)}));case 2:return r=e.sent,e.next=5,Promise.all(r);case 5:i=e.sent,n.current&&a(i);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),tr=function(e){var t=e.canvas,a=e.videoRef,n=e.videoCuts,r=e.duration,i=e.subList,o=e.fabricSub,s=(e.setPreviewUrl,e.videoData),l=e.isUpdatingProject,u=e.isDownloading,b=e.downloadVideo,h=e.downloadedVideo,j=(e.setDownloadedVideo,e.words),p=e.setUserAssets,f=e.canvasInfo,g=Object(c.useContext)($),O=g.editorState,m=g.editorDispatch,S=Qn(),x=S.getAssets,C=S.assets,_=S.setAssets,k=Object(c.useState)(!0),w=Object(d.a)(k,2),y=w[0],T=w[1],N=Object(c.useState)(null),D=Object(d.a)(N,2),A=D[0],I=D[1],R=Object(c.useState)(null),P=Object(d.a)(R,2),E=P[0],B=P[1],L=Object(c.useState)(null),H=Object(d.a)(L,2),U=H[0],W=H[1],V=Object(c.useState)(null),z=Object(d.a)(V,2),Y=z[0],G=z[1],X=Object(c.useState)(null),K=Object(d.a)(X,2),Z=K[0],J=K[1],Q=Object(c.useState)(null),ee=Object(d.a)(Q,2),te=ee[0],ae=ee[1],re=Object(F.g)(),ie=Object(c.useRef)(!1);Object(c.useEffect)((function(){h&&re.push("/preview/".concat(s.id))}),[h,re,s]),Object(c.useEffect)((function(){A&&(b(A),I(null))}),[A,b]),Object(c.useEffect)((function(){if(f){var e=f.objects.filter((function(e){return"customImage"===e.type}));er(e,p,ie)}}),[p,f]),Object(c.useEffect)((function(){y&&(T(!1),x())}),[y,x]);var oe=Object(c.useCallback)((function(e,t,a,n,r,i){var o=Object(ne.a)(e),c={id:i,resize:Object(q.a)({},r),video:Object(q.a)({},t),elements:o,breaks:Object(ne.a)(a),subtitles:Object(q.a)({},n)};console.log(c);var s=JSON.stringify(c);I(s),B(null),ae(null),G(null),W(null),J(null)}),[]);return Object(c.useEffect)((function(){E&&U&&Y&&Z&&te&&oe(E,U,Y,Z,te,s.id)}),[E,U,oe,Y,Z,s,te]),Object(c.useEffect)((function(){return ie.current=!0,function(){return ie.current=!1}}),[]),Object(v.jsx)(M,{videoData:s,children:Object(v.jsx)("div",{className:un.a.Navigation,children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Jn,{canvas:t,words:j,assets:C,setAssets:_}),l?Object(v.jsx)(nn,{style:{width:"1.25rem",height:"1.25rem",marginRight:"10px",position:"absolute",right:"7rem"}}):null,Object(v.jsx)("button",{id:"downloadDesign",className:un.a.DownloadButton,onClick:function(){O.isCropMode?m({type:"setShouldCropMedia",data:!0}):t&&!u&&!l&&j&&(a.current.pause(),function(e,t,a){for(var n=[],r=null,i=0;i<e.length;i++){var o=e[i];0===i&&0!==o.start?n.push({start:0,end:o.start}):0!==o.start&&n.push({start:r,end:o.start}),r=o.end,i===e.length-1&&o.end!==t&&n.push({start:o.end,end:t})}a(n)}(n,r,G),o&&i?gn(i,o,O.subtitlesState,J):J({captions:[],config:{}}),jn(t,B,W),ae({type:O.canvasState.resize,w:O.canvasState.videoWidth,h:O.canvasState.videoHeight}))},children:u?"Loading...":"Download"})]}):null})})},ar={shouldTriggerCanvasUpdate:!0,shouldTriggerWordsUpdate:!1,canvasState:{initialWidth:0,initialHeight:0,videoHeight:0,videoWidth:0,containerWidth:0,containerHeight:0,resize:"original",width:0,height:0,backgroundColor:"rgba(255,255,255,1)",shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,"should\u0421alculateCanvasSize":!1},shapeToAdd:null,imageToAdd:null,currentCoords:null,showToolbar:!1,shapeState:{fill:"rgba(196,196,196,1)",stroke:"rgba(255,255,255,1)",strokeWidth:0,rx:0,ry:0},imageState:{cornerRadius:0,isSvg:!1},videoState:{cornerRadius:0,stroke:"rgba(255,255,255,1)",strokeWidth:0},isSubtitles:!1,isCropMode:!1,cropType:"rect",shouldCropMedia:!1,isImageDropdown:!1,isSubtitlesDropdown:!1,isShapeDropdown:!1,isResizeDropdown:!1,isCanvasBgColorDropdown:!1,isDownloadDropdown:!1,shouldAddText:!1,shouldUpdateText:!1,shouldUpdateSubtitles:!1,shouldUpdateShape:!1,shouldUpdateImage:!1,shouldUpdateVideo:!1,shouldReplaceImage:!1,currentObject:{type:"",object:null},textState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:30,fill:"rgba(0,0,0,1)",textAlign:"left"},subtitlesState:{fontFamily:"Inter",fontStyle:"Normal",fontWeight:"Normal",fontSize:24,fill:"rgba(0,0,0,1)",backgroundColor:"rgba(255,255,255,1)",initialBackground:"rgba(255,255,255,1)"}},nr=function(e,t){switch(t.type){case"setShouldTriggerCanvasUpdate":return Object(q.a)(Object(q.a)({},e),{},{shouldTriggerCanvasUpdate:t.data});case"setShouldTriggerWordsUpdate":return Object(q.a)(Object(q.a)({},e),{},{shouldTriggerWordsUpdate:t.data});case"setCanvasState":return Object(q.a)(Object(q.a)({},e),{},{canvasState:t.data});case"setIsDownloadDropdown":return Object(q.a)(Object(q.a)({},e),{},{isDownloadDropdown:t.data});case"setIsSubtitles":return Object(q.a)(Object(q.a)({},e),{},{isSubtitles:t.data,isSubtitlesDropdown:!1});case"setIsCropMode":return Object(q.a)(Object(q.a)({},e),{},{isCropMode:t.data});case"setCropType":return Object(q.a)(Object(q.a)({},e),{},{isCropMode:!0,cropType:t.data});case"setShouldCropMedia":return Object(q.a)(Object(q.a)({},e),{},{shouldCropMedia:t.data});case"setIsImageDropdown":return Object(q.a)(Object(q.a)({},e),{},{isImageDropdown:t.data});case"setIsSubtitlesDropdown":return Object(q.a)(Object(q.a)({},e),{},{isSubtitlesDropdown:t.data});case"setIsShapeDropdown":return Object(q.a)(Object(q.a)({},e),{},{isShapeDropdown:t.data});case"setIsResizeDropdown":return Object(q.a)(Object(q.a)({},e),{},{isResizeDropdown:t.data});case"setIsCanvasBgColorDropdown":return Object(q.a)(Object(q.a)({},e),{},{isCanvasBgColorDropdown:t.data});case"setCurrentCoords":return Object(q.a)(Object(q.a)({},e),{},{currentCoords:t.data});case"setShowToolbar":return Object(q.a)(Object(q.a)({},e),{},{showToolbar:t.data});case"setShowCanvasToolbar":return Object(q.a)(Object(q.a)({},e),{},{showCanvasToolbar:t.data});case"setShouldAddText":return Object(q.a)(Object(q.a)({},e),{},{shouldAddText:t.data});case"setShouldUpdateText":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:t.data});case"setShouldUpdateSubtitles":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:t.data});case"setShouldUpdateShape":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateShape:t.data});case"setShouldUpdateImage":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateImage:t.data});case"setShouldUpdateVideo":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateVideo:t.data});case"setCurrentObject":return Object(q.a)(Object(q.a)({},e),{},{currentObject:t.data});case"setShapeToAdd":return Object(q.a)(Object(q.a)({},e),{},{shapeToAdd:t.data,isShapeDropdown:!1});case"setImageToAdd":return Object(q.a)(Object(q.a)({},e),{},{imageToAdd:t.data,isImageDropdown:!1});case"setShapeState":return Object(q.a)(Object(q.a)({},e),{},{shapeState:Object(q.a)({},t.data)});case"setImageState":return Object(q.a)(Object(q.a)({},e),{},{imageState:Object(q.a)({},t.data)});case"setVideoState":return Object(q.a)(Object(q.a)({},e),{},{videoState:Object(q.a)({},t.data)});case"setTextState":return Object(q.a)(Object(q.a)({},e),{},{textState:Object(q.a)({},t.data)});case"setSubtitlesState":return Object(q.a)(Object(q.a)({},e),{},{subtitlesState:Object(q.a)({},t.data)});case"setShouldReplaceImage":return Object(q.a)(Object(q.a)({},e),{},{shouldReplaceImage:t.data});case"setShouldUpdateCanvas":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{shouldUpdateCanvas:t.data})});case"setShouldUpdateCanvasSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{shouldUpdateCanvasSize:t.data})});case"setShould\u0421alculateCanvasSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{"should\u0421alculateCanvasSize":t.data})});case"setCanvasBackgroundColor":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{shouldUpdateCanvas:!0,backgroundColor:t.data})});case"setCanvasSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{shouldUpdateCanvasSize:!0,width:t.data.width,height:t.data.height})});case"setVideoSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{"should\u0421alculateCanvasSize":!0,videoWidth:t.data.width,videoHeight:t.data.height,resize:t.data.resize})});case"setContainerSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{"should\u0421alculateCanvasSize":!0,containerWidth:t.data.width,containerHeight:t.data.height})});case"setCanvasInitialSize":return Object(q.a)(Object(q.a)({},e),{},{canvasState:Object(q.a)(Object(q.a)({},e.canvasState),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight})});case"setImageCornerRadius":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateImage:!0,imageState:Object(q.a)(Object(q.a)({},e.imageState),{},{cornerRadius:t.data})});case"setVideoCornerRadius":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateVideo:!0,videoState:Object(q.a)(Object(q.a)({},e.videoState),{},{strokeWidth:0,cornerRadius:t.data})});case"setVideoStroke":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateVideo:!0,videoState:Object(q.a)(Object(q.a)({},e.videoState),{},{stroke:t.data})});case"setVideoStrokeWidth":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateVideo:!0,videoState:Object(q.a)(Object(q.a)({},e.videoState),{},{strokeWidth:t.data,cornerRadius:0})});case"setShapeRadius":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(q.a)(Object(q.a)({},e.shapeState),{},{rx:t.data,ry:t.data})});case"setShapeFill":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(q.a)(Object(q.a)({},e.shapeState),{},{fill:t.data})});case"setShapeStroke":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(q.a)(Object(q.a)({},e.shapeState),{},{stroke:t.data})});case"setShapeStrokeWidth":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateShape:!0,shapeState:Object(q.a)(Object(q.a)({},e.shapeState),{},{strokeWidth:t.data})});case"setFontFamily":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{fontFamily:t.data})});case"setFontStyle":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{fontStyle:t.data})});case"setFontWeight":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{fontWeight:t.data})});case"setFontSize":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{fontSize:t.data})});case"setTextFill":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{fill:t.data})});case"setTextAlign":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateText:!0,textState:Object(q.a)(Object(q.a)({},e.textState),{},{textAlign:t.data})});case"setSubtitlesbackgroundColor":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{backgroundColor:t.data})});case"setSubtitlesFontFamily":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{fontFamily:t.data})});case"setSubtitlesFontStyle":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{fontStyle:t.data})});case"setSubtitlesFontWeight":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{fontWeight:t.data})});case"setSubtitlesFontSize":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{fontSize:t.data})});case"setSubtitlesTextFill":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{fill:t.data})});case"setSubtitlesTextAlign":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateSubtitles:!0,subtitlesState:Object(q.a)(Object(q.a)({},e.subtitlesState),{},{textAlign:t.data})});default:return e}},rr=function(){var e=Object(c.useReducer)(nr,ar),t=Object(d.a)(e,2);return[t[0],t[1]]},ir=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(null),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useState)(null),p=Object(d.a)(j,2),f=p[0],g=p[1],O=Object(c.useRef)(null),v=Object(c.useRef)(!1),m=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.get("/videos/".concat(e)).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),S=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),n(!0),e.prev=2,e.next=5,m(t);case 5:a=e.sent,v.current&&((r=a.data.transcription)&&r.length>0?(O.current=Object(ne.a)(r),h({timeLeft:a.data.transcriptionTime,startDate:a.data.transcription_start,isFinished:!0})):h({timeLeft:a.data.transcriptionTime,startDate:a.data.transcription_start,isFinished:!1}),s((function(e){return e||{id:a.data._id,duration:a.data.duration,url:a.data.original_video_url,finalUrl:a.data.final_video_url||null,canvas:a.data.canvas||null,title:a.data.title,finalText:a.data.final_full_text||null}}))),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),v.current&&g(e.t0),console.log("Error Getting Video",e.t0);case 14:return e.prev=14,v.current&&n(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,10,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(c.useEffect)((function(){return v.current=!0,function(){return v.current=!1}}),[]),{isGettingVideo:a,getVideo:S,words:O.current,info:o,getVideoError:f,transcriptonStatus:b}},or=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.put("/videos",e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),b=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),n(!0),e.prev=2,e.next=5,u(t);case 5:a=e.sent,l.current&&s(a.data),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error Updating Project",e.t0),l.current&&s("error");case 14:return e.prev=14,l.current&&n(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,10,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isUpdatingProject:a,updateProject:b,updateResponse:o}},cr=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cuploading ".concat(t,"%"),"color: #3153fb")},b=function(e){var t=Math.round(100*e.loaded/e.total);console.log("%cdownloading ".concat(t,"%"),"color: #0cc700")},h=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.post("/download-video",e,{onUploadProgress:u,onDownloadProgress:b,headers:{"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),j=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,h(t);case 4:a=e.sent,console.log(a),l.current&&s(a.data.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error Downloading Video",e.t0);case 12:return e.prev=12,l.current&&n(!1),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(t){return e.apply(this,arguments)}}(),[h]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isDownloading:a,downloadVideo:j,downloadedVideo:o,setDownloadedVideo:s}},sr=function(e,t,a,n,r,i,o){var s=Object(c.useRef)(null),l=Object(c.useRef)(!0),u=Object(c.useCallback)((function(){s.current&&clearTimeout(s.current);var r=setTimeout((function(){if(e.current&&l.current){s.current=null;var r=function(e){var t=e.toJSON(["id","cornerRadius","isSvg","padding","cursorWidth","rx","ry","noScaleCache","crossOrigin"]),a=e.getZoom();return t.width=e.getWidth()/a,t.height=e.getHeight()/a,t.resize=e.resize,t}(a);t({id:n.id,canvas:Object(q.a)({},r)})}}),1500);s.current=r}),[t,n,a,e]);Object(c.useEffect)((function(){o.shouldTriggerCanvasUpdate&&a&&(r({type:"setShouldTriggerCanvasUpdate",data:!1}),i||u())}),[u,o.shouldTriggerCanvasUpdate,r,i,a]),Object(c.useEffect)((function(){o.isCropMode?l.current=!1:l.current=!0}),[o.isCropMode])},lr=function(e,t,a,n,r,i,o,s){var l=Object(c.useRef)(null),u=Object(c.useRef)(!0),d=Object(c.useCallback)((function(){l.current&&clearTimeout(l.current);var r=setTimeout((function(){e.current&&(l.current=null,t({id:a.id,transcription:Object(ne.a)(n)}))}),1e3);l.current=r}),[t,a,n,e]);Object(c.useEffect)((function(){o&&(r({type:"setShouldTriggerWordsUpdate",data:!1}),i||d())}),[d,o,r,i]),Object(c.useEffect)((function(){u.current?u.current=!1:n&&r({type:"setShouldTriggerWordsUpdate",data:!0})}),[s,i,n,r])},ur=function(e,t,a,n,r){var i=Object(c.useRef)(null),o=Object(c.useCallback)((function(){i.current&&clearInterval(i.current);var a=setInterval((function(){n.current&&!e&&t(r.id)}),4e3);i.current=a}),[t,r,n,e]);Object(c.useEffect)((function(){a&&!a.isFinished?o():a&&a.isFinished&&i.current&&clearInterval(i.current)}),[a,o])},dr=function(e){var t=e.speakers,a=e.setSpeakers,n=e.setVideoData,r=rr(),i=Object(d.a)(r,2),o=i[0],s=i[1],l=ir(),u=l.isGettingVideo,b=l.getVideo,h=l.words,j=l.info,p=l.transcriptonStatus,f=l.getVideoError,g=or(),O=g.isUpdatingProject,m=g.updateProject,S=cr(),x=S.isDownloading,C=S.downloadVideo,_=S.downloadedVideo,k=S.setDownloadedVideo,w=Object(c.useState)(null),y=Object(d.a)(w,2),T=y[0],N=y[1],D=Object(c.useState)(0),A=Object(d.a)(D,2),I=A[0],R=A[1],P=Object(c.useState)(!1),E=Object(d.a)(P,2),B=E[0],M=E[1],L=Object(c.useState)(null),H=Object(d.a)(L,2),W=H[0],V=H[1],z=Object(c.useState)(null),Y=Object(d.a)(z,2),G=Y[0],X=Y[1],q=Object(c.useState)(!1),K=Object(d.a)(q,2),Z=K[0],J=K[1],Q=Object(c.useState)(null),ee=Object(d.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(null),re=Object(d.a)(ne,2),ie=re[0],oe=re[1],se=Object(c.useState)(null),le=Object(d.a)(se,2),ue=le[0],de=le[1],be=Object(c.useState)(null),he=Object(d.a)(be,2),je=he[0],pe=he[1],fe=Object(c.useState)([]),ge=Object(d.a)(fe,2),Oe=ge[0],ve=ge[1],me=Object(c.useState)(null),Se=Object(d.a)(me,2),xe=Se[0],Ce=Se[1],_e=Object(F.g)(),ke=Object(F.i)(),we=Object(c.useRef)(null),ye=Object(c.useRef)(!1);return sr(ye,m,te,j,s,x,o),lr(ye,m,j,h,s,x,o.shouldTriggerWordsUpdate,Oe),ur(u,b,p,ye,ke),Object(c.useEffect)((function(){ke&&ke.id&&b(ke.id)}),[ke,b]),Object(c.useEffect)((function(){f&&_e.push("/home")}),[f,_e]),Object(c.useEffect)((function(){return ye.current=!0,function(){return ye.current=!1}}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)($.Provider,{value:{editorState:o,editorDispatch:s},children:j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(tr,{canvas:te,videoRef:we,videoCuts:Oe,duration:j?j.duration:null,canvasInfo:j?j.canvas:null,words:h,subList:je,fabricSub:ie,videoData:j,isUpdatingProject:O,isDownloading:x,downloadVideo:C,downloadedVideo:_,setDownloadedVideo:k,setUserAssets:Ce}),Object(v.jsxs)("main",{className:U.a.Main,children:[Object(v.jsx)(ce,{className:U.a.VideoEditor,words:h,currentWordIndex:I,setCurrentWordIndex:R,isPlaying:B,videoRef:we,setCuts:ve,currentSelection:T,setCurrentSelection:N,currentSub:ue,setCurrentSub:de,fabricSub:ie,setShouldRerenderSub:J,setCurrentTime:V,setNextCutIndex:X,videoCuts:Oe,status:p}),Object(v.jsx)(rn,{videoRef:we,canvas:te,setCanvas:ae,isPlaying:B,words:h,currentTime:W,videoCuts:Oe,setNextCutIndex:X,setCurrentWordIndex:R,nextCutIndex:G,currentWordIndex:I,subList:je,setSubList:pe,fabricSub:ie,setFabricSub:oe,currentSub:ue,setCurrentSub:de,shouldRerenderSub:Z,setShouldRerenderSub:J,speakers:t,setSpeakers:a,info:j,setVideoData:n,transcriptonStatus:p,userAssets:xe,setUserAssets:Ce}),Object(v.jsx)(sn,{videoRef:we,setIsPlaying:M,currentSelection:T,setCurrentSelection:N,setCurrentTime:V,videoCuts:Oe,words:h,setNextCutIndex:X,setCurrentWordIndex:R,setCurrentSub:de,subList:je,info:j})]})]}):Object(v.jsx)(nn,{style:{width:"100px",height:"100px"}})})})},br=a(170),hr=["component","where","allowed","redirect"],jr=function(e){var t=e.component,a=(e.where,e.allowed),n=e.redirect,r=Object(br.a)(e,hr);return Object(v.jsx)(F.b,Object(q.a)(Object(q.a)({},r),{},{children:a?Object(v.jsx)(t,Object(q.a)({},r)):Object(v.jsx)(F.a,{to:n})}))},pr=a(24),fr=a.n(pr),gr=a.p+"static/media/addSpeaker.45816d68.svg",Or=a.p+"static/media/removeSpeaker.2614b0b2.svg",vr=a(165),mr=a.n(vr),Sr=function(e,t,a,n){var r=Object(c.useState)(!0),i=Object(d.a)(r,2),o=i[0],s=i[1];Object(c.useEffect)((function(){if(o&&e.initialWidth>0){var r=function(e,t){var a=new be.fabric.Canvas(t,{width:e.initialWidth,height:e.initialHeight,backgroundColor:"rgba(255,255,255,1)",preserveObjectStacking:!0,fireRightClick:!0,stopContextMenu:!0,selection:!1}),n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);return a.setZoom(n),a.setDimensions({width:e.width,height:e.height}),a}(e,n);t(r),a(!0),s(!1)}}),[t,a,e,o,n])},xr=function(e,t,a,n){var r=Object(c.useState)(!0),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!0),u=Object(c.useRef)(null);Object(c.useEffect)((function(){return function(){return l.current=!1}}),[]);var b=Object(c.useCallback)((function(){be.fabric.util.cancelAnimFrame(u.current),u.current=null,t&&t.requestRenderAll()}),[t]),h=Object(c.useCallback)((function(){be.fabric.util.requestAnimFrame((function e(){t.requestRenderAll(),u.current=be.fabric.util.requestAnimFrame(e)}))}),[t]),j=Object(c.useCallback)((function(e){return new be.fabric.Video(e,{top:0,left:0})}),[]);Object(c.useEffect)((function(){o&&setTimeout((function(){l.current&&b()}),1e3)}),[b,o]),Object(c.useEffect)((function(){return function(){u.current&&be.fabric.util.cancelAnimFrame(u.current)}}),[]),Object(c.useEffect)((function(){if(o&&e&&t){s(!1),e.currentTime=a>0?a:.001;var r=j(e);t.add(r),r.evented=!1,r.selectable=!1,n(r),h()}}),[e,t,o,a,h,n,j])},Cr=function(e,t,a){Object(c.useEffect)((function(){e.shouldUpdateCanvas&&function(e,t,a){t.backgroundColor=e.backgroundColor,t.requestRenderAll(),a({type:"setShouldUpdateCanvas",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t),e.shouldUpdateCanvasSize&&function(e,t,a){t.discardActiveObject();var n=Math.min(e.width/e.initialWidth,e.height/e.initialHeight);t.setZoom(n),t.setDimensions({width:e.width,height:e.height}),t.requestRenderAll(),a({type:"setShouldUpdateCanvasSize",data:!1}),a({type:"setShouldTriggerCanvasUpdate",data:!0})}(e,a,t)}),[e,t,a])},_r=Object(c.createContext)(null),kr=function(e,t,a,n,r,i,o,s,l){var u=Object(c.useContext)(_r),b=u.speakersState,h=u.speakersDispatch,j=Object(c.useState)(!0),p=Object(d.a)(j,2),f=p[0],g=p[1];Object(c.useEffect)((function(){t&&s&&f&&(g(!1),o.length>0?(!function(e,t,a,n,r){for(var i=[],o=0;o<r.length;o++){var c=r[o],s={width:n.width,height:n.height,scaleX:c.w/n.width,scaleY:c.h/n.height},l=Qt(s,o+1);l.top=c.y,l.left=c.x,a(),e.add(l),e.requestRenderAll(),i.push(l),ra(n,l)}t(i)}(e,n,i,t,o),l([])):h({type:"setShouldAddSpeaker",data:!0}))}),[e,n,i,f,t,o,s,h,l]),Object(c.useEffect)((function(){t&&b.shouldAddSpeaker&&(h({type:"setShouldAddSpeaker",data:!1}),function(e,t,a,n,r,i){var o=null;if(0===e.length)o={width:i.width,height:i.height,scaleX:i.scaleX/2,scaleY:i.scaleY/2};else{var c=e[e.length-1];o={width:c.width,height:c.height,scaleX:c.scaleX,scaleY:c.scaleY}}var s=Qt(o,t);r(),a.add(s).setActiveObject(s),a.requestRenderAll(),n((function(e){return[].concat(Object(ne.a)(e),[s])})),ra(i,s)}(a,r,e,n,i,t))}),[a,b,h,e,t,n,r,i]),Object(c.useEffect)((function(){if(t&&b.shouldRemoveSpeaker){h({type:"setShouldRemoveSpeaker",data:!1});var a=e.getActiveObject();a&&(e.remove(a),n((function(e){return e.filter((function(e){return e.id!==a.id}))})),e.requestRenderAll())}}),[b,h,e,t,n])},wr=function(e){var t=e.canvas,a=e.setCanvas,n=e.canvasState,r=e.canvasDispatch,i=e.videoRef,o=e.setBoxArr,s=e.duration,l=e.boxArr,u=e.speakers,b=e.setSpeakers,h=Object(c.useState)(null),j=Object(d.a)(h,2),p=j[0],f=j[1],g=Object(c.useState)(null),O=Object(d.a)(g,2),m=O[0],S=O[1],x=Object(c.useState)(1),C=Object(d.a)(x,2),_=C[0],k=C[1],w=Object(c.useCallback)((function(){return k((function(e){return e+1}))}),[]);return De(n,p,t,null,null),Cr(n,r,t),Sr(n,a,f,"speakerCanvas"),xr(i.current,t,s/10,S),kr(t,m,l,o,_,w,u,p,b),Object(v.jsx)("div",{className:mr.a.Canvas,children:Object(v.jsx)("canvas",{id:"speakerCanvas"})})},yr={initialWidth:0,initialHeight:0,width:0,height:0,shouldUpdateCanvas:!1,shouldUpdateCanvasSize:!1,shouldAddSpeaker:!1,shouldRemoveSpeaker:!1},Tr=function(e,t){switch(t.type){case"setCanvasSize":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateCanvasSize:!0,width:t.data.width,height:t.data.height});case"setCanvasInitialSize":return Object(q.a)(Object(q.a)({},e),{},{initialWidth:t.data.initialWidth,initialHeight:t.data.initialHeight,width:t.data.width,height:t.data.height});case"setShouldUpdateCanvas":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateCanvas:t.data});case"setShouldUpdateCanvasSize":return Object(q.a)(Object(q.a)({},e),{},{shouldUpdateCanvasSize:t.data});case"setShouldAddSpeaker":return Object(q.a)(Object(q.a)({},e),{},{shouldAddSpeaker:t.data});case"setShouldRemoveSpeaker":return Object(q.a)(Object(q.a)({},e),{},{shouldRemoveSpeaker:t.data});default:return e}},Nr=function(){var e=Object(c.useReducer)(Tr,yr),t=Object(d.a)(e,2);return[t[0],t[1]]},Dr=function(e,t,a){var n=Object(c.useState)(!0),r=Object(d.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(null),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useCallback)((function(){!function(e,t,a){var n=window.innerWidth-e.current.offsetLeft-a,r=e.current.offsetHeight;n>800&&(r=800*r/n,n=800),t({width:n,height:r})}(a,b,200)}),[a,b,200]);Object(c.useEffect)((function(){h()}),[h]),Object(c.useEffect)((function(){return window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}),[h]),Object(c.useEffect)((function(){if(e&&u){var a=u.width,n=e.height*a/e.width,r=a>100;i&&r?(o(!1),t({type:"setCanvasInitialSize",data:{initialWidth:e.width,initialHeight:e.height,width:a,height:n}})):r&&t({type:"setCanvasSize",data:{width:a,height:n}})}}),[i,u,e,t])},Ar=function(e){var t=e.videoData,a=e.setSpeakers,n=e.speakers,r=Nr(),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(F.g)(),u=Object(c.useState)(null),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(c.useRef)(null),f=Object(c.useRef)(null),g=Object(c.useState)(null),O=Object(d.a)(g,2),m=O[0],S=O[1],x=Object(c.useState)([]),C=Object(d.a)(x,2),_=C[0],k=C[1];Dr(m,s,p);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(M,{videoData:t}),Object(v.jsx)(_r.Provider,{value:{speakersState:o,speakersDispatch:s},children:Object(v.jsxs)("div",{className:fr.a.SelectSpeakers,ref:p,children:[Object(v.jsx)("h1",{className:fr.a.Heading,children:"Select area with speakers"}),Object(v.jsx)(wr,{canvas:h,setCanvas:j,canvasState:o,canvasDispatch:s,videoRef:f,boxArr:_,setBoxArr:k,duration:t?t.duration:null,speakers:n,setSpeakers:a}),Object(v.jsx)("video",{src:t?t.url:null,width:m?m.width:0,height:m?m.height:0,id:"video",preload:"auto",className:fr.a.Video,ref:f,onLoadedMetadata:function(){return function(e,t){t({width:e.current.videoWidth,height:e.current.videoHeight})}(f,S)}}),Object(v.jsxs)("p",{className:fr.a.SelectedText,children:[Object(v.jsx)("span",{className:fr.a.SelectedNumber,children:_.length})," speaker".concat(1!==_.length?"s":""," selected")]}),Object(v.jsxs)("div",{className:fr.a.SpeakerButtons,children:[Object(v.jsxs)("div",{className:fr.a.AddSpeakerButton,children:[Object(v.jsx)("button",{className:fr.a.AddSpeakers,onClick:function(){s({type:"setShouldAddSpeaker",data:!0})},children:Object(v.jsx)("img",{src:gr,alt:"add"})}),Object(v.jsx)("p",{className:fr.a.AddSpeakersText,children:"Add speakers"})]}),Object(v.jsxs)("div",{className:fr.a.RemoveSpeakerButton,children:[Object(v.jsx)("button",{className:fr.a.RemoveSpeakers,onClick:function(){s({type:"setShouldRemoveSpeaker",data:!0})},children:Object(v.jsx)("img",{src:Or,alt:"add"})}),Object(v.jsx)("p",{className:fr.a.RemoveSpeakersText,children:"Remove"})]})]}),Object(v.jsxs)("div",{className:fr.a.NextSteps,children:[Object(v.jsx)("button",{className:fr.a.Confirm,onClick:function(){if(_.length>0){for(var e=[],n=0;n<_.length;n++){var r=_[n],i=r.width*r.scaleX,o=r.height*r.scaleY,c=r.lineCoords.tl.x/h.getZoom(),s=r.lineCoords.tr.y/h.getZoom();e.push({x:c,y:s,w:i,h:o})}a(e)}else a([{x:0,y:0,w:m.width,h:m.height}]);l.replace("/editor/".concat(t.id))},children:"Confirm"}),Object(v.jsx)("button",{className:fr.a.Skip,onClick:function(){a([{x:0,y:0,w:m.width,h:m.height}]),l.replace("/editor/".concat(t.id))},children:"Skip"})]})]})})]})},Ir=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)([]),u=Object(d.a)(l,2),b=u[0],j=u[1],p=Object(F.j)(),f=Object(c.useRef)(null);return Object(v.jsx)("div",{className:h.a.Editor,children:Object(v.jsxs)(F.d,{children:[Object(v.jsx)(jr,{path:"".concat(p.path,"/new"),redirect:"".concat(p.path,"/speakers"),where:"in the Editor new route",allowed:!o,component:L,viedoForUpload:a,setVideoForUpload:n,setVideoData:s,wordsRef:f}),Object(v.jsx)(jr,{path:"".concat(p.path,"/speakers"),redirect:"/home",where:"in the Editor speakers route",allowed:!!o,component:Ar,videoData:o,setSpeakers:j,speakers:b}),Object(v.jsx)(jr,{path:"".concat(p.path,"/:id"),redirect:"/home",where:"in the Editor project id route",allowed:!0,component:dr,speakers:b,setSpeakers:j,setVideoData:s}),Object(v.jsx)(F.a,{to:"".concat(p.path,"/new")})]})})},Rr=a(40),Pr=a.n(Rr),Fr=a.p+"static/media/saly.d86e3215.png",Er=a.p+"static/media/twiso.7870df01.svg",Br=a(45),Mr=a.n(Br),Lr=a.p+"static/media/google.321ceef8.svg",Hr=a(166),Ur=a.n(Hr),Wr=function(e){var t=e.children,a=e.onClick;return Object(v.jsx)("button",{onClick:a,className:Ur.a.Button,children:t})},Vr=a(67),zr=a.n(Vr),Yr=function(){return Object(v.jsxs)("div",{className:zr.a.Or,children:[Object(v.jsx)("div",{className:zr.a.Line}),Object(v.jsx)("span",{className:zr.a.Text,children:"or"}),Object(v.jsx)("div",{className:zr.a.Line})]})},Gr=a(68),Xr=a.n(Gr),qr=function(e){var t=e.placeholder,a=e.type,n=e.invalid,r=e.setValue,i=e.value,o=e.errorMessage;return Object(v.jsxs)("div",{className:Xr.a.InputContainer,children:[Object(v.jsx)("input",{className:[Xr.a.Input,n?Xr.a.Invalid:null].join(" "),placeholder:t,type:a,value:i,onBlur:function(){var e=""===i.trim();n&&!e&&r((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!1})}))},onFocus:function(){n&&r((function(e){return Object(q.a)(Object(q.a)({},e),{},{value:""})}))},onChange:function(e){return r((function(t){return Object(q.a)(Object(q.a)({},t),{},{value:e.target.value})}))}}),n?Object(v.jsx)("div",{className:Xr.a.ErrorMessage,children:o}):null]})},Kr=a(69),Zr=a.n(Kr),Jr=a.p+"static/media/mail.ab4abc3d.svg",Qr=function(){return Object(v.jsxs)("div",{className:Zr.a.CheckMail,children:[Object(v.jsx)("img",{src:Jr,alt:"mail",className:Zr.a.Mail}),Object(v.jsx)("h2",{className:Zr.a.Heading,children:"Check your inbox"}),Object(v.jsx)("p",{className:Zr.a.Subheading,children:"We sent you an activation link. Please be sure to check your spam folder too."})]})},$r=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},ei=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.post("/send-magic-link",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),b=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),s(null),e.prev=2,e.next=5,u(t);case 5:a=e.sent,console.log(a),l.current&&n(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(e.t0),console.log("Error Authenticating with Magic Link",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{magicLink:b,magickRes:a,magickError:o}},ti=function(e){var t=e.authUrl,a=e.isLoading,n=e.setIsLoading,r=e.checkTokenValidity,i=ei(),o=i.magicLink,s=i.magickRes,l=i.magickError,u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(c.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",validation:!0,errorMessage:"Please enter your email"}),f=Object(d.a)(p,2),g=f[0],O=f[1];Object(c.useEffect)((function(){var e=localStorage.getItem("token");e?r(e):n(!1)}),[r,n]),Object(c.useEffect)((function(){s&&j(!0)}),[s]),Object(c.useEffect)((function(){l&&n(!1)}),[l,n]);var m=Object(v.jsxs)("div",{className:Mr.a.SignIn,children:[Object(v.jsx)("h2",{className:Mr.a.Heading,children:"Welcome to Twiso!"}),Object(v.jsxs)("p",{className:Mr.a.Subheading,children:["Don't have an account?"," ",Object(v.jsx)(E.b,{to:"".concat(t,"/sign-up"),className:Mr.a.SignUpLink,children:"Sign up for free"})]}),Object(v.jsxs)("div",{className:Mr.a.FormContent,children:[Object(v.jsx)("a",{className:Mr.a.GoogleLink,href:"".concat("https://holovan.eu.ngrok.io","/api/v1/auth/google"),children:Object(v.jsxs)(Wr,{children:[Object(v.jsx)("img",{src:Lr,alt:"google",className:Mr.a.GoogleLogo}),"Continue with Google"]})}),Object(v.jsx)(Yr,{}),Object(v.jsxs)("form",{className:Mr.a.Form,children:[Object(v.jsx)(qr,Object(q.a)(Object(q.a)({},g),{},{setValue:O})),Object(v.jsx)(Wr,{onClick:function(e){if(e.preventDefault(),$r(g.value)){n(!0);var t=JSON.stringify({email:g.value});o(t)}else O((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!0})}))},children:"Sign in"})]})]})]});return a&&(m=Object(v.jsx)(nn,{style:{width:"100px",height:"100px"}})),h?Object(v.jsx)(Qr,{}):m},ai=a(46),ni=a.n(ai),ri=a(57),ii=a.n(ri),oi=a.p+"static/media/downArrow.16441734.svg",ci=a(70),si=a.n(ci),li=a.p+"static/media/checkMark.eb440aa3.svg",ui=function(e){var t=e.options,a=e.value,n=e.setValue,r=e.setIsDropdown,i=Object(c.useCallback)((function(){return r(!1)}),[r]);return Object(c.useEffect)((function(){return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}}),[i]),Object(v.jsx)("ul",{className:si.a.Dropdown,children:t.map((function(e){var t=a&&a.id===e.id;return Object(v.jsxs)("li",{id:e.id,className:[si.a.Option,t?si.a.Current:null].join(" "),onClick:function(){return n((function(t){return Object(q.a)(Object(q.a)({},t),{},{value:e})}))},children:[Object(v.jsx)("span",{className:si.a.CheckMark,children:t?Object(v.jsx)("img",{src:li,alt:"check mark"}):null}),e.type]},e.id)}))})},di=function(e){var t=e.options,a=e.invalid,n=e.value,r=e.setValue,i=e.errorMessage,o=Object(c.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(v.jsxs)("div",{className:ii.a.SelectContainer,children:[Object(v.jsxs)("div",{className:[ii.a.Select,a?ii.a.Invalid:null].join(" "),onClick:function(){a&&r((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!1})})),u(!0)},children:[Object(v.jsx)("p",{className:[ii.a.Selected,"placeholder"!==n.id?ii.a.Valid:null].join(" "),children:n.type}),Object(v.jsx)("img",{src:oi,alt:"arrow"}),l?Object(v.jsx)(ui,{options:t,value:n,setValue:r,setIsDropdown:u}):null]}),a?Object(v.jsx)("div",{className:ii.a.ErrorMessage,children:i}):null]})},bi=function(e){var t=e.authUrl,a=e.isLoading,n=e.setIsLoading,r=e.checkTokenValidity,i=Object(c.useState)(!1),o=Object(d.a)(i,2),s=o[0],l=o[1],u=ei(),b=u.magicLink,h=u.magickRes,j=u.magickError,p=Object(c.useState)({value:"",invalid:!1,type:"text",placeholder:"First name",errorMessage:"Please enter your name"}),f=Object(d.a)(p,2),g=f[0],O=f[1],m=Object(c.useState)({value:"",invalid:!1,type:"email",placeholder:"Email address",errorMessage:"Please enter your email"}),S=Object(d.a)(m,2),x=S[0],C=S[1],_=Object(c.useState)({value:{type:"What kind of work do you do?",id:"placeholder"},options:[{type:"What kind of work do you do?",id:"placeholder"},{type:"Marketing",id:"marketing"},{type:"Design",id:"design"},{type:"Influencer",id:"influencer"},{type:"Public Speaker",id:"publicSpeaker"},{type:"Student",id:"student"},{type:"Other",id:"other"}],invalid:!1,errorMessage:"Please fill out this field"}),k=Object(d.a)(_,2),w=k[0],y=k[1];Object(c.useEffect)((function(){var e=localStorage.getItem("token");e?r(e):n(!1)}),[r,n]),Object(c.useEffect)((function(){h&&l(!0)}),[h]),Object(c.useEffect)((function(){j&&n(!1)}),[j,n]);var T=Object(v.jsxs)("div",{className:ni.a.SignUp,children:[Object(v.jsx)("h2",{className:ni.a.Heading,children:"Create Account"}),Object(v.jsxs)("p",{className:ni.a.Subheading,children:["Already have an account?"," ",Object(v.jsx)(E.b,{to:"".concat(t,"/sign-in"),className:ni.a.SignInLink,children:"Sign in"})]}),Object(v.jsxs)("div",{className:ni.a.FormContent,children:[Object(v.jsx)("a",{className:ni.a.GoogleLink,href:"".concat("https://holovan.eu.ngrok.io","/api/v1/auth/google"),children:Object(v.jsxs)(Wr,{children:[Object(v.jsx)("img",{src:Lr,alt:"google",className:ni.a.GoogleLogo}),"Sign Up with Google"]})}),Object(v.jsx)(Yr,{}),Object(v.jsxs)("form",{className:ni.a.Form,children:[Object(v.jsx)(qr,Object(q.a)(Object(q.a)({},g),{},{setValue:O})),Object(v.jsx)(qr,Object(q.a)(Object(q.a)({},x),{},{setValue:C})),Object(v.jsx)(di,Object(q.a)(Object(q.a)({},w),{},{setValue:y})),Object(v.jsx)(Wr,{onClick:function(e){e.preventDefault();var t=$r(x.value),a=""!==g.value.trim(),r="placeholder"!==w.value.id;if(t||C((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!0})})),a||O((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!0})})),r||y((function(e){return Object(q.a)(Object(q.a)({},e),{},{invalid:!0})})),t&&a&&r){n(!0);var i=JSON.stringify({email:x.value,firstName:g.value,workType:w.value.type});b(i)}},children:"Create Account"})]})]})]});return a&&(T=Object(v.jsx)(nn,{style:{width:"100px",height:"100px"}})),s?Object(v.jsx)(Qr,{}):T},hi=a(167),ji=a.n(hi),pi=function(e){var t=e.setToken,a=Object(F.j)(),n=Object(F.h)(),r=Object(F.g)(),i=Object(c.useState)(!0),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(c.useCallback)((function(){return new URLSearchParams(n.search).get("token")}),[n]);return Object(c.useEffect)((function(){if(s){l(!1);var e=u();e?(localStorage.setItem("token",e),t(e)):r.push("".concat(a.path,"/sign-in"))}}),[u,t,r,a,s]),Object(v.jsx)("div",{className:ji.a.Token,children:Object(v.jsx)(nn,{style:{width:"100px",height:"100px"}})})},fi=function(e){D.defaults.headers.common.Authorization="Bearer ".concat(e)},gi=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(){return new Promise((function(e,t){D.get("/refresh-token").then((function(t){e(t)})).catch((function(e){t(e)}))}))}),[]),b=Object(c.useCallback)(Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),s(null),e.prev=2,e.next=5,u();case 5:t=e.sent,console.log(t),l.current&&n(t.data.accessToken),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(e.t0),console.log("Error Refreshing Token",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])}))),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{refreshToken:b,newToken:a,refreshError:o}},Oi=Object(c.createContext)(null),vi=function(){var e=Object(c.useContext)(Oi).userDispatch,t=gi(),a=t.refreshToken,n=t.newToken,r=t.refreshError,i=Object(c.useState)(null),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(F.j)(),f=Object(F.g)(),g=Object(c.useCallback)((function(e){j(!0),fi(e),a()}),[a]);return Object(c.useEffect)((function(){n?(localStorage.setItem("token",n),fi(n),e({type:"setIsAuthenticated",data:!0})):r&&(localStorage.removeItem("token"),j(!1),f.replace("/sign-in"))}),[n,r,e,f,p]),Object(c.useEffect)((function(){s&&g(s)}),[s,g]),Object(v.jsxs)("div",{className:Pr.a.Auth,children:[Object(v.jsxs)("div",{className:Pr.a.Testimonial,children:[Object(v.jsx)("div",{className:Pr.a.Background}),Object(v.jsxs)("div",{className:Pr.a.TestimonialContent,children:[Object(v.jsx)("img",{src:Er,alt:"twiso",className:Pr.a.Twiso}),Object(v.jsx)("p",{className:Pr.a.Heading,children:"Transcribe. Edit. Design."}),Object(v.jsx)("p",{className:Pr.a.Subheading,children:"All in one place."}),Object(v.jsx)("img",{src:Fr,alt:"saly",className:Pr.a.Mascot})]})]}),Object(v.jsx)("div",{className:Pr.a.Account,children:Object(v.jsxs)(F.d,{children:[Object(v.jsx)(F.b,{exact:!0,path:"".concat(p.path),children:Object(v.jsx)(pi,{setToken:l})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(p.path,"/sign-in"),children:Object(v.jsx)(ti,{authUrl:p.path,setIsLoading:j,isLoading:h,checkTokenValidity:g,token:s})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(p.path,"/sign-up"),children:Object(v.jsx)(bi,{authUrl:p.path,setIsLoading:j,isLoading:h,checkTokenValidity:g,token:s})}),Object(v.jsx)(F.a,{to:"".concat(p.path,"/sign-in")})]})})]})},mi=a(114),Si=a.n(mi),xi=a(33),Ci=a.n(xi),_i=a(58),ki=a.n(_i),wi=a.p+"static/media/dot.2b8ec3cc.svg",yi=function(){return Object(v.jsxs)("div",{className:ki.a.User,children:[Object(v.jsxs)("div",{className:ki.a.UserName,children:[Object(v.jsx)("div",{className:ki.a.Initials,children:Object(v.jsx)("span",{className:ki.a.Letter,children:"D"})}),Object(v.jsx)("div",{className:ki.a.Name,children:"Dmitry"})]}),Object(v.jsxs)("div",{className:ki.a.Dots,children:[Object(v.jsx)("img",{src:wi,alt:"dot"}),Object(v.jsx)("img",{src:wi,alt:"dot"}),Object(v.jsx)("img",{src:wi,alt:"dot"})]})]})},Ti=a.p+"static/media/templates.5e558890.svg",Ni=a.p+"static/media/projects.f9bef55f.svg",Di=a.p+"static/media/settings.54de79ee.svg",Ai=function(){var e=Object(F.j)();return Object(v.jsxs)("div",{className:Ci.a.SideDrawer,children:[Object(v.jsx)(yi,{}),Object(v.jsxs)("div",{className:Ci.a.Links,children:[Object(v.jsxs)(E.c,{to:"".concat(e.path,"/templates"),className:Ci.a.Link,activeClassName:Ci.a.Active,replace:!0,children:[Object(v.jsx)("img",{src:Ti,alt:"templates"}),Object(v.jsx)("span",{className:Ci.a.LinkText,children:"Templates"})]}),Object(v.jsxs)(E.c,{to:"".concat(e.path,"/projects"),className:Ci.a.Link,activeClassName:Ci.a.Active,replace:!0,children:[Object(v.jsx)("img",{src:Ni,alt:"templates"}),Object(v.jsx)("span",{className:Ci.a.LinkText,children:"My projects"})]}),Object(v.jsxs)(E.c,{to:"".concat(e.path,"/settings"),className:Ci.a.Link,activeClassName:Ci.a.Active,replace:!0,children:[Object(v.jsx)("img",{src:Di,alt:"templates"}),Object(v.jsx)("span",{className:Ci.a.LinkText,children:"Settings"})]})]})]})},Ii=a(84),Ri=a.n(Ii),Pi=function(){return Object(v.jsx)("header",{className:Ri.a.Navbar,children:Object(v.jsxs)(E.b,{className:Ri.a.NewButton,to:"/editor/new",children:[Object(v.jsx)("span",{className:Ri.a.Plus,children:"+"}),"New Project"]})})},Fi=a(47),Ei=a.n(Fi),Bi=a(48),Mi=a.n(Bi),Li=a.p+"static/media/trash.15a0e3b4.svg",Hi=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.delete("/videos/".concat(e)).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),b=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),n(!0),e.prev=2,e.next=5,u(t);case 5:a=e.sent,l.current&&s("success"),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),l.current&&(s("error"),n(!1)),console.log("Error Deleting Video",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isDeletingVideo:a,deleteVideoResponse:o,deleteVideo:b}},Ui=function(e){var t=e.video,a=e.setShouldFetch,n=Object(c.useState)(t.title||""),r=Object(d.a)(n,2),i=r[0],o=r[1],s=or(),l=s.isUpdatingProject,u=s.updateProject,b=s.updateResponse,h=Hi(),j=h.isDeletingVideo,p=h.deleteVideoResponse,f=h.deleteVideo;return Object(c.useEffect)((function(){b&&"string"!==typeof b?t.title=b.title:"error"===b&&o(t.title)}),[b,t]),Object(c.useEffect)((function(){"success"===p&&a(!0)}),[p,a]),Object(v.jsxs)("div",{className:Mi.a.Project,children:[Object(v.jsx)(E.b,{to:"/".concat(t.final_video_url?"preview":"editor","/").concat(t._id),className:Mi.a.Video,style:{backgroundImage:"url(".concat(t.screenshot_url,")")}}),Object(v.jsx)("div",{className:Mi.a.InfoContainer,children:Object(v.jsxs)("div",{className:Mi.a.Info,children:[l?Object(v.jsx)(nn,{style:{width:"20px",height:"20px",margin:"auto 0"}}):Object(v.jsx)("input",{className:Mi.a.Name,type:"text",value:i,onBlur:function(e){var a=e.target.value.trim();a.length>0&&a!==t.title?u({id:t._id,title:a}):o(t.title)},onChange:function(e){return o(e.target.value)}}),Object(v.jsxs)("div",{className:Mi.a.DateAndTrash,children:[Object(v.jsx)("p",{className:Mi.a.Date,children:function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return"".concat(a>9?a:"0"+a,".").concat(n>9?n:"0"+n,".").concat(r)}(t.created_at)}),j?Object(v.jsx)(nn,{style:{width:"25.6px",height:"25.6px",marginLeft:"0.2rem"}}):Object(v.jsx)("img",{className:Mi.a.Trash,src:Li,alt:"delete",onClick:function(){!0===window.confirm("Are you sure you want to delete this project?")&&f(t._id)}})]})]})})]})},Wi=function(e){var t=e.videos,a=e.setShouldFetch;return Object(v.jsxs)("div",{className:Ei.a.Projects,children:[Object(v.jsx)("h2",{className:Ei.a.Heading,children:"My projects"}),Object(v.jsx)("p",{className:Ei.a.Subheading,children:"All your video and audio files in one place."}),Object(v.jsxs)("div",{className:Ei.a.ProjectsList,children:[Object(v.jsx)("div",{className:Ei.a.AddProject,children:Object(v.jsx)(E.b,{className:Ei.a.AddProjectInner,to:"/editor/new",children:Object(v.jsx)("div",{className:Ei.a.AddProjectText,children:Object(v.jsx)("span",{children:"+ Add new"})})})}),t?t.map((function(e){return Object(v.jsx)("div",{className:Ei.a.ProjectContainer,children:Object(v.jsx)(Ui,{video:e,setShouldFetch:a})},e._id)})):Object(v.jsx)(nn,{style:{width:"60px",height:"60px"}})]})]})},Vi=a(16),zi=a.n(Vi),Yi=a(22),Gi=a.n(Yi),Xi=a.p+"static/media/pic1.c02db87d.png",qi=a.p+"static/media/pic2.52a36858.png",Ki=a.p+"static/media/pic3.575c1345.png",Zi=a.p+"static/media/pic4.f225bae3.png",Ji=a.p+"static/media/pic5.4c4aa83f.png",Qi=a.p+"static/media/pic6.ab8ce737.png",$i=function(){return Object(v.jsxs)("div",{className:Gi.a.Webinar,children:[Object(v.jsx)("h2",{className:Gi.a.Heading,children:"Webinar"}),Object(v.jsx)("p",{className:Gi.a.Subheading,children:"Make your webinar branded and professional looking"}),Object(v.jsxs)("div",{className:Gi.a.TemplatesList,children:[Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(Xi,")")}})}),Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(qi,")")}})}),Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(Ki,")")}})}),Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(Zi,")")}})}),Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(Ji,")")}})}),Object(v.jsx)("div",{className:Gi.a.Template,children:Object(v.jsx)("div",{className:Gi.a.TemplateInner,style:{backgroundImage:"url(".concat(Qi,")")}})})]})]})},eo=function(){var e=Object(F.j)();return Object(v.jsxs)("div",{className:zi.a.Templates,children:[Object(v.jsxs)("div",{className:zi.a.NavLinks,children:[Object(v.jsx)(E.c,{to:"".concat(e.path,"/webinar"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Webinar"}),Object(v.jsx)(E.c,{to:"".concat(e.path,"/podcast"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Podcast"}),Object(v.jsx)(E.c,{to:"".concat(e.path,"/vlog"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Vlog"}),Object(v.jsx)(E.c,{to:"".concat(e.path,"/demo-recording"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Demo recording"}),Object(v.jsx)(E.c,{to:"".concat(e.path,"/video-testimonial"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Video testimonial"}),Object(v.jsx)(E.c,{to:"".concat(e.path,"/training-onboarding"),className:zi.a.Link,activeClassName:zi.a.Active,replace:!0,children:"Training & onboarding"})]}),Object(v.jsxs)(F.d,{children:[Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/webinar"),children:Object(v.jsx)($i,{})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/podcast"),children:Object(v.jsx)("h1",{className:zi.a.Heading,children:"Podcast"})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/vlog"),children:Object(v.jsx)("h1",{className:zi.a.Heading,children:"Vlog"})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/demo-recording"),children:Object(v.jsx)("h1",{className:zi.a.Heading,children:"Demo recording"})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/video-testimonial"),children:Object(v.jsx)("h1",{className:zi.a.Heading,children:"Video testimonial"})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/training-onboarding"),children:Object(v.jsx)("h1",{className:zi.a.Heading,children:"Training & onboarding"})}),Object(v.jsx)(F.a,{to:"".concat(e.path,"/webinar")})]})]})},to=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useRef)(!1),u=Object(c.useCallback)((function(){return new Promise((function(e,t){D.get("/videos").then((function(t){e(t)})).catch((function(e){t(e)}))}))}),[]),b=Object(c.useCallback)(Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,u();case 4:t=e.sent,l.current&&s(t.data),console.log(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error Getting Videos",e.t0);case 12:return e.prev=12,l.current&&n(!1),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])}))),[u]);return Object(c.useEffect)((function(){return l.current=!0,function(){return l.current=!1}}),[]),{isGettingVideos:a,getVideos:b,videos:o}},ao=function(){var e=Object(F.j)(),t=to(),a=t.getVideos,n=t.videos,r=Object(c.useState)(!0),i=Object(d.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){o&&(s(!1),a())}),[a,o]),Object(v.jsxs)("div",{className:Si.a.Homepage,children:[Object(v.jsx)(Ai,{}),Object(v.jsxs)("div",{className:Si.a.Main,children:[Object(v.jsx)(Pi,{}),Object(v.jsxs)(F.d,{children:[Object(v.jsx)(F.b,{path:"".concat(e.path,"/templates"),children:Object(v.jsx)(eo,{})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/projects"),children:Object(v.jsx)(Wi,{videos:n,setShouldFetch:s})}),Object(v.jsx)(F.b,{exact:!0,path:"".concat(e.path,"/settings"),children:Object(v.jsx)("h1",{children:"Settings"})}),Object(v.jsx)(F.a,{to:"".concat(e.path,"/projects")})]})]})]})},no={isAuthenticated:!1},ro=function(e,t){switch(t.type){case"setIsAuthenticated":return Object(q.a)(Object(q.a)({},e),{},{isAuthenticated:t.data});default:return e}},io=function(){var e=Object(c.useReducer)(ro,no),t=Object(d.a)(e,2);return[t[0],t[1]]},oo=function(e){Object(c.useEffect)((function(){var t=setInterval((function(){e()}),18e6);return function(){return clearInterval(t)}}),[e])},co=a(25),so=a.n(co),lo=a.p+"static/media/exportArrow.a5f3dc35.svg",uo=a.p+"static/media/copyLink.5981ccb5.svg",bo=a(115),ho=a.n(bo),jo=a(50),po=a.n(jo),fo=a.p+"static/media/play.bf489b35.svg",go=a.p+"static/media/pause.a3096265.svg",Oo=a.p+"static/media/fullScreen.08af1b32.svg",vo=function(e,t,a){var n;document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&t.classList.remove(a)):((n=e).requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(),t&&t.classList.add(a))},mo=a(116),So=a.n(mo),xo=a(168),Co=a.n(xo),_o=function(e,t,a,n){n.current.style.backgroundSize=100*(e-t)/(a-t)+"% 100%"},ko=function(e){var t=e.min,a=e.max,n=e.step,r=e.value,i=e.setValue,o=e.isPlaying,s=e.video,l=Object(c.useRef)(null),u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],j=b[1];Object(c.useEffect)((function(){_o(r,t,a,l)}),[r,t,a]);return Object(v.jsx)("input",{type:"range",ref:l,className:Co.a.Slider,min:t,max:a,step:n,value:r,onChange:function(e){i(e.target.value),s.currentTime=e.target.value},onMouseDown:function(e){o?(j(!0),s.pause()):j(!1)},onMouseUp:function(e){h&&s.play()}})},wo=function(e){var t=e.duration,a=e.time,n=e.setTime,r=e.isPlaying,i=e.video,o=Object(c.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1],b=Object(c.useRef)(null),h=Object(c.useState)("00:00"),j=Object(d.a)(h,2),p=j[0],f=j[1],g=Object(c.useCallback)((function(e){var t="",a=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);a>0?(t+=a<10?"0"+a+":":a+":",u(!0)):u(!1),n<10&&(t+="0"),t+=n+":",r<10&&(t+="0"),f(t+=r)}),[]);return Object(c.useEffect)((function(){b.current.style.width=l?"4rem":"3rem"}),[l]),Object(c.useEffect)((function(){g(a)}),[a,g]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{ref:b,className:So.a.Time,children:p}),Object(v.jsx)("div",{className:So.a.Timeline,children:Object(v.jsx)(ko,{min:"0",max:t,step:"0.01",value:a,setValue:n,isPlaying:r,video:i})})]})},yo=a(71),To=a.n(yo),No=a.p+"static/media/volume.d174078d.svg",Do=a(169),Ao=a.n(Do),Io=function(e){var t=e.min,a=e.max,n=e.step,r=e.value,i=e.setValue,o=Object(c.useRef)(null);return Object(c.useEffect)((function(){_o(r,t,a,o)}),[r,t,a]),Object(v.jsx)("input",{type:"range",ref:o,className:Ao.a.Slider,min:t,max:a,step:n,value:r,onChange:function(e){return i(e.target.value)}})},Ro=function(e){var t=e.video,a=e.volume,n=e.setVolume,r=Object(c.useRef)("1");Object(c.useEffect)((function(){0!==+a&&(r.current=a),t.volume=a}),[t,a]);return Object(v.jsxs)("button",{className:To.a.Volume,children:[Object(v.jsxs)("div",{className:To.a.VolumeButton,onClick:function(){0===+a&&+r.current>.1?n(r.current):0===+a?(r.current="1",n("1")):(r.current=a,n("0"))},children:[Object(v.jsx)("img",{src:No,alt:"volume"}),0===+a?Object(v.jsx)("div",{className:To.a.VolumeOff}):null]}),Object(v.jsx)("div",{className:To.a.VolumeBar,children:Object(v.jsx)(Io,{min:"0",max:"1",step:"0.1",value:a,setValue:n})})]})},Po=function(e,t,a){var n=Object(c.useState)(0),r=Object(d.a)(n,2),i=r[0],o=r[1],s=Object(c.useRef)(!1),l=Object(c.useRef)(null),u=function(e){"controls"===e.target.id&&o((function(e){return e+1}))};Object(c.useEffect)((function(){1===i?l.current=setTimeout((function(){s.current&&(o(0),e())}),300):i>1&&(l.current&&(clearTimeout(l.current),l.current=null),o(0),t())}),[i,e,t]),Object(c.useEffect)((function(){var e=a.current;return e.addEventListener("click",u),function(){return e.removeEventListener("click",u)}}),[a]),Object(c.useEffect)((function(){return s.current=!0,function(){return s.current=!1}}),[])},Fo=function(e,t,a,n,r,i,o){var s=Object(c.useState)(!1),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useRef)(!1),j=Object(c.useRef)(null),p=Object(c.useRef)(null),f=Object(c.useCallback)((function(e,t,a){e.current&&(clearTimeout(e.current),e.current=null),e.current=setTimeout((function(){h.current&&(t.current.classList.remove(a),e.current=null)}),3e3)}),[]),g=Object(c.useCallback)((function(){t.current.classList.add(r),e&&!u?f(j,t,r):e&&u&&j.current&&(clearTimeout(j.current),j.current=null)}),[e,u,t,f,r]),O=Object(c.useCallback)((function(){return b(!0)}),[]),v=Object(c.useCallback)((function(){return b(!1)}),[]);Object(c.useEffect)((function(){t.current.classList.add(r)}),[t,r]),Object(c.useEffect)((function(){e?(t.current.classList.remove(n),u||f(j,t,r)):(t.current.classList.add(n),t.current.classList.add(r))}),[e,t,n,f,r,u]),Object(c.useEffect)((function(){e&&i&&!u?(o(!1),t.current.classList.add(n),f(p,t,n)):o(!1)}),[t,r,i,o,n,f,e,u]),Object(c.useEffect)((function(){var e=t.current,n=a.current;return e.addEventListener("mousemove",g),n.addEventListener("mouseenter",O),n.addEventListener("mouseleave",v),function(){e.removeEventListener("mousemove",g),n.removeEventListener("mouseenter",O),n.removeEventListener("mouseleave",v)}}),[t,a,g,O,v]),Object(c.useEffect)((function(){return h.current=!0,function(){return h.current=!1}}),[])},Eo=function(e,t,a,n){var r=Object(c.useCallback)((function(r){"INPUT"===document.activeElement.tagName&&r.preventDefault();var i="Space"===r.code||"Space"===r.key;i?(r.preventDefault(),t()):"ArrowLeft"!==r.code&&"ArrowLeft"!==r.key||r.shiftKey?"ArrowRight"!==r.code&&"ArrowRight"!==r.key||r.shiftKey?"ArrowUp"!==r.code&&"ArrowUp"!==r.key||r.shiftKey?"ArrowDown"!==r.code&&"ArrowDown"!==r.key||r.shiftKey||(r.preventDefault(),a((function(e){return+e>0?Math.round(100*(+e-.1))/100+"":e}))):(r.preventDefault(),a((function(e){return+e<1?Math.round(100*(+e+.1))/100+"":e}))):e.currentTime=e.currentTime+5:e.currentTime=e.currentTime-5,i||n(!0)}),[e,t,a,n]);Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[r])},Bo=function(e){var t=e.video,a=e.container,n=e.duration,r=e.time,i=e.setTime,o=e.isPlaying,s=Object(c.useState)("1"),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(c.useState)(!1),j=Object(d.a)(h,2),p=j[0],f=j[1],g=Object(c.useRef)(null),O=Object(c.useRef)(null),m=Object(c.useCallback)((function(){o?t.pause():t.play()}),[o,t]),S=Object(c.useCallback)((function(){vo(a,t,po.a.FullScreenSize)}),[a,t]);return Eo(t,m,b,f),Po(m,S,g),Fo(o,g,O,po.a.Visible,po.a.Hover,p,f),Object(v.jsx)("div",{id:"controls",className:po.a.Controls,ref:g,children:Object(v.jsxs)("div",{className:po.a.ControlsPanel,ref:O,children:[Object(v.jsx)("button",{className:po.a.PlayPause,onClick:m,children:o?Object(v.jsx)("img",{src:go,alt:"pause"}):Object(v.jsx)("img",{src:fo,alt:"play"})}),Object(v.jsx)(wo,{duration:n,time:r,setTime:i,isPlaying:o,video:t}),Object(v.jsx)(Ro,{video:t,volume:u,setVolume:b}),Object(v.jsx)("button",{className:po.a.FullScreen,onClick:S,children:Object(v.jsx)("img",{src:Oo,alt:"full screen"})})]})})},Mo=function(e){var t=e.url,a=Object(c.useState)(0),n=Object(d.a)(a,2),r=n[0],i=n[1],o=Object(c.useRef)(null),s=Object(c.useRef)(null),l=Object(c.useState)(0),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useState)(!1),p=Object(d.a)(j,2),f=p[0],g=p[1];return Object(v.jsxs)("div",{className:ho.a.VideoContainer,ref:s,children:[Object(v.jsx)("video",{className:ho.a.Video,src:t,preload:"auto",ref:o,onLoadedMetadata:function(){return i(o.current.duration)},onTimeUpdate:function(){return h(o.current.currentTime)},onPlay:function(){return g(!0)},onPause:function(){return g(!1)}}),r?Object(v.jsx)(Bo,{video:o.current,container:s.current,duration:r,time:b,setTime:h,isPlaying:f}):null]})},Lo=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(null),u=Object(d.a)(l,2),b=u[0],h=u[1],j=Object(c.useRef)(!1),p=Object(c.useCallback)((function(e){return new Promise((function(t,a){D.get("/public/videos/".concat(e)).then((function(e){t(e)})).catch((function(e){a(e)}))}))}),[]),f=Object(c.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(null),n(!0),e.prev=2,e.next=5,p(t);case 5:a=e.sent,j.current&&s({finalUrl:a.data.final_video_url||null,title:a.data.title}),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),j.current&&h(e.t0),console.log("Error Getting Public Video",e.t0);case 14:return e.prev=14,j.current&&n(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,10,14,18]])})));return function(t){return e.apply(this,arguments)}}(),[p]);return Object(c.useEffect)((function(){return j.current=!0,function(){return j.current=!1}}),[]),{isGettingPublicVideo:a,getPublicVideo:f,publicInfo:o,getPublicVideoError:b}},Ho=function(e){var t=Object(c.useState)(null),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(!1),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],j=b[1],p=Object(c.useState)(null),f=Object(d.a)(p,2),g=f[0],O=f[1],v=Object(c.useRef)(!1),m=Object(c.useCallback)((function(){return new Promise((function(e,t){D.get("/refresh-token").then((function(t){e(t)})).catch((function(e){t(e)}))}))}),[]),S=Object(c.useCallback)(Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(null),O(null),e.prev=2,e.next=5,m();case 5:t=e.sent,console.log(t),v.current&&r(t.data.accessToken),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),O(e.t0),console.log("Error Refreshing Token",e.t0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])}))),[m]),x=Object(c.useCallback)((function(e){j(!0),fi(e),S()}),[S]);return Object(c.useEffect)((function(){n?(localStorage.setItem("token",n),fi(n),l(!0),e({type:"setIsAuthenticated",data:!0})):g&&localStorage.removeItem("token"),j(!1)}),[n,g,e]),Object(c.useEffect)((function(){var e=localStorage.getItem("token");e?x(e):(j(!1),l(!1))}),[x]),Object(c.useEffect)((function(){return v.current=!0,function(){return v.current=!1}}),[]),{isChecking:h,isAuth:s}},Uo=function(){var e=Object(c.useContext)(Oi).userDispatch,t=Ho(e),a=t.isChecking,n=t.isAuth,r=ir(),i=r.getVideo,o=r.info,s=r.getVideoError,l=Lo(),u=l.getPublicVideo,b=l.publicInfo,h=l.getPublicVideoError,j=Object(c.useState)(null),p=Object(d.a)(j,2),f=p[0],g=p[1],O=Object(c.useState)(null),m=Object(d.a)(O,2),S=m[0],x=m[1],C=Object(c.useRef)(null),_=Object(F.i)(),k=Object(F.g)();Object(c.useEffect)((function(){o&&o.finalText?(g(Object(q.a)({},o)),x(o.finalText)):b&&b.finalUrl&&g(Object(q.a)({},b))}),[o,b]),Object(c.useEffect)((function(){(s||o&&!o.finalUrl)&&(_&&_.id&&u(_.id))}),[s,o,k,_,u]),Object(c.useEffect)((function(){(h||b&&!b.finalUrl)&&k.push("/home")}),[b,k,h]),Object(c.useEffect)((function(){var e=_&&_.id;a||n||!e?!a&&n&&e&&i(_.id):u(_.id)}),[a,n,_,u,i]);return Object(v.jsx)("div",{className:so.a.Preview,children:f&&f.finalUrl?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(M,{videoData:f,isPreview:!0,getVideoError:s,isAuth:n}),Object(v.jsx)("main",{className:so.a.Main,children:Object(v.jsxs)("div",{className:so.a.MainContent,children:[Object(v.jsxs)("div",{className:so.a.CustomPlayer,children:[Object(v.jsx)(Mo,{url:f.finalUrl}),Object(v.jsx)("a",{ref:C,style:{display:"none"},href:"".concat("https://holovan.eu.ngrok.io","/api/v1/public/videos/download/").concat(_.id),children:"Download Video"})]}),Object(v.jsxs)("div",{className:so.a.VideoFooter,children:[Object(v.jsx)("p",{className:so.a.Title,children:f.title}),Object(v.jsxs)("div",{className:so.a.DownloadAndLink,children:[Object(v.jsx)("button",{className:so.a.Download,onClick:function(){C.current.click()},children:"Download"}),Object(v.jsxs)("button",{className:so.a.CopyLink,onClick:function(){navigator.clipboard.writeText(window.location.href)},children:[Object(v.jsx)("img",{src:uo,alt:"copy"}),Object(v.jsx)("span",{children:"Copy public link"})]})]})]}),S?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:so.a.HeadlineAndExport,children:[Object(v.jsx)("p",{className:so.a.Headline,children:"Give your articale a headline!"}),Object(v.jsxs)("button",{className:so.a.ExportButton,onClick:function(){return function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(S,f.title)},children:[Object(v.jsx)("span",{children:"Export text"}),Object(v.jsx)("img",{src:lo,alt:"arrow"})]})]}),Object(v.jsx)("p",{className:so.a.Text,children:S})]}):null]})})]}):Object(v.jsx)(nn,{style:{width:"100px",height:"100px"}})})};be.fabric.Video=be.fabric.util.createClass(be.fabric.Image,{type:"video",cropRect:null,id:null,cornerRadius:0,originalWidth:0,originalHeight:0,initialize:function(e,t){t=t||{},this.callSuper("initialize",e,Object.assign({},{lockRotation:!0,objectCaching:!0,lockScalingFlip:!0,strokeUniform:!0,cacheProperties:["time"]},t))},toObject:function(e){return be.fabric.util.object.extend(this.callSuper("toObject"),{type:this.get("type"),cropRect:this.get("cropRect"),id:this.get("id"),cornerRadius:this.get("cornerRadius"),originalWidth:this.get("originalWidth"),originalHeight:this.get("originalHeight")})},_draw:function(e,t,a,n){var r=this.cropRect,i={x:-this.width/2,y:-this.height/2,w:this.width,h:this.height};r?t.drawImage(e,r.x,r.y,r.w,r.h,i.x,i.y,i.w,i.h):t.drawImage(e,i.x,i.y,i.w,i.h)},_render:function(e){this._draw(this.getElement(),e),this._stroke(e),this._renderPaintInOrder(e)}}),be.fabric.Video.prototype.setControlsVisibility({tl:!0,tr:!0,bl:!0,br:!0,mtr:!1}),be.fabric.Video.fromObject=function(e,t){return be.fabric.Object._fromObject("Video",e,t,"type","cropRect","id","originalWidth","originalHeight")},be.fabric.SpeakerCropBox=be.fabric.util.createClass(be.fabric.Rect),be.fabric.SpeakerCropBox.prototype.setControlsVisibility({mtr:!1}),be.fabric.RectCropBox=be.fabric.util.createClass(be.fabric.Rect),be.fabric.RectCropBox.prototype.setControlsVisibility({mtr:!1}),be.fabric.RectCropBox.prototype.render=(zn=be.fabric.RectCropBox.prototype.render,function(e){zn.apply(this,arguments),this._renderControls(e),this.canvas._activeObject||(this.canvas._activeObject=this)}),be.fabric.CircleCropBox=be.fabric.util.createClass(be.fabric.Circle),be.fabric.CircleCropBox.prototype.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,mtr:!1}),be.fabric.CircleCropBox.prototype.render=function(e){return function(t){e.apply(this,arguments),this._renderControls(t),this.canvas._activeObject||(this.canvas._activeObject=this)}}(be.fabric.CircleCropBox.prototype.render);var Wo=a.p+"static/media/ctrlScale.3fdf1e45.svg",Vo=a.p+"static/media/ctrlStretch.366a4843.svg",zo=a.p+"static/media/ctrlRotate.aba272aa.svg";be.fabric.Object.prototype.transparentCorners=!1,be.fabric.Object.prototype.cornerColor="white",be.fabric.Object.prototype.borderColor="#6F7BD0",be.fabric.Object.prototype.cornerStrokeColor="#6F7BD0",be.fabric.Object.prototype.cornerStyle="circle",be.fabric.Object.prototype.objectCaching=!1,be.fabric.Line.prototype.borderColor="transparent";var Yo=new Image;Yo.src=Vo;var Go=new Image;Go.src=Wo;var Xo=new Image;Xo.src=zo;var qo=be.fabric.controlsUtils,Ko=qo.scaleSkewCursorStyleHandler,Zo=qo.scaleCursorStyleHandler,Jo=qo.scalingEqually,Qo=qo.scalingYOrSkewingX,$o=qo.scalingXOrSkewingY,ec=qo.scaleOrSkewActionName,tc=be.fabric.Object.prototype.controls,ac=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(be.fabric.util.degreesToRadians(i.angle)),t.drawImage(e,-o/2,-o/2,o,o),t.restore()}},nc=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(be.fabric.util.degreesToRadians(i.angle)),t.drawImage(e,-o/3.2,-o/2,o/1.6,o),t.restore()}},rc=function(e){return function(t,a,n,r,i){var o=this.cornerSize;t.save(),t.translate(a,n),t.rotate(be.fabric.util.degreesToRadians(i.angle+90)),t.drawImage(e,-o/3.2,-o/2,o/1.6,o),t.restore()}};if(tc.ml=new be.fabric.Control({x:-.5,y:0,cursorStyleHandler:Ko,actionHandler:$o,getActionName:ec,cornerSize:42,offsetY:3,render:nc(Yo)}),tc.mr=new be.fabric.Control({x:.5,y:0,cursorStyleHandler:Ko,actionHandler:$o,getActionName:ec,cornerSize:42,offsetY:3,offsetX:1,render:nc(Yo)}),tc.mt=new be.fabric.Control({x:0,y:-.5,cursorStyleHandler:Ko,actionHandler:Qo,getActionName:ec,cornerSize:42,offsetX:-3,offsetY:-1,render:rc(Yo)}),tc.mb=new be.fabric.Control({x:0,y:.5,cursorStyleHandler:Ko,actionHandler:Qo,getActionName:ec,cornerSize:42,offsetX:-3,offsetY:1,render:rc(Yo)}),tc.tl=new be.fabric.Control({x:-.5,y:-.5,cursorStyleHandler:Zo,actionHandler:Jo,cornerSize:32,offsetY:3,offsetX:1,render:ac(Go)}),tc.tr=new be.fabric.Control({x:.5,y:-.5,cursorStyleHandler:Zo,actionHandler:Jo,cornerSize:32,offsetY:3,offsetX:1,render:ac(Go)}),tc.bl=new be.fabric.Control({x:-.5,y:.5,cursorStyleHandler:Zo,actionHandler:Jo,cornerSize:32,offsetY:3,offsetX:1,render:ac(Go)}),tc.br=new be.fabric.Control({x:.5,y:.5,cursorStyleHandler:Zo,actionHandler:Jo,cornerSize:32,offsetY:3,offsetX:1,render:ac(Go)}),tc.mtr=new be.fabric.Control({x:0,y:.5,cornerSize:50,offsetY:30,actionHandler:qo.rotationWithSnapping,cursorStyleHandler:qo.rotationStyleHandler,withConnection:!1,actionName:"rotate",render:ac(Xo)}),be.fabric.Textbox){var ic=be.fabric.Textbox.prototype.controls={};ic.mtr=tc.mtr,ic.mr=new be.fabric.Control({x:.5,y:0,actionHandler:qo.changeWidth,cursorStyleHandler:Ko,actionName:"resizing",cornerSize:42,offsetY:3,render:nc(Yo)}),ic.ml=new be.fabric.Control({x:-.5,y:0,actionHandler:qo.changeWidth,cursorStyleHandler:Ko,actionName:"resizing",cornerSize:42,offsetY:3,render:nc(Yo)}),be.fabric.Textbox.prototype.setControlsVisibility({ml:!0,mr:!0,mtr:!1})}var oc=be.fabric.Line.prototype.controls={};oc.mtr=tc.mtr,oc.ml=new be.fabric.Control({x:-.5,y:0,cursorStyleHandler:Ko,actionHandler:$o,getActionName:ec,cornerSize:30,offsetY:3,offsetX:0,render:ac(Go)}),oc.mr=new be.fabric.Control({x:.5,y:0,cursorStyleHandler:Ko,actionHandler:$o,getActionName:ec,cornerSize:30,offsetY:3,offsetX:0,render:ac(Go)}),be.fabric.Rect.prototype.setControlsVisibility({tl:!0,mt:!0,tr:!0,ml:!0,mr:!0,bl:!0,mb:!0,br:!0,mtr:!0}),be.fabric.Circle.prototype.setControlsVisibility({tl:!0,mt:!0,tr:!0,ml:!0,mr:!0,bl:!0,mb:!0,br:!0,mtr:!0}),be.fabric.Triangle.prototype.setControlsVisibility({tl:!0,mt:!0,tr:!0,ml:!0,mr:!0,bl:!0,mb:!0,br:!0,mtr:!0}),be.fabric.Line.prototype.setControlsVisibility({ml:!0,mr:!0,mtr:!0});var cc=be.fabric.Image.prototype.controls={};cc.mtr=tc.mtr,cc.tr=tc.tr,cc.br=tc.br,cc.tl=tc.tl,cc.bl=tc.bl,be.fabric.Image.prototype.setControlsVisibility({tl:!0,tr:!0,bl:!0,br:!0,mtr:!0});var sc=be.fabric.ActiveSelection.prototype.controls={};sc.mtr=tc.mtr,sc.tr=tc.tr,sc.br=tc.br,sc.tl=tc.tl,sc.bl=tc.bl,be.fabric.CustomTextbox=be.fabric.util.createClass(be.fabric.Textbox,{type:"customTextbox",paddingX:0,paddingY:0,_getNonTransformedDimensions:function(){return new be.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return be.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)},toObject:function(e){return be.fabric.util.object.extend(this.callSuper("toObject"),{type:this.get("type"),paddingX:this.get("paddingX"),paddingY:this.get("paddingY")})}}),be.fabric.CustomTextbox.fromObject=function(e,t){return be.fabric.Object._fromObject("CustomTextbox",e,t,"customTextbox")},be.fabric.Subtitle=be.fabric.util.createClass(be.fabric.IText,{type:"subtitle",_getNonTransformedDimensions:function(){return new be.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return be.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)}}),be.fabric.Subtitle.prototype.controls={},be.fabric.SubtitleWithResize=be.fabric.util.createClass(be.fabric.Textbox,{type:"subtitle",_getNonTransformedDimensions:function(){return new be.fabric.Point(this.width+this.paddingX,this.height+this.paddingY)},_calculateCurrentDimensions:function(){return be.fabric.util.transformPoint(this._getTransformedDimensions(),this.getViewportTransform(),!0)}}),be.fabric.SubtitleWithResize.prototype._wrapLine=function(e,t,a,n){var r=0,i=this.splitByGrapheme,o=[],c=[],s=i?be.fabric.util.string.graphemeSplit(e):e.split(this._wordJoiners),l="",u=0,d=i?"":" ",b=0,h=0,j=0,p=!0,f=i?0:this._getWidthOfCharSpacing();a-=n=n||0,0===s.length&&s.push([]);for(var g=0;g<s.length;g++){if(l=i?s[g]:be.fabric.util.string.graphemeSplit(s[g]),b=this._measureWord(l,t,u),u+=l.length,this.breakWords&&b>=a){p||(c.push(d),p=!0);for(var O=0;O<l.length;O++){var v=l[O],m=this.getMeasuringContext().measureText(v).width*this.fontSize/this.CACHE_FONT_SIZE;r+m>a?(o.push(c),(c=[]).push(v),r=m):(c.push(v),r+=m)}l=[]}else r+=h+b-f;r>=a&&!p?(o.push(c),c=[],r=b,p=!0):r+=f,p||i||c.push(d),c=c.concat(l),h=i?0:this._measureWord([d],t,u),u++,p=!1,b>j&&!this.breakWords&&(j=b)}return g&&o.push(c),j+n>this.dynamicMinWidth&&(this.dynamicMinWidth=j-f+n),o},be.fabric.CustomImage=be.fabric.util.createClass(be.fabric.Image,{type:"customImage",cropRect:null,id:null,cornerRadius:0,originalWidth:0,originalHeight:0,crossOrigin:"Anonymous",initialize:function(e,t){t=t||{},this.callSuper("initialize",e,Object.assign({},{objectCaching:!0,lockScalingFlip:!0,crossOrigin:"Anonymous"},t))},toObject:function(e){return be.fabric.util.object.extend(this.callSuper("toObject"),{type:this.get("type"),cropRect:this.get("cropRect"),id:this.get("id"),cornerRadius:this.get("cornerRadius"),originalWidth:this.get("originalWidth"),originalHeight:this.get("originalHeight"),crossOrigin:this.get("crossOrigin")})},_draw:function(e,t,a,n){var r=this.cropRect,i={x:-this.width/2,y:-this.height/2,w:this.width,h:this.height};r?t.drawImage(e,r.x,r.y,r.w,r.h,i.x,i.y,i.w,i.h):t.drawImage(e,i.x,i.y,i.w,i.h)},_render:function(e){this._draw(this.getElement(),e)}}),be.fabric.CustomImage.fromURL=function(e,t,a){be.fabric.util.loadImage(e,(function(e,n){t&&t(new be.fabric.CustomImage(e,a),n)}),null,a&&a.crossOrigin)},be.fabric.CustomImage.fromObject=function(e,t){var a=be.fabric.util.object.clone(e);be.fabric.util.loadImage(a.src,(function(e,n){n?t&&t(null,!0):be.fabric.CustomImage.prototype._initFilters.call(a,a.filters,(function(n){a.filters=n||[],be.fabric.CustomImage.prototype._initFilters.call(a,[a.resizeFilter],(function(n){a.resizeFilter=n[0],be.fabric.util.enlivenObjects([a.clipPath],(function(n){a.clipPath=n[0];var r=new be.fabric.CustomImage(e,a);t(r,!1)}))}))}))}),null,a.crossOrigin)},be.fabric.CustomImageCrop=be.fabric.util.createClass(be.fabric.CustomImage),be.fabric.CustomImageCrop.prototype.render=function(e){return function(t){e.apply(this,arguments),this._renderControls(t),this.canvas._activeObject||(this.canvas._activeObject=this)}}(be.fabric.CustomImageCrop.prototype.render);var lc=function(){var e=io(),t=Object(d.a)(e,2),a=t[0],n=t[1],r=gi(),i=r.refreshToken,o=r.newToken,s=r.refreshError;return oo(i),Object(c.useEffect)((function(){o?(localStorage.setItem("token",o),fi(o)):s&&(localStorage.removeItem("token"),n({type:"setIsAuthenticated",data:!1}))}),[o,s,n]),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(Oi.Provider,{value:{userState:a,userDispatch:n},children:Object(v.jsx)(E.a,{basename:"/",children:Object(v.jsxs)(F.d,{children:[Object(v.jsx)(jr,{path:"/auth",redirect:"/home",where:"in the App auth route",allowed:!a.isAuthenticated,component:vi}),Object(v.jsx)(jr,{path:"/home",redirect:"/auth",where:"in the App home route",allowed:a.isAuthenticated,component:ao}),Object(v.jsx)(jr,{path:"/editor",redirect:"/auth",where:"in the App editor route",allowed:a.isAuthenticated,component:Ir}),Object(v.jsx)(jr,{path:"/preview/:id",redirect:"/auth",where:"in the App preview route",allowed:!0,component:Uo}),Object(v.jsx)(F.b,{path:"/",children:Object(v.jsx)(F.a,{to:"/home"})})]})})})})},uc=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,317)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};u.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(lc,{})}),document.getElementById("root")),uc()},32:function(e,t,a){e.exports={Dropdown:"ImageDropdown_Dropdown__2eYxV",UplaodButtonContainer:"ImageDropdown_UplaodButtonContainer__1lY8g",UploadButton:"ImageDropdown_UploadButton__1lQXO",FileInput:"ImageDropdown_FileInput__2Rzkx",Images:"ImageDropdown_Images__LZdgK",Column:"ImageDropdown_Column__27Nmx",ImageContainer:"ImageDropdown_ImageContainer__1YX4Q",Image:"ImageDropdown_Image__2oCLN"}},33:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__1Hp4L",Links:"SideDrawer_Links__3agJG",Link:"SideDrawer_Link__26bLH",LinkText:"SideDrawer_LinkText__37vsx",Active:"SideDrawer_Active__3v6LT"}},35:function(e,t,a){e.exports={Dropdown:"ShapeDropdown_Dropdown__3aeLl",ShapeContainer:"ShapeDropdown_ShapeContainer__21oDr",LineShapeContainer:"ShapeDropdown_LineShapeContainer__1eEMT",Shape:"ShapeDropdown_Shape__3ZdgP"}},38:function(e,t,a){e.exports={FontSizeDropdown:"FontSizeDropdown_FontSizeDropdown__3vQgK",FontSizeOption:"FontSizeDropdown_FontSizeOption__5LIdC"}},39:function(e,t,a){e.exports={Dropdown:"SubtitlesDropdown_Dropdown__3CPKs",Text:"SubtitlesDropdown_Text__mqlQv",Buttons:"SubtitlesDropdown_Buttons__1LolQ",Button:"SubtitlesDropdown_Button__rnGL5",ButtonText:"SubtitlesDropdown_ButtonText__3zZ2n",Active:"SubtitlesDropdown_Active__1vfsr"}},40:function(e,t,a){e.exports={Auth:"Auth_Auth__2-Tih",Testimonial:"Auth_Testimonial__Gdo6e",Background:"Auth_Background__Sn6Rs",TestimonialContent:"Auth_TestimonialContent__1xfBA",Twiso:"Auth_Twiso__1yuUr",Heading:"Auth_Heading__219Co",Subheading:"Auth_Subheading__3iXme",Mascot:"Auth_Mascot__1P0gq",Account:"Auth_Account__FNRoH"}},42:function(e,t,a){e.exports={FontsDropdown:"FontsDropdown_FontsDropdown__2cMmK",SearchContainer:"FontsDropdown_SearchContainer__2xV2U",SearchSvg:"FontsDropdown_SearchSvg__2fL_Y",SearchInput:"FontsDropdown_SearchInput__1YJKM",FontOptionsContainer:"FontsDropdown_FontOptionsContainer__3NL_l",FontOption:"FontsDropdown_FontOption__YA26x",UploadFontContainer:"FontsDropdown_UploadFontContainer__BN5oN",UploadFontButton:"FontsDropdown_UploadFontButton__2fdT4",UploadFontFile:"FontsDropdown_UploadFontFile__17exH"}},43:function(e,t,a){e.exports={ImageToolbar:"ImageToolbar_ImageToolbar__1bSOG",BorderDiv:"ImageToolbar_BorderDiv__2L57I",ReaplaceContainer:"ImageToolbar_ReaplaceContainer__Bvs6n",RadiusContainer:"ImageToolbar_RadiusContainer__1809i",CropContainer:"ImageToolbar_CropContainer__3a9ik",DoneContainer:"ImageToolbar_DoneContainer__1sU7m",RadiusInput:"ImageToolbar_RadiusInput__3neeS",StrokeWidthArrowContainer:"ImageToolbar_StrokeWidthArrowContainer__2ZaEx",BorderStyle:"ImageToolbar_BorderStyle__2Np8t"}},44:function(e,t,a){e.exports={Menu:"ContextMenu_Menu__3Crct",Option:"ContextMenu_Option__2sY3r",Border:"ContextMenu_Border__2fUH-",Overlay:"ContextMenu_Overlay__1PFYP"}},45:function(e,t,a){e.exports={SignIn:"SignIn_SignIn__2rDwX",Heading:"SignIn_Heading__3_D8_",Subheading:"SignIn_Subheading__25WFn",SignUpLink:"SignIn_SignUpLink__19pi6",FormContent:"SignIn_FormContent__2RCot",Form:"SignIn_Form__Qj1Re",GoogleLogo:"SignIn_GoogleLogo__2dqJk",GoogleLink:"SignIn_GoogleLink__1TqQV"}},46:function(e,t,a){e.exports={SignUp:"SignUp_SignUp__FrU6o",Heading:"SignUp_Heading__3VK7d",Subheading:"SignUp_Subheading__3Fzc1",SignInLink:"SignUp_SignInLink__2n2-H",FormContent:"SignUp_FormContent__2PhXm",Form:"SignUp_Form__2HSyr",GoogleLogo:"SignUp_GoogleLogo__veA94",GoogleLink:"SignUp_GoogleLink__300gn"}},47:function(e,t,a){e.exports={Projects:"Projects_Projects__Ml6Tj",Heading:"Projects_Heading__1sNm8",Subheading:"Projects_Subheading__jSsjo",ProjectsList:"Projects_ProjectsList__3ZhTK",AddProject:"Projects_AddProject__3o80h",ProjectContainer:"Projects_ProjectContainer__dr8O4",AddProjectInner:"Projects_AddProjectInner__1q9TS",AddProjectText:"Projects_AddProjectText__2pD9X"}},48:function(e,t,a){e.exports={Project:"Project_Project__2FloU",Video:"Project_Video__2kLKG",InfoContainer:"Project_InfoContainer__7VfXZ",Info:"Project_Info__cXMOT",Name:"Project_Name__1iMCC",DateAndTrash:"Project_DateAndTrash__2VZAd",Date:"Project_Date__1IAn8",Trash:"Project_Trash__DQ8tF"}},49:function(e,t,a){e.exports={Transcription:"Transcription_Transcription__13teg",TextControls:"Transcription_TextControls__1U4fb",CutContainer:"Transcription_CutContainer__3Pv4S",SearchContainer:"Transcription_SearchContainer__3q-zR",SearchInput:"Transcription_SearchInput__3ojca",Text:"Transcription_Text__3pvrU"}},50:function(e,t,a){e.exports={Controls:"Controls_Controls__mbKVi",Visible:"Controls_Visible__2XX72",Hover:"Controls_Hover__3aOvs",ControlsPanel:"Controls_ControlsPanel__1Y7Ve",PlayPause:"Controls_PlayPause__1XJpi",FullScreen:"Controls_FullScreen__3oqLE",FullScreenSize:"Controls_FullScreenSize__68-bJ"}},55:function(e,t,a){e.exports={UploadProgress:"UploadProgress_UploadProgress__u7hxD",Percentage:"UploadProgress_Percentage__IJKYZ",Heading:"UploadProgress_Heading__1BSO0",ProgressBar:"UploadProgress_ProgressBar__hfMfg",ProgressBarInner:"UploadProgress_ProgressBarInner__1AOYq",Subheading:"UploadProgress_Subheading__FMja8"}},56:function(e,t,a){e.exports={Dropdown:"ResizeDropdown_Dropdown__1YZKt",SizeOptions:"ResizeDropdown_SizeOptions__2PmX4",SizeOption:"ResizeDropdown_SizeOption__3MBs1",SizeOptionText:"ResizeDropdown_SizeOptionText__2Yf6i",SizeOptionBox:"ResizeDropdown_SizeOptionBox__13My-",Current:"ResizeDropdown_Current__2rsB4"}},57:function(e,t,a){e.exports={SelectContainer:"Select_SelectContainer__1RMVl",Select:"Select_Select__1aFjD",Selected:"Select_Selected__w1Ai2",Valid:"Select_Valid__2h_nP",Invalid:"Select_Invalid__2e9oA",ErrorMessage:"Select_ErrorMessage__1bWOP"}},58:function(e,t,a){e.exports={User:"User_User__1OH6i",UserName:"User_UserName__34wjX",Initials:"User_Initials__2M7AZ",Letter:"User_Letter__12cie",Name:"User_Name__xOAh7",Dots:"User_Dots__1mxvn"}},60:function(e,t,a){e.exports={TranscriptionProgress:"TranscriptionProgress_TranscriptionProgress__3bzyV",Heading:"TranscriptionProgress_Heading__RtL03",Percentage:"TranscriptionProgress_Percentage__2n-2I",Box:"TranscriptionProgress_Box__2KSuP",Line:"TranscriptionProgress_Line__1WZ3f",placeholderShimmer:"TranscriptionProgress_placeholderShimmer__18VTb"}},61:function(e,t,a){e.exports={FontsDropdown:"TextDropdowns_FontsDropdown__lZ_Yz",FontSizeDropdown:"TextDropdowns_FontSizeDropdown__zNPWy",SketchPickerContainer:"TextDropdowns_SketchPickerContainer__1ap0H",TextAlignDropdown:"TextDropdowns_TextAlignDropdown___lslt"}},65:function(e,t,a){e.exports={Player:"Player_Player__29WZA",PlayerContent:"Player_PlayerContent__GS7Av",PlayerControls:"Player_PlayerControls__1cImT",PlayButton:"Player_PlayButton__1jzX7"}},67:function(e,t,a){e.exports={Or:"Or_Or__3D8lV",Line:"Or_Line__3NIcd",Text:"Or_Text__3K4vP"}},68:function(e,t,a){e.exports={InputContainer:"Input_InputContainer__FRPf0",Input:"Input_Input__2JU04",Inpit:"Input_Inpit__B7DHg",Invalid:"Input_Invalid__2bXHj",ErrorMessage:"Input_ErrorMessage__NGuQM"}},69:function(e,t,a){e.exports={CheckMail:"CheckMail_CheckMail__2juXE",Heading:"CheckMail_Heading__2JEwf",Subheading:"CheckMail_Subheading__3AHm5",EditorLink:"CheckMail_EditorLink__IbMoD"}},70:function(e,t,a){e.exports={Dropdown:"Dropdown_Dropdown__3ndzl",Option:"Dropdown_Option__2rSF0",Current:"Dropdown_Current__1ur6I",CheckMark:"Dropdown_CheckMark__-dXeR"}},71:function(e,t,a){e.exports={Volume:"Volume_Volume__VAO_J",VolumeButton:"Volume_VolumeButton__MQ56Q",VolumeOff:"Volume_VolumeOff__1ZLBn",VolumeBar:"Volume_VolumeBar__2Lv3T"}},83:function(e,t,a){e.exports={FillDropdownContainer:"ShapeDropdowns_FillDropdownContainer__XKdBu",StrokeDropdownContainer:"ShapeDropdowns_StrokeDropdownContainer__2g9Q8",StrokeWidthDropdownContainer:"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz"}},84:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__3oWEF",NewButton:"Navbar_NewButton__38UcV",Plus:"Navbar_Plus__3mZZD"}}},[[315,1,2]]]);
//# sourceMappingURL=main.89413d4a.chunk.js.map