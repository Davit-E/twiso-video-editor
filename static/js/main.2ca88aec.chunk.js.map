{"version":3,"sources":["containers/VideoEditor/VideoEditor.module.css","containers/Canvas/PlayerCanvas/PlayerCanvas.module.css","containers/Navigation/Navigation.module.css","containers/Navigation/DesignControls/DesignControls.module.css","containers/Homepage/Homepage.module.css","containers/CustomPlayer/CustomPlayer.module.css","containers/CustomPlayer/Controls/Time/Time.module.css","containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.module.css","containers/Editor/Editor.module.css","containers/Uploader/Uploader.module.css","containers/Homepage/Templates/Templates.module.css","containers/Toolbar/Toolbar.module.css","components/Backdrop/Backdrop.module.css","containers/Video/Video.module.css","containers/Canvas/SpeakersCanvas/SpeakersCanvas.module.css","containers/Auth/Button/Button.module.css","containers/Auth/Token/Token.module.css","containers/CustomPlayer/Controls/Time/TimelineSlider/TimelineSlider.module.css","containers/CustomPlayer/Controls/Volume/VolumeSlider/VolumeSlider.module.css","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.module.css","containers/Toolbar/ShapeToolbar/ShapeToolbar.module.css","containers/CanvasToolbar/CanvasToolbar.module.css","containers/Homepage/Templates/Webinar/Webinar.module.css","components/Navbar/Navbar.module.css","containers/SelectSpeakers/SelectSpeakers.module.css","containers/Preview/Preview.module.css","containers/Uploader/DragDrop/DragDrop.module.css","containers/Transcription/Words/Words.module.css","containers/Navigation/ImageDropdown/ImageDropdown.module.css","assets/editor/templates.svg","assets/editor/upload.svg","containers/Uploader/DragDrop/DragDrop.js","containers/Uploader/UploadProgress/UploadProgress.js","axios-instance.js","hooks/useUploadVideo.js","assets/editor/backArrow.svg","assets/preview/twiso.svg","components/Navbar/Navbar.js","containers/Uploader/Uploader.js","assets/editor/cut.svg","assets/editor/search.svg","containers/Transcription/utils/updateTextAndCuts.js","assets/editor/restoreText.svg","containers/Transcription/Words/Words.js","utils/findIndex.js","containers/Transcription/Transcription.js","contexts/EditorContext.js","containers/Canvas/utils/addObject.js","containers/Canvas/hooks/useAddObject.js","contexts/EventContext.js","containers/Canvas/utils/onCanvasEvents.js","containers/Canvas/hooks/useSelectionObserver.js","containers/Canvas/utils/aligningGuidelines.js","containers/Canvas/utils/centeringGuidelines.js","containers/Canvas/hooks/useGuideLines.js","containers/Canvas/utils/updateObject.js","containers/Canvas/hooks/useUpdateObject.js","containers/Canvas/utils/updateCanvas.js","containers/Canvas/hooks/useUpdateCanvas.js","containers/Canvas/utils/crop.js","containers/Canvas/hooks/useCropImage.js","containers/Canvas/hooks/useAddCanvas.js","containers/Canvas/hooks/useAddVideo.js","containers/Canvas/utils/pasteObject.js","containers/Canvas/hooks/useKeyEvents.js","containers/Canvas/hooks/useClickListener.js","assets/editor/downArrow.svg","assets/editor/bold.svg","assets/editor/subBackground.svg","assets/editor/italic.svg","assets/editor/textLeft.svg","assets/editor/textRight.svg","assets/editor/textCenter.svg","assets/editor/textJustify.svg","containers/Toolbar/TextDropdowns/FontsDropdown/fontsData.js","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.js","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.js","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.js","containers/Toolbar/TextDropdowns/TextDropdowns.js","containers/Toolbar/TextToolbar/utils/handlers.js","containers/Toolbar/TextToolbar/TextToolbar.js","assets/editor/cornerRadius.svg","containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.js","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.js","containers/Toolbar/ShapeToolbar/utils/handlers.js","containers/Toolbar/ShapeToolbar/ShapeToolbar.js","assets/editor/replaceImage.svg","assets/editor/cropImage.svg","containers/Toolbar/ImageToolbar/ImageToolbar.js","containers/Toolbar/Toolbar.js","containers/Toolbar/utils/toolbarPosition.js","containers/Canvas/ContextMenu/ContextMenu.js","containers/Canvas/PlayerCanvas/PlayerCanvas.js","hooks/useEventsState.js","containers/CanvasToolbar/ResizeDropdown/ResizeDropdown.js","components/Backdrop/Backdrop.js","assets/editor/resize.svg","webpack:///./src/assets/editor/cropImage.svg?0773","assets/editor/subtitlesOn.svg","containers/CanvasToolbar/CanvasToolbar.js","assets/editor/play.svg","assets/editor/pause.svg","containers/Player/hooks/useContainerSize.js","containers/Player/utils/getSize.js","containers/Player/hooks/usePlayerTime.js","containers/Player/utils/linkedList.js","containers/Player/hooks/useSubtitles.js","containers/Player/utils/subtitle.js","containers/Player/utils/generateSubtitles.js","containers/Player/Player.js","containers/Video/Video.js","containers/Video/utils/videoEvents.js","containers/Navigation/utils/prepareCanvas.js","utils/generateRandomUUID.js","containers/Navigation/utils/rgbaToHex.js","containers/Navigation/utils/prepareBreaksAndSubs.js","hooks/useDownloadVideo.js","hooks/useUploadAsset.js","components/Spinner2/Spinner.js","containers/Navigation/ImageDropdown/ImageDropdown.js","assets/editor/square.svg","assets/editor/circle.svg","assets/editor/triangle.svg","assets/editor/line.svg","containers/Navigation/ShapeDropdown/ShapeDropdown.js","assets/editor/subtitlesOff.svg","containers/Navigation/SubtitlesDropdown/SubtitlesDropdown.js","assets/editor/addText.svg","assets/editor/addImage.svg","assets/editor/addShape.svg","assets/editor/subtitles.svg","hooks/useGetAssets.js","containers/Navigation/DesignControls/DesignControls.js","containers/Navigation/Navigation.js","hooks/useEditorState.js","hooks/useGetVideo.js","hooks/useUpdateProject.js","containers/VideoEditor/VideoEditor.js","components/CustomRoute/CustomRoute.js","assets/editor/addSpeaker.svg","assets/editor/removeSpeaker.svg","containers/Canvas/SpeakersCanvas/hooks/useAddCanvas.js","containers/Canvas/SpeakersCanvas/hooks/useAddVideo.js","containers/Canvas/SpeakersCanvas/hooks/useUpdateCanvas.js","containers/Canvas/SpeakersCanvas/utils/updateCanvas.js","contexts/SpeakersContext.js","containers/Canvas/hooks/useCropVideo.js","containers/Canvas/SpeakersCanvas/SpeakersCanvas.js","hooks/useSpeakersState.js","containers/SelectSpeakers/hooks/useContainerSize.js","containers/SelectSpeakers/utils/getSize.js","containers/SelectSpeakers/SelectSpeakers.js","containers/Editor/Editor.js","assets/auth/saly.png","assets/twiso.svg","assets/auth/google.svg","containers/Auth/Button/Button.js","containers/Auth/Or/Or.js","containers/Auth/Input/Input.js","assets/auth/mail.svg","containers/Auth/CheckMail/CheckMail.js","containers/Auth/utils/validation.js","hooks/useMagicLink.js","containers/Auth/SignIn/SignIn.js","assets/auth/downArrow.svg","assets/auth/checkMark.svg","containers/Auth/Select/Dropdown/Dropdown.js","containers/Auth/Select/Select.js","containers/Auth/SignUp/SignUp.js","containers/Auth/Token/Token.js","utils/setAuthToken.js","hooks/useRefreshToken.js","contexts/UserContext.js","containers/Auth/Auth.js","assets/homepage/dot.svg","containers/Homepage/SideDrawer/User/User.js","assets/homepage/templates.svg","assets/homepage/projects.svg","assets/homepage/settings.svg","containers/Homepage/SideDrawer/SideDrawer.js","containers/Homepage/Navbar/Navbar.js","assets/preview/trash.svg","hooks/useDeleteVideo.js","containers/Homepage/Projects/Project/Project.js","containers/Homepage/Projects/Projects.js","assets/homepage/pic1.png","assets/homepage/pic2.png","assets/homepage/pic3.png","assets/homepage/pic4.png","assets/homepage/pic5.png","assets/homepage/pic6.png","containers/Homepage/Templates/Webinar/Webinar.js","containers/Homepage/Templates/Templates.js","hooks/useGetVideos.js","containers/Homepage/Homepage.js","hooks/useUserState.js","hooks/useTrackTime.js","assets/preview/exportArrow.svg","assets/preview/copyLink.svg","assets/preview/play.svg","assets/preview/pause.svg","assets/preview/fullScreen.svg","containers/CustomPlayer/Controls/utils/fullScreen.js","containers/CustomPlayer/Controls/utils/slider.js","containers/CustomPlayer/Controls/Time/TimelineSlider/TimelineSlider.js","containers/CustomPlayer/Controls/Time/Time.js","assets/preview/volume.svg","containers/CustomPlayer/Controls/Volume/VolumeSlider/VolumeSlider.js","containers/CustomPlayer/Controls/Volume/Volume.js","containers/CustomPlayer/Controls/hooks/useSingleAndDoubleClick.js","containers/CustomPlayer/Controls/hooks/useShowHidePanel.js","containers/CustomPlayer/Controls/hooks/useKeyEvents.js","containers/CustomPlayer/Controls/Controls.js","containers/CustomPlayer/CustomPlayer.js","hooks/useGetPublicVideo.js","hooks/useCheckAuth.js","containers/Preview/Preview.js","containers/Preview/utils/previewUtils.js","fabricConfig/video.js","fabricConfig/cropBox.js","assets/editor/ctrlScale.svg","assets/editor/ctrlStretch.svg","assets/editor/ctrlRotate.svg","fabricConfig/controls.js","fabricConfig/subtitles.js","fabricConfig/customImage.js","App.js","reportWebVitals.js","index.js","containers/Homepage/SideDrawer/SideDrawer.module.css","containers/Navigation/ShapeDropdown/ShapeDropdown.module.css","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.module.css","containers/Toolbar/ImageToolbar/ImageToolbar.module.css","containers/Navigation/SubtitlesDropdown/SubtitlesDropdown.module.css","containers/Auth/Auth.module.css","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.module.css","containers/Canvas/ContextMenu/ContextMenu.module.css","containers/Auth/SignIn/SignIn.module.css","containers/Auth/SignUp/SignUp.module.css","containers/Homepage/Projects/Projects.module.css","containers/Homepage/Projects/Project/Project.module.css","containers/Transcription/Transcription.module.css","containers/Uploader/UploadProgress/UploadProgress.module.css","containers/CanvasToolbar/ResizeDropdown/ResizeDropdown.module.css","containers/Auth/Select/Select.module.css","containers/Homepage/SideDrawer/User/User.module.css","containers/CustomPlayer/Controls/Controls.module.css","containers/Toolbar/TextDropdowns/TextDropdowns.module.css","containers/Player/Player.module.css","containers/Auth/Or/Or.module.css","containers/Auth/Input/Input.module.css","containers/Auth/CheckMail/CheckMail.module.css","containers/Auth/Select/Dropdown/Dropdown.module.css","containers/CustomPlayer/Controls/Volume/Volume.module.css","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.module.css","containers/Homepage/Navbar/Navbar.module.css","containers/Toolbar/TextToolbar/TextToolbar.module.css"],"names":["module","exports","_path","_path2","_path3","_path4","DragDrop","setVideoForUpload","setVideoDuration","uploadRef","useRef","dropAreaRef","handleDragOver","useCallback","e","preventDefault","dataTransfer","dropEffect","current","classList","add","styles","Active","handleDragEnter","stopPropagation","handleDragLeave","remove","validateFile","file","type","video","document","createElement","preload","onloadedmetadata","duration","src","URL","createObjectURL","handleDrop","files","useEffect","area","addEventListener","removeEventListener","className","UploadText","ref","DropArea","onClick","click","DropAreaContent","upload","alt","DropAreaText","DropAreaHeading","DropAreaSubheading","DropAreaBrowse","accept","style","display","onChange","UploadProgress","uploadProgress","isUploading","videoDuration","info","setIsFinished","useState","progress","setProgress","intervalId","setIntervalId","isMounted","clearInterval","progressHandler","interval","setInterval","prevState","timeout","setTimeout","clearTimeout","Math","round","Percentage","floor","Heading","ProgressBar","ProgressBarInner","maxWidth","Subheading","instance","axios","create","baseURL","process","useUploadVideo","setIsUploading","setInfo","setUploadProgress","words","onUploadProgress","currentProgress","loaded","total","axiosUploadVideo","formData","Promise","resolve","reject","post","headers","Accept","then","res","catch","err","uploadVideo","a","console","log","data","subtitles","captions","id","_id","url","original_video_url","title","Navbar","children","videoData","isPreview","getVideoError","isAuth","history","useHistory","BackFileInfoContainer","BackButton","goBack","BackArrow","backArrow","Twiso","twiso","FileInfoContainer","FileName","Creater","to","EditVideo","UserInfoContainer","LogInLink","SignUpLink","User","UserInitials","Uploader","viedoForUpload","setVideoData","FormData","append","handleVideoCuts","wordsArr","setCuts","setPlayerTime","wordIndex","restoreStart","arr","isLastDeleted","cutStart","cutStartIndex","cutEndIndex","cutEnd","i","length","word","active","next","push","start","end","handleDeleted","newState","cut","handleRestore","findAndSetCurrentWord","deletedIndex","setWordIndex","currentIndex","Words","currentWordIndex","searchInput","wordClickHandler","inputIndex","setInputIndex","currentSelection","fabricSub","currentSub","setShouldRerenderSub","triggerWordsUpdate","input","setInput","inputRef","handleSubTextChange","text","isSilence","val","isWhitespace","indexOf","silence","handleNotSilenceAndText","isFirst","isNoWhitespace","handleSilenceAndText","silenceCount","handleNoText","blurHandler","target","parentNode","inputVal","trim","shouldShow","isSelectionMode","isSelectionEnd","focus","map","isCurrent","isHighlight","toLowerCase","includes","isInput","innerContent","WordInput","value","onBlur","Pause","Word","content","Deleted","DeletedImgContainer","DeletedImg","restoreText","DeletedText","containerStyle","width","marginRight","WordContainer","CurrentWord","Highlight","InSelection","join","findSubWithWordIndex","subList","subNode","head","sub","j","subWord","findWordIndexWithId","Transcription","setCurrentWordIndex","isPlaying","videoRef","setCurrentSelection","setCurrentTime","setNextCutIndex","videoCuts","setSearchInput","isFirstLoad","setIsFirstLoad","endTime","currentTime","cutIndex","handleSelection","selection","anchorNode","focusNode","isAnchorNode","isFocusNode","position","removeAllRanges","lastChild","firstChild","indexStart","indexEnd","mouseUpHandler","getSelection","detail","tagName","compareDocumentPosition","isCollapsed","pause","TextControls","CutContainer","isWordsArr","deleteWord","deletedStartIndex","deleteEndIndex","deleteSelection","SearchContainer","SearchInput","placeholder","SearchSvg","search","Text","isDeleted","currentTarget","restoreDeleted","EditorContext","createContext","addNewShape","state","canvas","dispatch","updateId","obj","shapeToAdd","fabric","Rect","left","top","height","noScaleCache","strokeUniform","fill","stroke","strokeWidth","rx","ry","Circle","radius","Triangle","Line","setActiveObject","requestRenderAll","useAddObject","imageToAdd","imageSrc","shouldReplaceImage","getActiveObject","CustomImage","fromURL","img","scaleToWidth","scaleX","angle","cornerRadius","isSvg","crossOrigin","addNewImage","shouldAddText","Textbox","padding","splitByGrapheme","cursorWidth","textState","addNewText","EventContext","textPropertyArr","shapePropertyArr","imagePropertyArr","handleSelected","object","lineCoords","newTextState","forEach","property","handleText","newImageState","handleImage","newShapeState","handleShape","removeListeners","c","off","useSelectionObserver","isCanvasSet","useContext","eventState","eventDispatch","isRotating","setIsRotating","isScaling","setIsScaling","isSkewing","setIsSkewing","isEditingText","setIsEditingText","currentId","checkOffScreen","isOnScreen","getWidth","getZoom","getHeight","paddingY","setCoords","addListeners","showCanvasToolbar","on","hiddenTextarea","onTextEnter","onTextExit","discardActiveObject","onCreated","onUpdated","onModified","onAdded","onRemoved","onCleared","isCropMode","isMoving","currentCoords","currentObject","drawLine","x1","y1","x2","y2","ctx","aligningLineWidth","aligningLineColor","viewportTransform","zoom","save","lineWidth","strokeStyle","beginPath","moveTo","lineTo","restore","isInRange","value1","value2","aligningLineMargin","len","drawVerticalLine","coords","x","drawHorizontalLine","y","showCenterLine","centerLineColor","centerLineWidth","useGuideLines","setCtx","setViewportTransform","verticalLines","setVerticalLines","horizontalLines","setHorizontalLines","setZoom","canvasWidth","setCanvasWidth","canvasHeight","setCanvasHeight","canvasWidthCenterMap","setCanvasWidthCenterMap","canvasHeightCenterMap","setCanvasHeightCenterMap","isInVerticalCenter","setIsInVerticalCenter","isInHorizontalCenter","setIsInHorizontalCenter","handleMouseDown","handleBeforeRender","clearContext","contextTop","handleMoving","aligningLineOffset","activeObject","canvasObjects","getObjects","activeObjectCenter","getCenterPoint","activeObjectLeft","activeObjectTop","activeObjectBoundingRect","getBoundingRect","activeObjectHeight","activeObjectWidth","horizontalInTheRange","verticalInTheRange","_currentTransform","objectCenter","objectLeft","objectTop","objectBoundingRect","objectHeight","objectWidth","setPositionByOrigin","Point","objectMovingObserver","isInVertical","isInHorizontal","objectMovingCenterObserver","handleAfterRender","canvasWidthCenter","showVerticalCenterLine","canvasHeightCenter","showHorizontalCenterLine","handleMouseUp","initGuideLines","getSelectionContext","widthMap","heightMap","removelistneres","shouldUpdateCanvasSize","button","updateImageStyle","image","imageState","set","currentRadiusX","currentRadiusY","scaleY","roundedCorners","loadAndUse","font","WebFont","load","google","families","fontactive","familyName","fvd","fontFamily","shapeArr","useUpdateObject","shouldUpdateSubtitles","subtitlesState","_clearCache","Object","entries","key","showToolbar","updateSubtitlesStyle","shouldUpdateText","updateTextStyle","shouldUpdateShape","shape","shapeState","updateShapeStyle","shouldUpdateImage","setSize","ratio","min","videoWidth","videoHeight","setDimensions","renderAll","resize","objHeight","objWidth","isSub","isTextObject","isVertical","shouldResize","scale","fontSize","useUpdateCanvas","shouldUpdateCanvas","backgroundColor","updateCanvasStyle","isResize","objects","updateCanvasSize","restrictBox","box","boundHeight","boundWidth","bottom","right","topBound","bottomBound","leftBound","rightBound","max","addSpeaker","boxArr","boxId","setBoxArr","updateBoxId","size","last","boxSize","CropBox","borderColor","lockScalingFlip","getSpeakerBox","prepareForImageCrop","setAcitveEl","setCropbox","el","selectable","transformMatrix","calcTransformMatrix","cx","cy","PI","abs","cos","sin","activeEl","originX","originY","borderDashArray","excludeFromExport","getImageCropBox","useCropImage","isCropping","setIsCropping","activeInfo","setActiveInfo","cropbox","croppedImage","setCroppedImage","cropFinishHandler","shouldCropImage","setCropped","prevCrop","cropRect","ratioX","ratioY","newTop","newLeft","w","h","cropImage","controls","mtr","visible","useAddCanvas","setCanvas","setIsCanvasSet","setIsCanvasData","speakers","setObjectIdCount","shouldLoad","Canvas","preserveObjectStacking","fireRightClick","stopContextMenu","clear","lastId","loadFromJSON","textObjects","filter","addCanvas","useAddVideo","idCount","isCanvasData","isFirtLoad","setIsFirtLoad","frameRef","animate","util","requestAnimFrame","render","newVideo","speaker","Video","cancelAnimFrame","speakerVideo","handlePaste","clipboard","objId","setClipboard","clone","cloned","bringToFront","keyDownHandler","setIsPasting","setIsCopying","setIsBringToFront","setIsSendToBack","ctrl","ctrlKey","metaKey","code","activeElement","isEditing","deleteHandler","useKeyEvents","isPasting","isCopying","isBringToFront","isSendToBack","shouldRun","setShouldRun","sendToBack","onKeyDown","onKeyUp","keyUpHandler","useClickListener","clickHandler","path","fonts","FontsDropdown","setIsDropDown","options","FontOption","FontOptionsContainer","textContent","UploadFontContainer","UploadFontButton","FontSizeDropdown","FontSizeOption","TextAlignDropdown","childNodes","TextAlignOption","Current","TextAlignImage","textLeft","TextAlignText","textCenter","textRight","textJustify","TextDropdowns","isFontFamilyDropdown","isFontSizeDropdown","isColorDropdown","isTextAlignDropDown","setIsFontFamilyDropdown","setIsFontSizeDropdown","colorChangeCompleteHandler","setIsTextAlignDropDown","setColor","color","colorPickerRef","isBgColorDropdown","setBgColor","bgColor","bgColorPickerRef","dropDownStyle","setDropdownStyle","coordY","canvasState","SketchPickerContainer","rgb","onChangeComplete","textAlign","isBg","colorString","r","g","b","background","TextToolbar","editorState","editorDispatch","fontSizeInput","setFontSizeInput","setIsColorDropdown","setIsBgColorDropdown","boldStlyes","FontWeightBoldContainer","italicStyles","FontStyleItalicContainer","isBold","fontWeight","isItalic","fontStyle","textAlignSrc","dropdownHandlers","fontSizeArrow","colorPicker","styleHandlers","bold","weight","italic","handler","handleClick","split","FontsContainer","DownArrow","downArrow","BorderDiv","FontSizeContainer","FontSizeInputContainer","FontSizeInput","fontSizeChangeHandler","FontSizeArrowContainer","ColorPickerContainer","ColorPickerBorder","ColorPicker","Bold","Italic","BgColorContainer","BgColor","subBackground","TextAlignContainer","TextAlign","StrokeWidthDropdown","optionsClickHandler","isLine","LineDropdown","StrokeOption","ShapeDropdown","ShapeDropdowns","shapeToolbar","isStrokeWidthDropdown","isFillDropdown","isStrokeDropdown","setFill","fillChangeCompleteHandler","fillRef","setStroke","strokeChangeCompleteHandler","strokeRef","setIsStrokeWidthDropdown","isRect","strokeWidthDropDownStyle","setStrokeWidthDropDownStyle","handleDropdownPosition","toolbarWidth","offsetWidth","coordX","keys","FillDropdownContainer","StrokeDropdownContainer","StrokeWidthDropdownContainer","ShapeToolbar","setIsFillDropdown","setIsStrokeDropdown","strokeWidthInput","setStrokeWidthInput","radiusInput","setRadiusInput","shapeToolbarRef","strokeContainerRef","clicked","borderTopLeftRadius","borderBottomLeftRadius","initialLoadHandler","FillContainer","StrokeContainer","StrokeWidthContainer","StrokeWidthInputContainer","StrokeWidthInput","strokeWidthChangeHandler","borderTopRightRadius","borderBottomRightRadius","StrokeWidthArrowContainer","RadiusContainer","RadiusInput","ImageToolbar","ReaplaceContainer","BorderStyle","replaceImage","CropContainer","DoneContainer","Toolbar","toolbarRef","setTransform","transform","opacity","toolbar","toolbarOffset","toolbarPadding","toolbarHeight","offsetHeight","isBottomCloser","tl","bl","offset","tr","br","tempCoordY","calcPosition","isCroppingImage","ContextMenu","setIsMounted","activeObj","setActiveObj","canOnlyPaste","setCanOnlyPaste","menuRef","isMountedRef","pointer","overlayClickHandler","optionClickHandler","rightClickEvent","isVideo","Overlay","onContextMenu","Menu","Option","Border","PlayerCanvas","objectIdCount","updatetObjectId","CanvasComponent","initialState","reducer","action","useEventState","useReducer","name","boxStyle","ResizeDropdown","initialWidth","initialHeight","getResizeValues","Dropdown","SizeOptions","SizeOption","SizeOptionText","SizeOptionBox","Backdrop","props","actionType","isImageDropdown","isShapeDropdown","isSubtitlesDropdown","isResizeDropdown","isCanvasBgColorDropdown","isZoomDropdown","shouldAddCanvasBgImage","isDownloadDropdown","_excluded","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgTemplates","_ref","svgRef","titleId","viewBox","xmlns","d","strokeLinecap","strokeLinejoin","ForwardRef","SvgResize","SvgCropImage","fillRule","clipRule","_path5","_path6","_path7","CanvasToolbar","backgroundColorRef","bgDropdownRef","resizeDropdownRef","TemplatesContainer","OptionText","ResizeContainer","ColorContainer","ColorDropdownContainer","useContainerSize","containerRef","getSizeInfo","maxHeight","containerWidth","getCanvasSize","marginTop","handleResize","containerPadding","window","innerWidth","offsetLeft","containerHeight","getContainerSize","shouldСalculateCanvasSize","usePlayerTime","nextCutIndex","setCurrentSub","time","moreThanStart","lessThanEnd","isShortTime","handleCurrentWord","index","nextWord","handleCurrentSub","nextSub","Node","LinkedList","tail","newNode","newTail","temp","idx","get","unshift","shift","pop","pre","nextNode","reverse","useSubtitles","setFabricSub","setSubList","shouldRerenderSub","displaySub","setSubs","list","firstDeletedIndex","checkForPrevDeleted","which","isLast","wordTimeLength","strLength","containsMark","match","isRoomForWord","generateSubtitles","isSubtitles","subtitle","SubtitleWithResize","paddingX","breakWords","editable","prevTop","prevLeft","newSubtitle","Player","Provider","PlayerContent","PlayerControls","PlayButton","play","pauseSvg","playSvg","setIsPlaying","onPause","handlePause","onPlay","handlePlay","onEnded","handleEnd","onLoadedMetadata","getVideoInfo","z","crop","generateLayer","exportCanvas","toDataURL","format","quality","handleLayers","setElements","setVideoInfo","videosArr","elementsArr","isAdded","coordinates","prepareCanvas","randomUUID","random","toString","substring","rgbaTohex","replace","alpha","hex","slice","prepareSubs","subState","config","xCoordinate","yCoordinate","fontColor","rgbaToHex","getSubConfig","deleteStart","deleteEnd","generateUUID","useDownloadVideo","isDownloading","setIsDownloading","downloadedVideo","setDownloadedVideo","onDownloadProgress","axiosDownloadVideo","downloadVideo","useUploadAsset","isUploadingAsset","setIsUploadingAsset","uploadResponse","setUploadResponse","axiosUploadAsset","uploadAsset","spinner","ImageDropdown","assets","setAssets","setShouldFetch","isFirstMount","fileInput","imageType","splitSrc","oddArr","_","evenArr","assetsContent","Images","Column","ImageContainer","Image","image_url","UplaodButtonContainer","UploadButton","FileInput","margin","contains","ShapeContainer","Shape","square","circle","triangle","line","SvgSubtitlesOn","_defs","SvgSubtitlesOff","clipPath","SubtitlesDropdown","Buttons","Button","ButtonText","useGetAssets","isGettingAssets","setIsGettingAssets","axiosGetAssets","getAssets","DesignControls","shouldFetchAssets","setShouldFetchAssets","ControlsContainer","AddTextContainer","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","Navigation","setPreviewUrl","isUpdatingProject","downloadData","setDownloadData","elements","videoInfo","breaks","setBreaks","subs","prepareData","breaksData","subsData","jsonData","JSON","stringify","DownloadButton","cuts","videoBreaks","prev","prepareBreaks","shouldTriggerUpdate","initialBackground","useEditorState","useGetVideo","isGettingVideo","setIsGettingVideo","setGetVideoError","axiosGetVideo","getVideo","transcription","finalUrl","final_video_url","finalText","final_full_text","useUpdateProject","setIsUpdatingProject","updateResponse","setUpdateResponse","axiosUpdateProject","put","updateProject","VideoEditor","setVideoCuts","params","useParams","wordsUpdateTimerRef","canvasUpdateTimerRef","triggerCanvasUpdate","jsonCanvas","toJSON","getCanvasObject","Main","CustomRoute","Component","component","allowed","where","redirect","rest","setVideo","cancelAnimation","fabricVideo","evented","SpeakersContext","useCropVideo","speakersState","speakersDispatch","shouldAddSpeaker","shouldRemoveSpeaker","SpeakersCanvas","canvasDispatch","setBoxId","useSpeakersState","videoSize","containerSize","setContainerSize","handleSize","SelectSpeakers","setSpeakers","setVideoSize","getVideoSize","SelectedText","SelectedNumber","SpeakerButtons","AddSpeakerButton","AddSpeakers","AddSpeakersText","RemoveSpeakerButton","RemoveSpeakers","removeSpeaker","RemoveSpeakersText","NextSteps","Confirm","Skip","Editor","isFinishedTranscribing","setIsFinishedTranscribing","useRouteMatch","clearState","wordsRef","Or","Input","invalid","setValue","errorMessage","InputContainer","Invalid","isEmpty","onFocus","ErrorMessage","CheckMail","mail","Mail","checkEmailValidity","test","useMagicLink","magickRes","setMagickRes","magickError","setMagickError","axiosMagicLink","magicLink","SignIn","authUrl","isLoading","setIsLoading","checkTokenValidity","isSent","setIsSent","validation","email","setEmail","token","localStorage","getItem","signInContent","FormContent","GoogleLink","href","GoogleLogo","Form","setIsDropdown","option","CheckMark","checkMark","Select","isDropdown","SelectContainer","Selected","Valid","SignUp","setName","workType","setWorkType","signUpContent","SignInLink","isEmailValid","isNameValid","isWorkTypeValid","firstName","Token","setToken","location","useLocation","getToken","URLSearchParams","tokenParam","setItem","setAuthToken","defaults","common","useRefreshToken","newToken","setNewToken","refreshError","setRefreshError","axiosRefreshToken","refreshToken","accessToken","UserContext","Auth","userDispatch","removeItem","Testimonial","Background","TestimonialContent","saly","Mascot","Account","exact","UserName","Initials","Letter","Name","Dots","dot","SideDrawer","Links","Link","activeClassName","templates","LinkText","projects","settings","NewButton","Plus","useDeleteVideo","isDeletingVideo","setIsDeletingVideo","deleteVideoResponse","setDeleteVideoResponse","axiosDeleteVideo","delete","deleteVideo","Project","backgroundImage","screenshot_url","InfoContainer","Info","DateAndTrash","Date","date","day","getDate","month","getMonth","year","getFullYear","transformDate","created_at","marginLeft","Trash","trash","confirm","Projects","videos","ProjectsList","AddProject","AddProjectInner","AddProjectText","ProjectContainer","Webinar","TemplatesList","Template","TemplateInner","pic1","pic2","pic3","pic4","pic5","pic6","Templates","NavLinks","useGetVideos","isGettingVideos","setIsGettingVideos","setVideos","axiosGetVideos","getVideos","Homepage","shouldFetchVideos","setShouldFetchVideos","isAuthenticated","useUserState","useTrackTime","fullScreenHanlder","container","fullscreenElement","exitFullscreen","webkitExitFullscreen","msExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","handleInputChange","backgroundSize","TimelineSlider","step","shouldPlay","setShouldPlay","Slider","onMouseDown","onMouseUp","Time","setTime","isMoreThanHour","setIsMoreThanHour","timeStrRef","timeString","setTimeString","generateTimeString","t","timeStr","m","s","Timeline","VolumeSlider","Volume","volume","setVolume","volumeRef","VolumeButton","volumeSvg","VolumeOff","VolumeBar","useSingleAndDoubleClick","onSingleClick","onDoubleClick","clickCount","setClickCount","timerRef","prevSatate","useShowHidePanel","controlsRef","panelRef","hover","shouldShowPanel","setShouldShowPanel","isCursorOnPanel","setIsCursorOnPanel","hovertimerRef","visibletimerRef","startTimeout","mouseMoveHanlder","mouseEnterHandler","mouseLeaveHandler","panel","playPause","keydownHandler","isSpace","shiftKey","Controls","fullScreen","Visible","Hover","ControlsPanel","PlayPause","FullScreen","fullScreenSvg","CustomPlayer","setDuration","VideoContainer","onTimeUpdate","useGetPublicVideo","isGettingPublicVideo","setIsGettingPublicVideo","publicInfo","setPublicInfo","getPublicVideoError","setGetPublicVideoError","axiosGetPublicVideo","getPublicVideo","useCheckAuth","setIsAuth","isChecking","setIsChecking","Preview","article","setArticle","videoDownloadRef","isId","MainContent","VideoFooter","Title","DownloadAndLink","Download","CopyLink","navigator","writeText","copyLink","HeadlineAndExport","Headline","ExportButton","setAttribute","encodeURIComponent","body","appendChild","removeChild","exportText","exportArrow","createClass","initialize","callSuper","lockRotation","objectCaching","cacheProperties","toObject","extend","_draw","drawImage","_render","getElement","setControlsVisibility","fromObject","callback","_fromObject","transparentCorners","cornerColor","cornerStrokeColor","cornerStyle","ctrlStretchImage","ctrlStretch","ctrlScaleImage","ctrlScale","ctrlRotateImage","ctrlRotate","controlsUtils","scaleSkewStyleHandler","scaleSkewCursorStyleHandler","scaleStyleHandler","scaleCursorStyleHandler","scalingEqually","scalingYOrSkewingX","scalingXOrSkewingY","scaleOrSkewActionName","objectControls","renderScaleIcon","icon","styleOverride","fabricObject","cornerSize","translate","rotate","degreesToRadians","renderStretchIconX","renderStretchIconY","ml","Control","cursorStyleHandler","actionHandler","getActionName","offsetY","mr","offsetX","mt","mb","rotationWithSnapping","rotationStyleHandler","withConnection","actionName","textBoxControls","changeWidth","activeSelection","ActiveSelection","Subtitle","IText","_getNonTransformedDimensions","_calculateCurrentDimensions","transformPoint","_getTransformedDimensions","getViewportTransform","_wrapLine","_line","lineIndex","desiredWidth","reservedSpace","graphemeLines","string","graphemeSplit","_wordJoiners","infix","wordWidth","infixWidth","largestWordWidth","lineJustStarted","additionalSpace","_getWidthOfCharSpacing","_measureWord","letter","letterWidth","getMeasuringContext","measureText","CACHE_FONT_SIZE","concat","dynamicMinWidth","customImage","imgOptions","loadImage","isError","_object","_initFilters","filters","resizeFilter","resizeFilters","enlivenObjects","enlivedProps","App","userState","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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kBAAMrpB,SAASa,oBAAoB,QAASwoB,MAClD,CAAC9X,EAAQ8X,K,wCCvBC,OAA0B,sCCA1B,OAA0B,iCCA1B,OAA0B,0CCA1B,OAA0B,mCCA1B,OAA0B,qCCA1B,OAA0B,sCCA1B,OAA0B,uCCA1B,OAA0B,wC,oBC2hC1BE,GA3hCA,CACb,UACA,OACA,eACA,gBACA,WACA,OACA,QACA,UACA,aACA,kBACA,iBACA,mBACA,UACA,SACA,QACA,SACA,UACA,OACA,WACA,cACA,gBACA,mBACA,OACA,aACA,gBACA,QACA,QACA,gBACA,QACA,UACA,kBACA,SACA,UACA,WACA,mBACA,cACA,WACA,WACA,YACA,YACA,QACA,QACA,QACA,UACA,SACA,SACA,mBACA,SACA,2BACA,gBACA,QACA,eACA,aACA,QACA,SACA,UACA,eACA,sBACA,UACA,gBACA,iBACA,aACA,gBACA,QACA,WACA,SACA,UACA,WACA,OACA,OACA,OACA,iBACA,OACA,QACA,YACA,UACA,OACA,SACA,OACA,aACA,SACA,YACA,aACA,UACA,eACA,sBACA,eACA,oBACA,qBACA,OACA,YACA,aACA,UACA,YACA,eACA,SACA,UACA,eACA,iBACA,kBACA,aACA,gBACA,gBACA,kBACA,iBACA,gBACA,YACA,UACA,SACA,mBACA,wBACA,aACA,SACA,QACA,eACA,aACA,UACA,QACA,aACA,aACA,WACA,YACA,UACA,UACA,eACA,YACA,QACA,UACA,kBACA,aACA,QACA,wBACA,+BACA,4BACA,gCACA,6BACA,qBACA,gBACA,cACA,QACA,mBACA,WACA,oBACA,UACA,SACA,0BACA,iBACA,gBACA,UACA,cACA,QACA,SACA,WACA,aACA,gBACA,UACA,aACA,eACA,iBACA,cACA,OACA,UACA,SACA,kBACA,gBACA,iBACA,eACA,aACA,iBACA,QACA,kBACA,eACA,kBACA,aACA,QACA,UACA,YACA,iBACA,SACA,QACA,SACA,YACA,cACA,cACA,WACA,QACA,QACA,iBACA,oBACA,aACA,UACA,YACA,SACA,SACA,eACA,qBACA,cACA,eACA,SACA,aACA,SACA,QACA,aACA,WACA,qBACA,YACA,iBACA,SACA,oBACA,eACA,QACA,SACA,WACA,QACA,WACA,SACA,oBACA,iBACA,OACA,eACA,WACA,QACA,QACA,YACA,aACA,cACA,eACA,cACA,YACA,UACA,eACA,cACA,SACA,QACA,SACA,YACA,qBACA,mBACA,eACA,oBACA,oBACA,YACA,gBACA,UACA,WACA,wBACA,eACA,YACA,cACA,cACA,eACA,gBACA,UACA,SACA,YACA,SACA,cACA,UACA,UACA,mBACA,gBACA,SACA,iBACA,UACA,mBACA,cACA,uBACA,WACA,QACA,kBACA,SACA,oBACA,iBACA,gBACA,WACA,aACA,WACA,gBACA,YACA,eACA,WACA,QACA,SACA,cACA,aACA,QACA,QACA,cACA,cACA,YACA,YACA,cACA,aACA,iBACA,QACA,YACA,QACA,aACA,cACA,QACA,mBACA,cACA,eACA,cACA,wBACA,uBACA,6BACA,4BACA,aACA,YACA,YACA,WACA,YACA,UACA,kBACA,QACA,MACA,QACA,gBACA,WACA,eACA,QACA,SACA,YACA,mBACA,aACA,WACA,YACA,WACA,WACA,SACA,SACA,QACA,eACA,YACA,YACA,YACA,sBACA,4BACA,aACA,YACA,WACA,UACA,aACA,mBACA,QACA,eACA,mBACA,WACA,eACA,uBACA,cACA,WACA,SACA,UACA,UACA,YACA,YACA,kBACA,WACA,QACA,SACA,SACA,WACA,UACA,eACA,WACA,UACA,gBACA,qBACA,MACA,UACA,eACA,eACA,SACA,gBACA,WACA,iBACA,gBACA,SACA,oBACA,aACA,aACA,UACA,WACA,YACA,OACA,wBACA,WACA,cACA,eACA,eACA,cACA,SACA,iBACA,SACA,SACA,QACA,OACA,SACA,WACA,SACA,iBACA,SACA,kBACA,UACA,eACA,UACA,UACA,eACA,YACA,eACA,QACA,cACA,aACA,uBACA,YACA,OACA,cACA,eACA,gBACA,gBACA,kBACA,iBACA,WACA,gBACA,gBACA,0BACA,iBACA,kBACA,qBACA,sBACA,yBACA,kBACA,qBACA,uBACA,0BACA,uBACA,0BACA,mBACA,UACA,UACA,QACA,UACA,cACA,QACA,eACA,QACA,iBACA,aACA,cACA,QACA,eACA,YACA,WACA,YACA,OACA,mBACA,0BACA,QACA,iBACA,iBACA,aACA,eACA,WACA,YACA,eACA,eACA,OACA,WACA,MACA,SACA,QACA,kBACA,QACA,OACA,oBACA,0BACA,MACA,QACA,QACA,UACA,QACA,YACA,QACA,QACA,UACA,iBACA,YACA,SACA,aACA,aACA,aACA,QACA,QACA,QACA,QACA,iBACA,WACA,YACA,UACA,OACA,YACA,SACA,cACA,YACA,SACA,SACA,QACA,SACA,YACA,OACA,QACA,aACA,YACA,oBACA,aACA,SACA,kBACA,UACA,QACA,cACA,UACA,WACA,SACA,SACA,OACA,gBACA,eACA,SACA,SACA,QACA,WACA,SACA,cACA,aACA,cACA,cACA,cACA,cACA,eACA,oBACA,yBACA,mBACA,4BACA,iCACA,wBACA,2BACA,oBACA,uBACA,oBACA,iBACA,cACA,aACA,kBACA,YACA,cACA,WACA,mBACA,SACA,UACA,cACA,mBACA,kBACA,kBACA,iBACA,YACA,OACA,wBACA,oBACA,iBACA,eACA,WACA,UACA,YACA,oBACA,gBACA,UACA,qBACA,OACA,QACA,gBACA,UACA,qBACA,OACA,OACA,WACA,UACA,UACA,UACA,WACA,UACA,YACA,eACA,eACA,YACA,eACA,YACA,WACA,SACA,cACA,SACA,OACA,UACA,YACA,UACA,SACA,gBACA,aACA,eACA,SACA,cACA,WACA,eACA,eACA,oBACA,QACA,cACA,eACA,cACA,WACA,UACA,YACA,mBACA,OACA,UACA,eACA,QACA,iBACA,OACA,QACA,iBACA,QACA,UACA,QACA,QACA,WACA,UACA,uBACA,UACA,SACA,aACA,wBACA,uBACA,OACA,WACA,yBACA,gBACA,aACA,WACA,iBACA,sBACA,gBACA,QACA,cACA,cACA,cACA,SACA,eACA,gBACA,MACA,qBACA,eACA,sBACA,iBACA,mBACA,YACA,SACA,SACA,aACA,cACA,aACA,aACA,UACA,UACA,YACA,SACA,SACA,UACA,UACA,UACA,uBACA,eACA,YACA,eACA,eACA,eACA,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,WACA,YACA,YACA,YACA,aACA,cACA,YACA,cACA,SACA,SACA,cACA,cACA,iBACA,UACA,KACA,kBACA,YACA,cACA,yBACA,YACA,sBACA,cACA,WACA,UACA,UACA,kBACA,SACA,mBACA,WACA,cACA,WACA,gBACA,MACA,UACA,SACA,cACA,UACA,UACA,kBACA,iBACA,WACA,mBACA,WACA,SACA,YACA,iBACA,WACA,UACA,aACA,cACA,cACA,qBACA,eACA,kBACA,UACA,YACA,UACA,cACA,UACA,UACA,mBACA,sBACA,UACA,cACA,YACA,SACA,gBACA,aACA,UACA,OACA,WACA,mBACA,sBACA,UACA,aACA,aACA,OACA,WACA,eACA,aACA,UACA,mBACA,mBACA,YACA,iBACA,QACA,cACA,iBACA,QACA,iBACA,WACA,SACA,aACA,cACA,cACA,UACA,eACA,SACA,WACA,eACA,oBACA,YACA,YACA,iBACA,UACA,kBACA,SACA,WACA,SACA,UACA,eACA,aACA,WACA,SACA,eACA,WACA,SACA,QACA,OACA,YACA,eACA,YACA,kBACA,eACA,WACA,YACA,YACA,gBACA,aACA,UACA,gBACA,SACA,gBACA,YACA,SACA,SACA,mBACA,cACA,cACA,YACA,YACA,gBACA,UACA,YACA,YACA,UACA,WACA,eACA,UACA,YACA,QACA,iBACA,OACA,SACA,cACA,SACA,aACA,iBACA,YACA,SACA,MACA,aACA,UACA,OACA,QACA,kBACA,wBACA,uBACA,oBACA,QACA,UACA,WACA,UACA,kBACA,UACA,SACA,SACA,WACA,UACA,kBACA,kBACA,QACA,eACA,aACA,YACA,iBACA,cACA,eACA,uBACA,MACA,YACA,cACA,qBACA,yBACA,SACA,QACA,aACA,kBACA,kBACA,qBACA,YACA,cACA,YACA,WACA,aACA,UACA,mBACA,YACA,aACA,UACA,gBACA,WACA,UACA,aACA,aACA,UACA,SACA,SACA,UACA,UACA,gBACA,aACA,QACA,SACA,aACA,aACA,OACA,mBACA,kBACA,kBACA,mBACA,gBACA,aACA,UACA,gBACA,WACA,cACA,aACA,YACA,SACA,aACA,uBACA,WACA,WACA,cACA,YACA,gBACA,kBACA,QACA,wBACA,uBACA,QACA,SACA,UACA,sBACA,WACA,gBACA,SACA,YACA,YACA,mBACA,OACA,UACA,YACA,cACA,qBACA,YACA,OACA,YACA,eACA,UACA,YACA,SACA,QACA,UACA,OACA,QACA,qBACA,aACA,cACA,YACA,YACA,qBACA,SACA,UACA,UACA,QACA,YACA,gBACA,WACA,cACA,YACA,UACA,WACA,UACA,UACA,aACA,UACA,aACA,cACA,SACA,mBACA,cACA,QACA,iBACA,WACA,YACA,iBACA,qBACA,UACA,SACA,OACA,QACA,cACA,SACA,eACA,QACA,cACA,eACA,eACA,QACA,QACA,WACA,OACA,QACA,UACA,WACA,cACA,WACA,0BACA,WACA,kBACA,SACA,YACA,YACA,WACA,YACA,YACA,oBACA,cACA,YACA,aACA,YACA,aACA,aACA,OACA,cACA,eACA,wBACA,gBACA,SACA,gBACA,aACA,wBCt+BaC,GA7CO,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,cAAejY,EAAsB,EAAtBA,SAAUgP,EAAY,EAAZA,MAChD,EAA0Bne,mBAAS,IAAnC,mBAAOkI,EAAP,KAAcC,EAAd,KAUMkf,EAAUH,GACblD,QAAO,SAACjI,GACP,OAAOA,EAAKjS,cAAcC,SAAS7B,EAAM4B,kBAE1CH,KAAI,SAACoS,GACJ,OACE,oBAAItd,UAAWxB,KAAOqqB,WAAtB,SACGvL,GADoCA,MAM7C,OACE,sBAAKtd,UAAWxB,KAAOkqB,cAAvB,UACE,sBAAK1oB,UAAWxB,KAAOoR,gBAAvB,UACE,qBAAK5P,UAAWxB,KAAOuR,UAAWxQ,IAAKyQ,EAAQxP,IAAI,WACnD,uBACEkL,MAAOjC,EACPzI,SAAU,SAAC/C,GAAD,OAAOyL,EAASzL,EAAEyM,OAAOgB,QACnC1L,UAAWxB,KAAOqR,YAClBC,YAAY,SACZ9Q,KAAK,YAGT,oBAAIgB,UAAWxB,KAAOsqB,qBAAsB1oB,QAjCpB,SAACnC,GACF,OAArBA,EAAEyM,OAAOuE,UAEXyB,EAAS,CAAE1R,KADA0gB,EAAQ,yBAA2B,gBAC7B9a,KAAM3G,EAAEyM,OAAOqe,cAChCrY,EAAS,CAAE1R,KAAM,iBAAkB4F,MAAM,IACzC+jB,GAAc,KA4Bd,SACGC,IAEH,qBAAK5oB,UAAWxB,KAAOwqB,oBAAvB,SACE,wBAAQhpB,UAAWxB,KAAOyqB,iBAA1B,+B,oBCjBOC,GAxBU,SAAC,GAAwC,IAAtCP,EAAqC,EAArCA,cAAejY,EAAsB,EAAtBA,SAAUgP,EAAY,EAAZA,MAUnD,OACE,qBAAI1f,UAAWxB,KAAO0qB,iBAAkB9oB,QAVd,SAACnC,GACF,OAArBA,EAAEyM,OAAOuE,UAEXyB,EAAS,CAAE1R,KADA0gB,EAAQ,uBAAyB,cAC3B9a,KAAM3G,EAAEyM,OAAOqe,cAChCrY,EAAS,CAAE1R,KAAM,iBAAkB4F,MAAM,IACzC+jB,GAAc,KAKhB,UACE,oBAAI3oB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,gBACA,oBAAInpB,UAAWxB,KAAO2qB,eAAtB,oB,oBC2CSC,GA1DW,SAAC,GAA0C,IAAxCT,EAAuC,EAAvCA,cAAejY,EAAwB,EAAxBA,SAAUrS,EAAc,EAAdA,QAYpD,OACE,qBAAI2B,UAAWxB,KAAO4qB,kBAAmBhpB,QAZf,SAACnC,GAC3B,IAAI2G,EAAO,KACc,OAArB3G,EAAEyM,OAAOuE,QAAkBrK,EAAO3G,EAAEyM,OAAO2e,WAAW,GAAG7oB,IAC/B,MAArBvC,EAAEyM,OAAOuE,QAAiBrK,EAAO3G,EAAEyM,OAAOqe,YACrB,QAArB9qB,EAAEyM,OAAOuE,UAAmBrK,EAAO3G,EAAEyM,OAAOlK,KACjDoE,IACF8L,EAAS,CAAE1R,KAAM,eAAgB4F,KAAMA,EAAKyG,gBAC5Csd,GAAc,KAKhB,UACE,qBACE3oB,UAAW,CACTxB,KAAO8qB,gBACK,SAAZjrB,EAAqBG,KAAO+qB,QAAU,MACtC5c,KAAK,KAJT,UAME,qBAAK3M,UAAWxB,KAAOgrB,eAAgBjqB,IAAKkqB,GAAUjpB,IAAI,SAC1D,mBAAGR,UAAWxB,KAAOkrB,cAArB,qBAEF,qBACE1pB,UAAW,CACTxB,KAAO8qB,gBACK,WAAZjrB,EAAuBG,KAAO+qB,QAAU,MACxC5c,KAAK,KAJT,UAME,qBAAK3M,UAAWxB,KAAOgrB,eAAgBjqB,IAAKoqB,GAAYnpB,IAAI,WAC5D,mBAAGR,UAAWxB,KAAOkrB,cAArB,uBAEF,qBACE1pB,UAAW,CACTxB,KAAO8qB,gBACK,UAAZjrB,EAAsBG,KAAO+qB,QAAU,MACvC5c,KAAK,KAJT,UAME,qBAAK3M,UAAWxB,KAAOgrB,eAAgBjqB,IAAKqqB,GAAWppB,IAAI,UAC3D,mBAAGR,UAAWxB,KAAOkrB,cAArB,sBAEF,qBACE1pB,UAAW,CACTxB,KAAO8qB,gBACK,YAAZjrB,EAAwBG,KAAO+qB,QAAU,MACzC5c,KAAK,KAJT,UAME,qBACE3M,UAAWxB,KAAOgrB,eAClBjqB,IAAKsqB,GACLrpB,IAAI,YAEN,mBAAGR,UAAWxB,KAAOkrB,cAArB,4B,6BCuDOI,GA3GO,SAAC,GAoBhB,IAnBLtZ,EAmBI,EAnBJA,MACAE,EAkBI,EAlBJA,SACA2H,EAiBI,EAjBJA,OACA0R,EAgBI,EAhBJA,qBACAC,EAeI,EAfJA,mBACAC,EAcI,EAdJA,gBACAC,EAaI,EAbJA,oBACAC,EAYI,EAZJA,wBACAC,EAWI,EAXJA,sBACAC,EAUI,EAVJA,2BACAC,EASI,EATJA,uBACAC,EAQI,EARJA,SACAC,EAOI,EAPJA,MACAC,EAMI,EANJA,eACA/K,EAKI,EALJA,MACAgL,EAII,EAJJA,kBACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,QACAC,EACI,EADJA,iBAEA,EAA0CtpB,mBAAS,CAAE0P,IAAK,KAA1D,mBAAO6Z,EAAP,KAAsBC,EAAtB,KAeA,OAVAnrB,qBAAU,WAENyY,GACAA,EAAO2S,OAPe,IACH,GACC,GAMlBxa,EAAMya,YAAY/Z,QAEpB6Z,EAAiB,CAAEpK,OAAQ,OAE5B,CAACnQ,EAAMya,YAAa5S,IAGrB,qCACG0R,EACC,qBAAK/pB,UAAWxB,KAAOkqB,cAAe5nB,MAAOgqB,EAA7C,SACE,cAAC,GAAD,CACEnC,cAAewB,EACfzZ,SAAUA,EACVgP,MAAOA,MAGT,KACHsK,EACC,qBACEhqB,UAAWxB,KAAO0qB,iBAClBpoB,MAAK,2BAAOgqB,GAAP,IAAsBlK,MAAOlB,EAAQ,QAAU,UAFtD,SAIE,cAAC,GAAD,CACEiJ,cAAeyB,EACf1Z,SAAUA,EACVgP,MAAOA,MAGT,KACHuK,EACC,qBAAKjqB,UAAWxB,KAAO0sB,sBAAuBpqB,MAAOgqB,EAArD,SACE,cAAC,KAAD,CACEN,MAAOA,EACPxpB,SAAU,SAACsT,GAAD,OAAOiW,EAASjW,EAAE6W,MAC5BC,iBAAkB,SAAC9W,GAAD,OAChB+V,EACE/V,EACAmW,EACA/Z,EACAgP,EACAgL,QAKN,KACHR,EACC,qBAAKlqB,UAAWxB,KAAO4qB,kBAAmBtoB,MAAOgqB,EAAjD,SACE,cAAC,GAAD,CACEnC,cAAe2B,EACf5Z,SAAUA,EACVrS,QAASmS,EAAM4C,UAAUiY,cAG3B,KAEHX,EACC,qBAAK1qB,UAAWxB,KAAO0sB,sBAAuBpqB,MAAOgqB,EAArD,SACE,cAAC,KAAD,CACEN,MAAOI,EACP5pB,SAAU,SAACsT,GAAD,OAAOqW,EAAWrW,EAAE6W,MAC9BC,iBAAkB,SAAC9W,GAAD,OAChB+V,EACE/V,EACAuW,EACAna,EACAgP,EACAgL,QAKN,SC7GGL,GAA6B,SAAC/V,EAAGpU,EAAKwQ,EAAUgP,EAAO4L,GAClE,IAAIC,EAAW,eAAWjX,EAAE6W,IAAIK,EAAjB,aAAuBlX,EAAE6W,IAAIM,EAA7B,aAAmCnX,EAAE6W,IAAIO,EAAzC,aAA+CpX,EAAE6W,IAAI1mB,EAArD,KACf,GAAI6mB,GAAQprB,EAAI7B,QACd6B,EAAI7B,QAAQyC,MAAM6qB,WAAaJ,EAC/B7a,EAAS,CAAE1R,KAAM,8BAA+B4F,KAAM2mB,SACjD,GAAIrrB,EAAI7B,QAAS,CACtB,IAAIW,EAAO0gB,EAAQ,uBAAyB,cAC5Cxf,EAAI7B,QAAQyC,MAAM6qB,WAAaJ,EAC/B7a,EAAS,CAAE1R,OAAM4F,KAAM2mB,MC+MZK,GArMK,SAAC,GAAuB,IAArBvT,EAAoB,EAApBA,OAAQqH,EAAY,EAAZA,MAC7B,EAAwChL,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAA0CvqB,mBAAS,GAAnD,mBAAOwqB,EAAP,KAAsBC,EAAtB,KACA,EAAsCzqB,oBAAS,GAA/C,mBAAOsM,EAAP,KAAoBC,EAApB,KACA,EAAwDvM,oBAAS,GAAjE,mBAAOwoB,EAAP,KAA6BI,EAA7B,KACA,EAAoD5oB,oBAAS,GAA7D,mBAAOyoB,EAAP,KAA2BI,EAA3B,KACA,EAA8C7oB,oBAAS,GAAvD,mBAAO0oB,EAAP,KAAwBgC,EAAxB,KACA,EAAsD1qB,oBAAS,GAA/D,mBAAO2oB,EAAP,KAA4BI,EAA5B,KACA,EAAkD/oB,oBAAS,GAA3D,mBAAOmpB,EAAP,KAA0BwB,EAA1B,KACA,EAA0B3qB,mBAAS,CACjCiqB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHjnB,EAAG,IAJL,mBAAO+lB,EAAP,KAAcD,EAAd,KAMA,EAA8BhpB,mBAAS,CACrCiqB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHjnB,EAAG,IAJL,mBAAOmmB,EAAP,KAAgBD,EAAhB,KAOMF,EAAiB5sB,iBAAO,MACxBgtB,EAAmBhtB,iBAAO,MAG1BsuB,EAAa,CAAC3tB,KAAO4tB,yBACrBC,EAAe,CAAC7tB,KAAO8tB,0BACvB9b,EAAQkP,EAAQmM,EAAY3N,eAAiB2N,EAAYzY,UACzDmZ,EAA8B,SAArB/b,EAAMgc,WACfC,EAA+B,WAApBjc,EAAMkc,UACnBH,GAAQJ,EAAWhkB,KAAK3J,KAAOC,QAC/BguB,GAAUJ,EAAalkB,KAAK3J,KAAOC,QAGvC,IAAIkuB,EAAelD,GACqB,WAApCoC,EAAYzY,UAAUiY,UACxBsB,EAAehD,GAC8B,UAApCkC,EAAYzY,UAAUiY,UAC/BsB,EAAe/C,GAC8B,YAApCiC,EAAYzY,UAAUiY,YAC/BsB,EAAe9C,IAGjB,IAcM+C,EAAmB,CACvB9O,WAAYqM,EACZ0C,cAAezC,EACf0C,YAAab,EACbZ,UAAWf,EACXM,QAASsB,GAGLa,GAAgB,CACpBC,KAvBkB,WAClB,IAAIC,EAAS,OACTV,IAAQU,EAAS,UAErBnB,EAAe,CAAE9sB,KADN0gB,EAAQ,yBAA2B,gBACvB9a,KAAMqoB,KAoB7BC,OAjBoB,WACpB,IAAIpsB,EAAQ,SACR2rB,IAAU3rB,EAAQ,UAEtBgrB,EAAe,CAAE9sB,KADN0gB,EAAQ,wBAA0B,eACtB9a,KAAM9D,MAgBzBynB,GAAe,SAACtqB,GAAD,OD7EI,SAACA,EAAG2uB,EAAkBG,GACpB,SAAvB9uB,EAAEkS,cAAcpL,IAAwC,WAAvB9G,EAAEkS,cAAcpL,IACnDgoB,EAAc9uB,EAAEkS,cAAcpL,MAEhC,cAA0BqZ,OAAOC,QAAQuO,GAAzC,eAA4D,CAAvD,0BAAK7nB,EAAL,KAASooB,EAAT,KACCpoB,IAAO9G,EAAEkS,cAAcpL,GAAIooB,GAAQ,SAAClrB,GAAD,OAAgBA,KAClDkrB,GAAQ,ICuEaC,CAAYnvB,EAAG2uB,EAAkBG,KAoB7D,OAlBAntB,qBAAU,WACR,GAAIiO,EAAa,CACfC,GAAe,GACfke,EAAiBxb,EAAMuP,UACvB,MAAmBvP,EAAMa,KAAKgc,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAhE,mBAAK7B,EAAL,KAAQC,EAAR,KAAWC,EAAX,KAAcjnB,EAAd,KAGA,GAFA8lB,EAAS,CAAEiB,IAAGC,IAAGC,IAAGjnB,MACpBgmB,EAAepsB,QAAQyC,MAAM6qB,WAAanb,EAAMa,KAC5CqO,EAAO,CAAC,IAAD,EACMlP,EAAM0P,gBAClBmN,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KAJA,mBACR7B,EADQ,KACLC,EADK,KACFC,EADE,KACCjnB,EADD,KAKTkmB,EAAW,CAAEa,IAAGC,IAAGC,IAAGjnB,MACtBomB,EAAiBxsB,QAAQyC,MAAM6qB,WAAanb,EAAM0P,oBAGrD,CAAC1P,EAAO3C,EAAa6R,IAGtB,sBAAK1f,UAAWxB,KAAOotB,YAAvB,UACE,sBACE5rB,UAAWxB,KAAO8uB,eAClBvoB,GAAG,aACH3E,QAASmoB,GAHX,UAKE,4BAAI/X,EAAMsN,aACV,qBAAK9d,UAAWxB,KAAO+uB,UAAWhuB,IAAKiuB,GAAWhtB,IAAI,aAExD,qBAAKR,UAAWxB,KAAOivB,YACvB,sBAAKztB,UAAWxB,KAAOkvB,kBAAvB,UACE,qBAAK1tB,UAAWxB,KAAOmvB,uBAAvB,SACE,uBACE3tB,UAAWxB,KAAOovB,cAClB5uB,KAAK,SACL0M,MAAOqgB,EACP/qB,SAAU,SAAC/C,GAAD,ODxGe,SAACA,EAAG+tB,EAAkBtb,EAAUgP,GACnEsM,EAAiB/tB,EAAEyM,OAAOgB,OAC1B,IAAI9G,GAAQ3G,EAAEyM,OAAOgB,MACjB9G,GAAQ,EAAGA,EAAO,EACbA,EAAO,OAAMA,EAAO,MAE7B8L,EAAS,CAAE1R,KADA0gB,EAAQ,uBAAyB,cAC3B9a,SCmGLipB,CAAsB5vB,EAAG+tB,EAAkBF,EAAgBpM,QAIjE,qBACE1f,UAAWxB,KAAOsvB,uBAClB/oB,GAAG,gBACH3E,QAASmoB,GAHX,SAKE,qBAAKvoB,UAAWxB,KAAO+uB,UAAWhuB,IAAKiuB,GAAWhtB,IAAI,eAG1D,qBAAKR,UAAWxB,KAAOivB,YAEvB,qBACEztB,UAAWxB,KAAOuvB,qBAClBhpB,GAAG,cACH3E,QAASmoB,GAHX,SAKE,qBAAKvoB,UAAWxB,KAAOwvB,kBAAvB,SACE,qBAAK9tB,IAAKuqB,EAAgBzqB,UAAWxB,KAAOyvB,kBAGhD,qBAAKjuB,UAAWxB,KAAOivB,YAEvB,qBAAKztB,UAAWmsB,EAAWxf,KAAK,KAAM5H,GAAG,OAAO3E,QAASmoB,GAAzD,SACE,qBAAKvoB,UAAWxB,KAAO0vB,KAAM3uB,IAAKytB,GAAMxsB,IAAI,WAE9C,qBAAKR,UAAWxB,KAAOivB,YACvB,qBACEztB,UAAWqsB,EAAa1f,KAAK,KAC7B5H,GAAG,SACH3E,QAASmoB,GAHX,SAKE,qBAAKvoB,UAAWxB,KAAO2vB,OAAQ5uB,IAAK2tB,GAAQ1sB,IAAI,aAElD,qBAAKR,UAAWxB,KAAOivB,YACrB/N,EAeA,sBACE1f,UAAWxB,KAAO4vB,iBAClBrpB,GAAG,UACH3E,QAASmoB,GAHX,UAKE,qBAAKvoB,UAAWxB,KAAO6vB,QAASnuB,IAAK2qB,IACrC,qBAAKtrB,IAAK+uB,GAAe9tB,IAAI,WAC7B,8CArBF,mCACE,qBACER,UAAWxB,KAAO+vB,mBAClBxpB,GAAG,YACH3E,QAASmoB,GAHX,SAKE,qBACEvoB,UAAWxB,KAAOgwB,UAClBjvB,IAAKotB,EACLnsB,IAAI,kBAgBZ,cAAC,GAAD,CACEgQ,MAAOqb,EACPnb,SAAUob,EACVzT,OAAQA,EACR0R,qBAAsBA,EACtBC,mBAAoBA,EACpBC,gBAAiBA,EACjBC,oBAAqBA,EACrBC,wBAAyBA,EACzBC,sBAAuBA,EACvBC,2BAA4BA,GAC5BC,uBAAwBA,EACxBC,SAAUA,EACVI,WAAYA,EACZH,MAAOA,EACPI,QAASA,EACTH,eAAgBA,EAChBI,iBAAkBA,EAClBnL,MAAOA,EACPgL,kBAAmBA,Q,oBCjNZ,OAA0B,yC,wCC8C1B+D,GA3Ca,SAAC,GAAyC,IAAvC9F,EAAsC,EAAtCA,cAAejY,EAAuB,EAAvBA,SACtCge,EAAsB,SAACzwB,GACF,OAArBA,EAAEyM,OAAOuE,UACXyB,EAAS,CAAE1R,KAAM,sBAAuB4F,MAAO3G,EAAEyM,OAAOqe,cACxDrY,EAAS,CAAE1R,KAAM,iBAAkB4F,MAAM,IACzC+jB,GAAc,KAmClB,OAxCmE,EAAbgG,OAWlD,qBAAI3uB,UAAWxB,KAAOowB,aAAcxuB,QAASsuB,EAA7C,UACE,oBAAI1uB,UAAWxB,KAAOqwB,aAAtB,eACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,eACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,mBAKF,qBAAI7uB,UAAWxB,KAAOswB,cAAe1uB,QAASsuB,EAA9C,UACE,oBAAI1uB,UAAWxB,KAAOqwB,aAAtB,eACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,eACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,eACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,gBACA,oBAAI7uB,UAAWxB,KAAOqwB,aAAtB,qBCiEOE,GAlGQ,SAAC,GAmBjB,IAlBLve,EAkBI,EAlBJA,MACAE,EAiBI,EAjBJA,SACA2H,EAgBI,EAhBJA,OACA2W,EAeI,EAfJA,aACAC,EAcI,EAdJA,sBACAC,EAaI,EAbJA,eACAC,EAYI,EAZJA,iBACA9d,EAWI,EAXJA,KACA+d,EAUI,EAVJA,QACAC,EASI,EATJA,0BACAC,EAQI,EARJA,QACAhe,EAOI,EAPJA,OACAie,EAMI,EANJA,UACAC,EAKI,EALJA,4BACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,yBACAf,EAEI,EAFJA,OACAgB,EACI,EADJA,OAEA,EAA0CpuB,mBAAS,CAAE0P,IAAK,KAA1D,mBAAO6Z,EAAP,KAAsBC,EAAtB,KACA,EAAgExpB,mBAAS,CACvE0P,IAAK,KADP,mBAAO2e,EAAP,KAAiCC,EAAjC,KAQMC,EAAyB9xB,uBAC7B,SAACqa,EAAQ2W,EAAc1V,GACrB,IAAIyW,EAAef,EAAagB,YAC5BlvB,EAAQ,GAEVuX,EAAO2S,OAVa,IAEH,GACC,GAQlB1R,IAEAxY,EAAM6f,OAAS,GACfkP,EAA4B,CAAElP,OAAQ,GAAIC,MAAQ+O,EAAa,GAAJ,KAGzDtX,EAAO4X,OAASF,EAhBC,IAgBiC,IACpDjvB,EAAMkQ,KAAO,EACRlQ,EAAM6f,SAAQ7f,EAAMmQ,IAAM,KAEC,IAA9BmN,OAAO8R,KAAKpvB,GAAOiH,QAAcgjB,EAAiBjqB,KAExD,CAAC6uB,IASH,OANA/vB,qBAAU,WACJyY,GAAU2W,GACZc,EAAuBzX,EAAQ2W,EAAcxe,EAAMya,YAAY/Z,UAEhE,CAAC4e,EAAwBd,EAAcxe,EAAMya,YAAa5S,IAG3D,qCACG6W,EACC,qBAAKlvB,UAAWxB,KAAO2xB,sBAAuBrvB,MAAOgqB,EAArD,SACE,cAAC,KAAD,CACEN,MAAOnZ,EACPrQ,SAAU,SAACsT,GAAD,OAAO8a,EAAQ9a,EAAE6W,MAC3BC,iBAAkB,SAAC9W,GAAD,OAChB+a,EAA0B/a,EAAG5D,EAAU4e,QAI3C,KAEHH,EACC,qBAAKnvB,UAAWxB,KAAO4xB,wBAAyBtvB,MAAOgqB,EAAvD,SACE,cAAC,KAAD,CACEN,MAAOlZ,EACPtQ,SAAU,SAACsT,GAAD,OAAOib,EAAUjb,EAAE6W,MAC7BC,iBAAkB,SAAC9W,GAAD,OAChBkb,EAA4Blb,EAAG5D,EAAU+e,QAI7C,KAEHR,EACC,qBACEjvB,UAAWxB,KAAO6xB,6BAClBvvB,MAAO8uB,EAFT,SAIE,cAAC,GAAD,CACEjH,cAAe+G,EACff,OAAQA,EACRje,SAAUA,MAGZ,SC1EG2e,GAA4B,SAAC/a,EAAG5D,EAAU4e,GACrD,GAAIA,EAAQjxB,QAAS,CACnB,IAAIktB,EAAW,eAAWjX,EAAE6W,IAAIK,EAAjB,aAAuBlX,EAAE6W,IAAIM,EAA7B,aAAmCnX,EAAE6W,IAAIO,EAAzC,aAA+CpX,EAAE6W,IAAI1mB,EAArD,KACfiM,EAAS,CAAE1R,KAAM,eAAgB4F,KAAM2mB,IACvC+D,EAAQjxB,QAAQyC,MAAM6qB,WAAaJ,IAI1BiE,GAA8B,SAAClb,EAAG5D,EAAU+e,GACvD,GAAIA,EAAUpxB,QAAS,CACrB,IAAIktB,EAAW,eAAWjX,EAAE6W,IAAIK,EAAjB,aAAuBlX,EAAE6W,IAAIM,EAA7B,aAAmCnX,EAAE6W,IAAIO,EAAzC,aAA+CpX,EAAE6W,IAAI1mB,EAArD,KACfiM,EAAS,CAAE1R,KAAM,iBAAkB4F,KAAM2mB,IACzCkE,EAAUpxB,QAAQyC,MAAM6qB,WAAaJ,ICiI1B+E,GAvJM,SAAC,GAAgB,IAAdjY,EAAa,EAAbA,OACtB,EAAwC3D,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAsCvqB,oBAAS,GAA/C,mBAAOsM,EAAP,KAAoBC,EAApB,KACA,EAAwBvM,mBAAS,uBAAjC,mBAAO8P,EAAP,KAAa+d,EAAb,KACA,EAA4B7tB,mBAAS,uBAArC,mBAAO+P,EAAP,KAAeie,EAAf,KACA,EAA4ChuB,oBAAS,GAArD,mBAAO2tB,EAAP,KAAuBqB,EAAvB,KACA,EAAgDhvB,oBAAS,GAAzD,mBAAO4tB,EAAP,KAAyBqB,EAAzB,KACA,EAA0DjvB,oBAAS,GAAnE,mBAAO0tB,EAAP,KAA8BS,EAA9B,KACA,EAAgDnuB,mBAC9CsqB,EAAYhN,WAAWtN,aADzB,mBAAOkf,EAAP,KAAyBC,EAAzB,KAGA,EAAsCnvB,mBAASsqB,EAAYhN,WAAWrN,IAAtE,mBAAOmf,EAAP,KAAoBC,EAApB,KACMC,EAAkBhzB,iBAAO,MACzByxB,EAAUzxB,iBAAO,MACjB4xB,EAAY5xB,iBAAO,MACnBizB,EAAqBjzB,iBAAO,MAC5B8wB,EAA4C,SAAnC9C,EAAYhV,cAAc7X,KACnC2wB,EAA4C,SAAnC9D,EAAYhV,cAAc7X,KAUnCupB,EAAe,SAACtqB,GAAD,ODcI,SACzBA,EACAsyB,EACAC,EACAd,GAEA,IAAIqB,EAAU9yB,EAAEkS,cAAcpL,GACd,SAAZgsB,GACFR,GAAkB,SAACtuB,GAAD,OAAgBA,KAClCuuB,GAAoB,GACpBd,GAAyB,IACJ,WAAZqB,GACTP,GAAoB,SAACvuB,GAAD,OAAgBA,KACpCsuB,GAAkB,GAClBb,GAAyB,IACJ,gBAAZqB,GACTrB,GAAyB,SAACztB,GAAD,OAAgBA,KACzCsuB,GAAkB,GAClBC,GAAoB,KAEpBd,GAAyB,GACzBa,GAAkB,GAClBC,GAAoB,ICnCpBpD,CACEnvB,EACAsyB,EACAC,EACAd,IAkBJ,OAfA9vB,qBAAU,WACJiO,GDlD0B,SAChC8gB,EACA9P,EACA/Q,EACAshB,EACAE,EACAwB,EACAvB,EACAE,GAGA,GADA3hB,GAAe,GACV6gB,EAKHmC,EAAmBzyB,QAAQyC,MAAMkwB,oBAAsB,OACvDF,EAAmBzyB,QAAQyC,MAAMmwB,uBAAyB,WAN/C,CACX,MAAmBpS,EAAWxN,KAAKgc,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAArE,mBACA+B,EAAQ,CAAE5D,EADV,KACaC,EADb,KACgBC,EADhB,KACmBjnB,EADnB,OAEA6qB,EAAQjxB,QAAQyC,MAAM6qB,WAAa9M,EAAWxN,KAKhD,MAAmBwN,EAAWvN,OAAO+b,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAvE,mBACAkC,EAAU,CAAE/D,EADZ,KACeC,EADf,KACkBC,EADlB,KACqBjnB,EADrB,OAEAgrB,EAAUpxB,QAAQyC,MAAM6qB,WAAa9M,EAAWvN,OC8B5C4f,CACEvC,EACA9C,EAAYhN,WACZ/Q,EACAshB,EACAE,EACAwB,EACAvB,EACAE,KAGH,CAACd,EAAQ9C,EAAYhN,WAAYhR,IAGlC,sBAAK3N,IAAK2wB,EAAiB7wB,UAAWxB,KAAO8xB,aAA7C,UACI3B,EAcE,KAbF,qCACE,sBACE3uB,UAAWxB,KAAO2yB,cAClBpsB,GAAG,OACH3E,QAASmoB,EAHX,UAKE,qBAAKvoB,UAAWxB,KAAOwvB,kBAAvB,SACE,qBAAK9tB,IAAKovB,EAAStvB,UAAWxB,KAAOyvB,gBAEvC,wCAEF,qBAAKjuB,UAAWxB,KAAOivB,eAI3B,sBACEvtB,IAAK4wB,EACL9wB,UAAWxB,KAAO4yB,gBAClBrsB,GAAG,SACH3E,QAASmoB,EAJX,UAME,qBAAKvoB,UAAWxB,KAAOwvB,kBAAvB,SACE,qBAAK9tB,IAAKuvB,EAAWzvB,UAAWxB,KAAOyvB,gBAEzC,0CAEF,qBAAKjuB,UAAWxB,KAAOivB,YACvB,sBAAKztB,UAAWxB,KAAO6yB,qBAAvB,UACE,qBAAKrxB,UAAWxB,KAAO8yB,0BAAvB,SACE,uBACEtxB,UAAWxB,KAAO+yB,iBAClBvyB,KAAK,SACL0M,MAAO+kB,EACPzvB,SAAU,SAAC/C,GAAD,OD5DkB,SACtCA,EACAyS,EACAggB,EACA/B,GAEA+B,EAAoBzyB,EAAEyM,OAAOgB,OAC7B,IAAI9G,GAAQ3G,EAAEyM,OAAOgB,MACjBijB,GAAU/pB,GAAQ,EAAGA,EAAO,EACvB+pB,GAAU/pB,EAAO,GAAIA,EAAO,IAC3B+pB,GAAU/pB,EAAO,IAAKA,EAAO,KAC7B+pB,GAAU/pB,EAAO,IAAGA,EAAO,GACrC8L,EAAS,CAAE1R,KAAM,sBAAuB4F,SCiD5B4sB,CACEvzB,EACA6tB,EACA4E,EACA/B,QAKR,qBACE7tB,MAAO,CACL2wB,qBAAsB9B,EAAS,IAAM,OACrC+B,wBAAyB/B,EAAS,IAAM,QAE1C3vB,UAAWxB,KAAOmzB,0BAClB5sB,GAAG,cACH3E,QAASmoB,EAPX,SASE,qBAAKvoB,UAAWxB,KAAO+uB,UAAWhuB,IAAKiuB,GAAWhtB,IAAI,eAIzDmvB,EACC,qCACE,qBAAK3vB,UAAWxB,KAAOivB,YACvB,sBACEztB,UAAWxB,KAAOozB,gBAClB7sB,GAAG,SACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKoT,GAAcnS,IAAI,WAC5B,uBACER,UAAWxB,KAAOqzB,YAClB7yB,KAAK,SACL0M,MAAOilB,EACP3vB,SAvGgB,SAAC/C,GAC3B2yB,EAAe3yB,EAAEyM,OAAOgB,OACxB,IAAI3B,GAAO9L,EAAEyM,OAAOgB,MAChB3B,EAAM,IAAGA,EAAM,GACfA,EAAM,MAAKA,EAAM,KACrB+hB,EAAe,CAAE9sB,KAAM,iBAAkB4F,KAAMmF,aAsGzC,KACJ,cAAC,GAAD,CACEyG,MAAOqb,EACPnb,SAAUob,EACVzT,OAAQA,EACR2W,aAAc6B,EAAgBxyB,QAC9B4wB,sBAAuBA,EACvBS,yBAA0BA,EAC1BP,iBAAkBA,EAClBD,eAAgBA,EAChB7d,KAAMA,EACN+d,QAASA,EACTC,0BAA2BA,GAC3BC,QAASA,EACThe,OAAQA,EACRie,UAAWA,EACXC,4BAA6BA,GAC7BC,UAAWA,EACXd,OAAQA,EACRgB,OAAQA,Q,oBC/JD,OAA0B,yCCA1B,OAA0B,sCC2F1BmC,GApFM,WACnB,MAAwCpd,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAsCvqB,mBACpCsqB,EAAY9O,WAAWpK,cADzB,mBAAOge,EAAP,KAAoBC,EAApB,KAIMrI,EAAe,SAACtqB,GACO,YAAvBA,EAAEkS,cAAcpL,GAClB+mB,EAAe,CAAE9sB,KAAM,wBAAyB4F,MAAM,IACtB,SAAvB3G,EAAEkS,cAAcpL,IACzB+mB,EAAe,CAAE9sB,KAAM,gBAAiB4F,MAAM,KAiB5CkH,EACJ,qCACE,sBACE9L,UAAW,CACTxB,KAAOuzB,kBACPlG,EAAY9O,WAAWnK,MAAQpU,KAAOwzB,YAAc,MACpDrlB,KAAK,KACP5H,GAAG,UACH3E,QAASmoB,EANX,UAQE,qBAAKhpB,IAAK0yB,GAAczxB,IAAI,YAC5B,2CAGAqrB,EAAY9O,WAAWnK,MA0BrB,KAzBF,qCACE,qBAAK5S,UAAWxB,KAAOivB,YACvB,sBACEztB,UAAWxB,KAAOozB,gBAClB7sB,GAAG,SACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKoT,GAAcnS,IAAI,WAC5B,uBACER,UAAWxB,KAAOqzB,YAClB7yB,KAAK,SACL0M,MAAOilB,EACP3vB,SAxCgB,SAAC/C,GAC3B2yB,EAAe3yB,EAAEyM,OAAOgB,OACxB,IAAI3B,GAAO9L,EAAEyM,OAAOgB,MAChB3B,EAAM,IAAGA,EAAM,GACfA,EAAM,MAAKA,EAAM,KACrB+hB,EAAe,CAAE9sB,KAAM,uBAAwB4F,KAAMmF,UAsC/C,qBAAK/J,UAAWxB,KAAOivB,YACvB,sBACEztB,UAAWxB,KAAO0zB,cAClBntB,GAAG,OACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAK6kB,GAAW5jB,IAAI,YACzB,8CAOV,OACE,qBAAKR,UAAWxB,KAAOszB,aAAvB,SACIjG,EAAYnV,WAGZ,qBAAK1W,UAAWxB,KAAO2zB,cAAe/xB,QAtDpB,WACtB0rB,EAAe,CAAE9sB,KAAM,qBAAsB4F,MAAM,IACnDknB,EAAe,CAAE9sB,KAAM,iBAAkB4F,MAAM,KAoD3C,kBAFAkH,KClBOsmB,GAjDC,SAAC,GAAgB,IAAd3hB,EAAa,EAAbA,OACjB,EAA4BlP,mBAAS,MAArC,mBAAO8W,EAAP,KAAezC,EAAf,KACQiW,EAAgBnX,qBAAWrE,IAA3Bwb,YACFwG,EAAax0B,iBAAO,MAIpBy0B,EAAet0B,uBAAY,SAACsW,GAChC+d,EAAWh0B,QAAQyC,MAAMyxB,UAAzB,oBAAkDje,EAAE2b,OAApD,eAAiE3b,EAAE0W,OAAnE,OACAqH,EAAWh0B,QAAQyC,MAAM0xB,QAAU,EACnC5c,EAAUtB,KACT,IAsBH,OApBA1U,qBAAU,WACJisB,EAAYjV,eACd0b,EC7BsB,SAC1B1b,EACAwC,EACAE,EACAmZ,EACAC,EACAC,GAEA,IAAI5C,EAAe0C,EAAQzC,YACvB4C,EAAgBH,EAAQI,aAExBC,EAAiBlc,EAAcmc,GAAGva,EAAI5B,EAAcoc,GAAGxa,EACvDya,EAASH,EAAiBJ,EAAgBE,EAAgBF,EAG1D1H,EACF3oB,KAAK6c,IACHtI,EAAcmc,GAAGva,EACjB5B,EAAcsc,GAAG1a,EACjB5B,EAAcuc,GAAG3a,EACjB5B,EAAcoc,GAAGxa,GAEnBoa,EACAK,EACF,GAAIjI,EAAS2H,EAAiB,EAAG,CAC/B,IAAIS,EACF/wB,KAAK4e,IACHrK,EAAcmc,GAAGva,EACjB5B,EAAcsc,GAAG1a,EACjB5B,EAAcuc,GAAG3a,EACjB5B,EAAcoc,GAAGxa,GAEnBka,GACEI,EAAiC,EAAhBF,GAEnB5H,EADEoI,EAAaT,EAAiBC,EAAgBtZ,EACvC8Z,EACG9Z,EAAesZ,EAAgBF,EAI/C,IAAIzC,EAAS5tB,KAAK6c,IAChBtI,EAAcmc,GAAGza,EACjB1B,EAAcsc,GAAG5a,EACjB1B,EAAcuc,GAAG7a,EACjB1B,EAAcoc,GAAG1a,GAInB,OAFI2X,EAASF,EAAe3W,EAAa6W,EAAS7W,EAAc2W,EACvDE,EAAS,IAAGA,EAAS,GACvB,CAAEA,SAAQjF,UDlBXqI,CACExH,EAAYjV,cACZnG,EAAO+E,WACP/E,EAAOiF,YACP2c,EAAWh0B,QAhBG,GACC,OAqBpB,CACDoS,EACA6hB,EACAzG,EAAYjV,cACZiV,EAAYyH,kBAIZ,sBAAKpzB,IAAKmyB,EAAYryB,UAAWxB,KAAO4zB,QAAxC,UACsC,SAAnCvG,EAAYhV,cAAc7X,KACzB,cAAC,GAAD,CAAaqZ,OAAQA,EAAQqH,OAAO,IAClC,KACgC,aAAnCmM,EAAYhV,cAAc7X,KACzB,cAAC,GAAD,CAAaqZ,OAAQA,EAAQqH,OAAO,IAClC,KAlCS,CAAC,OAAQ,SAAU,WAAY,QAmClCpU,SAASugB,EAAYhV,cAAc7X,MAC3C,cAAC,GAAD,CAAcqZ,OAAQA,IACpB,KACgC,gBAAnCwT,EAAYhV,cAAc7X,KAAyB,cAAC,GAAD,IAAmB,S,oBEiH9Du0B,GAhKK,SAAC,GASd,IARL9iB,EAQI,EARJA,OACAgE,EAOI,EAPJA,YACAiS,EAMI,EANJA,MACA/V,EAKI,EALJA,SACA8V,EAII,EAJJA,UACAE,EAGI,EAHJA,aACAtd,EAEI,EAFJA,UACAqH,EACI,EADJA,SAEA,EAAsCgE,qBAAWpB,IAAzCqB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cACpB,EAAkCrT,oBAAS,GAA3C,mBAAOK,EAAP,KAAkB4xB,EAAlB,KACA,EAAkCjyB,oBAAS,GAA3C,mBAAOkyB,EAAP,KAAkBC,EAAlB,KACA,EAAwCnyB,oBAAS,GAAjD,mBAAOoyB,EAAP,KAAqBC,EAArB,KACMC,EAAUh2B,iBAAO,MACjBi2B,EAAej2B,kBAAO,GAC5B+B,qBAAU,kBAAM,kBAAOk0B,EAAaz1B,SAAU,KAAQ,IAEtD,IAAM+uB,EAAcpvB,uBAClB,SAACC,GACC,GAAKA,EAAEkS,eAAwC,aAAvBlS,EAAEkS,cAAcpL,IAAsB0hB,EAAW,CACvE,GAAIxoB,EAAEkS,eAAwC,aAAvBlS,EAAEkS,cAAcpL,GAAmB,CACxD,IAAIkD,EAASwI,EAAO2B,kBACfnK,GAAUA,EAAOlD,KAAO9G,EAAEkS,cAAcpL,IAC3C0L,EAAOqB,gBAAgB7T,EAAEkS,eAE3BujB,EAAaz1B,EAAEkS,eACfyjB,GAAgB,QACXA,GAAgB,GACnB31B,EAAE81B,QAAQzb,EAAIub,EAAQx1B,QAAQ2xB,YAAcvf,EAAO+E,WACrDqe,EAAQx1B,QAAQyC,MAAMkQ,KACpB/S,EAAE81B,QAAQzb,EAAIub,EAAQx1B,QAAQ2xB,YAAc,KACzC6D,EAAQx1B,QAAQyC,MAAMkQ,KAAO/S,EAAE81B,QAAQzb,EAAI,KAClDub,EAAQx1B,QAAQyC,MAAMmQ,IAAMhT,EAAE81B,QAAQvb,EAAI,UAE1C5D,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,SAGtD,CAAC6L,EAAQmE,EAAe6R,IAGpBuN,EAAsB,SAAC/1B,GAC3BA,EAAEC,iBACE0D,IACF4xB,GAAa,GACb5e,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,SAIhDqvB,EAAqB,SAACh2B,GAC1B,IAAI8G,EAAK9G,EAAEkS,cAAcpL,GACd,WAAPA,GAAsC,UAAnB0uB,EAAUz0B,MAC/ByR,EAAO5R,OAAO40B,GACdhjB,EAAO0F,sBAAsBpE,mBAC7B6C,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,QAClC,iBAAPG,GACT0L,EAAOqW,aAAa2M,GAChBpqB,GAAWoH,EAAOqW,aAAazd,GACnCqH,EAAS,CAAE1R,KAAM,yBAA0B4F,MAAM,IACjDgQ,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,QAClC,eAAPG,GACT0L,EAAOyX,WAAWuL,GAClB/iB,EAAS,CAAE1R,KAAM,yBAA0B4F,MAAM,IACjDgQ,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,QAClC,SAAPG,GACT4hB,EAAa,CACXhT,OAAQ8f,EACRpb,OAAQ,CAAEpH,IAAKwiB,EAAUxiB,IAAKD,KAAMyiB,EAAUziB,QAEhD4D,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,QAClC,UAAPG,IACL0hB,EACFD,GACE/V,EACAgW,EACAC,EACA/V,EACAgW,EACA/R,EACAvL,GAEGuL,EAAc,CAAE5V,KAAM,qBAAsB4F,KAAM,SAI7DhF,qBAAU,WAOR,OANI6U,GAAeE,EAAWuf,kBAC5B9G,EAAYzY,EAAWuf,iBACvB/xB,YAAW,WACL2xB,EAAaz1B,SAASm1B,GAAa,KACtC,MAEE,WACDM,EAAaz1B,SAASm1B,GAAa,MAExC,CAAC/e,EAAaE,EAAWuf,gBAAiB9G,IAC7C,IAAI+G,EAAUV,GAAgC,UAAnBA,EAAUz0B,KACjC8M,EACF,qCACE,qBACE9L,UAAWxB,KAAO41B,QAClBC,cAAeL,EACf5zB,QAAS4zB,IAEX,qBACEK,cAAe,SAACp2B,GAAD,OAAOA,EAAEC,kBACxBgC,IAAK2zB,EACL7zB,UAAWxB,KAAO81B,KAClBvvB,GAAG,cAJL,UAMI4uB,GAAiBQ,EAKf,KAJF,qBAAIn0B,UAAWxB,KAAO+1B,OAAQxvB,GAAG,OAAO3E,QAAS6zB,EAAjD,UACE,qCACA,2CAIJ,qBAAIj0B,UAAWxB,KAAO+1B,OAAQxvB,GAAG,QAAQ3E,QAAS6zB,EAAlD,UACE,sCACA,2CAGAN,GAAiBQ,EASf,KARF,qBACEn0B,UAAWxB,KAAO+1B,OAClBxvB,GAAG,SACH3E,QAAS6zB,EAHX,UAKE,uCACA,uCAGFN,EAAqD,KAAtC,oBAAI3zB,UAAWxB,KAAOg2B,SACrCb,EAmBE,KAlBF,qCACE,qBACE3zB,UAAWxB,KAAO+1B,OAClBxvB,GAAG,eACH3E,QAAS6zB,EAHX,UAKE,+CACA,4BAAI,eAEN,qBACEj0B,UAAWxB,KAAO+1B,OAClBxvB,GAAG,aACH3E,QAAS6zB,EAHX,UAKE,6CACA,4BAAI,wBAQhB,OAAOtf,EAAWuf,gBAAkBpoB,EAAU,MC3DjC2oB,GA5FM,SAAC,GAQf,IAPLhkB,EAOI,EAPJA,OACAgU,EAMI,EANJA,UACAxlB,EAKI,EALJA,MACAoK,EAII,EAJJA,UACA2E,EAGI,EAHJA,YACA4W,EAEI,EAFJA,SACAvjB,EACI,EADJA,KAEA,EAAwCqT,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAsCpX,qBAAWpB,IAAzCqB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cACpB,EAA0CrT,mBAAS,GAAnD,mBAAOmzB,EAAP,KAAsB7P,EAAtB,KACA,EAAsCtjB,oBAAS,GAA/C,mBAAOkT,EAAP,KAAoBiQ,EAApB,KACA,EAAkCnjB,mBAAS,MAA3C,mBAAOklB,EAAP,KAAkBE,EAAlB,KACA,EAAwCplB,oBAAS,GAAjD,mBAAOokB,EAAP,KAAqBhB,EAArB,KACMgQ,EAAkB32B,uBAAY,kBAAM6mB,GAAiB,SAAC/c,GAAD,OAAOA,EAAI,OAAI,IAyD1E,OAvDA8Q,GACEiT,EAAYZ,YACZxW,EACAhE,EACAkE,EACAC,EACAiX,EAAYnV,YAEd1E,GACE6Z,EACAC,EACArb,EACAikB,EACAC,GAEFngB,GAAqBC,EAAahE,EAAQob,EAAaC,GACvD9N,GAAgB6N,EAAaC,EAAgBrb,GAC7CuP,GAAgB6L,EAAYZ,YAAaa,EAAgBrb,GACzDwS,GACE4I,EACAC,EACArb,EACAikB,EACAC,GAEFnQ,GACEqH,EAAYZ,YACZxG,EACAC,EACA,SACArjB,EACAsjB,EACAC,EACAC,GAEF8C,GACElX,EACAgW,EACAE,EACA+N,EACAC,EACAtrB,EACAyiB,GAEFxD,GAAiB7X,EAAQob,GACzBpG,GACExmB,EACAwR,EACAzC,EACA4W,EACA8P,EACAC,EACAhP,GAIA,sBAAK3lB,UAAWxB,KAAOo2B,gBAAiB7vB,GAAG,kBAA3C,UACE,qBAAK/E,UAAWxB,KAAOumB,OAAvB,SACE,wBAAQhgB,GAAG,aAEZ8mB,EAAYtN,YAAc,cAAC,GAAD,CAAS9N,OAAQA,IAAa,KACzD,cAAC,GAAD,CACEA,OAAQA,EACRgE,YAAaA,EACbiS,MAAOgO,EACP/jB,SAAUgkB,EACVlO,UAAWA,EACXE,aAAcA,EACdtd,UAAWA,EACXqH,SAAUob,QCrGZ+I,GAAe,CACnBle,UAAU,EACVud,gBAAiB,MAGbY,GAAU,SAACtkB,EAAOukB,GACtB,OAAQA,EAAO/1B,MACb,IAAK,cACH,OAAO,2BAAKwR,GAAZ,IAAmBmG,SAAUoe,EAAOnwB,OACtC,IAAK,qBACH,OAAO,2BAAK4L,GAAZ,IAAmB0jB,gBAAiBa,EAAOnwB,OAE7C,QACE,OAAO4L,IASEwkB,GALO,WACpB,MAAoCC,qBAAWH,GAASD,IAAxD,mBACA,MAAO,CADP,Y,wCCGIjM,GAAU,CACd,CACEsM,KAAM,YACNrrB,KAAM,iBACNsrB,SAAU,CAAE9oB,MAAO,aAErB,CACE6oB,KAAM,SACNrrB,KAAM,aACNsrB,SAAU,CAAE9oB,MAAO,aAErB,CACE6oB,KAAM,WACNrrB,KAAM,gBACNsrB,SAAU,CAAE9oB,MAAO,eA2CR+oB,GAvCQ,WACrB,MAAwC1gB,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACfvD,EAAe,SAACtqB,GACpB,IAAI8G,EAAK9G,EAAEkS,cAAcpL,GACzB,EAzCoB,SAACswB,EAAcC,EAAevwB,GACpD,IAAIsH,EAAQgpB,EACRnkB,EAASokB,EACT/V,EAAS,WAab,MAZW,cAAPxa,GAEFmM,EAAkB,GADlB7E,EAAkB,GAAT6E,EAAe,GACD,GACvBqO,EAASxa,GACO,WAAPA,GACNmM,EAAS7E,EAAOA,EAAQ6E,EACrBA,EAAS7E,EACfkT,EAASxa,GACO,aAAPA,IACTsH,EAAkB,EAAT6E,EAAc,GACvBqO,EAASxa,GAEJ,CAAEsH,QAAO6E,SAAQqO,UAyBUgW,CAC9B1J,EAAYZ,YAAYoK,aACxBxJ,EAAYZ,YAAYqK,cACxBvwB,GAHIsH,EAAN,EAAMA,MAAO6E,EAAb,EAAaA,OAAQqO,EAArB,EAAqBA,OAKrBuM,EAAe,CAAE9sB,KAAM,eAAgB4F,KAAM,CAAEyH,QAAO6E,SAAQqO,YAC9DuM,EAAe,CAAE9sB,KAAM,sBAAuB4F,MAAM,KAGtD,OACE,qBAAK5E,UAAWxB,KAAOg3B,SAAvB,SACE,oBAAIx1B,UAAWxB,KAAOi3B,YAAtB,SACG7M,GAAQ1d,KAAI,SAACqW,GACZ,OACE,qBAEExc,GAAIwc,EAAK2T,KACTl1B,UAAW,CACTxB,KAAOk3B,WACP7J,EAAYZ,YAAY1L,SAAWgC,EAAK2T,KACpC12B,KAAO+qB,QACP,MACJ5c,KAAK,KACPvM,QAASmoB,EATX,UAWE,mBAAGvoB,UAAWxB,KAAOm3B,eAArB,SAAsCpU,EAAK1X,OAC3C,qBAAK7J,UAAWxB,KAAOo3B,cAAe90B,MAAOygB,EAAK4T,aAX7C5T,EAAK2T,c,qBC1BTW,GA9BE,SAACC,GAChB,MAAwCphB,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eAuBrB,OACE,qBAAK9rB,UAAWxB,KAAOq3B,SAAUz1B,QAtBd,SAACnC,GACpB,GAAoB,aAAhBA,EAAEyM,OAAO3F,GAAmB,CAC9B,IAAIgxB,EAAa,GACblK,EAAYmK,gBAAiBD,EAAa,qBACrClK,EAAYoK,gBAAiBF,EAAa,qBAC1ClK,EAAYqK,oBACnBH,EAAa,yBACNlK,EAAY1Z,mBACnB4jB,EAAa,wBACNlK,EAAYsK,iBAAkBJ,EAAa,sBAC3ClK,EAAYuK,wBACnBL,EAAa,6BACNlK,EAAYwK,eAAgBN,EAAa,oBACzClK,EAAYyK,uBACnBP,EAAa,4BACNlK,EAAY0K,qBACnBR,EAAa,yBACfjK,EAAe,CAAE9sB,KAAM+2B,EAAYnxB,MAAM,MAKaG,GAAG,WAA3D,SACG+wB,EAAMzwB,YlE5BTmxB,GAAY,CAAC,QAAS,WAE1B,SAASC,KAA2Q,OAA9PA,GAAWrY,OAAOsY,QAAU,SAAUhsB,GAAU,IAAK,IAAI5C,EAAI,EAAGA,EAAI6uB,UAAU5uB,OAAQD,IAAK,CAAE,IAAI8uB,EAASD,UAAU7uB,GAAI,IAAK,IAAIwW,KAAOsY,EAAcxY,OAAOyY,UAAUC,eAAeC,KAAKH,EAAQtY,KAAQ5T,EAAO4T,GAAOsY,EAAOtY,IAAY,OAAO5T,IAA2BssB,MAAMC,KAAMN,WAEhT,SAASO,GAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEtY,EAAKxW,EAAnE4C,EAEzF,SAAuCksB,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DtY,EAAKxW,EAA5D4C,EAAS,GAAQ0sB,EAAahZ,OAAO8R,KAAK0G,GAAqB,IAAK9uB,EAAI,EAAGA,EAAIsvB,EAAWrvB,OAAQD,IAAOwW,EAAM8Y,EAAWtvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,IAAa5T,EAAO4T,GAAOsY,EAAOtY,IAAQ,OAAO5T,EAFxM2sB,CAA8BT,EAAQO,GAAuB,GAAI/Y,OAAOkZ,sBAAuB,CAAE,IAAIC,EAAmBnZ,OAAOkZ,sBAAsBV,GAAS,IAAK9uB,EAAI,EAAGA,EAAIyvB,EAAiBxvB,OAAQD,IAAOwW,EAAMiZ,EAAiBzvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,GAAkBF,OAAOyY,UAAUW,qBAAqBT,KAAKH,EAAQtY,KAAgB5T,EAAO4T,GAAOsY,EAAOtY,IAAU,OAAO5T,EAMne,SAAS+sB,GAAaC,EAAMC,GAC1B,IAAIxyB,EAAQuyB,EAAKvyB,MACbyyB,EAAUF,EAAKE,QACf9B,EAAQoB,GAAyBQ,EAAMlB,IAE3C,OAAoB,gBAAoB,MAAOC,GAAS,CACtDpqB,MAAO,GACP6E,OAAQ,GACR2mB,QAAS,YACTxmB,KAAM,OACNymB,MAAO,6BACP53B,IAAKy3B,EACL,kBAAmBC,GAClB9B,GAAQ3wB,EAAqB,gBAAoB,QAAS,CAC3DJ,GAAI6yB,GACHzyB,GAAS,KAAM9H,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3E06B,EAAG,4KACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,WACb36B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEy6B,EAAG,iMACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,WACb16B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEw6B,EAAG,uLACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,WACbz6B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEu6B,EAAG,4MACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,YAIpB,ImEtDI,GAAO,GnEsDPC,GAA0B,aAAiBT,ImEpD3C,InEqDW,ImErDC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWrZ,OAAOsY,QAAU,SAAUhsB,GAAU,IAAK,IAAI5C,EAAI,EAAGA,EAAI6uB,UAAU5uB,OAAQD,IAAK,CAAE,IAAI8uB,EAASD,UAAU7uB,GAAI,IAAK,IAAIwW,KAAOsY,EAAcxY,OAAOyY,UAAUC,eAAeC,KAAKH,EAAQtY,KAAQ5T,EAAO4T,GAAOsY,EAAOtY,IAAY,OAAO5T,IAA2BssB,MAAMC,KAAMN,WAEhT,SAAS,GAAyBC,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEtY,EAAKxW,EAAnE4C,EAEzF,SAAuCksB,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DtY,EAAKxW,EAA5D4C,EAAS,GAAQ0sB,EAAahZ,OAAO8R,KAAK0G,GAAqB,IAAK9uB,EAAI,EAAGA,EAAIsvB,EAAWrvB,OAAQD,IAAOwW,EAAM8Y,EAAWtvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,IAAa5T,EAAO4T,GAAOsY,EAAOtY,IAAQ,OAAO5T,EAFxM,CAA8BksB,EAAQO,GAAuB,GAAI/Y,OAAOkZ,sBAAuB,CAAE,IAAIC,EAAmBnZ,OAAOkZ,sBAAsBV,GAAS,IAAK9uB,EAAI,EAAGA,EAAIyvB,EAAiBxvB,OAAQD,IAAOwW,EAAMiZ,EAAiBzvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,GAAkBF,OAAOyY,UAAUW,qBAAqBT,KAAKH,EAAQtY,KAAgB5T,EAAO4T,GAAOsY,EAAOtY,IAAU,OAAO5T,EAMne,SAASytB,GAAUT,EAAMC,GACvB,IAAIxyB,EAAQuyB,EAAKvyB,MACbyyB,EAAUF,EAAKE,QACf9B,EAAQ,GAAyB4B,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDrrB,MAAO,GACP6E,OAAQ,GACR2mB,QAAS,YACTxmB,KAAM,OACNymB,MAAO,6BACP53B,IAAKy3B,EACL,kBAAmBC,GAClB9B,GAAQ3wB,EAAqB,gBAAoB,QAAS,CAC3DJ,GAAI6yB,GACHzyB,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E4yB,EAAG,2LACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,WACb,KAAW,GAAsB,gBAAoB,OAAQ,CAChEF,EAAG,yNACHzmB,OAAQ,QACRC,YAAa,GACbymB,cAAe,QACfC,eAAgB,YAIpB,IC1CI,GD0CA,GAA0B,aAAiBE,ICxC3C,IDyCW,ICzCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAW/Z,OAAOsY,QAAU,SAAUhsB,GAAU,IAAK,IAAI5C,EAAI,EAAGA,EAAI6uB,UAAU5uB,OAAQD,IAAK,CAAE,IAAI8uB,EAASD,UAAU7uB,GAAI,IAAK,IAAIwW,KAAOsY,EAAcxY,OAAOyY,UAAUC,eAAeC,KAAKH,EAAQtY,KAAQ5T,EAAO4T,GAAOsY,EAAOtY,IAAY,OAAO5T,IAA2BssB,MAAMC,KAAMN,WAEhT,SAAS,GAAyBC,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEtY,EAAKxW,EAAnE4C,EAEzF,SAAuCksB,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DtY,EAAKxW,EAA5D4C,EAAS,GAAQ0sB,EAAahZ,OAAO8R,KAAK0G,GAAqB,IAAK9uB,EAAI,EAAGA,EAAIsvB,EAAWrvB,OAAQD,IAAOwW,EAAM8Y,EAAWtvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,IAAa5T,EAAO4T,GAAOsY,EAAOtY,IAAQ,OAAO5T,EAFxM,CAA8BksB,EAAQO,GAAuB,GAAI/Y,OAAOkZ,sBAAuB,CAAE,IAAIC,EAAmBnZ,OAAOkZ,sBAAsBV,GAAS,IAAK9uB,EAAI,EAAGA,EAAIyvB,EAAiBxvB,OAAQD,IAAOwW,EAAMiZ,EAAiBzvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,GAAkBF,OAAOyY,UAAUW,qBAAqBT,KAAKH,EAAQtY,KAAgB5T,EAAO4T,GAAOsY,EAAOtY,IAAU,OAAO5T,EAMne,SAAS0tB,GAAaV,EAAMC,GAC1B,IAAIxyB,EAAQuyB,EAAKvyB,MACbyyB,EAAUF,EAAKE,QACf9B,EAAQ,GAAyB4B,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDrrB,MAAO,GACP6E,OAAQ,GACR2mB,QAAS,YACTxmB,KAAM,OACNymB,MAAO,6BACP53B,IAAKy3B,EACL,kBAAmBC,GAClB9B,GAAQ3wB,EAAqB,gBAAoB,QAAS,CAC3DJ,GAAI6yB,GACHzyB,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EkzB,SAAU,UACVC,SAAU,UACVP,EAAG,wHACH1mB,KAAM,cAIV,ICnCI,GAAO,GAAQ,GAAQ,GAAQknB,GAAQC,GAAQC,GDmC/C,GAA0B,aAAiBL,IEqEhCM,IFpEA,IE1BO,WACpB,MAAwChkB,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAA8BvqB,mBAC5BsqB,EAAYZ,YAAY/K,iBAD1B,mBAAO0K,EAAP,KAAgBD,EAAhB,KAGMgO,EAAqB96B,iBAAO,MAC5B+6B,EAAgB/6B,iBAAO,MACvBg7B,EAAoBh7B,iBAAO,MAC3B0qB,EAAe,SAACtqB,GACpB,IAAK4tB,EAAYnI,gBAAiB,CAC5BmI,EAAYnV,YACdoV,EAAe,CAAE9sB,KAAM,gBAAiB4F,MAAM,IAEhD,IAAIG,EAAK9G,EAAEkS,cAAcpL,GACd,WAAPA,EACF+mB,EAAe,CAAE9sB,KAAM,sBAAuB4F,MAAM,IACpC,YAAPG,GACT+mB,EAAe,CAAE9sB,KAAM,6BAA8B4F,MAAM,MAiBjE,OAJAhF,qBAAU,WACR+4B,EAAmBt6B,QAAQyC,MAAM6qB,WAAaf,IAC7C,CAACA,IAGF,sBAAK5qB,UAAWxB,KAAOk6B,cAAvB,UACE,sBACE14B,UAAWxB,KAAOs6B,mBAClB/zB,GAAG,YACH3E,QAASmoB,EAHX,UAKE,cAAC,GAAD,IACA,mBAAGvoB,UAAWxB,KAAOu6B,WAArB,0BAEF,qBAAK/4B,UAAWxB,KAAOivB,YACvB,sBACEztB,UAAWxB,KAAOw6B,gBAClBj0B,GAAG,SACH3E,QAASmoB,EAHX,UAKE,cAAC,GAAD,IACA,mBAAGvoB,UAAWxB,KAAOu6B,WAArB,uBAEF,qBAAK/4B,UAAWxB,KAAOivB,YACvB,sBAAKztB,UAAWxB,KAAO0zB,cAAentB,GAAG,OAAO3E,QAASmoB,EAAzD,UACE,cAAC,GAAD,IACA,mBAAGvoB,UAAWxB,KAAOu6B,WAArB,qBAEF,qBAAK/4B,UAAWxB,KAAOivB,YACvB,sBACEztB,UAAWxB,KAAOy6B,eAClBl0B,GAAG,UACH3E,QAASmoB,EAHX,UAKE,qBAAKvoB,UAAWxB,KAAOwvB,kBAAvB,SACE,qBAAK9tB,IAAKy4B,EAAoB34B,UAAWxB,KAAOyvB,gBAElD,mBAAGjuB,UAAWxB,KAAOu6B,WAArB,iCAEDlN,EAAYsK,iBACX,qCACE,cAAC,GAAD,IACA,qBAAKn2B,UAAWxB,KAAO42B,eAAgBl1B,IAAK24B,EAA5C,SACE,cAAC,GAAD,SAGF,KAEHhN,EAAYuK,wBACX,qCACE,cAAC,GAAD,IACA,qBAAKp2B,UAAWxB,KAAO06B,uBAAwBh5B,IAAK04B,EAApD,SACE,cAAC,KAAD,CACEpO,MAAOI,EACP5pB,SAAU,SAACsT,GAAD,OAAOqW,EAAWrW,EAAE6W,MAC9BC,iBA/DuB,SAAC9W,GAClC,GAAIqkB,EAAmBt6B,QAAS,CAC9B,IAAIktB,EAAW,eAAWjX,EAAE6W,IAAIK,EAAjB,aAAuBlX,EAAE6W,IAAIM,EAA7B,aAAmCnX,EAAE6W,IAAIO,EAAzC,aAA+CpX,EAAE6W,IAAI1mB,EAArD,KACfk0B,EAAmBt6B,QAAQyC,MAAM6qB,WAAaJ,EAC9CO,EAAe,CAAE9sB,KAAM,2BAA4B4F,KAAM2mB,aA+DrD,UCnGK,OAA0B,iCCA1B,OAA0B,kCC0E1B4N,GA7CU,SAAC3oB,EAAOE,EAAU0oB,GACzC,IACMC,EAAcr7B,uBAAY,WAC9B,MA7BkB,SAACwS,GACrB,IACI8oB,EAAY,IACK,WAAjB9oB,EAAM+O,SAAqB+Z,EAAY,KAK3C,IAAIjtB,EAAQmE,EAAM+oB,eACdroB,EAAUV,EAAM4O,YAAc/S,EAASmE,EAAM2O,WAcjD,OAXI9S,EAAQ6E,EACN7E,EAZS,MAaX6E,EAbW,IAaDA,EAAqB7E,EAC/BA,EAdW,KAiBT6E,EAASooB,IACXjtB,EAASA,EAAQitB,EAAapoB,EAC9BA,EAASooB,GAGN,CAAEjtB,QAAO6E,UAMUsoB,CAAchpB,GAAhCnE,EAAN,EAAMA,MAAO6E,EAAb,EAAaA,OAIb,OAHoBkoB,EAAa/6B,QAAQyC,MAAM24B,UAA3CptB,EAAQ6E,EAA+C,OACf,OAC5B7E,EAAQ,IACL,CAAEA,QAAO6E,UAAW,KACtC,CAACkoB,EAAc5oB,IAEZkpB,EAAe17B,uBAAY,WAC/B,MCxC4B,SAACo7B,EAAcO,GAC7C,IAAIJ,EACFK,OAAOC,WAAaT,EAAa/6B,QAAQy7B,WAAaH,EACpDI,EAAkBX,EAAa/6B,QAAQw0B,aAK3C,OAJI0G,EAAiB,MACnBQ,EAAqC,IAAlBA,EAAyBR,EAC5CA,EAAiB,KAEZ,CAAEA,iBAAgBQ,mBDgCmBC,CACxCZ,EAXqB,IAUjBG,EAAN,EAAMA,eAAgBQ,EAAtB,EAAsBA,gBAItBrpB,EAAS,CACP1R,KAAM,mBACN4F,KAAM,CAAEyH,MAAOktB,EAAgBroB,OAAQ6oB,OAExC,CAACrpB,EAAU0oB,IAEdx5B,qBAAU,WACR,GAAI4Q,EAAM6kB,aAAe,GAAK7kB,EAAMypB,+BAA2B,CAC7DvpB,EAAS,CAAE1R,KAAM,oCAAgC4F,MAAM,IACvD,MAAwBy0B,IAAlBhtB,EAAN,EAAMA,MAAO6E,EAAb,EAAaA,OAET7E,GACFqE,EAAS,CACP1R,KAAM,gBACN4F,KAAM,CAAEyH,QAAO6E,eAIpB,CAACR,EAAU2oB,EAAa7oB,IAE3B5Q,qBAAU,WACR85B,MACC,CAACA,IAEJ95B,qBAAU,WAER,OADAg6B,OAAO95B,iBAAiB,SAAU45B,GAC3B,kBAAME,OAAO75B,oBAAoB,SAAU25B,MACjD,CAACA,KEmBSQ,GAxFO,SACpB3sB,EACAI,EACApK,EACA+J,EACAU,EACAmsB,EACAzsB,EACA3E,EACAsE,EACA/D,EACA8wB,EACA/wB,GAEA,IAAMnC,EAAkBlJ,uBACtB,SAACq8B,GACC,GAAI1sB,EAAU5F,OAAS,GAAK4F,EAAUwsB,GAAe,CAEnD,IAAIG,GADJD,GAAQA,EAAO,OACc1sB,EAAUwsB,GAAc/xB,MACjDmyB,EAAcF,IAAS1sB,EAAUwsB,GAAc9xB,IAC/CmyB,GACD7sB,EAAUwsB,GAAc9xB,IAAMsF,EAAUwsB,GAAc/xB,OACrD,KAAQkyB,GACPA,GAAiBC,GAAgBC,KACpCjtB,EAASlP,QAAQ2P,aAAeL,EAAUwsB,GAAc9xB,IAMpDsF,EAAUwsB,EAAe,GAAIzsB,EAAgBysB,EAAe,GAC3DzsB,EAAgB,UAI3B,CAACC,EAAWwsB,EAAc5sB,EAAUG,IAGhC+sB,EAAoBz8B,uBACxB,SAACq8B,EAAMK,GACLL,GAAQA,EAAO,IACf,IAAIryB,EAAOzE,EAAMm3B,GACbC,EAAWp3B,EAAMm3B,EAAQ,GAI7B,GAAc,OAAVA,GAAkBC,GAAYN,GAAQryB,EAAKK,IAAK,CAClD,IAAImyB,GAAexyB,EAAKK,IAAML,EAAKI,OAAS,MAASkF,EAChDktB,GAAgBG,EAAS1yB,QAA4B,OAAlB0yB,EAASzyB,KAErCsyB,GACVntB,GAAoB,SAACpL,GAAD,OAAeA,EAAY,KAF/CoL,EAAoBstB,EAASzyB,SAMnC,CAACoF,EAAW/J,EAAO8J,IAGfutB,EAAmB58B,uBACvB,SAACq8B,EAAMrtB,GACLqtB,GAAQA,EAAO,IACf,IAAIQ,EAAU7tB,EAAI9E,KAId8E,GAAO6tB,GAAWR,GAAQrtB,EAAIjD,IAAI1B,MAChCwyB,EAAQ9wB,IAAI9B,OAAQmyB,GAAc,SAAAn4B,GAAS,OAAIA,EAAUiG,QACxDkyB,EAAcS,EAAQA,YAG/B,CAACT,IAGHx6B,qBAAU,WACJ0N,GAAajE,GAAaC,GAA8B,OAAhB0E,GAC1C4sB,EAAiB5sB,EAAa1E,KAE/B,CAACgE,EAAWjE,EAAW2E,EAAa4sB,EAAkBtxB,IAEzD1J,qBAAU,WACY,OAAhBoO,GAAsBysB,EAAkBzsB,EAAajF,KACxD,CAACiF,EAAaysB,EAAmB1xB,IAEpCnJ,qBAAU,WACY,OAAhBoO,GAAsB9G,EAAgB8G,KACzC,CAACA,EAAa9G,K,oBCvFb4zB,GACJ,WAAY/wB,GAAM,qBAChBktB,KAAKltB,IAAMA,EACXktB,KAAK/uB,KAAO,MAIH6yB,GAAb,WACE,aAAe,qBACb9D,KAAKlqB,KAAO,KACZkqB,KAAK+D,KAAO,KACZ/D,KAAKlvB,OAAS,EAJlB,yCAOE,SAAKgC,GACH,IAAIkxB,EAAU,IAAIH,GAAK/wB,GASvB,OARKktB,KAAKlqB,MAIRkqB,KAAK+D,KAAK9yB,KAAO+yB,EACjBhE,KAAK+D,KAAOC,IAJZhE,KAAKlqB,KAAOkuB,EACZhE,KAAK+D,KAAOC,GAKdhE,KAAKlvB,SACEkvB,KAAKlvB,SAjBhB,iBAoBE,WACE,IAAKkvB,KAAKlqB,KAAM,OAAO,KAGvB,IAFA,IAAI1O,EAAU44B,KAAKlqB,KACfmuB,EAAU78B,EACPA,EAAQ6J,MACbgzB,EAAU78B,EACVA,EAAUA,EAAQ6J,KAWpB,OAToB,IAAhB+uB,KAAKlvB,QACPkvB,KAAKlqB,KAAO,KACZkqB,KAAK+D,KAAO,OAEZ/D,KAAK+D,KAAOE,EACZjE,KAAK+D,KAAK9yB,KAAO,MAEnB+uB,KAAKlvB,SAEE1J,IArCX,mBAwCE,WACE,IAAK44B,KAAKlqB,KAAM,OAAO,KACvB,IAAIouB,EAAOlE,KAAKlqB,KAKhB,OAJAkqB,KAAKlqB,KAAOkqB,KAAKlqB,KAAK7E,KACtBizB,EAAKjzB,KAAO,KACZ+uB,KAAKlvB,SACe,IAAhBkvB,KAAKlvB,SAAckvB,KAAK+D,KAAO,MAC5BG,IA/CX,qBAkDE,SAAQpxB,GACN,IAAIkxB,EAAU,IAAIH,GAAK/wB,GAKvB,OAJKktB,KAAKlqB,KACLkuB,EAAQ/yB,KAAO+uB,KAAKlqB,KADTkqB,KAAK+D,KAAOC,EAE5BhE,KAAKlqB,KAAOkuB,EACZhE,KAAKlvB,SACEkvB,OAxDX,iBA2DE,SAAImE,GACF,GAAIA,EAAM,GAAKA,GAAOnE,KAAKlvB,OAAQ,OAAO,KAE1C,IADA,IAAI1J,EAAU44B,KAAKlqB,KACVjF,EAAI,EAAGA,GAAKszB,EAAKtzB,IAAK,CAC7B,GAAIA,IAAMszB,EAAK,OAAO/8B,EACtBA,EAAUA,EAAQ6J,QAhExB,iBAoEE,SAAIkzB,EAAKrxB,GACP,IAAIoxB,EAAOlE,KAAKoE,IAAID,GACpB,QAAID,IACFA,EAAKpxB,IAAMA,GACJ,KAxEb,oBA4EE,SAAOqxB,EAAKrxB,GACV,GAAIqxB,EAAM,GAAKA,EAAMnE,KAAKlvB,OAAQ,OAAO,EACzC,GAAY,IAARqzB,EAAW,QAASnE,KAAKqE,QAAQvxB,GACrC,GAAIqxB,IAAQnE,KAAKlvB,OAAQ,QAASkvB,KAAK9uB,KAAK4B,GAC5C,IAAIkxB,EAAU,IAAIH,GAAK/wB,GACnB1L,EAAU44B,KAAKoE,IAAID,EAAM,GAI7B,OAHAH,EAAQ/yB,KAAO7J,EAAQ6J,KACvB7J,EAAQ6J,KAAO+yB,EACfhE,KAAKlvB,UACE,IArFX,oBAwFE,SAAOqzB,GACL,GAAIA,EAAM,GAAKA,GAAOnE,KAAKlvB,OAAQ,OAAO,EAC1C,GAAY,IAARqzB,EAAW,QAASnE,KAAKsE,QAC7B,GAAIH,IAAQnE,KAAKlvB,OAAS,EAAG,QAASkvB,KAAKuE,MAC3C,IAAIn9B,EAAU44B,KAAKoE,IAAID,EAAM,GAG7B,OAFA/8B,EAAQ6J,KAAO7J,EAAQ6J,KAAKA,KAC5B+uB,KAAKlvB,UACE,IA/FX,qBAkGE,WAA0C,IAAlC0zB,EAAiC,uDAA3B,KAAMp9B,EAAqB,uDAAX44B,KAAKlqB,KACjC,GAAIkqB,KAAKlvB,QAAU,EAAG,OAAOkvB,KAC7B,IAAIyE,EAAWr9B,EAAQ6J,KAOvB,OANKuzB,IACHxE,KAAK+D,KAAO/D,KAAKlqB,KACjBkqB,KAAK+D,KAAK9yB,KAAO,MAEnB7J,EAAQ6J,KAAOuzB,EACfA,EAAMp9B,EACgB,OAAlBq9B,EAASxzB,MACX+uB,KAAKlqB,KAAO2uB,EACZzE,KAAKlqB,KAAK7E,KAAOuzB,EACVxE,MAEFA,KAAK0E,QAAQF,EAAKC,OAhH7B,KCuEeE,GAzEM,SACnBprB,EACAC,EACApH,EACAwyB,EACAt4B,EACAsJ,EACAivB,EACAxyB,EACA8wB,EACArxB,EACA4E,EACAouB,EACAxyB,EACA+D,EACAC,GAEA3N,qBAAU,WACJyJ,GAAaC,IACXyyB,GAAmBxyB,GAAqB,GCKxB,SAACF,EAAWC,GACpC,GAAIA,EAAWS,IAAIG,QAASb,EAAUkb,SAAU,OAC3C,GAAIjb,EAAWS,IAAI9B,OAAQ,CAE9B,IADA,IAAI4B,EAAO,GACF/B,EAAI,EAAGA,EAAIwB,EAAWS,IAAIxG,MAAMwE,OAAQD,IAE/C+B,GADWP,EAAWS,IAAIxG,MAAMuE,GACnB+B,KAEfR,EAAU2T,IAAI,CAAEnT,OAAM0a,SAAS,KDZ7ByX,CAAW3yB,EAAWC,MAEvB,CAACD,EAAWC,EAAYyyB,EAAmBxyB,EAAsBsD,IAEpEjN,qBAAU,WACR,GAAIiN,IAAYS,EAAW,CACzB,IAAIN,EAAMJ,GAAqB7D,EAAkBxF,EAAOsJ,GAC5C,OAARG,GAAcotB,EAAcptB,MAEjC,CAACH,EAASutB,EAAe72B,EAAOwF,EAAkBuE,IAErD1N,qBAAU,WACJyJ,GAAasE,GEnCY,SAACpK,EAAO04B,GAqBvC,IApBA,IAAIC,EAAO,IAAInB,GACX/tB,EAAM,KACNmvB,EAAoB,KAElBC,EAAsB,SAACp0B,EAAMq0B,EAAOv0B,GACpCq0B,IACFD,EAAKb,IAAIc,GAAmBtB,QAAUqB,EAAKlB,KAU3CmB,EAAoB,OAIfr0B,EAAI,EAAGA,EAAIvE,EAAMwE,OAAQD,IAAK,CACrC,IAAIE,EAAOzE,EAAMuE,GACb6yB,EAAWp3B,EAAMuE,EAAI,GACzB,GAAKE,EAAKC,OAAV,CAkBA,IAAIq0B,EAASx0B,IAAMvE,EAAMwE,OAAS,EAC9Bw0B,GAAkBv0B,EAAKK,KAAOL,EAAKI,MAIvC,GAFIJ,EAAKkC,WACJ8C,GAAO2tB,IAAaA,EAAS1yB,QAAWs0B,GAAkB,IAEzDvvB,IACFkvB,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,MAIRkvB,EAAK/zB,KAAL,eAAeH,IACfo0B,SAEK,GAAIp0B,EAAKkC,QACV8C,GACFA,EAAI3E,KAAOL,EAAKK,IAChB2E,EAAIzJ,MAAM4E,KAAV,2BACKH,GADL,IAEE6B,KAAM,MAEJyyB,IACFJ,EAAK/zB,KAAK6E,GACVovB,OAIFpvB,EAAM,CACJzJ,MAAO,CAAC,2BAAKyE,GAAN,IAAY6B,KAAM,MACzBzB,MAAOJ,EAAKI,MACZC,IAAKL,EAAKK,IACVm0B,UAAW,EACXv0B,QAAQ,GAENq0B,IACFJ,EAAK/zB,KAAL,eAAeH,IACfo0B,UAtBC,CA6BP,IAAIK,IAAiBz0B,EAAK6B,KAAK6yB,MAAM,YAEjCC,EACM,OAAR3vB,GAAgBA,EAAIwvB,UAAYx0B,EAAK6B,KAAK9B,OAAS,EAAI,GAGzD,GAAI40B,GAAiBF,GAAgBzvB,EAAK,CACxC,IAAInD,EAAO,GACPmD,EAAIwvB,UAAY,IAAG3yB,EAAO,KAC9BA,GAAQ7B,EAAK6B,KACbmD,EAAIzJ,MAAM4E,KAAV,2BAAoBH,GAApB,IAA0B6B,UAC1BmD,EAAI3E,IAAML,EAAKK,IACf2E,EAAIwvB,WAAa3yB,EAAK9B,OACtBm0B,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,UAED,GAAIyvB,GAAgBzvB,EACzBkvB,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,CACJzJ,MAAO,CAAC,eAAKyE,IACbI,MAAOJ,EAAKI,MACZC,IAAKL,EAAKK,IACVm0B,UAAWx0B,EAAK6B,KAAK9B,OACrBE,QAAQ,GAEVi0B,EAAK/zB,KAAL,eAAe6E,IACfA,EAAM,UAED,GAAIyvB,EACTzvB,EAAM,CACJzJ,MAAO,CAAC,eAAKyE,IACbI,MAAOJ,EAAKI,MACZC,IAAKL,EAAKK,IACVm0B,UAAWx0B,EAAK6B,KAAK9B,OACrBE,QAAQ,GAEVi0B,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,UAED,GAAI2vB,EAAe,CACxB,IAAI9yB,EAAO,GACPmD,EAAIwvB,UAAY,IAAG3yB,EAAO,KAC9BA,GAAQ7B,EAAK6B,KACbmD,EAAIzJ,MAAM4E,KAAV,2BAAoBH,GAApB,IAA0B6B,UAC1BmD,EAAI3E,IAAML,EAAKK,IACf2E,EAAIwvB,WAAa3yB,EAAK9B,OAClBu0B,IACFJ,EAAK/zB,KAAK6E,GACVovB,UAGOpvB,GACTkvB,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,CACJzJ,MAAO,CAAC,eAAKyE,IACbI,MAAOJ,EAAKI,MACZC,IAAKL,EAAKK,IACVm0B,UAAWx0B,EAAK6B,KAAK9B,OACrBE,QAAQ,GAENq0B,GAAQJ,EAAK/zB,KAAK6E,KAGtBA,EAAM,CACJzJ,MAAO,CAAC,eAAKyE,IACbI,MAAOJ,EAAKI,MACZC,IAAKL,EAAKK,IACVm0B,UAAWx0B,EAAK6B,KAAK9B,OACrBE,QAAQ,GAENq0B,IACFJ,EAAK/zB,KAAK6E,GACVovB,YA1IEpvB,GACFkvB,EAAK/zB,KAAL,eAAe6E,IACfovB,IACApvB,EAAM,KACNkvB,EAAK/zB,KAAL,eAAeH,IACfm0B,EAAoBD,EAAKn0B,OAAS,IAGlCm0B,EAAK/zB,KAAL,eAAeH,IACVm0B,IACHA,EAAoBD,EAAKn0B,OAAS,IAsI1Ck0B,EAAQC,GFrIJU,CAAkBr5B,EAAOu4B,KAE1B,CAACzyB,EAAWsE,EAAWmuB,EAAYv4B,IAEtC3D,qBAAU,WACR,GAAI6Q,IAAWpH,GAAamH,EAAMqsB,YAAa,CACzCvvB,GAAWC,EAASlP,QAAQ+Q,QAChC,IAAIpC,EC3CiB,SAACyD,EAAQD,GAClC,IAAI+G,EAAO9G,EAAOgF,UACd2D,EAAc3I,EAAO+E,WAAa+B,EAClC+B,EAAe7I,EAAOiF,YAAc6B,EACpClL,EAAQ,IAAM+M,EAAc,EAAI,IAAMA,EAAc,EACpD0jB,EAAW,IAAIhsB,UAAOisB,mBAAmB,IAA9B,yBACb1wB,QACA2wB,SAAU,GACVrnB,SAAU,GACVsnB,YAAY,EAEZC,UAAU,EACVta,QAAS,SACTC,QAAS,SACTwI,UAAW,UACR7a,EAAM0N,gBAVI,IAWbnZ,GAAI,WACJge,mBAAmB,EACnBoa,QAAS,KACTC,SAAU,KACV7Y,SAAS,KAIX,OAFAuY,EAAS9rB,KAAOoI,EAAc,EAC9B0jB,EAAS7rB,IAAMqI,EAAewjB,EAAS5rB,OAAS4rB,EAASnnB,SAClDmnB,EDmBOO,CAAY5sB,EAAQD,GAC9BC,EAAOlS,IAAIyO,GACXyD,EAAOsB,mBACP8pB,EAAa7uB,QACJ3D,IAAcmH,EAAMqsB,cAC7BpsB,EAAO5R,OAAOwK,GACdwyB,EAAa,SAEd,CACDtuB,EACAD,EACAkD,EAAMqsB,YACNxzB,EACAwyB,EACAprB,EACAD,EACA3D,EACAtJ,EACAu4B,IAGFl8B,qBAAU,WAMR,OALI6Q,GAAUpH,GACZoH,EAAOsF,GAAG,gBAAgB,SAAC9X,GACzBwS,EAAOqW,aAAazd,MAGjB,WACDoH,GAAQA,EAAO8D,IAAI,mBAExB,CAAC9D,EAAQpH,KGoCCi0B,GAlGA,SAAC,GAsBT,IArBL/vB,EAqBI,EArBJA,SACAkD,EAoBI,EApBJA,OACAgU,EAmBI,EAnBJA,UACAnX,EAkBI,EAlBJA,UACA/J,EAiBI,EAjBJA,MACAyK,EAgBI,EAhBJA,YACAL,EAeI,EAfJA,UACAD,EAcI,EAdJA,gBACAL,EAaI,EAbJA,oBACA8sB,EAYI,EAZJA,aACApxB,EAWI,EAXJA,iBACA8D,EAUI,EAVJA,QACAivB,EASI,EATJA,WACAzyB,EAQI,EARJA,UACAwyB,EAOI,EAPJA,aACAvyB,EAMI,EANJA,WACA8wB,EAKI,EALJA,cACA2B,EAII,EAJJA,kBACAxyB,EAGI,EAHJA,qBACAqb,EAEI,EAFJA,SACAvjB,EACI,EADJA,KAEA,EAAwCqT,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAoCkJ,KAApC,mBAAOrgB,EAAP,KAAmBC,EAAnB,KACMwkB,EAAev7B,iBAAO,MAwC5B,OAnCAs7B,GAAiBtN,EAAYZ,YAAaa,EAAgBsN,GAE1Dc,GACE3sB,EACAI,EACApK,EACA+J,EACAU,EACAmsB,EACAzsB,EACA3E,EACAsE,EACA/D,EACA8wB,EACA/wB,GAGFuyB,GACE/P,EACApb,EACApH,EACAwyB,EACAt4B,EACAsJ,EACAivB,EACAxyB,EACA8wB,EACArxB,EACA4E,EACAouB,EACAxyB,EACA+D,EACAC,GAIA,qBAAKvN,UAAWxB,KAAO8+B,OAAQp9B,IAAKk5B,EAApC,SACE,cAAC,GAAamE,SAAd,CAAuB7xB,MAAO,CAAEiJ,aAAYC,iBAA5C,SACE,sBAAK5U,UAAWxB,KAAOg/B,cAAvB,UACE,cAAC,GAAD,CACE/sB,OAAQA,EACRgU,UAAWA,EACXxlB,MAAOsO,EAASlP,QAChBgL,UAAWA,EACX2E,YAAaA,EACb4W,SAAUA,EACVvjB,KAAMA,IAEPoP,EACC,qCACE,qBAAKzQ,UAAWxB,KAAOi/B,eAAvB,SACE,qBAAKz9B,UAAWxB,KAAOk/B,WAAYt9B,QAvDxB,WACnBkN,EAAWC,EAASlP,QAAQ+Q,QAC3B7B,EAASlP,QAAQs/B,QAqDV,SACGrwB,EACC,qBAAK/N,IAAKq+B,GAAUp9B,IAAI,UAExB,qBAAKjB,IAAKs+B,GAASr9B,IAAI,aAI7B,cAAC,GAAD,OAEA,a,qBCjBC6lB,GAlFD,SAAC,GAaR,IAZL9Y,EAYI,EAZJA,SACAuwB,EAWI,EAXJA,aACA10B,EAUI,EAVJA,iBACAoE,EASI,EATJA,oBACAC,EAQI,EARJA,eACAE,EAOI,EAPJA,UACApK,EAMI,EANJA,MACAmK,EAKI,EALJA,gBACAL,EAII,EAJJA,oBACA+sB,EAGI,EAHJA,cACAvtB,EAEI,EAFJA,QACAxL,EACI,EADJA,KAEQyqB,EAAmBpX,qBAAWrE,IAA9Byb,eACR,EAAoCvqB,mBAAS,MAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAEA/B,qBAAU,WACR,OAAO,WACD8B,GAAYG,cAAcH,MAE/B,CAACA,IA0BJ,OACE,uBACEnC,IAAK8B,EAAOA,EAAK4D,IAAM,KACvBF,GAAG,QACH3F,QAAQ,OACRY,UAAWxB,KAAO6nB,MAClBnmB,IAAKqN,EACL8W,UAAQ,EACR0Z,QAAS,kBCvCY,SAACD,EAAcp8B,GACxCo8B,GAAa,GACbj8B,cAAcH,GDqCKs8B,CAAYF,EAAcp8B,IACzCu8B,OAAQ,kBC3DY,SACxB70B,EACAoE,EACAswB,EACArwB,EACAF,EACA5L,GAEgBzC,SAAS6P,eACfN,kBACNrF,GAAkBoE,EAAoB,MAC1CswB,GAAa,GAKbn8B,EAJeK,aAAY,WAErBuL,EAASlP,SAASoP,EAAeF,EAASlP,QAAQ2P,eACrD,KD6CGkwB,CACE90B,EACAoE,EACAswB,EACArwB,EACAF,EACA5L,IAGJw8B,QAAS,kBC7CU,SACvBxwB,EACAD,EACAnK,EACA8J,EACAI,EACA2sB,EACAvtB,GAEIc,EAAU5F,OAAS,GAAG2F,EAAgB,GAC1C,IAAI1F,EAAOzE,EAAM,GACb+D,EAAY,EACZc,EAAQJ,EAAKI,MACZJ,EAAKC,QAAwB,OAAdD,EAAKE,OAEvBE,EAAQ7E,EADR+D,EAAYU,EAAKE,MACQE,OAE3BiF,EAAoB/F,GAGpB8yB,EAFUxtB,GAAqBtF,EAAW/D,EAAOsJ,IAGjDY,GAAgBrF,GDyBVg2B,CACEzwB,EACAD,EACAnK,EACA8J,EACAI,EACA2sB,EACAvtB,IAGJwxB,iBAtDiB,WACnB,IAAIhJ,EAAe9nB,EAASlP,QAAQ8gB,WAChCmW,EAAgB/nB,EAASlP,QAAQ+gB,YACrC0M,EAAe,CACb9sB,KAAM,uBACN4F,KAAM,CAAEywB,eAAcC,mBAExB,IAAI1wB,EAAO,GAETA,EADEvD,EAAKoP,QAAUpP,EAAKoP,OAAOpE,MACtB,CACLA,OAAQhL,EAAKoP,OAAOpE,MACpB6E,QAAS7P,EAAKoP,OAAOS,OACrBqO,OAAQle,EAAKoP,OAAO8O,QAGf,CACLlT,MAAOgpB,EACPnkB,OAAQokB,EACR/V,OAAQ,YAGZuM,EAAe,CAAE9sB,KAAM,eAAgB4F,a,qBEvCrC05B,GAAe,SAACr/B,EAAO6I,GAAR,MAAe,CAClC0G,SAAU,CACR8J,EAAGrZ,EAAM+R,KACTwH,EAAGvZ,EAAMgS,IACTiT,EAAGjlB,EAAMoN,MAAQpN,EAAMwT,OACvB0R,EAAGllB,EAAMiS,OAASjS,EAAMke,OACxBohB,EAAGz2B,EACH02B,KAAMv/B,EAAM4kB,YAIV4a,GAAgB,SAACC,EAAcryB,EAAO6E,EAAQ1J,EAAK+2B,GACvDG,EAAapf,YACb,IAAIxC,EAAQ4hB,EAAaC,UAAU,CACjCC,OAAQ,YACRC,QAAS,IAEXr3B,EAAIW,KAAK,CACP2U,QACAtO,SAAU,CACR8J,EAAG,EACHE,EAAG,EACH0L,EAAG7X,EACH8X,EAAGjT,EACHqtB,OAGJG,EAAavZ,QACbuZ,EAAaxe,gBAAkB,0BAG3B4e,GAAe,SAACJ,EAAcjuB,EAAQsuB,EAAaC,GACvD,IAAI3e,EAAU5P,EAAO+J,aACjBnO,EAAQoE,EAAO+E,WAAa/E,EAAOgF,UACnCvE,EAAST,EAAOiF,YAAcjF,EAAOgF,UACrCwpB,EAAY,GACZC,EAAc,GACdC,GAAU,EACVzE,EAAQ,EACZ+D,GAAcC,EAAcryB,EAAO6E,EAAQguB,EAAa,GACxD,IAAK,IAAIp3B,EAAI,EAAGA,EAAIuY,EAAQtY,OAAQD,IAAK,CACvC,IAAIma,EAAK5B,EAAQvY,GACjB,GAAgB,aAAZma,EAAGjjB,MAAuBmgC,EAC5BV,GAAcC,EAAcryB,EAAO6E,EAAQguB,EAAaxE,GACxDyE,GAAU,MACL,IAAgB,aAAZld,EAAGjjB,KAAqB,SAC9B,GAAgB,UAAZijB,EAAGjjB,KACNmgC,IACFV,GAAcC,EAAcryB,EAAO6E,EAAQguB,EAAaxE,GACxDA,IACAyE,GAAU,GAEZF,EAAU92B,KAAKm2B,GAAarc,EAAIyY,IAChCA,SACK,GAAgB,UAAZzY,EAAGjjB,MAAgC,aAAZijB,EAAGjjB,KAAqB,CACxD,IAAI4nB,EAAQ9V,UAAOkV,KAAKrS,OAAOiT,MAAM3E,GACrCyc,EAAangC,IAAIqoB,GACjBuY,GAAU,IAGVA,GAASV,GAAcC,EAAcryB,EAAO6E,EAAQguB,EAAaxE,GACrEsE,EAAa,CAAEI,YAAaH,IAC5BF,EAAYG,IAGDG,GAAa,uCAAG,WAAO5uB,EAAQsuB,EAAaC,GAA5B,eAAAv6B,EAAA,uDACvBi6B,EAAe,IAAI5tB,UAAOiU,QACjB1F,cAAc,CACzBhT,MAAOoE,EAAO+E,WAAa/E,EAAOgF,UAClCvE,OAAQT,EAAOiF,YAAcjF,EAAOgF,YAEtCipB,EAAaxe,gBAAkBzP,EAAOyP,gBACtC4e,GAAaJ,EAAcjuB,EAAQsuB,EAAaC,GAPrB,2CAAH,0DCvEXM,GAJI,kBACjBj9B,KAAKk9B,SAASC,SAAS,IAAIC,UAAU,EAAG,IACxCp9B,KAAKk9B,SAASC,SAAS,IAAIC,UAAU,EAAG,KCgB3BC,GAlBG,SAAClV,GACjB,IAAIW,EAAMX,EACLmV,QAAQ,MAAO,IACfjD,MAAM,2CACTkD,GAAUzU,GAAOA,EAAI,IAAO,IAAItgB,OAChCg1B,EAAM1U,GACS,IAAVA,EAAI,IAAeqU,SAAS,IAAIM,MAAM,IAC5B,IAAV3U,EAAI,IAAeqU,SAAS,IAAIM,MAAM,IAC5B,IAAV3U,EAAI,IAAeqU,SAAS,IAAIM,MAAM,GACvCtV,EAEF/lB,EAAc,KAAVm7B,EAAeA,EAAQ,KAI/B,OADAC,GADAp7B,GAAW,KAAJA,EAAY,KAAS+6B,SAAS,IAAIM,MAAM,ICsCpCC,GAAc,SAAClzB,EAAS8G,EAAQqsB,EAAU/D,GACrD,IAAIgE,EA7Be,SAACtsB,EAAQqsB,GAC5B,IAAIzoB,EAAO5D,EAAOlD,OAAOgF,UACrBpJ,EAAQsH,EAAOlD,OAAO+E,WAAa+B,EACnCrG,EAASyC,EAAOlD,OAAOiF,YAAc6B,EAGzC,MAAO,CACLe,EAHqB,IAAd3E,EAAO3C,KAAc3E,EAI5BmM,EAHoB,IAAb7E,EAAO1C,IAAaC,EAI3B7E,QACA6E,SACAuK,YAAa9H,EAAOtH,MACpBmP,aAAc7H,EAAOzC,OACrBgvB,YAAavsB,EAAO3C,KACpBmvB,YAAaxsB,EAAO1C,IACpBA,IAAK0C,EAAOC,WAAWmf,GAAGva,EAC1BxH,KAAM2C,EAAOC,WAAWmf,GAAGza,EAC3ByH,SAAUigB,EAASjgB,SACnBqgB,UAAWC,GAAUL,EAAS3uB,MAC9ByM,WAAYkiB,EAASliB,WACrBoC,gBAAiBmgB,GAAUL,EAAS9f,iBACpCmL,UAAW,SACXpY,QAA6B,IAApBU,EAAOgC,SAAiBhC,EAAOgC,SAAW,EAAI,EACvD6W,WAAYwT,EAASxT,WACrBE,UAAWsT,EAAStT,WAKT4T,CAAa3sB,EAAQqsB,GAClCt7B,QAAQC,IAAIs7B,GAQZ,IANA,IAAIM,EAAc,EACdC,EAAY,EACZ/4B,GAAgB,EAChB3C,EAAW,GAEXgI,EAAUD,EAAQE,KACbjF,EAAI,EAAGA,EAAI+E,EAAQ9E,OAAQD,IAAK,CACvC,IAAIkF,EAAMF,EAAQ/C,IAClB,GAAIiD,EAAI/E,QAAUR,EAAe,CAC/B,IAAIzC,EAAMy7B,KACVh5B,GAAgB,EAChB3C,EAASqD,KAAK,CACZC,MAAOm4B,EACPl4B,IAAKm4B,EACLv4B,QAAQ,EACRiC,SAAS,EACTlF,aAEQgI,EAAI/E,QAAWR,GAIfuF,EAAI/E,QAAUR,IACxB+4B,EAAYxzB,EAAI3E,MAJhBZ,GAAgB,EAChB84B,EAAcvzB,EAAI5E,MAClBo4B,EAAYxzB,EAAI3E,KAKlB,GAAI2E,EAAI9C,SAAW8C,EAAI/E,OAAQ,CAC7B,IAAIjD,EAAMy7B,KACV37B,EAASqD,KAAK,CACZC,MAAO4E,EAAI5E,MACXC,IAAK2E,EAAI3E,IACT6B,SAAS,EACTlF,MACAiD,QAAQ,SAEL,GAAI+E,EAAI/E,OAAQ,CAGrB,IAFA,IAAIjD,EAAMy7B,KACN52B,EAAO,GACF/B,EAAI,EAAGA,EAAIkF,EAAIzJ,MAAMwE,OAAQD,IAAK,CAEzC+B,GADWmD,EAAIzJ,MAAMuE,GACR+B,KAEf/E,EAASqD,KAAK,CACZC,MAAO4E,EAAI5E,MACXC,IAAK2E,EAAI3E,IACTwB,OACAK,SAAS,EACTjC,QAAQ,EACRjD,QAGJ8H,EAAUA,EAAQ5E,KAGpB,GAAIT,EAAe,CACjB,IAAIzC,EAAMy7B,KACV37B,EAASqD,KAAK,CACZC,MAAOm4B,EACPl4B,IAAKm4B,EACLv4B,QAAQ,EACRiC,SAAS,EACTlF,QAGJ,IAAIH,EAAY,CAAEC,WAAUm7B,UAC5Bv7B,QAAQC,IAAIE,GACZo3B,EAAQp3B,IC3DK67B,GA3DU,WACvB,MAA0Cn/B,oBAAS,GAAnD,mBAAOo/B,EAAP,KAAsBC,EAAtB,KACA,EAA8Cr/B,oBAAS,GAAvD,mBAAOs/B,EAAP,KAAwBC,EAAxB,KACMl/B,EAAY/D,kBAAO,GAEnB2F,EAAmB,SAACvF,GACxB,IAAMwF,EAAkBpB,KAAKC,MAAkB,IAAXrE,EAAEyF,OAAgBzF,EAAE0F,OACxDe,QAAQC,IAAR,sBAA2BlB,EAA3B,KAA+C,mBAG3Cs9B,EAAqB,SAAC9iC,GAC1B,IAAMwF,EAAkBpB,KAAKC,MAAkB,IAAXrE,EAAEyF,OAAgBzF,EAAE0F,OACxDe,QAAQC,IAAR,wBAA6BlB,EAA7B,KAAiD,mBAG7Cu9B,EAAqBhjC,uBAAY,SAAC4G,GACtC,OAAO,IAAId,SAAQ,SAACC,EAASC,GAC3BjB,EACGkB,KAAK,kBAAmBW,EAAM,CAC7BpB,mBACAu9B,qBACA78B,QAAS,CACP,eAAgB,sBAGnBE,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG08B,EAAgBjjC,sBAAW,uCAC/B,WAAO4G,GAAP,eAAAH,EAAA,6DACEm8B,GAAiB,GADnB,kBAGsBI,EAAmBp8B,GAHzC,OAGUP,EAHV,OAIIK,QAAQC,IAAIN,GACRzC,EAAUvD,SAASyiC,EAAmBz8B,EAAIO,KAAKK,KALvD,gDAOIP,QAAQC,IAAI,0BAAZ,MAPJ,yBASQ/C,EAAUvD,SAASuiC,GAAiB,GAT5C,kFAD+B,sDAc/B,CAACI,IAQH,OALAphC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAEsiC,gBAAeM,gBAAeJ,kBAAiBC,uB,wCCX3CI,GA7CQ,WACrB,MAAgD3/B,oBAAS,GAAzD,mBAAO4/B,EAAP,KAAyBC,EAAzB,KACA,EAA4C7/B,mBAAS,MAArD,mBAAO8/B,EAAP,KAAuBC,EAAvB,KACM1/B,EAAY/D,kBAAO,GAEnB0jC,EAAmBvjC,uBAAY,SAAC6F,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BjB,EACGkB,KAAK,UAAWJ,GAChBO,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGi9B,EAAcxjC,sBAAW,uCAC7B,WAAO6F,GAAP,eAAAY,EAAA,6DACE68B,EAAkB,MAClBF,GAAoB,GAFtB,kBAIsBG,EAAiB19B,GAJvC,OAIUQ,EAJV,OAKQzC,EAAUvD,SAASijC,EAAkBj9B,EAAIO,MAC7CF,QAAQC,IAAIN,GANhB,kDAQIK,QAAQC,IAAI,wBAAZ,MACI/C,EAAUvD,SAASijC,EAAkB,SAT7C,yBAWQ1/B,EAAUvD,SAAS+iC,GAAoB,GAX/C,mFAD6B,sDAgB7B,CAACG,IAQH,OALA3hC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAE8iC,mBAAkBK,cAAaH,mBCvB3BI,I,OAnBC,SAAC,GAAa,IAAZ3gC,EAAW,EAAXA,MAChB,OACE,sBAAKd,UAAU,YAAYc,MAAOA,EAAlC,UACE,qBAAKd,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,yBACf,qBAAKA,UAAU,yBACf,qBAAKA,UAAU,8BCkGN0hC,GA7GO,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,OAAQC,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aAClDhW,EAAmBpX,qBAAWrE,IAA9Byb,eACR,EAA0DoV,KAAlDC,EAAR,EAAQA,iBAAkBK,EAA1B,EAA0BA,YAAaH,EAAvC,EAAuCA,eACjCU,EAAYlkC,iBAAO,MAEzB+B,qBAAU,WACJkiC,EAAazjC,UACfyjC,EAAazjC,SAAU,EACvBwjC,GAAe,MAEhB,CAACA,EAAgBC,IAEpBliC,qBAAU,WACJyhC,GAAqC,UAAnBA,GACpBO,GAAU,SAAC3/B,GAAD,4BAAmBA,GAAnB,CAA8Bo/B,EAAevkB,aAExD,CAACukB,EAAgBO,IAEpB,IAAMrZ,EAAe,SAACtqB,GACpB,IAAI+jC,EAAY,cACZziC,EAAMtB,EAAEkS,cAAc5Q,IACtB0iC,EAAW1iC,EAAI8tB,MAAM,KACa,QAAlC4U,EAASA,EAASl6B,OAAS,KAAci6B,EAAY,OACzDlW,EAAe,CAAE9sB,KAAM,gBAAiB4F,KAAM,CAAE5F,KAAMgjC,EAAWziC,UAgB7D2iC,EAASP,EAASA,EAAOpc,QAAO,SAAC4c,EAAGr6B,GAAJ,OAAWA,EAAI,GAAK,IAAM,KAAK,KAC/Ds6B,EAAUT,EAASA,EAAOpc,QAAO,SAAC4c,EAAGr6B,GAAJ,OAAWA,EAAI,GAAK,IAAM,KAAK,KAElEu6B,EAAgBV,EAClB,sBAAK3hC,UAAWxB,KAAO8jC,OAAvB,UACE,qBAAKtiC,UAAWxB,KAAO+jC,OAAvB,SACGL,EAAOh3B,KAAI,SAAC+W,EAAIna,GACf,OACE,qBAAkB9H,UAAWxB,KAAOgkC,eAApC,SACE,qBACExiC,UAAWxB,KAAOikC,MAClBljC,IAAK0iB,EAAGygB,UACRliC,IAAI,QACJJ,QAASmoB,KALHtG,EAAGjd,UAWnB,qBAAKhF,UAAWxB,KAAO+jC,OAAvB,SACGH,EAAQl3B,KAAI,SAAC+W,EAAIna,GAChB,OACE,qBAAkB9H,UAAWxB,KAAOgkC,eAApC,SACE,qBACExiC,UAAWxB,KAAOikC,MAClBljC,IAAK0iB,EAAGygB,UACRliC,IAAI,QACJJ,QAASmoB,KALHtG,EAAGjd,aAYnB,KAEJ,OACE,sBAAKhF,UAAWxB,KAAOg3B,SAAvB,UACE,sBAAKx1B,UAAWxB,KAAOmkC,sBAAvB,UACE,wBAAQviC,QA3Ca,WACzB2hC,EAAU1jC,QAAQgC,SA0CuBL,UAAWxB,KAAOokC,aAAvD,0BAGA,uBACE/hC,OAAO,kDACPb,UAAWxB,KAAOqkC,UAClB3iC,IAAK6hC,EACL/iC,KAAK,OACLgC,SA5DmB,WACzB,GAAI+gC,EAAU1jC,QAAQsB,MAAM,GAAI,CAC9B,IAAIZ,EAAOgjC,EAAU1jC,QAAQsB,MAAM,GAC/BkE,EAAW,IAAImD,SACnBnD,EAASoD,OAAO,QAASlI,GACzByiC,EAAY39B,OAyDTs9B,EACC,cAAC,GAAD,CACErgC,MAAO,CACLuL,MAAO,OACP6E,OAAQ,OACR4xB,OAAQ,YACRt0B,SAAU,WACVoS,MAAO,UAGT,QAEJ+gB,EAGAU,EAFA,cAAC,GAAD,CAASvhC,MAAO,CAAEuL,MAAO,OAAQ6E,OAAQ,c,oBC3GlC,OAA0B,mCCA1B,OAA0B,mCCA1B,OAA0B,qCCA1B,OAA0B,iCCyC1B4d,GAjCO,WACpB,IAAQhD,EAAmBpX,qBAAWrE,IAA9Byb,eASR,OACE,sBAAK9rB,UAAWxB,KAAOg3B,SAAUp1B,QATd,SAACnC,GACK,QAArBA,EAAEyM,OAAOuE,QACX6c,EAAe,CAAE9sB,KAAM,gBAAiB4F,KAAM3G,EAAEyM,OAAO3F,KAC9C9G,EAAEyM,OAAOpM,UAAUykC,SAASvkC,KAAOwkC,iBAC5ClX,EAAe,CAAE9sB,KAAM,gBAAiB4F,KAAM3G,EAAEyM,OAAO2e,WAAW,GAAGtkB,MAKvE,UACE,qBAAK/E,UAAWxB,KAAOwkC,eAAvB,SACE,qBAAKhjC,UAAWxB,KAAOykC,MAAO1jC,IAAK2jC,GAAQ1iC,IAAI,SAASuE,GAAG,aAE7D,qBAAK/E,UAAWxB,KAAOwkC,eAAvB,SACE,qBAAKhjC,UAAWxB,KAAOykC,MAAO1jC,IAAK4jC,GAAQ3iC,IAAI,SAASuE,GAAG,aAE7D,qBAAK/E,UAAWxB,KAAOwkC,eAAvB,SACE,qBACEhjC,UAAWxB,KAAOykC,MAClB1jC,IAAK6jC,GACL5iC,IAAI,WACJuE,GAAG,eAGP,qBAAK/E,UAAWxB,KAAOwkC,eAAvB,SACE,qBAAKhjC,UAAWxB,KAAOykC,MAAO1jC,IAAK8jC,GAAM7iC,IAAI,OAAOuE,GAAG,e,oB1BjC3D,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAWqZ,OAAOsY,QAAU,SAAUhsB,GAAU,IAAK,IAAI5C,EAAI,EAAGA,EAAI6uB,UAAU5uB,OAAQD,IAAK,CAAE,IAAI8uB,EAASD,UAAU7uB,GAAI,IAAK,IAAIwW,KAAOsY,EAAcxY,OAAOyY,UAAUC,eAAeC,KAAKH,EAAQtY,KAAQ5T,EAAO4T,GAAOsY,EAAOtY,IAAY,OAAO5T,IAA2BssB,MAAMC,KAAMN,WAEhT,SAAS,GAAyBC,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEtY,EAAKxW,EAAnE4C,EAEzF,SAAuCksB,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DtY,EAAKxW,EAA5D4C,EAAS,GAAQ0sB,EAAahZ,OAAO8R,KAAK0G,GAAqB,IAAK9uB,EAAI,EAAGA,EAAIsvB,EAAWrvB,OAAQD,IAAOwW,EAAM8Y,EAAWtvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,IAAa5T,EAAO4T,GAAOsY,EAAOtY,IAAQ,OAAO5T,EAFxM,CAA8BksB,EAAQO,GAAuB,GAAI/Y,OAAOkZ,sBAAuB,CAAE,IAAIC,EAAmBnZ,OAAOkZ,sBAAsBV,GAAS,IAAK9uB,EAAI,EAAGA,EAAIyvB,EAAiBxvB,OAAQD,IAAOwW,EAAMiZ,EAAiBzvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,GAAkBF,OAAOyY,UAAUW,qBAAqBT,KAAKH,EAAQtY,KAAgB5T,EAAO4T,GAAOsY,EAAOtY,IAAU,OAAO5T,EAMne,SAAS44B,GAAe5L,EAAMC,GAC5B,IAAIxyB,EAAQuyB,EAAKvyB,MACbyyB,EAAUF,EAAKE,QACf9B,EAAQ,GAAyB4B,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDrrB,MAAO,GACP6E,OAAQ,GACR2mB,QAAS,YACTxmB,KAAM,OACNymB,MAAO,6BACP53B,IAAKy3B,EACL,kBAAmBC,GAClB9B,GAAQ3wB,EAAqB,gBAAoB,QAAS,CAC3DJ,GAAI6yB,GACHzyB,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E4yB,EAAG,8aACH1mB,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChE0mB,EAAG,+NACH1mB,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChE0mB,EAAG,+NACH1mB,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChE0mB,EAAG,+NACH1mB,KAAM,aACHknB,KAAWA,GAAsB,gBAAoB,OAAQ,CAChER,EAAG,oOACH1mB,KAAM,aACHmnB,KAAWA,GAAsB,gBAAoB,OAAQ,CAChET,EAAG,iOACH1mB,KAAM,aACHonB,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEV,EAAG,kOACH1mB,KAAM,cAIV,I2BnDI,GAAIkyB,G3BmDJ,GAA0B,aAAiBD,I2BjD3C,I3BkDW,I2BlDC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWllB,OAAOsY,QAAU,SAAUhsB,GAAU,IAAK,IAAI5C,EAAI,EAAGA,EAAI6uB,UAAU5uB,OAAQD,IAAK,CAAE,IAAI8uB,EAASD,UAAU7uB,GAAI,IAAK,IAAIwW,KAAOsY,EAAcxY,OAAOyY,UAAUC,eAAeC,KAAKH,EAAQtY,KAAQ5T,EAAO4T,GAAOsY,EAAOtY,IAAY,OAAO5T,IAA2BssB,MAAMC,KAAMN,WAEhT,SAAS,GAAyBC,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEtY,EAAKxW,EAAnE4C,EAEzF,SAAuCksB,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DtY,EAAKxW,EAA5D4C,EAAS,GAAQ0sB,EAAahZ,OAAO8R,KAAK0G,GAAqB,IAAK9uB,EAAI,EAAGA,EAAIsvB,EAAWrvB,OAAQD,IAAOwW,EAAM8Y,EAAWtvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,IAAa5T,EAAO4T,GAAOsY,EAAOtY,IAAQ,OAAO5T,EAFxM,CAA8BksB,EAAQO,GAAuB,GAAI/Y,OAAOkZ,sBAAuB,CAAE,IAAIC,EAAmBnZ,OAAOkZ,sBAAsBV,GAAS,IAAK9uB,EAAI,EAAGA,EAAIyvB,EAAiBxvB,OAAQD,IAAOwW,EAAMiZ,EAAiBzvB,GAAQqvB,EAASltB,QAAQqU,IAAQ,GAAkBF,OAAOyY,UAAUW,qBAAqBT,KAAKH,EAAQtY,KAAgB5T,EAAO4T,GAAOsY,EAAOtY,IAAU,OAAO5T,EAMne,SAAS84B,GAAgB9L,EAAMC,GAC7B,IAAIxyB,EAAQuyB,EAAKvyB,MACbyyB,EAAUF,EAAKE,QACf9B,EAAQ,GAAyB4B,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDrrB,MAAO,GACP6E,OAAQ,GACR2mB,QAAS,YACTxmB,KAAM,OACNymB,MAAO,6BACP53B,IAAKy3B,EACL,kBAAmBC,GAClB9B,GAAQ3wB,EAAqB,gBAAoB,QAAS,CAC3DJ,GAAI6yB,GACHzyB,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEs+B,SAAU,eACI,gBAAoB,OAAQ,CAC1C1L,EAAG,maACH1mB,KAAM,YACS,gBAAoB,OAAQ,CAC3C0mB,EAAG,wkBACH1mB,KAAM,YACS,gBAAoB,OAAQ,CAC3C0mB,EAAG,kOACH1mB,KAAM,cACFkyB,KAAUA,GAAqB,gBAAoB,OAAQ,KAAmB,gBAAoB,WAAY,CAClHx+B,GAAI,SACU,gBAAoB,OAAQ,CAC1CsH,MAAO,GACP6E,OAAQ,GACRG,KAAM,cAIV,IAAI,GAA0B,aAAiBmyB,ICFhCE,IDGA,IC1CW,WACxB,MAAwChvB,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACfvD,EAAe,SAACtqB,GACpB,IAAI2G,GAAO,EACgB,WAAvB3G,EAAEkS,cAAcpL,KAAiBH,GAAO,GAC5CknB,EAAe,CAAE9sB,KAAM,iBAAkB4F,UAG3C,OACE,sBAAK5E,UAAWxB,KAAOg3B,SAAvB,UACE,mBAAGx1B,UAAWxB,KAAOyR,KAArB,uBACA,sBAAKjQ,UAAWxB,KAAOmlC,QAAvB,UACE,sBACE3jC,UAAW,CACTxB,KAAOolC,OACN/X,EAAYgR,YAA8B,KAAhBr+B,KAAOC,QAClCkO,KAAK,KACP5H,GAAG,SACH3E,QAASmoB,EANX,UAQE,cAAC,GAAD,CAAclX,KAAOwa,EAAYgR,YAA0B,UAAZ,YAC/C,mBAAG78B,UAAWxB,KAAOqlC,WAArB,oBAEF,sBACE7jC,UAAW,CACTxB,KAAOolC,OACP/X,EAAYgR,YAAcr+B,KAAOC,OAAS,MAC1CkO,KAAK,KACP5H,GAAG,QACH3E,QAASmoB,EANX,UAQE,cAAC,GAAD,CAAalX,KAAMwa,EAAYgR,YAAc,UAAY,YACzD,mBAAG78B,UAAWxB,KAAOqlC,WAArB,2BCtCK,OAA0B,oCCA1B,OAA0B,qCCA1B,OAA0B,qCCA1B,OAA0B,sCC4C1BC,GAzCM,WACnB,MAA8CviC,oBAAS,GAAvD,mBAAOwiC,EAAP,KAAwBC,EAAxB,KACA,EAA4BziC,mBAAS,MAArC,mBAAOogC,EAAP,KAAeC,EAAf,KACMhgC,EAAY/D,kBAAO,GAEnBomC,EAAiBjmC,uBAAY,WACjC,OAAO,IAAI8F,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IAAI,WACJj3B,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG2/B,EAAYlmC,sBAAW,sBAAC,4BAAAyG,EAAA,6DAC5Bm9B,EAAU,MACVoC,GAAmB,GAFS,kBAIRC,IAJQ,OAIpB5/B,EAJoB,OAKtBzC,EAAUvD,SAASujC,EAAUv9B,EAAIO,MACrCF,QAAQC,IAAIN,GANc,kDAQ1BK,QAAQC,IAAI,uBAAZ,MAR0B,yBAUtB/C,EAAUvD,SAAS2lC,GAAmB,GAVhB,mFAa3B,CAACC,IAOJ,OALArkC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAE0lC,kBAAiBG,YAAWvC,SAAQC,cCyFhCuC,GApHQ,SAAC,GAAgB,IAAd1zB,EAAa,EAAbA,OACxB,EAAwCiE,qBAAWrE,IAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAyCgY,KAAjCI,EAAR,EAAQA,UAAWvC,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,UAC3B,EAAkDrgC,oBAAS,GAA3D,mBAAO6iC,EAAP,KAA0BC,EAA1B,KACMvC,EAAejkC,kBAAO,GAEtB0qB,EAAe,SAACtqB,GACpB,GAAIwS,IAAWob,EAAYnI,gBAAiB,CAC1C,IAAI1kB,EAAO,GACP+F,EAAK9G,EAAEkS,cAAcpL,GACd,YAAPA,EAAkB/F,EAAO,mBACb,aAAP+F,EAAmB/F,EAAO,qBACnB,aAAP+F,EAAmB/F,EAAO,qBACnB,cAAP+F,IAAoB/F,EAAO,0BACpC8sB,EAAe,CAAE9sB,OAAM4F,MAAM,IACzBinB,EAAYnV,YACdoV,EAAe,CAAE9sB,KAAM,gBAAiB4F,MAAM,MAYpD,OAPAhF,qBAAU,WACJwkC,IACFC,GAAqB,GACrBH,OAED,CAACE,EAAmBF,IAGrB,sBAAKlkC,UAAWxB,KAAO8lC,kBAAvB,UACE,sBACEtkC,UAAWxB,KAAO+lC,iBAClBx/B,GAAG,UACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKilC,GAAShkC,IAAI,aACvB,sBAAKR,UAAWxB,KAAOimC,aAAvB,UACE,qBAAKzkC,UAAWxB,KAAOkmC,gBACvB,mBAAG1kC,UAAWxB,KAAOmmC,UAArB,4BAGJ,sBAAK3kC,UAAWxB,KAAOomC,cAAvB,UACE,sBACE5kC,UAAWxB,KAAOqmC,kBAClB9/B,GAAG,WACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKulC,GAAUtkC,IAAI,cACxB,sBAAKR,UAAWxB,KAAOimC,aAAvB,UACE,qBAAKzkC,UAAWxB,KAAOkmC,gBACvB,mBAAG1kC,UAAWxB,KAAOmmC,UAArB,6BAGH9Y,EAAYmK,iBACbnK,EAAY1Z,oBACZ0Z,EAAYyK,uBACV,qCACE,cAAC,GAAD,IACA,qBAAKt2B,UAAWxB,KAAOkjC,cAAvB,SACE,cAAC,GAAD,CACEC,OAAQA,EACRE,eAAgBwC,EAChBvC,aAAcA,EACdF,UAAWA,SAIf,QAGN,sBAAK5hC,UAAWxB,KAAOomC,cAAvB,UACE,sBACE5kC,UAAWxB,KAAOumC,kBAClBhgC,GAAG,WACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKylC,GAAUxkC,IAAI,cACxB,sBAAKR,UAAWxB,KAAOimC,aAAvB,UACE,qBAAKzkC,UAAWxB,KAAOkmC,gBACvB,mBAAG1kC,UAAWxB,KAAOmmC,UAArB,6BAGH9Y,EAAYoK,gBACX,qCACE,cAAC,GAAD,IACA,qBAAKj2B,UAAWxB,KAAOswB,cAAvB,SACE,cAAC,GAAD,SAGF,QAEN,qBAAK9uB,UAAWxB,KAAOomC,cAAvB,SACE,sBACE5kC,UAAWxB,KAAOumC,kBAClBhgC,GAAG,YACH3E,QAASmoB,EAHX,UAKE,qBAAKhpB,IAAKsF,GAAWrE,IAAI,cACzB,sBAAKR,UAAWxB,KAAOimC,aAAvB,UACE,qBAAKzkC,UAAWxB,KAAOkmC,gBACvB,mBAAG1kC,UAAWxB,KAAOmmC,UAArB,+BAIL9Y,EAAYqK,oBACX,qCACE,cAAC,GAAD,IACA,qBAAKl2B,UAAWxB,KAAOklC,kBAAvB,SACE,cAAC,GAAD,SAGF,SC6CKuB,GAzJI,SAAC,GAcb,IAbLx0B,EAaI,EAbJA,OACAlD,EAYI,EAZJA,SACAI,EAWI,EAXJA,UACArO,EAUI,EAVJA,SACAuN,EASI,EATJA,QACAxD,EAQI,EARJA,UAEA/D,GAMI,EAPJ4/B,cAOI,EANJ5/B,WACA6/B,EAKI,EALJA,kBACAxE,EAII,EAJJA,cACAM,EAGI,EAHJA,cACAJ,EAEI,EAFJA,gBAGA,GADI,EADJC,mBAEwCpsB,qBAAWrE,KAA3Cwb,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eACrB,EAAwCvqB,mBAAS,MAAjD,mBAAO6jC,EAAP,KAAqBC,EAArB,KACA,EAAgC9jC,mBAAS,MAAzC,mBAAO+jC,EAAP,KAAiBvG,EAAjB,KACA,EAAkCx9B,mBAAS,MAA3C,mBAAOgkC,EAAP,KAAkBvG,EAAlB,KACA,EAA4Bz9B,mBAAS,MAArC,mBAAOikC,EAAP,KAAeC,EAAf,KACA,EAAwBlkC,mBAAS,MAAjC,mBAAOmkC,EAAP,KAAazJ,EAAb,KAEMv2B,GADc7H,iBAAO,MACX8H,eAGhB/F,qBAAU,WACJihC,GAAiBn7B,EAAQyC,KAAR,mBAAyB7C,EAAUP,OACvD,CAAC87B,EAAiBn7B,EAASJ,IAM9B1F,qBAAU,WACJwlC,IACFnE,EAAcmE,GACdC,EAAgB,SAEjB,CAACD,EAAcnE,IAgBlB,IAiBM0E,EAAc3nC,uBAClB,SAACkhC,EAAa55B,EAAWsgC,EAAYC,EAAU9gC,GAC7C,IAAIugC,EAAQ,YAAOpG,GACft6B,EAAO,CACTG,KACA9F,MAAM,eAAMqG,GACZggC,WACAE,OAAO,YAAKI,GACZ/gC,UAAU,eAAMghC,IAElBnhC,QAAQC,IAAIC,GACZ,IAAIkhC,EAAWC,KAAKC,UAAUphC,GAC9BygC,EAAgBS,GAChB/G,EAAY,MACZ0G,EAAU,MACVzG,EAAa,MACb/C,EAAQ,QAEV,IASF,OANAr8B,qBAAU,WACJ0lC,GAAYC,GAAaC,GAAUE,GACrCC,EAAYL,EAAUC,EAAWC,EAAQE,EAAMpgC,EAAUP,MAE1D,CAACugC,EAAUC,EAAWI,EAAaH,EAAQE,EAAMpgC,IAGlD,cAAC,EAAD,CAAQA,UAAWA,EAAnB,SACE,qBAAKtF,UAAWxB,KAAOymC,WAAvB,SACGx0B,EACC,qCACE,cAAC,GAAD,CAAgBA,OAAQA,IACvB00B,EACC,cAAC,GAAD,CACErkC,MAAO,CACLuL,MAAO,UACP6E,OAAQ,UACR5E,YAAa,OACbkC,SAAU,WACVoS,MAAO,UAGT,KACJ,wBACE7b,GAAG,iBACH/E,UAAWxB,KAAOynC,eAClB7lC,QAhEiB,WACvByrB,EAAYnV,WACdoV,EAAe,CAAE9sB,KAAM,gBAAiB4F,MAAM,KACrC6L,GAAWkwB,GAAkBwE,IACtC53B,EAASlP,QAAQ+Q,QlBxEM,SAAC82B,EAAMn4B,EAAS03B,GAG3C,IAFA,IAAIU,EAAc,GACdC,EAAO,KACFt+B,EAAI,EAAGA,EAAIo+B,EAAKn+B,OAAQD,IAAK,CACpC,IAAIma,EAAKikB,EAAKp+B,GACJ,IAANA,GAAwB,IAAbma,EAAG7Z,MAChB+9B,EAAYh+B,KAAK,CAAEC,MAAO,EAAGC,IAAK4Z,EAAG7Z,QACf,IAAb6Z,EAAG7Z,OACZ+9B,EAAYh+B,KAAK,CAAEC,MAAOg+B,EAAM/9B,IAAK4Z,EAAG7Z,QAE1Cg+B,EAAOnkB,EAAG5Z,IAENP,IAAMo+B,EAAKn+B,OAAS,GAAKka,EAAG5Z,MAAQ0F,GACtCo4B,EAAYh+B,KAAK,CAAEC,MAAO6Z,EAAG5Z,IAAKA,IAAK0F,IAG3C03B,EAAUU,GkByDNE,CAAc14B,EAAWrO,EAAUmmC,GAC/Bp8B,GAAawD,EACfkzB,GAAYlzB,EAASxD,EAAWwiB,EAAY3N,eAAgB+d,GACvDA,EAAQ,CAAEn3B,SAAU,GAAIm7B,OAAQ,KACvCZ,GAAc5uB,EAAQsuB,EAAaC,KAoD7B,SAKI2B,EAA6B,aAAb,gBAGpB,UC1IN9L,GAAe,CACnByR,qBAAqB,EACrBrb,YAAa,CACXoK,aAAc,EACdC,cAAe,EACflW,YAAa,EACbD,WAAY,EACZoa,eAAgB,EAChBQ,gBAAiB,EACjBxa,OAAQ,WACRlT,MAAO,EACP6E,OAAQ,EACRgP,gBAAiB,sBACjBD,oBAAoB,EACpBtD,wBAAwB,EACxBsd,kCAA2B,GAE7BppB,WAAY,KACZoB,WAAY,KACZ2E,cAAe,KACf2H,aAAa,EACbM,WAAY,CACVxN,KAAM,sBACNC,OAAQ,sBACRC,YAAa,EACbC,GAAI,EACJC,GAAI,GAENsL,WAAY,CACVpK,aAAc,EACdC,OAAO,GAETiqB,aAAa,EACbnmB,YAAY,EACZgN,iBAAiB,EACjBsS,iBAAiB,EACjBE,qBAAqB,EACrBD,iBAAiB,EACjBE,kBAAkB,EAClBC,yBAAyB,EACzBG,oBAAoB,EACpBxjB,eAAe,EACf0L,kBAAkB,EAClBR,uBAAuB,EACvBU,mBAAmB,EACnBI,mBAAmB,EACnB5M,oBAAoB,EACpB0E,cAAe,CACb7X,KAAM,GACN2U,OAAQ,MAEVP,UAAW,CACT0K,WAAY,QACZ4O,UAAW,SACXF,WAAY,SACZzM,SAAU,GACV1O,KAAM,gBACNga,UAAW,QAEbnN,eAAgB,CACdJ,WAAY,QACZ4O,UAAW,SACXF,WAAY,SACZzM,SAAU,GACV1O,KAAM,gBACN6O,gBAAiB,sBACjBqmB,kBAAmB,wBAIjBzR,GAAU,SAACtkB,EAAOukB,GACtB,OAAQA,EAAO/1B,MACb,IAAK,yBACH,OAAO,2BAAKwR,GAAZ,IAAmB81B,oBAAqBvR,EAAOnwB,OACjD,IAAK,iBACH,OAAO,2BAAK4L,GAAZ,IAAmBya,YAAa8J,EAAOnwB,OACzC,IAAK,wBACH,OAAO,2BAAK4L,GAAZ,IAAmB+lB,mBAAoBxB,EAAOnwB,OAChD,IAAK,iBACH,OAAO,2BAAK4L,GAAZ,IAAmBqsB,YAAa9H,EAAOnwB,KAAMsxB,qBAAqB,IACpE,IAAK,gBACH,OAAO,2BAAK1lB,GAAZ,IAAmBkG,WAAYqe,EAAOnwB,OACxC,IAAK,qBACH,OAAO,2BAAK4L,GAAZ,IAAmBkT,gBAAiBqR,EAAOnwB,OAC7C,IAAK,qBACH,OAAO,2BAAK4L,GAAZ,IAAmBwlB,gBAAiBjB,EAAOnwB,OAC7C,IAAK,yBACH,OAAO,2BAAK4L,GAAZ,IAAmB0lB,oBAAqBnB,EAAOnwB,OACjD,IAAK,qBACH,OAAO,2BAAK4L,GAAZ,IAAmBylB,gBAAiBlB,EAAOnwB,OAC7C,IAAK,sBACH,OAAO,2BAAK4L,GAAZ,IAAmB2lB,iBAAkBpB,EAAOnwB,OAC9C,IAAK,6BACH,OAAO,2BAAK4L,GAAZ,IAAmB4lB,wBAAyBrB,EAAOnwB,OACrD,IAAK,mBACH,OAAO,2BAAK4L,GAAZ,IAAmBoG,cAAeme,EAAOnwB,OAC3C,IAAK,iBACH,OAAO,2BAAK4L,GAAZ,IAAmB+N,YAAawW,EAAOnwB,OACzC,IAAK,uBACH,OAAO,2BAAK4L,GAAZ,IAAmBsF,kBAAmBif,EAAOnwB,OAC/C,IAAK,mBACH,OAAO,2BAAK4L,GAAZ,IAAmBuC,cAAegiB,EAAOnwB,OAC3C,IAAK,sBACH,OAAO,2BAAK4L,GAAZ,IAAmBiO,iBAAkBsW,EAAOnwB,OAC9C,IAAK,2BACH,OAAO,2BAAK4L,GAAZ,IAAmByN,sBAAuB8W,EAAOnwB,OACnD,IAAK,uBACH,OAAO,2BAAK4L,GAAZ,IAAmBmO,kBAAmBoW,EAAOnwB,OAC/C,IAAK,uBACH,OAAO,2BAAK4L,GAAZ,IAAmBuO,kBAAmBgW,EAAOnwB,OAC/C,IAAK,mBACH,OAAO,2BAAK4L,GAAZ,IAAmBqG,cAAeke,EAAOnwB,OAC3C,IAAK,gBACH,OAAO,2BAAK4L,GAAZ,IAAmBK,WAAYkkB,EAAOnwB,KAAMqxB,iBAAiB,IAC/D,IAAK,gBACH,OAAO,2BAAKzlB,GAAZ,IAAmByB,WAAY8iB,EAAOnwB,KAAMoxB,iBAAiB,IAC/D,IAAK,gBACH,OAAO,2BAAKxlB,GAAZ,IAAmBqO,WAAW,eAAMkW,EAAOnwB,QAC7C,IAAK,gBACH,OAAO,2BAAK4L,GAAZ,IAAmBuM,WAAW,eAAMgY,EAAOnwB,QAC7C,IAAK,eACH,OAAO,2BAAK4L,GAAZ,IAAmB4C,UAAU,eAAM2hB,EAAOnwB,QAC5C,IAAK,oBACH,OAAO,2BAAK4L,GAAZ,IAAmB0N,eAAe,eAAM6W,EAAOnwB,QACjD,IAAK,wBACH,OAAO,2BAAK4L,GAAZ,IAAmB2B,mBAAoB4iB,EAAOnwB,OAChD,IAAK,wBACH,OAAO,2BACF4L,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAEThL,mBAAoB8U,EAAOnwB,SAGjC,IAAK,4BACH,OAAO,2BACF4L,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAETtO,uBAAwBoY,EAAOnwB,SAGrC,IAAK,oCACH,OAAO,2BACF4L,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAETgP,iCAA2BlF,EAAOnwB,SAGxC,IAAK,2BACH,OAAO,2BACF4L,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAEThL,oBAAoB,EACpBC,gBAAiB6U,EAAOnwB,SAG9B,IAAK,gBACH,OAAO,2BACF4L,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAETtO,wBAAwB,EACxBtQ,MAAO0oB,EAAOnwB,KAAKyH,MACnB6E,OAAQ6jB,EAAOnwB,KAAKsM,WAG1B,IAAK,eACH,OAAO,2BACFV,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAETgP,kCAA2B,EAC3B9a,WAAY4V,EAAOnwB,KAAKyH,MACxB+S,YAAa2V,EAAOnwB,KAAKsM,OACzBqO,OAAQwV,EAAOnwB,KAAK2a,WAG1B,IAAK,mBACH,OAAO,2BACF/O,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAETgP,kCAA2B,EAC3BV,eAAgBxE,EAAOnwB,KAAKyH,MAC5B0tB,gBAAiBhF,EAAOnwB,KAAKsM,WAGnC,IAAK,uBACH,OAAO,2BACFV,GADL,IAEEya,YAAY,2BACPza,EAAMya,aADA,IAEToK,aAAcN,EAAOnwB,KAAKywB,aAC1BC,cAAeP,EAAOnwB,KAAK0wB,kBAGjC,IAAK,uBACH,OAAO,2BACF9kB,GADL,IAEEuO,mBAAmB,EACnBhC,WAAW,2BACNvM,EAAMuM,YADD,IAERpK,aAAcoiB,EAAOnwB,SAG3B,IAAK,iBACH,OAAO,2BACF4L,GADL,IAEEmO,mBAAmB,EACnBE,WAAW,2BACNrO,EAAMqO,YADD,IAERrN,GAAIujB,EAAOnwB,KACX6M,GAAIsjB,EAAOnwB,SAGjB,IAAK,eACH,OAAO,2BACF4L,GADL,IAEEmO,mBAAmB,EACnBE,WAAW,2BACNrO,EAAMqO,YADD,IAERxN,KAAM0jB,EAAOnwB,SAGnB,IAAK,iBACH,OAAO,2BACF4L,GADL,IAEEmO,mBAAmB,EACnBE,WAAW,2BACNrO,EAAMqO,YADD,IAERvN,OAAQyjB,EAAOnwB,SAGrB,IAAK,sBACH,OAAO,2BACF4L,GADL,IAEEmO,mBAAmB,EACnBE,WAAW,2BACNrO,EAAMqO,YADD,IAERtN,YAAawjB,EAAOnwB,SAI1B,IAAK,gBACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEP0K,WAAYiX,EAAOnwB,SAGzB,IAAK,eACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEPsZ,UAAWqI,EAAOnwB,SAGxB,IAAK,gBACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEPoZ,WAAYuI,EAAOnwB,SAGzB,IAAK,cACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEP2M,SAAUgV,EAAOnwB,SAGvB,IAAK,cACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEP/B,KAAM0jB,EAAOnwB,SAGnB,IAAK,eACH,OAAO,2BACF4L,GADL,IAEEiO,kBAAkB,EAClBrL,UAAU,2BACL5C,EAAM4C,WADF,IAEPiY,UAAW0J,EAAOnwB,SAIxB,IAAK,8BACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZgC,gBAAiB6U,EAAOnwB,SAG9B,IAAK,yBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZJ,WAAYiX,EAAOnwB,SAGzB,IAAK,wBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZwO,UAAWqI,EAAOnwB,SAGxB,IAAK,yBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZsO,WAAYuI,EAAOnwB,SAGzB,IAAK,uBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZ6B,SAAUgV,EAAOnwB,SAGvB,IAAK,uBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZ7M,KAAM0jB,EAAOnwB,SAGnB,IAAK,wBACH,OAAO,2BACF4L,GADL,IAEEyN,uBAAuB,EACvBC,eAAe,2BACV1N,EAAM0N,gBADG,IAEZmN,UAAW0J,EAAOnwB,SAIxB,QACE,OAAO4L,IASEg2B,GALQ,WACrB,MAAsCvR,qBAAWH,GAASD,IAA1D,mBACA,MAAO,CADP,YClTa4R,GAhEK,WAClB,MAA4CllC,oBAAS,GAArD,mBAAOmlC,EAAP,KAAuBC,EAAvB,KACA,EAAwBplC,mBAAS,MAAjC,mBAAOF,EAAP,KAAagC,EAAb,KACA,EAA0C9B,mBAAS,MAAnD,mBAAOiE,EAAP,KAAsBohC,EAAtB,KACMrjC,EAAQ1F,iBAAO,MACf+D,EAAY/D,kBAAO,GAEnBgpC,EAAgB7oC,uBAAY,SAAC+G,GACjC,OAAO,IAAIjB,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IADH,kBACkBt2B,IACfX,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGuiC,EAAW9oC,sBAAW,uCAC1B,WAAO+G,GAAP,eAAAN,EAAA,6DACEmiC,EAAiB,MACjBD,GAAkB,GAFpB,kBAIsBE,EAAc9hC,GAJpC,OAIUV,EAJV,OAKQzC,EAAUvD,UACZkF,EAAMlF,QAAUgG,EAAIO,KAAKmiC,cACzB1jC,EAAQ,CACN0B,GAAIV,EAAIO,KAAKI,IACb1F,SAAU+E,EAAIO,KAAKtF,SACnB2F,IAAKZ,EAAIO,KAAKM,mBACd8hC,SAAU3iC,EAAIO,KAAKqiC,iBAAmB,KACtCx2B,OAAQpM,EAAIO,KAAK6L,QAAU,KAC3BtL,MAAOd,EAAIO,KAAKO,MAChB+hC,UAAW7iC,EAAIO,KAAKuiC,iBAAmB,QAG3CziC,QAAQC,IAAIN,GAjBhB,kDAmBQzC,EAAUvD,SAASuoC,EAAiB,EAAD,IACvCliC,QAAQC,IAAI,sBAAZ,MApBJ,yBAsBQ/C,EAAUvD,SAASsoC,GAAkB,GAtB7C,mFAD0B,sDA2B1B,CAACE,IAQH,OALAjnC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CACLqoC,iBACAI,WACAvjC,MAAOA,EAAMlF,QACbgD,OACAmE,kBCfW4hC,GA7CU,WACvB,MAAkD7lC,oBAAS,GAA3D,mBAAO4jC,EAAP,KAA0BkC,EAA1B,KACA,EAA4C9lC,mBAAS,MAArD,mBAAO+lC,EAAP,KAAuBC,EAAvB,KACM3lC,EAAY/D,kBAAO,GAEnB2pC,EAAqBxpC,uBAAY,SAAC4G,GACtC,OAAO,IAAId,SAAQ,SAACC,EAASC,GAC3BjB,EACG0kC,IAAI,UAAW7iC,GACfR,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGmjC,EAAgB1pC,sBAAW,uCAC/B,WAAO4G,GAAP,eAAAH,EAAA,6DACE8iC,EAAkB,MAClBF,GAAqB,GAFvB,kBAIsBG,EAAmB5iC,GAJzC,OAIUP,EAJV,OAKQzC,EAAUvD,SAASkpC,EAAkBljC,EAAIO,MAC7CF,QAAQC,IAAIN,GANhB,kDAQIK,QAAQC,IAAI,yBAAZ,MACI/C,EAAUvD,SAASkpC,EAAkB,SAT7C,yBAWQ3lC,EAAUvD,SAASgpC,GAAqB,GAXhD,mFAD+B,sDAgB/B,CAACG,IAQH,OALA5nC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAE8mC,oBAAmBuC,gBAAeJ,mBCwK9BK,GArLK,SAAC,GAAkB,IAAhB/iB,EAAe,EAAfA,SACrB,EAAsC4hB,KAAtC,mBAAO3a,EAAP,KAAoBC,EAApB,KACA,EAAiD2a,KAAzCK,EAAR,EAAQA,SAAUvjC,EAAlB,EAAkBA,MAAOlC,EAAzB,EAAyBA,KAAMmE,EAA/B,EAA+BA,cAC/B,EAA6C4hC,KAArCjC,EAAR,EAAQA,kBAAmBuC,EAA3B,EAA2BA,cAC3B,EACEhH,KADMC,EAAR,EAAQA,cAAeM,EAAvB,EAAuBA,cAAeJ,EAAtC,EAAsCA,gBAAiBC,EAAvD,EAAuDA,mBAEvD,EAAgDv/B,mBAAS,MAAzD,mBAAO6H,EAAP,KAAyBoE,EAAzB,KACA,EAAgDjM,mBAAS,GAAzD,mBAAOwH,EAAP,KAAyBsE,EAAzB,KACA,EAAkC9L,oBAAS,GAA3C,mBAAO+L,EAAP,KAAkBwwB,EAAlB,KACA,EAAsCv8B,mBAAS,MAA/C,mBAAOyM,EAAP,KAAoBP,EAApB,KACA,EAAwClM,mBAAS,MAAjD,mBAAO44B,EAAP,KAAqBzsB,EAArB,KACA,EAAkDnM,oBAAS,GAA3D,mBAAOw6B,EAAP,KAA0BxyB,EAA1B,KACA,EAA4BhI,mBAAS,MAArC,mBAAOkP,EAAP,KAAegU,EAAf,KACA,GAAkCljB,mBAAS,MAA3C,qBAAO8H,GAAP,MAAkBwyB,GAAlB,MACA,GAAoCt6B,mBAAS,MAA7C,qBAAO+H,GAAP,MAAmB8wB,GAAnB,MACA,GAA8B74B,mBAAS,MAAvC,qBAAOsL,GAAP,MAAgBivB,GAAhB,MACA,GAAkCv6B,mBAAS,IAA3C,qBAAOoM,GAAP,MAAkBi6B,GAAlB,MACMliC,GAAUC,cACVkiC,GAASC,cACTv6B,GAAW1P,iBAAO,MAClBkqC,GAAsBlqC,iBAAO,MAC7BmqC,GAAuBnqC,iBAAO,MAC9BgQ,GAAchQ,kBAAO,GACrB+D,GAAY/D,kBAAO,GAMzB+B,qBAAU,WAER,OADAgC,GAAUvD,SAAU,EACb,kBAAOuD,GAAUvD,SAAU,KACjC,IAEHuB,qBAAU,WACJioC,IAAUA,GAAO9iC,IAAI+hC,EAASe,GAAO9iC,MACxC,CAAC8iC,GAAQf,IAEZlnC,qBAAU,WACJ4F,GAAeE,GAAQyC,KAAK,WAC/B,CAAC3C,EAAeE,KAEnB,IAAM8D,GAAqBxL,uBAAY,WACjC+pC,GAAoB1pC,SAAS+D,aAAa2lC,GAAoB1pC,SAClE,IAAI6D,EAAUC,YAAW,WACnBP,GAAUvD,UACZ0pC,GAAoB1pC,QAAU,KAC9BqpC,EAAc,CACZ3iC,GAAI1D,EAAK0D,GACTgiC,cAAc,YAAKxjC,QAGtB,KACHwkC,GAAoB1pC,QAAU6D,IAC7B,CAACwlC,EAAermC,EAAMkC,IAEnB0kC,GAAsBjqC,uBAAY,WAClCgqC,GAAqB3pC,SACvB+D,aAAa4lC,GAAqB3pC,SAEpC,IAAI6D,EAAUC,YAAW,WACvB,GAAIP,GAAUvD,QAAS,CACrB2pC,GAAqB3pC,QAAU,KAC/B,IAAI6pC,EAjFY,SAACz3B,GACvB,IAAIy3B,EAAaz3B,EAAO03B,OAAO,CAC7B,KACA,eACA,QACA,UACA,cACA,KACA,KACA,iBAEE5wB,EAAO9G,EAAOgF,UAIlB,OAHAyyB,EAAW77B,MAAQoE,EAAO+E,WAAa+B,EACvC2wB,EAAWh3B,OAAST,EAAOiF,YAAc6B,EACzC2wB,EAAW3oB,OAAS9O,EAAO8O,OACpB2oB,EAkEgBE,CAAgB33B,GACjCi3B,EAAc,CACZ3iC,GAAI1D,EAAK0D,GACT0L,OAAO,eAAMy3B,QAGhB,KACHF,GAAqB3pC,QAAU6D,IAC9B,CAACwlC,EAAermC,EAAMoP,IAoBzB,OAlBA7Q,qBAAU,WACJiO,GAAYxP,QACdwP,GAAYxP,SAAU,GACZsiC,GAAiBp9B,GAAOiG,OACnC,CAACmE,GAAWnE,GAAoBm3B,EAAep9B,IAElD3D,qBAAU,WACJisB,EAAYya,sBAAwB3F,IACtC7U,EAAe,CAAE9sB,KAAM,yBAA0B4F,MAAM,IACvDqjC,QAED,CACDA,GACApc,EAAYya,oBACZxa,EACA6U,IAIA,mCACE,cAAC,GAAcpD,SAAf,CAAwB7xB,MAAO,CAAEmgB,cAAaC,kBAA9C,SACGzqB,EACC,qCACE,cAAC,GAAD,CACEoP,OAAQA,EACRlD,SAAUA,GACVI,UAAWA,GACXrO,SAAU+B,EAAOA,EAAK/B,SAAW,KACjCiE,MAAOA,EACPsJ,QAASA,GACTxD,UAAWA,GACX/D,UAAWjE,EACX8jC,kBAAmBA,EACnBxE,cAAeA,EACfM,cAAeA,EACfJ,gBAAiBA,EACjBC,mBAAoBA,IAEtB,uBAAM9gC,UAAWxB,IAAO6pC,KAAxB,UACE,cAAC,GAAD,CACEroC,UAAWxB,IAAOmpC,YAClBpkC,MAAOA,EACPwF,iBAAkBA,EAClBsE,oBAAqBA,EACrBC,UAAWA,EACXC,SAAUA,GACVnG,QAASwgC,GACTx+B,iBAAkBA,EAClBoE,oBAAqBA,EACrBlE,WAAYA,GACZ8wB,cAAeA,GACf/wB,UAAWA,GACXE,qBAAsBA,EACtBkE,eAAgBA,EAChBC,gBAAiBA,EACjBC,UAAWA,GACXnE,mBAAoBA,KAEtB,cAAC,GAAD,CACE+D,SAAUA,GACVkD,OAAQA,EACRgU,UAAWA,EACXnX,UAAWA,EACX/J,MAAOA,EACPyK,YAAaA,EACbL,UAAWA,GACXD,gBAAiBA,EACjBL,oBAAqBA,EACrB8sB,aAAcA,EACdpxB,iBAAkBA,EAClB8D,QAASA,GACTivB,WAAYA,GACZzyB,UAAWA,GACXwyB,aAAcA,GACdvyB,WAAYA,GACZ8wB,cAAeA,GACf2B,kBAAmBA,EACnBxyB,qBAAsBA,EACtBqb,SAAUA,EACVvjB,KAAMA,IAER,cAAC,GAAD,CACEkM,SAAUA,GACVuwB,aAAcA,EACd10B,iBAAkBA,EAClBoE,oBAAqBA,EACrBC,eAAgBA,EAChBE,UAAWA,GACXpK,MAAOA,EACPmK,gBAAiBA,EACjBL,oBAAqBA,EACrB+sB,cAAeA,GACfvtB,QAASA,GACTxL,KAAMA,UAQZ,cAAC,GAAD,CAASP,MAAO,CAAEuL,MAAO,QAAS6E,OAAQ,gB,wDClMrCo3B,GATK,SAAC,GAAiE,IAApDC,EAAmD,EAA9DC,UAA6BC,GAAiC,EAAxCC,MAAwC,EAAjCD,SAASE,EAAwB,EAAxBA,SAAaC,EAAW,mBAEnF,OACE,cAAC,IAAD,2BAAWA,GAAX,aACGH,EAAU,cAACF,EAAD,eAAeK,IAAW,cAAC,IAAD,CAAUtiC,GAAIqiC,Q,oBCP1C,OAA0B,uCCA1B,OAA0B,0C,qBCsC1BnkB,GAbM,SAAChU,EAAOiU,EAAWC,EAAgB3f,GACtD,MAAsCxD,oBAAS,GAA/C,mBAAOsM,EAAP,KAAoBC,EAApB,KAEAlO,qBAAU,WACR,GAAIiO,GAAe2C,EAAM6kB,aAAe,EAAG,CACzC,IAAI5kB,EA3BQ,SAACD,EAAOzL,GACxB,IAAI0L,EAAS,IAAIK,UAAOiU,OAAOhgB,EAAI,CACjCsH,MAAOmE,EAAM6kB,aACbnkB,OAAQV,EAAM8kB,cACdpV,gBAAiB,sBACjB8E,wBAAwB,EACxBC,gBAAgB,EAChBC,iBAAiB,EACjB/W,WAAW,IAET8Q,EAAQ5c,KAAK6c,IACf1O,EAAMnE,MAAQmE,EAAM6kB,aACpB7kB,EAAMU,OAASV,EAAM8kB,eAOvB,OALA7kB,EAAO0I,QAAQ8F,GACfxO,EAAO4O,cAAc,CACnBhT,MAAOmE,EAAMnE,MACb6E,OAAQV,EAAMU,SAETT,EAQU+U,CAAUhV,EAAOzL,GAC9B0f,EAAUhU,GACViU,GAAe,GACf5W,GAAe,MAEhB,CAAC2W,EAAWC,EAAgBlU,EAAO3C,EAAa9I,KCsCtC0gB,GAtEK,SAACxmB,EAAOwR,EAAQzC,EAAa66B,GAC/C,MAAoCtnC,oBAAS,GAA7C,mBAAOqkB,EAAP,KAAmBC,EAAnB,KACMjkB,EAAY/D,kBAAO,GACnBioB,EAAWjoB,iBAAO,MACxB+B,qBAAU,kBAAM,kBAAOgC,EAAUvD,SAAU,KAAQ,IAEnD,IAAMyqC,EAAkB9qC,uBAAY,WAElC8S,UAAOkV,KAAKM,gBAAgBR,EAASznB,SACrCynB,EAASznB,QAAU,KACfoS,GAAQA,EAAOsB,qBAClB,CAACtB,IAEEsV,EAAU/nB,uBAAY,WAM1B8S,UAAOkV,KAAKC,kBALG,SAATC,IACJzV,EAAOsB,mBAEP+T,EAASznB,QAAUyS,UAAOkV,KAAKC,iBAAiBC,QAGjD,CAACzV,IAEE0V,EAAWnoB,uBAAY,SAACiB,GAO5B,OANkB,IAAI6R,UAAOuV,MAAMpnB,EAAO,CACxCgS,IAAK,EACLD,KAAM,EAEN4Q,iBAAiB,MAGlB,IAEHhiB,qBAAU,WACJgmB,GACFzjB,YAAW,WACLP,EAAUvD,SAASyqC,MACtB,OAEJ,CAACA,EAAiBljB,IAErBhmB,qBAAU,WACR,OAAO,YACAgC,EAAUvD,SAAWynB,EAASznB,SACjCyS,UAAOkV,KAAKM,gBAAgBR,EAASznB,YAGxC,IAEHuB,qBAAU,WACR,GAAIgmB,GAAc3mB,GAASwR,EAAQ,CACjCoV,GAAc,GACd5mB,EAAM+O,YAAcA,EAAc,EAAIA,EAAc,KACpD,IAAI+6B,EAAc5iB,EAASlnB,GAC3BwR,EAAOlS,IAAIwqC,GACXA,EAAYC,SAAU,EACtBD,EAAY7mB,YAAa,EACzB2mB,EAASE,GACThjB,OAED,CACD9mB,EACAwR,EACAmV,EACA5X,EACA+X,EACA8iB,EACA1iB,KC3DWnG,GAPS,SAACxP,EAAOE,EAAUD,GACxC7Q,qBAAU,WACJ4Q,EAAMyP,oBCLmB,SAACzP,EAAOC,EAAQC,GAC/CD,EAAOyP,gBAAkB1P,EAAM0P,gBAC/BzP,EAAOsB,mBACPrB,EAAS,CAAE1R,KAAM,wBAAyB4F,MAAM,IAChD8L,EAAS,CAAE1R,KAAM,yBAA0B4F,MAAM,IDCjBub,CAAkB3P,EAAOC,EAAQC,GAC3DF,EAAMmM,wBCCkB,SAACnM,EAAOC,EAAQC,GAC9CD,EAAO0F,sBACP,IAAI8I,EAAQ5c,KAAK6c,IACf1O,EAAMnE,MAAQmE,EAAM6kB,aACpB7kB,EAAMU,OAASV,EAAM8kB,eAEvB7kB,EAAO0I,QAAQ8F,GACfxO,EAAO4O,cAAc,CACnBhT,MAAOmE,EAAMnE,MACb6E,OAAQV,EAAMU,SAEhBT,EAAOsB,mBACPrB,EAAS,CAAE1R,KAAM,4BAA6B4F,MAAM,IACpD8L,EAAS,CAAE1R,KAAM,yBAA0B4F,MAAM,IDdb0b,CAAiB9P,EAAOC,EAAQC,KACjE,CAACF,EAAOE,EAAUD,KEJRw4B,GADS34B,wBAAc,MC8CvB44B,GA5CM,SACnBz4B,EACAgE,EACAxV,EACAkiB,EACAE,EACAD,EACAE,GAEA,MAA4C5M,qBAAWu0B,IAA/CE,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBAGvBxpC,qBAAU,WACJX,GAASkqC,EAAcE,mBACzBD,EAAiB,CAAEpqC,KAAM,sBAAuB4F,MAAM,IACtDsc,GAAWC,EAAQC,EAAO3Q,EAAQ4Q,EAAWC,EAAariB,MAE3D,CACDkiB,EACAgoB,EACAC,EACA34B,EACAxR,EACAoiB,EACAD,EACAE,IAIF1hB,qBAAU,WACR,GAAIX,GAASkqC,EAAcG,oBAAqB,CAC9CF,EAAiB,CAAEpqC,KAAM,yBAA0B4F,MAAM,IACzD,IAAIqD,EAASwI,EAAO2B,kBAChBnK,IACFwI,EAAO5R,OAAOoJ,GACdoZ,GAAU,SAACpf,GAAD,OACRA,EAAUsjB,QAAO,SAAC/E,GAAD,OAASA,EAAIzb,KAAOkD,EAAOlD,SAE9C0L,EAAOsB,uBAGV,CAACo3B,EAAeC,EAAkB34B,EAAQxR,EAAOoiB,KCDvCkoB,GApCQ,SAAC,GASjB,IARL94B,EAQI,EARJA,OACAgU,EAOI,EAPJA,UACAwG,EAMI,EANJA,YACAue,EAKI,EALJA,eACAj8B,EAII,EAJJA,SACA8T,EAGI,EAHJA,UACA/hB,EAEI,EAFJA,SACA6hB,EACI,EADJA,OAEA,EAAsC5f,mBAAS,MAA/C,mBAAOkT,EAAP,KAAoBiQ,EAApB,KACA,EAA0BnjB,mBAAS,MAAnC,mBAAOtC,EAAP,KAAc4pC,EAAd,KACA,EAA0BtnC,mBAAS,GAAnC,mBAAO6f,EAAP,KAAcqoB,EAAd,KACMnoB,EAActjB,uBAAY,kBAAMyrC,GAAS,SAAC3hC,GAAD,OAAOA,EAAI,OAAI,IAgB9D,OAdA8Q,GAAcqS,EAAaxW,EAAahE,EAAQ,KAAM,MACtDuP,GAAgBiL,EAAaue,EAAgB/4B,GAC7C+T,GAAayG,EAAaxG,EAAWC,EAAgB,iBACrDe,GAAYlY,EAASlP,QAASoS,EAAQnR,EAAW,GAAIupC,GACrDK,GACEz4B,EACAgE,EACAxV,EACAkiB,EACAE,EACAD,EACAE,GAIA,qBAAKthB,UAAWxB,KAAOumB,OAAvB,SACE,wBAAQhgB,GAAG,qBCrCX8vB,GAAe,CACnBQ,aAAc,EACdC,cAAe,EACfjpB,MAAO,EACP6E,OAAQ,EACR+O,oBAAoB,EACpBtD,wBAAwB,EACxB0sB,kBAAkB,EAClBC,qBAAqB,GAGjBxU,GAAU,SAACtkB,EAAOukB,GACtB,OAAQA,EAAO/1B,MACb,IAAK,gBACH,OAAO,2BACFwR,GADL,IAEEmM,wBAAwB,EACxBtQ,MAAO0oB,EAAOnwB,KAAKyH,MACnB6E,OAAQ6jB,EAAOnwB,KAAKsM,SAExB,IAAK,uBACH,OAAO,2BACFV,GADL,IAEE6kB,aAAcN,EAAOnwB,KAAKywB,aAC1BC,cAAeP,EAAOnwB,KAAK0wB,cAC3BjpB,MAAO0oB,EAAOnwB,KAAKyH,MACnB6E,OAAQ6jB,EAAOnwB,KAAKsM,SAExB,IAAK,wBACH,OAAO,2BAAKV,GAAZ,IAAmByP,mBAAoB8U,EAAOnwB,OAChD,IAAK,4BACH,OAAO,2BAAK4L,GAAZ,IAAmBmM,uBAAwBoY,EAAOnwB,OACpD,IAAK,sBACH,OAAO,2BAAK4L,GAAZ,IAAmB64B,iBAAkBtU,EAAOnwB,OAC9C,IAAK,yBACH,OAAO,2BAAK4L,GAAZ,IAAmB84B,oBAAqBvU,EAAOnwB,OACjD,QACE,OAAO4L,IASEk5B,GALU,WACvB,MAAwCzU,qBAAWH,GAASD,IAA5D,mBACA,MAAO,CADP,YCAasE,GAzCU,SAACwQ,EAAWj5B,EAAU0oB,GAC7C,MAAsC73B,oBAAS,GAA/C,mBAAOsM,EAAP,KAAoBC,EAApB,KACA,EAA0CvM,mBAAS,MAAnD,mBAAOqoC,EAAP,KAAsBC,EAAtB,KAGMC,EAAa9rC,uBAAY,YCRD,SAC9Bo7B,EACAyQ,EACAlQ,GAEA,IAAIttB,EACFutB,OAAOC,WAAaT,EAAa/6B,QAAQy7B,WAAaH,EACpDzoB,EAASkoB,EAAa/6B,QAAQw0B,aAC9BxmB,EAAQ,MACV6E,EAAmB,IAATA,EAAgB7E,EAC1BA,EAAQ,KAEVw9B,EAAiB,CAAEx9B,QAAO6E,WDHxB8oB,CAAiBZ,EAAcyQ,EAHR,OAItB,CAACzQ,EAAcyQ,EAJO,MAMzBjqC,qBAAU,WACRkqC,MACC,CAACA,IAEJlqC,qBAAU,WAER,OADAg6B,OAAO95B,iBAAiB,SAAUgqC,GAC3B,kBAAMlQ,OAAO75B,oBAAoB,SAAU+pC,MACjD,CAACA,IAEJlqC,qBAAU,WACR,GAAI+pC,GAAaC,EAAe,CAC9B,IAAIv9B,EAAQu9B,EAAcv9B,MACtB6E,EAAUy4B,EAAUz4B,OAAS7E,EAASs9B,EAAUt9B,MAChD0L,EAAY1L,EAAQ,IACpBwB,GAAekK,GACjBjK,GAAe,GACf4C,EAAS,CACP1R,KAAM,uBACN4F,KAAM,CACJywB,aAAcsU,EAAUt9B,MACxBipB,cAAeqU,EAAUz4B,OACzB7E,QACA6E,aAGK6G,GACTrH,EAAS,CAAE1R,KAAM,gBAAiB4F,KAAM,CAAEyH,QAAO6E,eAGpD,CAACrD,EAAa+7B,EAAeD,EAAWj5B,KEmF9Bq5B,GAhHQ,SAAC,GAAgC,IAA9BzkC,EAA6B,EAA7BA,UAAW0kC,EAAkB,EAAlBA,YACnC,EAA0CN,KAA1C,mBAAOP,EAAP,KAAsBC,EAAtB,KACM1jC,EAAUC,cAChB,EAA4BpE,mBAAS,MAArC,mBAAOkP,EAAP,KAAegU,EAAf,KACM2U,EAAev7B,iBAAO,MACtB0P,EAAW1P,iBAAO,MACxB,EAAkC0D,mBAAS,MAA3C,mBAAOooC,EAAP,KAAkBM,EAAlB,KACA,EAA4B1oC,mBAAS,IAArC,mBAAO4f,EAAP,KAAeE,EAAf,KAEAzhB,qBAAU,WACRoqC,EAAY,MACX,CAACA,IAEJ7Q,GACEwQ,EACAP,EACAhQ,GAgCF,OACE,qCACE,cAAC,EAAD,CAAQ9zB,UAAWA,IACnB,cAAC,GAAgBi4B,SAAjB,CAA0B7xB,MAAO,CAAEy9B,gBAAeC,oBAAlD,SACE,sBAAKppC,UAAWxB,KAAOurC,eAAgB7pC,IAAKk5B,EAA5C,UACE,oBAAIp5B,UAAWxB,KAAOiE,QAAtB,uCACA,cAAC,GAAD,CACEgO,OAAQA,EACRgU,UAAWA,EACXwG,YAAake,EACbK,eAAgBJ,EAChB77B,SAAUA,EACV4T,OAAQA,EACRE,UAAWA,EACX/hB,SAAUgG,EAAYA,EAAUhG,SAAW,OAE7C,uBACEC,IAAK+F,EAAYA,EAAUL,IAAM,KACjCoH,MAAOs9B,EAAYA,EAAUt9B,MAAQ,EACrC6E,OAAQy4B,EAAYA,EAAUz4B,OAAS,EACvCnM,GAAG,QACH3F,QAAQ,OACRY,UAAWxB,KAAO6nB,MAClBnmB,IAAKqN,EACL8wB,iBAAkB,kBDrEF,SAAC9wB,EAAU08B,GAGrCA,EAAa,CAAE59B,MAFHkB,EAASlP,QAAQ8gB,WAEPjO,OADT3D,EAASlP,QAAQ+gB,cCmEI8qB,CAAa38B,EAAU08B,MAEjD,oBAAGjqC,UAAWxB,KAAO2rC,aAArB,UACE,sBAAMnqC,UAAWxB,KAAO4rC,eAAxB,SAAyCjpB,EAAOpZ,SADlD,kBAEgC,IAAlBoZ,EAAOpZ,OAAe,IAAM,GAF1C,gBAIA,sBAAK/H,UAAWxB,KAAO6rC,eAAvB,UACE,sBAAKrqC,UAAWxB,KAAO8rC,iBAAvB,UACE,wBACEtqC,UAAWxB,KAAO+rC,YAClBnqC,QA/DY,WACxBgpC,EAAiB,CAAEpqC,KAAM,sBAAuB4F,MAAM,KA4D5C,SAIE,qBAAKrF,IAAK2hB,GAAY1gB,IAAI,UAE5B,mBAAGR,UAAWxB,KAAOgsC,gBAArB,6BAEF,sBAAKxqC,UAAWxB,KAAOisC,oBAAvB,UACE,wBACEzqC,UAAWxB,KAAOksC,eAClBtqC,QApEe,WAC3BgpC,EAAiB,CAAEpqC,KAAM,yBAA0B4F,MAAM,KAiE/C,SAIE,qBAAKrF,IAAKorC,GAAenqC,IAAI,UAE/B,mBAAGR,UAAWxB,KAAOosC,mBAArB,0BAGJ,sBAAK5qC,UAAWxB,KAAOqsC,UAAvB,UACE,wBAAQ7qC,UAAWxB,KAAOssC,QAAS1qC,QAxEtB,WAErB,IADA,IAAIoH,EAAM,GACDM,EAAI,EAAGA,EAAIqZ,EAAOpZ,OAAQD,IAAK,CACtC,IAAM0Y,EAAMW,EAAOrZ,GACfoc,EAAI1D,EAAInU,MAAQmU,EAAI/N,OACpB0R,EAAI3D,EAAItP,OAASsP,EAAIrD,OACrB7E,EAAIkI,EAAI5M,WAAWmf,GAAGza,EAAI7H,EAAOgF,UACjC+C,EAAIgI,EAAI5M,WAAWsf,GAAG1a,EAAI/H,EAAOgF,UACrCjO,EAAIW,KAAK,CAAEmQ,IAAGE,IAAG0L,IAAGC,MAEtB6lB,EAAYxiC,GACZ9B,EAAQyC,KAAR,kBAAwB7C,EAAUP,MA6D1B,qBAGA,wBAAQ/E,UAAWxB,KAAOusC,KAAM3qC,QA5DtB,WAClB4pC,EAAY,CAAC,CAAE1xB,EAAG,EAAGE,EAAG,EAAG0L,EAAGylB,EAAUt9B,MAAO8X,EAAGwlB,EAAUz4B,UAC5DxL,EAAQyC,KAAR,kBAAwB7C,EAAUP,MA0D1B,8BCtCGimC,GAnEA,WACb,MAA4CzpC,mBAAS,MAArD,mBAAOuF,EAAP,KAAuBpJ,EAAvB,KACA,EAA4D6D,oBAAS,GAArE,mBAAO0pC,EAAP,KAA+BC,EAA/B,KACA,EAAkC3pC,mBAAS,MAA3C,mBAAO+D,EAAP,KAAkByB,EAAlB,KACA,EAAgCxF,mBAAS,IAAzC,mBAAOqjB,EAAP,KAAiBolB,EAAjB,KACMtN,EAAQyO,cACR5nC,EAAQ1F,iBAAO,MAEfutC,EAAaptC,uBAAY,WAC7BktC,GAA0B,GAC1BxtC,EAAkB,MAClBssC,EAAY,IACZjjC,EAAa,QACZ,IAEH,OACE,qBAAK/G,UAAWxB,IAAOwsC,OAAvB,SACE,eAAC,IAAD,WACE,cAAC,GAAD,CACExiB,KAAI,UAAKkU,EAAMlU,KAAX,QACJmgB,SAAQ,UAAKjM,EAAMlU,KAAX,aAGRkgB,MAAM,0BACND,SAAUwC,EACVzC,UAAW3hC,EAEXC,eAAgBA,EAChBpJ,kBAAmBA,EACnB4D,cAAe4pC,EACfnkC,aAAcA,EACdqkC,WAAYA,EACZC,SAAU9nC,IAEZ,cAAC,GAAD,CACEilB,KAAI,UAAKkU,EAAMlU,KAAX,aACJmgB,SAAQ,QACRD,MAAM,+BACND,QAASwC,EACTzC,UAAWuB,GACXzkC,UAAWA,EACX0kC,YAAaA,IAEf,cAAC,GAAD,CACExhB,KAAI,UAAKkU,EAAMlU,KAAX,QACJmgB,SAAQ,QACRD,MAAM,iCACND,SAAS,EACTD,UAAWb,GACX/iB,SAAUA,IAYZ,cAAC,IAAD,CAAUte,GAAE,UAAKo2B,EAAMlU,KAAX,gB,oBCtEL,OAA0B,iCCA1B,OAA0B,kC,oBCA1B,OAA0B,mC,qBCW1Bob,GARA,SAAC,GAA2B,IAAzBv+B,EAAwB,EAAxBA,SAAUjF,EAAc,EAAdA,QAC1B,OACE,wBAAQA,QAASA,EAASJ,UAAWxB,KAAOolC,OAA5C,SACGv+B,K,oBCOQimC,GAVJ,WACT,OACE,sBAAKtrC,UAAWxB,KAAO8sC,GAAvB,UACE,qBAAKtrC,UAAWxB,KAAOqT,OACvB,sBAAM7R,UAAWxB,KAAOyR,KAAxB,gBACA,qBAAKjQ,UAAWxB,KAAOqT,W,oBCiCd05B,GAtCD,SAAC,GAOR,IANLz7B,EAMI,EANJA,YACA9Q,EAKI,EALJA,KACAwsC,EAII,EAJJA,QACAC,EAGI,EAHJA,SACA//B,EAEI,EAFJA,MACAggC,EACI,EADJA,aAYA,OACE,sBAAK1rC,UAAWxB,KAAOmtC,eAAvB,UACE,uBACE3rC,UAAW,CAACxB,KAAO+sC,MAAOC,EAAUhtC,KAAOotC,QAAU,MAAMj/B,KAAK,KAChEmD,YAAaA,EACb9Q,KAAMA,EACN0M,MAAOA,EACPC,OAjBc,WAClB,IAAIkgC,EAA2B,KAAjBngC,EAAMb,OAChB2gC,IAAYK,GACdJ,GAAS,SAACxpC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,QAehDM,QAZe,WACfN,GAASC,GAAS,SAACxpC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCyJ,MAAO,SAYzD1K,SAAU,SAAC/C,GAAD,OACRwtC,GAAS,SAACxpC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCyJ,MAAOzN,EAAEyM,OAAOgB,cAG5D8/B,EACC,qBAAKxrC,UAAWxB,KAAOutC,aAAvB,SAAsCL,IACpC,S,oBCpCK,OAA0B,iCC2B1BM,GArBG,WAMhB,OACE,sBAAKhsC,UAAWxB,KAAOwtC,UAAvB,UACE,qBAAKzsC,IAAK0sC,GAAMzrC,IAAI,OAAOR,UAAWxB,KAAO0tC,OAC7C,oBAAIlsC,UAAWxB,KAAOiE,QAAtB,8BACA,mBAAGzC,UAAWxB,KAAOqE,WAArB,+FChBOspC,GAAqB,SAACzgC,GACjC,MAAO,6BAA6B0gC,KAAK1gC,ICmD5B2gC,GAjDM,WACnB,MAAkC9qC,mBAAS,MAA3C,mBAAO+qC,EAAP,KAAkBC,EAAlB,KACA,EAAsChrC,mBAAS,MAA/C,mBAAOirC,EAAP,KAAoBC,EAApB,KACM7qC,EAAY/D,kBAAO,GACnB6uC,EAAiB1uC,uBAAY,SAAC4G,GAClC,OAAO,IAAId,SAAQ,SAACC,EAASC,GAC3BjB,EACGkB,KAAK,mBAAoBW,EAAM,CAC9BV,QAAS,CACP,eAAgB,sBAGnBE,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGooC,EAAY3uC,sBAAW,uCAC3B,WAAO4G,GAAP,eAAAH,EAAA,6DACE8nC,EAAa,MACbE,EAAe,MAFjB,kBAIsBC,EAAe9nC,GAJrC,OAIUP,EAJV,OAKIK,QAAQC,IAAIN,GACRzC,EAAUvD,SACZkuC,EAAaloC,EAAIO,MAPvB,kDAUI6nC,EAAe,EAAD,IACd/nC,QAAQC,IAAI,uCAAZ,MAXJ,4GAD2B,sDAiB3B,CAAC+nC,IAQH,OALA9sC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAEsuC,YAAWL,YAAWE,gBCmClBI,GAxEA,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,QAASC,EAAkD,EAAlDA,UAAWC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,mBAClD,EAA8CX,KAAtCM,EAAR,EAAQA,UAAWL,EAAnB,EAAmBA,UAAWE,EAA9B,EAA8BA,YAC9B,EAA4BjrC,oBAAS,GAArC,mBAAO0rC,EAAP,KAAeC,EAAf,KACA,EAA0B3rC,mBAAS,CACjCmK,MAAO,GACP8/B,SAAS,EACTxsC,KAAM,QACN8Q,YAAa,gBACbq9B,YAAY,EACZzB,aAAc,4BANhB,mBAAO0B,EAAP,KAAcC,EAAd,KASAztC,qBAAU,WACR,IAAI0tC,EAAQC,aAAaC,QAAQ,SAC7BF,EAAON,EAAmBM,GACzBP,GAAa,KACjB,CAACC,EAAoBD,IAExBntC,qBAAU,WACJ0sC,GAAWY,GAAU,KACxB,CAACZ,IAEJ1sC,qBAAU,WACJ4sC,GACFO,GAAa,KAEd,CAACP,EAAaO,IAEjB,IAWIU,EACF,sBAAKztC,UAAWxB,KAAOouC,OAAvB,UACE,oBAAI5sC,UAAWxB,KAAOiE,QAAtB,+BACA,oBAAGzC,UAAWxB,KAAOqE,WAArB,mCACyB,IACvB,cAAC,IAAD,CAAMyD,GAAE,UAAKumC,EAAL,YAAwB7sC,UAAWxB,KAAOkI,WAAlD,iCAIF,sBAAK1G,UAAWxB,KAAOkvC,YAAvB,UACE,mBACE1tC,UAAWxB,KAAOmvC,WAClBC,KAAI,UAAK1qC,8BAAL,uBAFN,SAIE,eAAC,GAAD,WACE,qBAAK3D,IAAKke,GAAQjd,IAAI,SAASR,UAAWxB,KAAOqvC,aADnD,4BAKF,cAAC,GAAD,IACA,uBAAM7tC,UAAWxB,KAAOsvC,KAAxB,UACE,cAAC,GAAD,2BAAWV,GAAX,IAAkB3B,SAAU4B,KAC5B,cAAC,GAAD,CAAQjtC,QAjCW,SAACnC,GAG1B,GAFAA,EAAEC,iBACYiuC,GAAmBiB,EAAM1hC,OAElC,CACHqhC,GAAa,GACb,IAAIjH,EAAWC,KAAKC,UAAU,CAAEoH,MAAOA,EAAM1hC,QAC7CihC,EAAU7G,QAJEuH,GAAS,SAACprC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,QA8B1D,8BAQR,OAHIsB,IACFW,EAAgB,cAAC,GAAD,CAAS3sC,MAAO,CAAEuL,MAAO,QAAS6E,OAAQ,YAEpD+7B,EAAyB,cAAC,GAAD,IAAhBQ,G,wCCjFJ,OAA0B,sC,oBCA1B,OAA0B,sCCqC1BjY,GAjCE,SAAC,GAAiD,IAA/C5M,EAA8C,EAA9CA,QAASld,EAAqC,EAArCA,MAAO+/B,EAA8B,EAA9BA,SAAUsC,EAAoB,EAApBA,cACtCxlB,EAAevqB,uBAAY,kBAAM+vC,GAAc,KAAQ,CAACA,IAO9D,OALAnuC,qBAAU,WAER,OADAV,SAASY,iBAAiB,QAASyoB,GAC5B,kBAAMrpB,SAASa,oBAAoB,QAASwoB,MAClD,CAACA,IAGF,oBAAIvoB,UAAWxB,KAAOg3B,SAAtB,SACG5M,EAAQ1d,KAAI,SAAC8iC,GACZ,IAAI7iC,EAAYO,GAASA,EAAM3G,KAAOipC,EAAOjpC,GAC7C,OACE,qBAEEA,GAAIipC,EAAOjpC,GACX/E,UAAW,CAACxB,KAAO+1B,OAAQppB,EAAY3M,KAAO+qB,QAAU,MAAM5c,KAC5D,KAEFvM,QAAS,kBAAMqrC,GAAS,SAACxpC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCyJ,MAAOsiC,QANjE,UAQE,sBAAMhuC,UAAWxB,KAAOyvC,UAAxB,SACG9iC,EAAY,qBAAK5L,IAAK2uC,GAAW1tC,IAAI,eAAkB,OAGzDwtC,EAAOhvC,OAXHgvC,EAAOjpC,UC0BTopC,GAvCA,SAAC,GAAyD,IAAvDvlB,EAAsD,EAAtDA,QAAS4iB,EAA6C,EAA7CA,QAAS9/B,EAAoC,EAApCA,MAAO+/B,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aACnD,EAAoCnqC,mBAAS,MAA7C,mBAAO6sC,EAAP,KAAmBL,EAAnB,KAOA,OACE,sBAAK/tC,UAAWxB,KAAO6vC,gBAAvB,UACE,sBACEruC,UAAW,CAACxB,KAAO2vC,OAAQ3C,EAAUhtC,KAAOotC,QAAU,MAAMj/B,KAAK,KACjEvM,QATe,WACforC,GAASC,GAAS,SAACxpC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,OAC/DuC,GAAc,IAKZ,UAIE,mBACE/tC,UAAW,CACTxB,KAAO8vC,SACM,gBAAb5iC,EAAM3G,GAAuBvG,KAAO+vC,MAAQ,MAC5C5hC,KAAK,KAJT,SAMGjB,EAAM1M,OAET,qBAAKO,IAAKiuB,GAAWhtB,IAAI,UACxB4tC,EACC,cAAC,GAAD,CACExlB,QAASA,EACTld,MAAOA,EACP+/B,SAAUA,EACVsC,cAAeA,IAEf,QAELvC,EACC,qBAAKxrC,UAAWxB,KAAOutC,aAAvB,SAAsCL,IACpC,SCoFK8C,GA9GA,SAAC,GAA8D,IAA5D3B,EAA2D,EAA3DA,QAASC,EAAkD,EAAlDA,UAAWC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,mBAClD,EAA4BzrC,oBAAS,GAArC,mBAAO0rC,EAAP,KAAeC,EAAf,KACA,EAA8Cb,KAAtCM,EAAR,EAAQA,UAAWL,EAAnB,EAAmBA,UAAWE,EAA9B,EAA8BA,YAC9B,EAAwBjrC,mBAAS,CAC/BmK,MAAO,GACP8/B,SAAS,EACTxsC,KAAM,OACN8Q,YAAa,aACb47B,aAAc,2BALhB,mBAAOxW,EAAP,KAAauZ,EAAb,KAQA,EAA0BltC,mBAAS,CACjCmK,MAAO,GACP8/B,SAAS,EACTxsC,KAAM,QACN8Q,YAAa,gBACb47B,aAAc,4BALhB,mBAAO0B,EAAP,KAAcC,EAAd,KAQA,EAAgC9rC,mBAAS,CACvCmK,MAAO,CAAE1M,KAAM,+BAAgC+F,GAAI,eACnD6jB,QAAS,CACP,CAAE5pB,KAAM,+BAAgC+F,GAAI,eAC5C,CAAE/F,KAAM,YAAa+F,GAAI,aACzB,CAAE/F,KAAM,SAAU+F,GAAI,UACtB,CAAE/F,KAAM,aAAc+F,GAAI,cAC1B,CAAE/F,KAAM,iBAAkB+F,GAAI,iBAC9B,CAAE/F,KAAM,UAAW+F,GAAI,WACvB,CAAE/F,KAAM,QAAS+F,GAAI,UAEvBymC,SAAS,EACTE,aAAc,+BAZhB,mBAAOgD,EAAP,KAAiBC,EAAjB,KAeA/uC,qBAAU,WACR,IAAI0tC,EAAQC,aAAaC,QAAQ,SAC7BF,EACFN,EAAmBM,GACdP,GAAa,KACnB,CAACC,EAAoBD,IAExBntC,qBAAU,WACJ0sC,GAAWY,GAAU,KACxB,CAACZ,IAEJ1sC,qBAAU,WACJ4sC,GACFO,GAAa,KAEd,CAACP,EAAaO,IAEjB,IAuBI6B,EACF,sBAAK5uC,UAAWxB,KAAOgwC,OAAvB,UACE,oBAAIxuC,UAAWxB,KAAOiE,QAAtB,4BACA,oBAAGzC,UAAWxB,KAAOqE,WAArB,qCAC2B,IACzB,cAAC,IAAD,CAAMyD,GAAE,UAAKumC,EAAL,YAAwB7sC,UAAWxB,KAAOqwC,WAAlD,wBAIF,sBAAK7uC,UAAWxB,KAAOkvC,YAAvB,UACE,mBACE1tC,UAAWxB,KAAOmvC,WAClBC,KAAI,UAAK1qC,8BAAL,uBAFN,SAIE,eAAC,GAAD,WACE,qBAAK3D,IAAKke,GAAQjd,IAAI,SAASR,UAAWxB,KAAOqvC,aADnD,2BAKF,cAAC,GAAD,IACA,uBAAM7tC,UAAWxB,KAAOsvC,KAAxB,UACE,cAAC,GAAD,2BAAW5Y,GAAX,IAAiBuW,SAAUgD,KAC3B,cAAC,GAAD,2BAAWrB,GAAX,IAAkB3B,SAAU4B,KAC5B,cAAC,GAAD,2BAAYqB,GAAZ,IAAsBjD,SAAUkD,KAChC,cAAC,GAAD,CAAQvuC,QA/CkB,SAACnC,GACjCA,EAAEC,iBACF,IAAI4wC,EAAe3C,GAAmBiB,EAAM1hC,OACxCqjC,EAAoC,KAAtB7Z,EAAKxpB,MAAMb,OACzBmkC,EAAwC,gBAAtBN,EAAShjC,MAAM3G,GAQrC,GAPK+pC,GACHzB,GAAS,SAACprC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,OAE/CuD,GAAaN,GAAQ,SAACxsC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,OAC9DwD,GACHL,GAAY,SAAC1sC,GAAD,mBAAC,eAAoBA,GAArB,IAAgCupC,SAAS,OAEnDsD,GAAgBC,GAAeC,EAAiB,CAClDjC,GAAa,GACb,IAAIjH,EAAWC,KAAKC,UAAU,CAC5BoH,MAAOA,EAAM1hC,MACbujC,UAAW/Z,EAAKxpB,MAChBgjC,SAAUA,EAAShjC,MAAM1M,OAE3B2tC,EAAU7G,KA4BN,qCASR,OAHIgH,IACF8B,EAAgB,cAAC,GAAD,CAAS9tC,MAAO,CAAEuL,MAAO,QAAS6E,OAAQ,YAEpD+7B,EAAyB,cAAC,GAAD,IAAhB2B,G,qBCxFJM,GA3BD,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACTzS,EAAQyO,cACRiE,EAAWC,cACX3pC,EAAUC,cAChB,EAAsCpE,oBAAS,GAA/C,mBAAOsM,EAAP,KAAoBC,EAApB,KACMwhC,EAAWtxC,uBAAY,WAC3B,OAAO,IAAIuxC,gBAAgBH,EAASp/B,QAAQqrB,IAAI,WAC/C,CAAC+T,IAaJ,OAXAxvC,qBAAU,WACR,GAAIiO,EAAa,CACfC,GAAe,GACf,IAAI0hC,EAAaF,IACbE,GACFjC,aAAakC,QAAQ,QAASD,GAC9BL,EAASK,IACJ9pC,EAAQyC,KAAR,UAAgBu0B,EAAMlU,KAAtB,gBAER,CAAC8mB,EAAUH,EAAUzpC,EAASg3B,EAAO7uB,IAGtC,qBAAK7N,UAAWxB,KAAO0wC,MAAvB,SACE,cAAC,GAAD,CAASpuC,MAAO,CAAEuL,MAAO,QAAS6E,OAAQ,cCrBjCw+B,GAJM,SAACpC,GACpBxqC,EAAS6sC,SAASzrC,QAAQ0rC,OAA1B,+BAA8DtC,IC0CjDuC,GA1CS,WACtB,MAAgCtuC,mBAAS,MAAzC,mBAAOuuC,EAAP,KAAiBC,EAAjB,KACA,EAAwCxuC,mBAAS,MAAjD,mBAAOyuC,EAAP,KAAqBC,EAArB,KACMruC,EAAY/D,kBAAO,GACnBqyC,EAAoBlyC,uBAAY,WACpC,OAAO,IAAI8F,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IAAI,kBACJj3B,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG4rC,EAAenyC,sBAAW,sBAAC,4BAAAyG,EAAA,6DAC/BsrC,EAAY,MACZE,EAAgB,MAFe,kBAIXC,IAJW,OAIvB7rC,EAJuB,OAK7BK,QAAQC,IAAIN,GACRzC,EAAUvD,SACZ0xC,EAAY1rC,EAAIO,KAAKwrC,aAPM,kDAU7BH,EAAgB,EAAD,IACfvrC,QAAQC,IAAI,yBAAZ,MAX6B,4GAe9B,CAACurC,IAOJ,OALAtwC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAE8xC,eAAcL,WAAUE,iBCvCpBK,GADK//B,wBAAc,MCyFnBggC,GAzEF,WACX,IAAQC,EAAiB77B,qBAAW27B,IAA5BE,aACR,EAAiDV,KAAzCM,EAAR,EAAQA,aAAcL,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,aAChC,EAA0BzuC,mBAAS,MAAnC,mBAAO+rC,EAAP,KAAc6B,EAAd,KACA,EAAkC5tC,oBAAS,GAA3C,mBAAOurC,EAAP,KAAkBC,EAAlB,KACMrQ,EAAQyO,cACRzlC,EAAUC,cACVqnC,EAAqBhvC,uBACzB,SAACsvC,GACCP,GAAa,GACb2C,GAAapC,GACb6C,MAEF,CAACA,IAmBH,OAhBAvwC,qBAAU,WACJkwC,GACFvC,aAAakC,QAAQ,QAASK,GAC9BJ,GAAaI,GACbS,EAAa,CAAEvxC,KAAM,qBAAsB4F,MAAM,KACxCorC,IACTzC,aAAaiD,WAAW,SACxBzD,GAAa,GACbrnC,EAAQi6B,QAAR,eAED,CAACmQ,EAAUE,EAAcO,EAAc7qC,EAASg3B,IAEnD98B,qBAAU,WACJ0tC,GAAON,EAAmBM,KAC7B,CAACA,EAAON,IAGT,sBAAKhtC,UAAWxB,KAAO8xC,KAAvB,UACE,sBAAKtwC,UAAWxB,KAAOiyC,YAAvB,UACE,qBAAKzwC,UAAWxB,KAAOkyC,aACvB,sBAAK1wC,UAAWxB,KAAOmyC,mBAAvB,UACE,qBAAKpxC,IAAK2G,GAAO1F,IAAI,QAAQR,UAAWxB,KAAOyH,QAC/C,mBAAGjG,UAAWxB,KAAOiE,QAArB,uCACA,mBAAGzC,UAAWxB,KAAOqE,WAArB,+BACA,qBAAKtD,IAAKqxC,GAAMpwC,IAAI,OAAOR,UAAWxB,KAAOqyC,eAGjD,qBAAK7wC,UAAWxB,KAAOsyC,QAAvB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,MAA5B,SACE,cAAC,GAAD,CAAO2mB,SAAUA,MAEnB,cAAC,IAAD,CAAO4B,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,YAAjB,SACE,cAAC,GAAD,CACEqkB,QAASnQ,EAAMlU,KACfukB,aAAcA,EACdD,UAAWA,EACXE,mBAAoBA,EACpBM,MAAOA,MAGX,cAAC,IAAD,CAAOyD,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,YAAjB,SACE,cAAC,GAAD,CACEqkB,QAASnQ,EAAMlU,KACfukB,aAAcA,EACdD,UAAWA,EACXE,mBAAoBA,EACpBM,MAAOA,MAGX,cAAC,IAAD,CAAUhnC,GAAE,UAAKo2B,EAAMlU,KAAX,uB,6DCpFP,OAA0B,gCCsB1B7hB,GAlBF,WACX,OACE,sBAAK3G,UAAWxB,KAAOmI,KAAvB,UACE,sBAAK3G,UAAWxB,KAAOwyC,SAAvB,UACE,qBAAKhxC,UAAWxB,KAAOyyC,SAAvB,SACE,sBAAMjxC,UAAWxB,KAAO0yC,OAAxB,iBAEF,qBAAKlxC,UAAWxB,KAAO2yC,KAAvB,uBAEF,sBAAKnxC,UAAWxB,KAAO4yC,KAAvB,UACE,qBAAK7xC,IAAK8xC,GAAK7wC,IAAI,QACnB,qBAAKjB,IAAK8xC,GAAK7wC,IAAI,QACnB,qBAAKjB,IAAK8xC,GAAK7wC,IAAI,eChBZ,OAA0B,sCCA1B,OAA0B,qCCA1B,OAA0B,qCC+C1B8wC,GAvCI,WACjB,IAAM5U,EAAQyO,cAEd,OACE,sBAAKnrC,UAAWxB,KAAO8yC,WAAvB,UACE,cAAC,GAAD,IACA,sBAAKtxC,UAAWxB,KAAO+yC,MAAvB,UACE,eAAC,IAAD,CACEjrC,GAAE,UAAKo2B,EAAMlU,KAAX,cACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,UAME,qBAAKpgC,IAAKmyC,GAAWlxC,IAAI,cACzB,sBAAMR,UAAWxB,KAAOmzC,SAAxB,0BAEF,eAAC,IAAD,CACErrC,GAAE,UAAKo2B,EAAMlU,KAAX,aACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,UAME,qBAAKpgC,IAAKqyC,GAAUpxC,IAAI,cACxB,sBAAMR,UAAWxB,KAAOmzC,SAAxB,4BAEF,eAAC,IAAD,CACErrC,GAAE,UAAKo2B,EAAMlU,KAAX,aACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,UAME,qBAAKpgC,IAAKsyC,GAAUrxC,IAAI,cACxB,sBAAMR,UAAWxB,KAAOmzC,SAAxB,gC,oBCzBKvsC,GAXA,WAEb,OACE,wBAAQpF,UAAWxB,KAAO4G,OAA1B,SACE,eAAC,IAAD,CAAMpF,UAAWxB,KAAOszC,UAAWxrC,GAAG,cAAtC,UACE,sBAAMtG,UAAWxB,KAAOuzC,KAAxB,eADF,oB,wCCRS,OAA0B,kCCsD1BC,GAnDQ,WACrB,MAA8CzwC,oBAAS,GAAvD,mBAAO0wC,EAAP,KAAwBC,EAAxB,KACA,EAAsD3wC,mBAAS,MAA/D,mBAAO4wC,EAAP,KAA4BC,EAA5B,KACMxwC,EAAY/D,kBAAO,GAEnBw0C,EAAmBr0C,uBAAY,SAAC+G,GACpC,OAAO,IAAIjB,SAAQ,SAACC,EAASC,GAC3BjB,EACGuvC,OADH,kBACqBvtC,IAClBX,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEGguC,EAAcv0C,sBAAW,uCAC7B,WAAO+G,GAAP,eAAAN,EAAA,6DACE2tC,EAAuB,MACvBF,GAAmB,GAFrB,kBAIsBG,EAAiBttC,GAJvC,OAIUV,EAJV,OAKQzC,EAAUvD,SAAS+zC,EAAuB,WAC9C1tC,QAAQC,IAAIN,GANhB,kDAQQzC,EAAUvD,UACZ+zC,EAAuB,SACvBF,GAAmB,IAErBxtC,QAAQC,IAAI,uBAAZ,MAZJ,4GAD6B,sDAkB7B,CAAC0tC,IAQH,OALAzyC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CACL4zC,kBACAE,sBACAI,gBCkDWC,GA5FC,SAAC,GAA+B,IAA7BvzC,EAA4B,EAA5BA,MAAO4iC,EAAqB,EAArBA,eACxB,EAA0BtgC,mBAAStC,EAAMkG,OAAS,IAAlD,mBAAOsE,EAAP,KAAcC,EAAd,KACA,EAA6D09B,KAArDjC,EAAR,EAAQA,kBAAmBuC,EAA3B,EAA2BA,cAAeJ,EAA1C,EAA0CA,eAC1C,EACE0K,KADMC,EAAR,EAAQA,gBAAiBE,EAAzB,EAAyBA,oBAAqBI,EAA9C,EAA8CA,YAyC9C,OAZA3yC,qBAAU,WACJ0nC,GAA4C,kBAAnBA,EAC3BroC,EAAMkG,MAAQmiC,EAAeniC,MACD,UAAnBmiC,GAA4B59B,EAASzK,EAAMkG,SACrD,CAACmiC,EAAgBroC,IAEpBW,qBAAU,WACoB,YAAxBuyC,GACFtQ,GAAe,KAEhB,CAACsQ,EAAqBtQ,IAGvB,sBAAK7hC,UAAWxB,KAAOg0C,QAAvB,UACE,cAAC,IAAD,CACElsC,GAAE,WAAOrH,EAAMgoC,gBAA6B,UAAX,SAA/B,YAAuDhoC,EAAM+F,KAC/DhF,UAAWxB,KAAO6nB,MAClBvlB,MAAO,CAAE2xC,gBAAgB,OAAD,OAASxzC,EAAMyzC,eAAf,QAG1B,qBAAK1yC,UAAWxB,KAAOm0C,cAAvB,SACE,sBAAK3yC,UAAWxB,KAAOo0C,KAAvB,UACGzN,EACC,cAAC,GAAD,CACErkC,MAAO,CAAEuL,MAAO,OAAQ6E,OAAQ,OAAQ4xB,OAAQ,YAGlD,uBACE9iC,UAAWxB,KAAO2yC,KAClBnyC,KAAK,OACL0M,MAAOjC,EACPkC,OA9CQ,SAAC1N,GACnB,IAAIyN,EAAQzN,EAAEyM,OAAOgB,MAAMb,OACvBa,EAAM3D,OAAS,GAAK2D,IAAUzM,EAAMkG,MACtCuiC,EAAc,CACZ3iC,GAAI9F,EAAM+F,IACVG,MAAOuG,IAEJhC,EAASzK,EAAMkG,QAwCZnE,SAAU,SAAC/C,GAAD,OAAOyL,EAASzL,EAAEyM,OAAOgB,UAGvC,sBAAK1L,UAAWxB,KAAOq0C,aAAvB,UACE,mBAAG7yC,UAAWxB,KAAOs0C,KAArB,SA9DY,SAAC/a,GACrB,IAAIgb,EAAO,IAAID,KAAK/a,GAChBib,EAAMD,EAAKE,UACXC,EAAQH,EAAKI,WAAa,EAC1BC,EAAOL,EAAKM,cAIhB,MAHc,UAAML,EAAM,EAAIA,EAAM,IAAMA,EAA5B,YACZE,EAAQ,EAAIA,EAAQ,IAAMA,EADd,YAEVE,GAuDgCE,CAAcr0C,EAAMs0C,cAC/CtB,EACC,cAAC,GAAD,CACEnxC,MAAO,CACLuL,MAAO,SACP6E,OAAQ,SACRsiC,WAAY,YAIhB,qBACExzC,UAAWxB,KAAOi1C,MAClBl0C,IAAKm0C,GACLlzC,IAAI,SACJJ,QAvDa,YAEb,IADFw5B,OAAO+Z,QAAQ,kDACPpB,EAAYtzC,EAAM+F,oBCCzB4uC,GAhCE,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQhS,EAAqB,EAArBA,eAC1B,OACE,sBAAK7hC,UAAWxB,KAAOo1C,SAAvB,UACE,oBAAI5zC,UAAWxB,KAAOiE,QAAtB,yBACA,mBAAGzC,UAAWxB,KAAOqE,WAArB,0DAGA,sBAAK7C,UAAWxB,KAAOs1C,aAAvB,UACE,qBAAK9zC,UAAWxB,KAAOu1C,WAAvB,SACE,cAAC,IAAD,CAAM/zC,UAAWxB,KAAOw1C,gBAAiB1tC,GAAG,cAA5C,SACE,qBAAKtG,UAAWxB,KAAOy1C,eAAvB,SACE,mDAKLJ,EACCA,EAAO3oC,KAAI,SAACjM,GACV,OACE,qBAAKe,UAAWxB,KAAO01C,iBAAvB,SACE,cAAC,GAAD,CAASj1C,MAAOA,EAAO4iC,eAAgBA,KADK5iC,EAAM+F,QAMxD,cAAC,GAAD,CAASlE,MAAO,CAAEuL,MAAO,OAAQ6E,OAAQ,iB,wCC/BpC,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCC0D1BijC,GAjDC,WACd,OACE,sBAAKn0C,UAAWxB,KAAO21C,QAAvB,UACE,oBAAIn0C,UAAWxB,KAAOiE,QAAtB,qBACA,mBAAGzC,UAAWxB,KAAOqE,WAArB,gEAGA,sBAAK7C,UAAWxB,KAAO41C,cAAvB,UACE,qBAAKp0C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAAS8B,GAAT,UAG5B,qBAAKv0C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAAS+B,GAAT,UAG5B,qBAAKx0C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAASgC,GAAT,UAG5B,qBAAKz0C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAASiC,GAAT,UAG5B,qBAAK10C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAASkC,GAAT,UAG5B,qBAAK30C,UAAWxB,KAAO61C,SAAvB,SACE,qBACEr0C,UAAWxB,KAAO81C,cAClBxzC,MAAO,CAAE2xC,gBAAgB,OAAD,OAASmC,GAAT,iBCyCrBC,GAhFG,WAChB,IAAMnY,EAAQyO,cACd,OACE,sBAAKnrC,UAAWxB,KAAOq2C,UAAvB,UACE,sBAAK70C,UAAWxB,KAAOs2C,SAAvB,UACE,cAAC,IAAD,CACExuC,GAAE,UAAKo2B,EAAMlU,KAAX,YACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,qBAQA,cAAC,IAAD,CACEr5B,GAAE,UAAKo2B,EAAMlU,KAAX,YACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,qBAQA,cAAC,IAAD,CACEr5B,GAAE,UAAKo2B,EAAMlU,KAAX,SACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,kBAQA,cAAC,IAAD,CACEr5B,GAAE,UAAKo2B,EAAMlU,KAAX,mBACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,4BAQA,cAAC,IAAD,CACEr5B,GAAE,UAAKo2B,EAAMlU,KAAX,sBACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,+BAQA,cAAC,IAAD,CACEr5B,GAAE,UAAKo2B,EAAMlU,KAAX,wBACFxoB,UAAWxB,KAAOgzC,KAClBC,gBAAiBjzC,KAAOC,OACxBkhC,SAAO,EAJT,sCAUF,eAAC,IAAD,WACE,cAAC,IAAD,CAAOoR,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,YAAjB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOuoB,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,YAAjB,SACE,oBAAIxoB,UAAWxB,KAAOiE,QAAtB,uBAEF,cAAC,IAAD,CAAOsuC,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,SAAjB,SACE,oBAAIxoB,UAAWxB,KAAOiE,QAAtB,oBAEF,cAAC,IAAD,CAAOsuC,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,mBAAjB,SACE,oBAAIxoB,UAAWxB,KAAOiE,QAAtB,8BAEF,cAAC,IAAD,CAAOsuC,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,sBAAjB,SACE,oBAAIxoB,UAAWxB,KAAOiE,QAAtB,iCAEF,cAAC,IAAD,CAAOsuC,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,wBAAjB,SACE,oBAAIxoB,UAAWxB,KAAOiE,QAAtB,qCAEF,cAAC,IAAD,CAAU6D,GAAE,UAAKo2B,EAAMlU,KAAX,qBCxCLusB,GA1CM,WACnB,MAA8CxzC,oBAAS,GAAvD,mBAAOyzC,EAAP,KAAwBC,EAAxB,KACA,EAA4B1zC,oBAAS,GAArC,mBAAOsyC,EAAP,KAAeqB,EAAf,KACMtzC,EAAY/D,kBAAO,GAEnBs3C,EAAiBn3C,uBAAY,WACjC,OAAO,IAAI8F,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IAAI,WACJj3B,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG6wC,EAAYp3C,sBAAW,sBAAC,4BAAAyG,EAAA,6DAC5BwwC,GAAmB,GADS,kBAGRE,IAHQ,OAGpB9wC,EAHoB,OAItBzC,EAAUvD,SAAS62C,EAAU7wC,EAAIO,MACrCF,QAAQC,IAAIN,GALc,gDAO1BK,QAAQC,IAAI,uBAAZ,MAP0B,yBAStB/C,EAAUvD,SAAS42C,GAAmB,GAThB,kFAY3B,CAACE,IAOJ,OALAv1C,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAE22C,kBAAiBI,YAAWvB,WCMxBwB,GArCE,WACf,IAAM3Y,EAAQyO,cACd,EAA8B4J,KAAtBK,EAAR,EAAQA,UAAWvB,EAAnB,EAAmBA,OACnB,EAAkDtyC,oBAAS,GAA3D,mBAAO+zC,EAAP,KAA0BC,EAA1B,KASA,OAPA31C,qBAAU,WACJ01C,IACFC,GAAqB,GACrBH,OAED,CAACA,EAAWE,IAGb,sBAAKt1C,UAAWxB,KAAO62C,SAAvB,UACE,cAAC,GAAD,IACA,sBAAKr1C,UAAWxB,KAAO6pC,KAAvB,UACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO7f,KAAI,UAAKkU,EAAMlU,KAAX,cAAX,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOuoB,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,aAAjB,SACE,cAAC,GAAD,CACEqrB,OAAQA,EACRhS,eAAgB0T,MAGpB,cAAC,IAAD,CAAOxE,OAAK,EAACvoB,KAAI,UAAKkU,EAAMlU,KAAX,aAAjB,SACE,4CAEF,cAAC,IAAD,CAAUliB,GAAE,UAAKo2B,EAAMlU,KAAX,yBCrChBqM,GAAe,CACnB2gB,iBAAiB,GAGb1gB,GAAU,SAACtkB,EAAOukB,GACtB,OAAQA,EAAO/1B,MACb,IAAK,qBACH,OAAO,2BAAKwR,GAAZ,IAAmBglC,gBAAiBzgB,EAAOnwB,OAE7C,QACE,OAAO4L,IASEilC,GALM,WACnB,MAAkCxgB,qBAAWH,GAASD,IAAtD,mBACA,MAAO,CADP,YCNa6gB,GAVM,SAACvF,GACpBvwC,qBAAU,WACR,IAAImC,EAAWC,aAAY,WACzBmuC,MACC,MAEH,OAAO,kBAAMtuC,cAAcE,MAC1B,CAACouC,K,oBCRS,OAA0B,wCCA1B,OAA0B,qC,yCCA1B,OAA0B,iCCA1B,OAA0B,kCCA1B,OAA0B,uCCsB5BwF,GAAoB,SAACC,GAtBX,IAAC3zB,EAuBjB/iB,SAAS22C,kBAVV32C,SAAS42C,eACX52C,SAAS42C,iBACA52C,SAAS62C,qBAClB72C,SAAS62C,uBACA72C,SAAS82C,kBAClB92C,SAAS82C,oBAlBW/zB,EAwBL2zB,GAvBVK,kBACLh0B,EAAGg0B,oBACMh0B,EAAGi0B,oBACZj0B,EAAGi0B,sBACMj0B,EAAGk0B,qBACZl0B,EAAGk0B,uBACMl0B,EAAGm0B,yBACZn0B,EAAGm0B,2B,0CCRMC,GAAoB,SAACtsC,EAAKmV,EAAK+B,EAAK/gB,GAC/CA,EAAI7B,QAAQyC,MAAMw1C,eACD,KAAbvsC,EAAMmV,IAAe+B,EAAM/B,GAAO,UCoDzBq3B,GAlDQ,SAAC,GAQjB,IAPLr3B,EAOI,EAPJA,IACA+B,EAMI,EANJA,IACAu1B,EAKI,EALJA,KACA9qC,EAII,EAJJA,MACA+/B,EAGI,EAHJA,SACAn+B,EAEI,EAFJA,UACArO,EACI,EADJA,MAEM0K,EAAW9L,iBAAO,MACxB,EAAoC0D,oBAAS,GAA7C,mBAAOk1C,EAAP,KAAmBC,EAAnB,KAEA92C,qBAAU,WACRy2C,GAAkB3qC,EAAOwT,EAAK+B,EAAKtX,KAClC,CAAC+B,EAAOwT,EAAK+B,IAoBhB,OACE,uBACEjiB,KAAK,QACLkB,IAAKyJ,EACL3J,UAAWxB,KAAOm4C,OAClBz3B,IAAKA,EACL+B,IAAKA,EACLu1B,KAAMA,EACN9qC,MAAOA,EACP1K,SAdkB,SAAC/C,GACrBwtC,EAASxtC,EAAEyM,OAAOgB,OAClBzM,EAAM+O,YAAc/P,EAAEyM,OAAOgB,OAa3BkrC,YA5BqB,SAAC34C,GACpBqP,GACFopC,GAAc,GACdz3C,EAAMmQ,SAENsnC,GAAc,IAwBdG,UApBmB,SAAC54C,GAClBw4C,GAAYx3C,EAAM0+B,WC8BXmZ,GAxDF,SAAC,GAMP,IALLx3C,EAKI,EALJA,SACA+6B,EAII,EAJJA,KACA0c,EAGI,EAHJA,QACAzpC,EAEI,EAFJA,UACArO,EACI,EADJA,MAEA,EAA4CsC,oBAAS,GAArD,mBAAOy1C,EAAP,KAAuBC,EAAvB,KACMC,EAAar5C,iBAAO,MAC1B,EAAoC0D,mBAAS,SAA7C,mBAAO41C,EAAP,KAAmBC,EAAnB,KAEMC,EAAqBr5C,uBAAY,SAACs5C,GACtC,IAAIC,EAAU,GACVpzB,EAAI9hB,KAAKG,MAAM80C,EAAI,MACnBE,EAAIn1C,KAAKG,MAAO80C,EAAI,KAAQ,IAC5BG,EAAIp1C,KAAKG,MAAO80C,EAAI,KAAQ,IAC5BnzB,EAAI,GACIozB,GAAVpzB,EAAI,GAAiB,IAAMA,EAAI,IAAmBA,EAAI,IACtD8yB,GAAkB,IACbA,GAAkB,GACrBO,EAAI,KAAID,GAAW,KACvBA,GAAWC,EAAI,IACXC,EAAI,KAAIF,GAAW,KAEvBH,EADAG,GAAWE,KAEV,IAWH,OATA73C,qBAAU,WACYs3C,EAAW74C,QAAQyC,MAAMuL,MAAzC2qC,EAAiD,OACf,SACrC,CAACA,IAEJp3C,qBAAU,WACRy3C,EAAmBhd,KAClB,CAACA,EAAMgd,IAGR,qCACE,mBAAGn3C,IAAKg3C,EAAYl3C,UAAWxB,KAAOs4C,KAAtC,SACGK,IAEH,qBAAKn3C,UAAWxB,KAAOk5C,SAAvB,SACE,cAAC,GAAD,CACEx4B,IAAI,IACJ+B,IAAK3hB,EACLk3C,KAAK,OACL9qC,MAAO2uB,EACPoR,SAAUsL,EACVzpC,UAAWA,EACXrO,MAAOA,U,oBCrDF,OAA0B,mC,qBCyB1B04C,GArBM,SAAC,GAAyC,IAAvCz4B,EAAsC,EAAtCA,IAAK+B,EAAiC,EAAjCA,IAAKu1B,EAA4B,EAA5BA,KAAM9qC,EAAsB,EAAtBA,MAAO+/B,EAAe,EAAfA,SACvC9hC,EAAW9L,iBAAO,MAMxB,OAJA+B,qBAAU,WACRy2C,GAAkB3qC,EAAOwT,EAAK+B,EAAKtX,KAClC,CAAC+B,EAAOwT,EAAK+B,IAGd,uBACEjiB,KAAK,QACLkB,IAAKyJ,EACL3J,UAAWxB,KAAOm4C,OAClBz3B,IAAKA,EACL+B,IAAKA,EACLu1B,KAAMA,EACN9qC,MAAOA,EACP1K,SAAU,SAAC/C,GAAD,OAAOwtC,EAASxtC,EAAEyM,OAAOgB,WCwB1BksC,GAvCA,SAAC,GAAkC,IAAhC34C,EAA+B,EAA/BA,MAAO44C,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACzBC,EAAYl6C,iBAAO,KAEzB+B,qBAAU,WACQ,KAAXi4C,IAAcE,EAAU15C,QAAUw5C,GACvC54C,EAAM44C,OAASA,IACd,CAAC54C,EAAO44C,IAcX,OACE,yBAAQ73C,UAAWxB,KAAOo5C,OAA1B,UACE,sBAAK53C,UAAWxB,KAAOw5C,aAAc53C,QAdd,WACT,KAAXy3C,IAAiBE,EAAU15C,QAAU,GACxCy5C,EAAUC,EAAU15C,SACC,KAAXw5C,GACVE,EAAU15C,QAAU,IACpBy5C,EAAU,OAEVC,EAAU15C,QAAUw5C,EACpBC,EAAU,OAMV,UACE,qBAAKv4C,IAAK04C,GAAWz3C,IAAI,WACZ,KAAXq3C,EAAe,qBAAK73C,UAAWxB,KAAO05C,YAAoB,QAE9D,qBAAKl4C,UAAWxB,KAAO25C,UAAvB,SACE,cAAC,GAAD,CACEj5B,IAAI,IACJ+B,IAAI,IACJu1B,KAAK,MACL9qC,MAAOmsC,EACPpM,SAAUqM,UCILM,GAvCiB,SAACC,EAAeC,EAAep4C,GAC7D,MAAoCqB,mBAAS,GAA7C,mBAAOg3C,EAAP,KAAmBC,EAAnB,KACM52C,EAAY/D,kBAAO,GACnB46C,EAAW56C,iBAAO,MAElB0qB,EAAe,SAACtqB,GACA,aAAhBA,EAAEyM,OAAO3F,IAAmByzC,GAAc,SAACE,GAAD,OAAgBA,EAAa,MAG7E94C,qBAAU,WACW,IAAf24C,EACFE,EAASp6C,QAAU8D,YAAW,WACxBP,EAAUvD,UACZm6C,EAAc,GACdH,OAED,KACME,EAAa,IAClBE,EAASp6C,UACX+D,aAAaq2C,EAASp6C,SACtBo6C,EAASp6C,QAAU,MAErBm6C,EAAc,GACdF,OAED,CAACC,EAAYF,EAAeC,IAE/B14C,qBAAU,WACR,IAAI8K,EAASxK,EAAI7B,QAEjB,OADAqM,EAAO5K,iBAAiB,QAASyoB,GAC1B,kBAAM7d,EAAO3K,oBAAoB,QAASwoB,MAChD,CAACroB,IAEJN,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,KC8DUs6C,GAlGU,SACvBrrC,EACAsrC,EACAC,EACAt0B,EACAu0B,EACAC,EACAC,GAEA,MAA8Cz3C,oBAAS,GAAvD,mBAAO03C,EAAP,KAAwBC,EAAxB,KACMt3C,EAAY/D,kBAAO,GACnBs7C,EAAgBt7C,iBAAO,MACvBu7C,EAAkBv7C,iBAAO,MAEzBw7C,EAAer7C,uBAAY,SAACy6C,EAAUv4C,EAAKY,GAC3C23C,EAASp6C,UACX+D,aAAaq2C,EAASp6C,SACtBo6C,EAASp6C,QAAU,MAErBo6C,EAASp6C,QAAU8D,YAAW,WACxBP,EAAUvD,UACZ6B,EAAI7B,QAAQC,UAAUO,OAAOiC,GAC7B23C,EAASp6C,QAAU,QAEpB,OACF,IAEGi7C,EAAmBt7C,uBAAY,WACnC46C,EAAYv6C,QAAQC,UAAUC,IAAIu6C,GAC9BxrC,IAAc2rC,EAChBI,EAAaF,EAAeP,EAAaE,GAChCxrC,GAAa2rC,GAClBE,EAAc96C,UAChB+D,aAAa+2C,EAAc96C,SAC3B86C,EAAc96C,QAAU,QAG3B,CAACiP,EAAW2rC,EAAiBL,EAAaS,EAAcP,IAErDS,EAAoBv7C,uBAAY,kBAAMk7C,GAAmB,KAAO,IAChEM,EAAoBx7C,uBAAY,kBAAMk7C,GAAmB,KAAQ,IAEvEt5C,qBAAU,WACRg5C,EAAYv6C,QAAQC,UAAUC,IAAIu6C,KACjC,CAACF,EAAaE,IAEjBl5C,qBAAU,WACH0N,GAIHsrC,EAAYv6C,QAAQC,UAAUO,OAAO0lB,GAChC00B,GAAiBI,EAAaF,EAAeP,EAAaE,KAJ/DF,EAAYv6C,QAAQC,UAAUC,IAAIgmB,GAClCq0B,EAAYv6C,QAAQC,UAAUC,IAAIu6C,MAKnC,CAACxrC,EAAWsrC,EAAar0B,EAAS80B,EAAcP,EAAOG,IAE1Dr5C,qBAAU,WACJ0N,GAAayrC,IAAoBE,GACnCD,GAAmB,GACnBJ,EAAYv6C,QAAQC,UAAUC,IAAIgmB,GAClC80B,EAAaD,EAAiBR,EAAar0B,IACtCy0B,GAAmB,KACzB,CACDJ,EACAE,EACAC,EACAC,EACAz0B,EACA80B,EACA/rC,EACA2rC,IAGFr5C,qBAAU,WACR,IAAIykB,EAAWu0B,EAAYv6C,QACvBo7C,EAAQZ,EAASx6C,QAIrB,OAHAgmB,EAASvkB,iBAAiB,YAAaw5C,GACvCG,EAAM35C,iBAAiB,aAAcy5C,GACrCE,EAAM35C,iBAAiB,aAAc05C,GAC9B,WACLn1B,EAAStkB,oBAAoB,YAAau5C,GAC1CG,EAAM15C,oBAAoB,aAAcw5C,GACxCE,EAAM15C,oBAAoB,aAAcy5C,MAEzC,CACDZ,EACAC,EACAS,EACAC,EACAC,IAGF55C,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,KChDUspB,GA/CM,SAAC1oB,EAAOy6C,EAAW5B,EAAWkB,GACjD,IAAMW,EAAiB37C,uBACrB,SAACC,GACwC,UAAnCiB,SAASsoB,cAAcvY,SAAqBhR,EAAEC,iBAClD,IAAI07C,EAAqB,UAAX37C,EAAEspB,MAA8B,UAAVtpB,EAAEqgB,IAClCs7B,GACF37C,EAAEC,iBACFw7C,KAEY,cAAXz7C,EAAEspB,MAAkC,cAAVtpB,EAAEqgB,KAC5BrgB,EAAE47C,SAIS,eAAX57C,EAAEspB,MAAmC,eAAVtpB,EAAEqgB,KAC7BrgB,EAAE47C,SAGkB,YAAX57C,EAAEspB,MAAgC,YAAVtpB,EAAEqgB,KAAuBrgB,EAAE47C,SAQjD,cAAX57C,EAAEspB,MAAkC,cAAVtpB,EAAEqgB,KAC5BrgB,EAAE47C,WAEH57C,EAAEC,iBACF45C,GAAU,SAAC71C,GACT,OAAKA,EAAY,EACRI,KAAKC,MAA2B,MAAnBL,EAAY,KAAc,IAAM,GAC1CA,OAddhE,EAAEC,iBACF45C,GAAU,SAAC71C,GACT,OAAKA,EAAY,EACRI,KAAKC,MAA2B,MAAnBL,EAAY,KAAc,IAAM,GAC1CA,MANdhD,EAAM+O,YAAc/O,EAAM+O,YAAc,EALxC/O,EAAM+O,YAAc/O,EAAM+O,YAAc,EAwBrC4rC,GAASZ,GAAmB,KAEnC,CAAC/5C,EAAOy6C,EAAW5B,EAAWkB,IAGhCp5C,qBAAU,WAER,OADAg6B,OAAO95B,iBAAiB,UAAW65C,GAC5B,kBAAM/f,OAAO75B,oBAAoB,UAAW45C,MAClD,CAACA,KCqBSG,GAvDE,SAAC,GAA8D,IAA5D76C,EAA2D,EAA3DA,MAAO22C,EAAoD,EAApDA,UAAWt2C,EAAyC,EAAzCA,SAAU+6B,EAA+B,EAA/BA,KAAM0c,EAAyB,EAAzBA,QAASzpC,EAAgB,EAAhBA,UAC7D,EAA4B/L,mBAAS,KAArC,mBAAOs2C,EAAP,KAAeC,EAAf,KACA,EAA8Cv2C,oBAAS,GAAvD,mBAAOw3C,EAAP,KAAwBC,EAAxB,KACMJ,EAAc/6C,iBAAO,MACrBg7C,EAAWh7C,iBAAO,MAClB67C,EAAY17C,uBAAY,WACxBsP,EAAWrO,EAAMmQ,QAChBnQ,EAAM0+B,SACV,CAACrwB,EAAWrO,IAET86C,EAAa/7C,uBAAY,WAC7B23C,GAAkBC,KACjB,CAACA,IAcJ,OAZAjuB,GAAa1oB,EAAOy6C,EAAW5B,EAAWkB,GAC1CZ,GAAwBsB,EAAWK,EAAYnB,GAC/CD,GACErrC,EACAsrC,EACAC,EACAr6C,KAAOw7C,QACPx7C,KAAOy7C,MACPlB,EACAC,GAIA,qBAAKj0C,GAAG,WAAW/E,UAAWxB,KAAOs7C,SAAU55C,IAAK04C,EAApD,SACE,sBAAK54C,UAAWxB,KAAO07C,cAAeh6C,IAAK24C,EAA3C,UACE,wBAAQ74C,UAAWxB,KAAO27C,UAAW/5C,QAASs5C,EAA9C,SACGpsC,EACC,qBAAK/N,IAAKq+B,GAAUp9B,IAAI,UAExB,qBAAKjB,IAAKs+B,GAASr9B,IAAI,WAG3B,cAAC,GAAD,CACElB,SAAUA,EACV+6B,KAAMA,EACN0c,QAASA,EACTzpC,UAAWA,EACXrO,MAAOA,IAET,cAAC,GAAD,CAAQA,MAAOA,EAAO44C,OAAQA,EAAQC,UAAWA,IACjD,wBACE93C,UAAWxB,KAAO47C,WAClBh6C,QAAS,kBAAMu1C,GAAkBC,IAFnC,SAIE,qBAAKr2C,IAAK86C,GAAe75C,IAAI,wBClBxB85C,GAtCM,SAAC,GAAa,IAAXr1C,EAAU,EAAVA,IACtB,EAAgC1D,mBAAS,GAAzC,mBAAOjC,EAAP,KAAiBi7C,EAAjB,KACMhtC,EAAW1P,iBAAO,MAClBu7B,EAAev7B,iBAAO,MAC5B,EAAwB0D,mBAAS,GAAjC,mBAAO84B,EAAP,KAAa0c,EAAb,KACA,EAAkCx1C,oBAAS,GAA3C,mBAAO+L,EAAP,KAAkBwwB,EAAlB,KAOA,OACE,sBAAK99B,UAAWxB,KAAOg8C,eAAgBt6C,IAAKk5B,EAA5C,UACE,uBACEp5B,UAAWxB,KAAO6nB,MAClB9mB,IAAK0F,EACL7F,QAAQ,OACRc,IAAKqN,EACL8wB,iBAZmB,kBAAMkc,EAAYhtC,EAASlP,QAAQiB,WAatDm7C,aAZmB,kBAAM1D,EAAQxpC,EAASlP,QAAQ2P,cAalDiwB,OAZa,kBAAMH,GAAa,IAahCC,QAZc,kBAAMD,GAAa,MAclCx+B,EACC,cAAC,GAAD,CACEL,MAAOsO,EAASlP,QAChBu3C,UAAWxc,EAAa/6B,QACxBiB,SAAUA,EACV+6B,KAAMA,EACN0c,QAASA,EACTzpC,UAAWA,IAEX,SCsBKotC,GAxDW,WACxB,MAAwDn5C,oBAAS,GAAjE,mBAAOo5C,EAAP,KAA6BC,EAA7B,KACA,EAAoCr5C,mBAAS,MAA7C,mBAAOs5C,EAAP,KAAmBC,EAAnB,KACA,EAAsDv5C,mBAAS,MAA/D,mBAAOw5C,EAAP,KAA4BC,EAA5B,KACMp5C,EAAY/D,kBAAO,GAEnBo9C,EAAsBj9C,uBAAY,SAAC+G,GACvC,OAAO,IAAIjB,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IADH,yBACyBt2B,IACtBX,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG22C,EAAiBl9C,sBAAW,uCAChC,WAAO+G,GAAP,eAAAN,EAAA,6DACEu2C,EAAuB,MACvBJ,GAAwB,GAF1B,kBAIsBK,EAAoBl2C,GAJ1C,OAIUV,EAJV,OAKQzC,EAAUvD,SACZy8C,EAAc,CACZ9T,SAAU3iC,EAAIO,KAAKqiC,iBAAmB,KACtC9hC,MAAOd,EAAIO,KAAKO,QAGpBT,QAAQC,IAAIN,GAXhB,kDAaQzC,EAAUvD,SAAS28C,EAAuB,EAAD,IAC7Ct2C,QAAQC,IAAI,6BAAZ,MAdJ,yBAgBQ/C,EAAUvD,SAASu8C,GAAwB,GAhBnD,mFADgC,sDAqBhC,CAACK,IAQH,OALAr7C,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CACLs8C,uBACAO,iBACAL,aACAE,wBCwBWI,GA3EM,SAACzqC,GACpB,MAAgCnP,mBAAS,MAAzC,mBAAOuuC,EAAP,KAAiBC,EAAjB,KACA,EAA4BxuC,oBAAS,GAArC,mBAAOkE,EAAP,KAAe21C,EAAf,KACA,EAAoC75C,oBAAS,GAA7C,mBAAO85C,EAAP,KAAmBC,EAAnB,KACA,EAAwC/5C,mBAAS,MAAjD,mBAAOyuC,EAAP,KAAqBC,EAArB,KACMruC,EAAY/D,kBAAO,GAEnBqyC,EAAoBlyC,uBAAY,WACpC,OAAO,IAAI8F,SAAQ,SAACC,EAASC,GAC3BjB,EACGs4B,IAAI,kBACJj3B,MAAK,SAACC,GACLN,EAAQM,MAETC,OAAM,SAACC,GACNP,EAAOO,WAGZ,IAEG4rC,EAAenyC,sBAAW,sBAAC,4BAAAyG,EAAA,6DAC/BsrC,EAAY,MACZE,EAAgB,MAFe,kBAIXC,IAJW,OAIvB7rC,EAJuB,OAK7BK,QAAQC,IAAIN,GACRzC,EAAUvD,SACZ0xC,EAAY1rC,EAAIO,KAAKwrC,aAPM,kDAU7BH,EAAgB,EAAD,IACfvrC,QAAQC,IAAI,yBAAZ,MAX6B,4GAe9B,CAACurC,IAEElD,EAAqBhvC,uBACzB,SAACsvC,GACCgO,GAAc,GACd5L,GAAapC,GACb6C,MAEF,CAACA,IA6BH,OA1BAvwC,qBAAU,WACJkwC,GACFvC,aAAakC,QAAQ,QAASK,GAC9BJ,GAAaI,GACbsL,GAAU,GACV1qC,EAAS,CAAE1R,KAAM,qBAAsB4F,MAAM,KACpCorC,GACTzC,aAAaiD,WAAW,SAE1B8K,GAAc,KACb,CAACxL,EAAUE,EAAct/B,IAE5B9Q,qBAAU,WACR,IAAI0tC,EAAQC,aAAaC,QAAQ,SAC7BF,EAAON,EAAmBM,IAE5BgO,GAAc,GACdF,GAAU,MAEX,CAACpO,IAEJptC,qBAAU,WAER,OADAgC,EAAUvD,SAAU,EACb,kBAAOuD,EAAUvD,SAAU,KACjC,IAEI,CAAEg9C,aAAY51C,WCkDR81C,GAhHC,WACd,IAAQhL,EAAiB77B,qBAAW27B,IAA5BE,aACR,EAA+B4K,GAAa5K,GAApC8K,EAAR,EAAQA,WAAY51C,EAApB,EAAoBA,OACpB,EAA0CghC,KAAlCK,EAAR,EAAQA,SAAUzlC,EAAlB,EAAkBA,KAAMmE,EAAxB,EAAwBA,cACxB,EACEk1C,KADMQ,EAAR,EAAQA,eAAgBL,EAAxB,EAAwBA,WAAYE,EAApC,EAAoCA,oBAEpC,EAAkCx5C,mBAAS,MAA3C,mBAAOgkC,EAAP,KAAkBvG,EAAlB,KACA,EAA8Bz9B,mBAAS,MAAvC,mBAAOi6C,EAAP,KAAgBC,EAAhB,KACMC,EAAmB79C,iBAAO,MAC1BgqC,EAASC,cACTpiC,EAAUC,cAEhB/F,qBAAU,WACJyB,GAAQA,EAAK6lC,WACflI,EAAa,eAAK39B,IAClBo6C,EAAWp6C,EAAK6lC,YACP2T,GAAcA,EAAW7T,UAClChI,EAAa,eAAK6b,MAEnB,CAACx5C,EAAMw5C,IAEVj7C,qBAAU,YACJ4F,GAAkBnE,IAASA,EAAK2lC,YACvBa,GAAUA,EAAO9iC,IAClBm2C,EAAerT,EAAO9iC,OAEjC,CAACS,EAAenE,EAAMqE,EAASmiC,EAAQqT,IAE1Ct7C,qBAAU,YACJm7C,GAAwBF,IAAeA,EAAW7T,WACpDthC,EAAQyC,KAAK,WAEd,CAAC0yC,EAAYn1C,EAASq1C,IAEzBn7C,qBAAU,WACR,IAAI+7C,EAAO9T,GAAUA,EAAO9iC,GACvBs2C,GAAe51C,IAAUk2C,GACpBN,GAAc51C,GAAUk2C,GAAM7U,EAASe,EAAO9iC,IADpBm2C,EAAerT,EAAO9iC,MAEzD,CAACs2C,EAAY51C,EAAQoiC,EAAQqT,EAAgBpU,IAUhD,OACE,qBAAK9mC,UAAWxB,KAAO+8C,QAAvB,SACGhW,GAAaA,EAAUyB,SACtB,qCACE,cAAC,EAAD,CACE1hC,UAAWigC,EACXhgC,WAAW,EACXC,cAAeA,EACfC,OAAQA,IAEV,sBAAMzF,UAAWxB,KAAO6pC,KAAxB,SACE,sBAAKroC,UAAWxB,KAAOo9C,YAAvB,UACE,sBAAK57C,UAAWxB,KAAO87C,aAAvB,UACE,cAAC,GAAD,CAAcr1C,IAAKsgC,EAAUyB,WAC7B,mBACE9mC,IAAKw7C,EACL56C,MAAO,CAAEC,QAAS,QAClB6sC,KAAI,UAAK1qC,8BAAL,0CAA8E2kC,EAAO9iC,IAH3F,+BAQF,sBAAK/E,UAAWxB,KAAOq9C,YAAvB,UACE,mBAAG77C,UAAWxB,KAAOs9C,MAArB,SAA6BvW,EAAUpgC,QACvC,sBAAKnF,UAAWxB,KAAOu9C,gBAAvB,UACE,wBACE/7C,UAAWxB,KAAOw9C,SAClB57C,QAnCW,WAC3Bs7C,EAAiBr9C,QAAQgC,SAgCX,sBAMA,yBAAQL,UAAWxB,KAAOy9C,SAAU77C,QAnC5B,WACtB87C,UAAUz1B,UAAU01B,UAAUviB,OAAOwV,SAASxB,OAkChC,UACE,qBAAKruC,IAAK68C,GAAU57C,IAAI,SACxB,6DAILg7C,EACC,qCACE,sBAAKx7C,UAAWxB,KAAO69C,kBAAvB,UACE,mBAAGr8C,UAAWxB,KAAO89C,SAArB,4CAGA,yBACEt8C,UAAWxB,KAAO+9C,aAClBn8C,QAAS,kBC3GL,SAACyJ,EAAM1E,GAC/B,IAAIV,EAAIvF,SAASC,cAAc,KAC/BsF,EAAE+3C,aACA,OACA,iCAAmCC,mBAAmB5yC,IAExDpF,EAAE+3C,aAAa,WAAYr3C,GAC3BV,EAAE3D,MAAMC,QAAU,OAClB7B,SAASw9C,KAAKC,YAAYl4C,GAC1BA,EAAEpE,QACFnB,SAASw9C,KAAKE,YAAYn4C,GDiGSo4C,CAAWrB,EAASjW,EAAUpgC,QAF/C,UAIE,+CACA,qBAAK5F,IAAKu9C,GAAat8C,IAAI,gBAG/B,mBAAGR,UAAWxB,KAAOyR,KAArB,SAA4BurC,OAE5B,aAKV,cAAC,GAAD,CAAS16C,MAAO,CAAEuL,MAAO,QAAS6E,OAAQ,cEtHlDJ,UAAOuV,MAAQvV,UAAOkV,KAAK+2B,YAAYjsC,UAAO2xB,MAAO,CACnDzjC,KAAM,QACN6kB,SAAU,KACV9e,GAAI,KAEJi4C,WAAY,SAAU/9C,EAAO2pB,GAM3BA,EAAUA,GAAW,GAErBqO,KAAKgmB,UACH,aACAh+C,EACAmf,OAAOsY,OAAO,GAVI,CAClBwmB,cAAc,EACdC,eAAe,EACfC,gBAAiB,CAAC,SAOax0B,KAInCy0B,SAAU,SAAUz0B,GAClB,OAAO9X,UAAOkV,KAAKrS,OAAO2pC,OAAOrmB,KAAKgmB,UAAU,YAAa,CAC3Dj+C,KAAMi4B,KAAKoE,IAAI,QACfxX,SAAUoT,KAAKoE,IAAI,YACnBt2B,GAAIkyB,KAAKoE,IAAI,SAIjBkiB,MAAO,SAAUt+C,EAAOkY,EAAK+M,EAAGC,GAC9B,IAAM7P,EAAI2iB,KAAKpT,SACTkU,EAAI,CACRzf,GAAI2e,KAAK5qB,MAAQ,EACjBmM,GAAIye,KAAK/lB,OAAS,EAClBgT,EAAG+S,KAAK5qB,MACR8X,EAAG8S,KAAK/lB,QAENoD,EACF6C,EAAIqmC,UAAUv+C,EAAOqV,EAAEgE,EAAGhE,EAAEkE,EAAGlE,EAAE4P,EAAG5P,EAAE6P,EAAG4T,EAAEzf,EAAGyf,EAAEvf,EAAGuf,EAAE7T,EAAG6T,EAAE5T,GAE1DhN,EAAIqmC,UAAUv+C,EAAO84B,EAAEzf,EAAGyf,EAAEvf,EAAGuf,EAAE7T,EAAG6T,EAAE5T,IAI1Cs5B,QAAS,SAAUtmC,GACjB8f,KAAKsmB,MAAMtmB,KAAKymB,aAAcvmC,MAIlCrG,UAAOuV,MAAMwQ,UAAU8mB,sBAAsB,CAC3C5qB,IAAI,EACJG,IAAI,EACJF,IAAI,EACJG,IAAI,EACJ7O,KAAK,IAGPxT,UAAOuV,MAAMu3B,WAAa,SAAUjqC,EAAQkqC,GAC1C,OAAO/sC,UAAOsN,OAAO0/B,YACnB,QACAnqC,EACAkqC,EACA,OACA,WACA,OC/DJ/sC,UAAO4Q,QAAU5Q,UAAOkV,KAAK+2B,YAAYjsC,UAAOC,MAEhDD,UAAO4Q,QAAQmV,UAAU8mB,sBAAsB,CAC7Cr5B,KAAK,ICLQ,WAA0B,sCCA1B,OAA0B,wCCA1B,OAA0B,uCCKzCxT,UAAOsN,OAAOyY,UAAUknB,oBAAqB,EAC7CjtC,UAAOsN,OAAOyY,UAAUmnB,YAAc,QACtCltC,UAAOsN,OAAOyY,UAAUlV,YAAc,UACtC7Q,UAAOsN,OAAOyY,UAAUonB,kBAAoB,UAC5CntC,UAAOsN,OAAOyY,UAAUqnB,YAAc,SACtCptC,UAAOsN,OAAOyY,UAAUsmB,eAAgB,EACxCrsC,UAAOe,KAAKglB,UAAUlV,YAAc,cAEpC,IAAMw8B,GAAmB,IAAI1b,MAC7B0b,GAAiB5+C,IAAM6+C,GACvB,IAAMC,GAAiB,IAAI5b,MAC3B4b,GAAe9+C,IAAM++C,GACrB,IAAMC,GAAkB,IAAI9b,MAC5B8b,GAAgBh/C,IAAMi/C,GACtB,IAAMC,GAAgB3tC,UAAO2tC,cAC3BC,GAAwBD,GAAcE,4BACtCC,GAAoBH,GAAcI,wBAClCC,GAAiBL,GAAcK,eAC/BC,GAAqBN,GAAcM,mBACnCC,GAAqBP,GAAcO,mBACnCC,GAAwBR,GAAcQ,sBACtCC,GAAiBpuC,UAAOsN,OAAOyY,UAAUxS,SAErC86B,GAAkB,SAACC,GACvB,OAAO,SAAoBjoC,EAAKnG,EAAMC,EAAKouC,EAAeC,GACxD,IAAI/9B,EAAO0V,KAAKsoB,WAChBpoC,EAAIK,OACJL,EAAIqoC,UAAUxuC,EAAMC,GACpBkG,EAAIsoC,OAAO3uC,UAAOkV,KAAK05B,iBAAiBJ,EAAa5sC,QACrDyE,EAAIqmC,UAAU4B,GAAO79B,EAAO,GAAIA,EAAO,EAAGA,EAAMA,GAChDpK,EAAIW,YAIF6nC,GAAqB,SAACP,GAC1B,OAAO,SAAoBjoC,EAAKnG,EAAMC,EAAKouC,EAAeC,GACxD,IAAI/9B,EAAO0V,KAAKsoB,WAChBpoC,EAAIK,OACJL,EAAIqoC,UAAUxuC,EAAMC,GACpBkG,EAAIsoC,OAAO3uC,UAAOkV,KAAK05B,iBAAiBJ,EAAa5sC,QACrDyE,EAAIqmC,UAAU4B,GAAO79B,EAAO,KAAMA,EAAO,EAAGA,EAAO,IAAKA,GACxDpK,EAAIW,YAIF8nC,GAAqB,SAACR,GAC1B,OAAO,SAAoBjoC,EAAKnG,EAAMC,EAAKouC,EAAeC,GACxD,IAAI/9B,EAAO0V,KAAKsoB,WAChBpoC,EAAIK,OACJL,EAAIqoC,UAAUxuC,EAAMC,GACpBkG,EAAIsoC,OAAO3uC,UAAOkV,KAAK05B,iBAAiBJ,EAAa5sC,MAAQ,KAC7DyE,EAAIqmC,UAAU4B,GAAO79B,EAAO,KAAMA,EAAO,EAAGA,EAAO,IAAKA,GACxDpK,EAAIW,YA2GR,GAvGAonC,GAAeW,GAAK,IAAI/uC,UAAOgvC,QAAQ,CACrCxnC,GAAI,GACJE,EAAG,EACHunC,mBAAoBrB,GACpBsB,cAAehB,GACfiB,cAAehB,GACfM,WAAY,GACZW,QAAS,EACTh6B,OAAQy5B,GAAmBxB,MAG7Be,GAAeiB,GAAK,IAAIrvC,UAAOgvC,QAAQ,CACrCxnC,EAAG,GACHE,EAAG,EACHunC,mBAAoBrB,GACpBsB,cAAehB,GACfiB,cAAehB,GACfM,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQy5B,GAAmBxB,MAG7Be,GAAemB,GAAK,IAAIvvC,UAAOgvC,QAAQ,CACrCxnC,EAAG,EACHE,GAAI,GACJunC,mBAAoBrB,GACpBsB,cAAejB,GACfkB,cAAehB,GACfM,WAAY,GACZa,SAAU,EACVF,SAAU,EACVh6B,OAAQ05B,GAAmBzB,MAG7Be,GAAeoB,GAAK,IAAIxvC,UAAOgvC,QAAQ,CACrCxnC,EAAG,EACHE,EAAG,GACHunC,mBAAoBrB,GACpBsB,cAAejB,GACfkB,cAAehB,GACfM,WAAY,GACZa,SAAU,EACVF,QAAS,EACTh6B,OAAQ05B,GAAmBzB,MAG7Be,GAAensB,GAAK,IAAIjiB,UAAOgvC,QAAQ,CACrCxnC,GAAI,GACJE,GAAI,GACJunC,mBAAoBnB,GACpBoB,cAAelB,GACfS,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAG1Ba,GAAehsB,GAAK,IAAIpiB,UAAOgvC,QAAQ,CACrCxnC,EAAG,GACHE,GAAI,GACJunC,mBAAoBnB,GACpBoB,cAAelB,GACfS,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAG1Ba,GAAelsB,GAAK,IAAIliB,UAAOgvC,QAAQ,CACrCxnC,GAAI,GACJE,EAAG,GACHunC,mBAAoBnB,GACpBoB,cAAelB,GACfS,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAG1Ba,GAAe/rB,GAAK,IAAIriB,UAAOgvC,QAAQ,CACrCxnC,EAAG,GACHE,EAAG,GACHunC,mBAAoBnB,GACpBoB,cAAelB,GACfS,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAG1Ba,GAAe56B,IAAM,IAAIxT,UAAOgvC,QAAQ,CACtCxnC,EAAG,EACHE,EAAG,GACH+mC,WAAY,GACZW,QAAS,GACTF,cAAevB,GAAc8B,qBAC7BR,mBAAoBtB,GAAc+B,qBAClCC,gBAAgB,EAChBC,WAAY,SACZx6B,OAAQi5B,GAAgBZ,MAGtBztC,UAAOkC,QAAS,CAClB,IAAI2tC,GAAmB7vC,UAAOkC,QAAQ6jB,UAAUxS,SAAW,GAC3Ds8B,GAAgBr8B,IAAM46B,GAAe56B,IACrCq8B,GAAgBR,GAAK,IAAIrvC,UAAOgvC,QAAQ,CACtCxnC,EAAG,GACHE,EAAG,EACHwnC,cAAevB,GAAcmC,YAC7Bb,mBAAoBrB,GACpBgC,WAAY,WACZnB,WAAY,GACZW,QAAS,EACTh6B,OAAQy5B,GAAmBxB,MAG7BwC,GAAgBd,GAAK,IAAI/uC,UAAOgvC,QAAQ,CACtCxnC,GAAI,GACJE,EAAG,EACHwnC,cAAevB,GAAcmC,YAC7Bb,mBAAoBrB,GACpBgC,WAAY,WACZnB,WAAY,GACZW,QAAS,EACTh6B,OAAQy5B,GAAmBxB,MAE7BrtC,UAAOkC,QAAQ6jB,UAAU8mB,sBAAsB,CAC7CkC,IAAI,EACJM,IAAI,EACJ77B,KAAK,IAIT,IAAI+e,GAAQvyB,UAAOe,KAAKglB,UAAUxS,SAAW,GAC7Cgf,GAAK/e,IAAM46B,GAAe56B,IAC1B+e,GAAKwc,GAAK,IAAI/uC,UAAOgvC,QAAQ,CAC3BxnC,GAAI,GACJE,EAAG,EACHunC,mBAAoBrB,GACpBsB,cAAehB,GACfiB,cAAehB,GACfM,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAE1Bhb,GAAK8c,GAAK,IAAIrvC,UAAOgvC,QAAQ,CAC3BxnC,EAAG,GACHE,EAAG,EACHunC,mBAAoBrB,GACpBsB,cAAehB,GACfiB,cAAehB,GACfM,WAAY,GACZW,QAAS,EACTE,QAAS,EACTl6B,OAAQi5B,GAAgBd,MAG1BvtC,UAAOC,KAAK8lB,UAAU8mB,sBAAsB,CAC1C5qB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ2sB,IAAI,EACJM,IAAI,EACJntB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ7O,KAAK,IAEPxT,UAAOY,OAAOmlB,UAAU8mB,sBAAsB,CAC5C5qB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ2sB,IAAI,EACJM,IAAI,EACJntB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ7O,KAAK,IAEPxT,UAAOc,SAASilB,UAAU8mB,sBAAsB,CAC9C5qB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ2sB,IAAI,EACJM,IAAI,EACJntB,IAAI,EACJstB,IAAI,EACJntB,IAAI,EACJ7O,KAAK,IAEPxT,UAAOe,KAAKglB,UAAU8mB,sBAAsB,CAC1CkC,IAAI,EACJM,IAAI,EACJ77B,KAAK,IAGP,IAAIxH,GAAShM,UAAO2xB,MAAM5L,UAAUxS,SAAW,GAC/CvH,GAAMwH,IAAM46B,GAAe56B,IAC3BxH,GAAMoW,GAAKgsB,GAAehsB,GAC1BpW,GAAMqW,GAAK+rB,GAAe/rB,GAC1BrW,GAAMiW,GAAKmsB,GAAensB,GAC1BjW,GAAMkW,GAAKksB,GAAelsB,GAC1BliB,UAAO2xB,MAAM5L,UAAU8mB,sBAAsB,CAC3C5qB,IAAI,EACJG,IAAI,EACJF,IAAI,EACJG,IAAI,EACJ7O,KAAK,IAEP,IAAIu8B,GAAmB/vC,UAAOgwC,gBAAgBjqB,UAAUxS,SAAW,GACnEw8B,GAAgBv8B,IAAM46B,GAAe56B,IACrCu8B,GAAgB3tB,GAAKgsB,GAAehsB,GACpC2tB,GAAgB1tB,GAAK+rB,GAAe/rB,GACpC0tB,GAAgB9tB,GAAKmsB,GAAensB,GACpC8tB,GAAgB7tB,GAAKksB,GAAelsB,GCtQpCliB,UAAOiwC,SAAWjwC,UAAOkV,KAAK+2B,YAAYjsC,UAAOkwC,MAAO,CACtDhiD,KAAM,WAENiiD,6BAHsD,WAKpD,OAAO,IAAInwC,UAAO6K,MAChBsb,KAAK5qB,MAAQ4qB,KAAK+F,SAClB/F,KAAK/lB,OAAS+lB,KAAKthB,WAIvBurC,4BAXsD,WAapD,OAAOpwC,UAAOkV,KAAKm7B,eACjBlqB,KAAKmqB,4BACLnqB,KAAKoqB,wBACL,MAwBNvwC,UAAOiwC,SAASlqB,UAAUxS,SAAW,GAErCvT,UAAOisB,mBAAqBjsB,UAAOkV,KAAK+2B,YAAYjsC,UAAOkC,QAAS,CAClEhU,KAAM,WAENiiD,6BAHkE,WAKhE,OAAO,IAAInwC,UAAO6K,MAChBsb,KAAK5qB,MAAQ4qB,KAAK+F,SAClB/F,KAAK/lB,OAAS+lB,KAAKthB,WAIvBurC,4BAXkE,WAahE,OAAOpwC,UAAOkV,KAAKm7B,eACjBlqB,KAAKmqB,4BACLnqB,KAAKoqB,wBACL,MAKNvwC,UAAOisB,mBAAmBlG,UAAUyqB,UAAY,SAC9CC,EACAC,EACAC,EACAC,GAEA,IAAIjqC,EAAY,EACdvE,EAAkB+jB,KAAK/jB,gBACvByuC,EAAgB,GAChBte,EAAO,GAEP9/B,EAAQ2P,EACJpC,UAAOkV,KAAK47B,OAAOC,cAAcN,GACjCA,EAAMl0B,MAAM4J,KAAK6qB,cACrB95C,EAAO,GACPirB,EAAS,EACT8uB,EAAQ7uC,EAAkB,GAAK,IAC/B8uC,EAAY,EACZC,EAAa,EACbC,EAAmB,EACnBC,GAAkB,EAClBC,EAAkBlvC,EAAkB,EAAI+jB,KAAKorB,yBAG/CZ,GADAC,EAAgBA,GAAiB,EAGZ,IAAjBn+C,EAAMwE,QAAcxE,EAAM4E,KAAK,IAEnC,IAAK,IAAIL,EAAI,EAAGA,EAAIvE,EAAMwE,OAAQD,IAAK,CAQrC,GAPAE,EAAOkL,EACH3P,EAAMuE,GACNgJ,UAAOkV,KAAK47B,OAAOC,cAAct+C,EAAMuE,IAC3Ck6C,EAAY/qB,KAAKqrB,aAAat6C,EAAMw5C,EAAWvuB,GAC/CA,GAAUjrB,EAAKD,OAGXkvB,KAAKgG,YAAc+kB,GAAaP,EAAc,CAC3CU,IACH9e,EAAKl7B,KAAK45C,GACVI,GAAkB,GAIpB,IAAK,IAAIj+B,EAAI,EAAGA,EAAIlc,EAAKD,OAAQmc,IAAK,CACpC,IAAIq+B,EAASv6C,EAAKkc,GACds+B,EACDvrB,KAAKwrB,sBAAsBC,YAAYH,GAAQl2C,MAC9C4qB,KAAKlX,SACPkX,KAAK0rB,gBACHlrC,EAAY+qC,EAAcf,GAC5BE,EAAcx5C,KAAKk7B,IACnBA,EAAO,IACFl7B,KAAKo6C,GACV9qC,EAAY+qC,IAEZnf,EAAKl7B,KAAKo6C,GACV9qC,GAAa+qC,GAGjBx6C,EAAO,QAEPyP,GAAawqC,EAAaD,EAAYI,EAGpC3qC,GAAagqC,IAAiBU,GAChCR,EAAcx5C,KAAKk7B,GACnBA,EAAO,GACP5rB,EAAYuqC,EACZG,GAAkB,GAElB1qC,GAAa2qC,EAGVD,GAAoBjvC,GACvBmwB,EAAKl7B,KAAK45C,GAEZ1e,EAAOA,EAAKuf,OAAO56C,GAEnBi6C,EAAa/uC,EACT,EACA+jB,KAAKqrB,aAAa,CAACP,GAAQP,EAAWvuB,GAC1CA,IACAkvB,GAAkB,EAEdH,EAAYE,IAAqBjrB,KAAKgG,aACxCilB,EAAmBF,GAUvB,OANAl6C,GAAK65C,EAAcx5C,KAAKk7B,GAEpB6e,EAAmBR,EAAgBzqB,KAAK4rB,kBAC1C5rB,KAAK4rB,gBAAkBX,EAAmBE,EAAkBV,GAGvDC,GC3KT7wC,UAAOuB,YAAcvB,UAAOkV,KAAK+2B,YAAYjsC,UAAO2xB,MAAO,CACzDzjC,KAAM,cACN6kB,SAAU,KACV9e,GAAI,KACJ4N,aAAc,EAEdqqC,WAAY,SAAU8F,EAAal6B,GAKjCA,EAAUA,GAAW,GAErBqO,KAAKgmB,UACH,aACA6F,EACA1kC,OAAOsY,OAAO,GATI,CAClBymB,eAAe,EACftqC,YAAa,aAOkB+V,KAInCy0B,SAAU,SAAUz0B,GAClB,OAAO9X,UAAOkV,KAAKrS,OAAO2pC,OAAOrmB,KAAKgmB,UAAU,YAAa,CAC3Dj+C,KAAMi4B,KAAKoE,IAAI,QACfxX,SAAUoT,KAAKoE,IAAI,YACnBt2B,GAAIkyB,KAAKoE,IAAI,MACb1oB,aAAcskB,KAAKoE,IAAI,mBAI3BkiB,MAAO,SAAUuF,EAAa3rC,EAAK+M,EAAGC,GACpC,IAAM7P,EAAI2iB,KAAKpT,SACTkU,EAAI,CACRzf,GAAI2e,KAAK5qB,MAAQ,EACjBmM,GAAIye,KAAK/lB,OAAS,EAClBgT,EAAG+S,KAAK5qB,MACR8X,EAAG8S,KAAK/lB,QAENoD,EACF6C,EAAIqmC,UAAUsF,EAAaxuC,EAAEgE,EAAGhE,EAAEkE,EAAGlE,EAAE4P,EAAG5P,EAAE6P,EAAG4T,EAAEzf,EAAGyf,EAAEvf,EAAGuf,EAAE7T,EAAG6T,EAAE5T,GAEhEhN,EAAIqmC,UAAUsF,EAAa/qB,EAAEzf,EAAGyf,EAAEvf,EAAGuf,EAAE7T,EAAG6T,EAAE5T,IAIhDs5B,QAAS,SAAUtmC,GACjB8f,KAAKsmB,MAAMtmB,KAAKymB,aAAcvmC,MAIlCrG,UAAOuB,YAAYC,QAAU,SAAUrN,EAAK44C,EAAUkF,GACpDjyC,UAAOkV,KAAKg9B,UACV/9C,GACA,SAAUsN,EAAK0wC,GACbpF,GAAYA,EAAS,IAAI/sC,UAAOuB,YAAYE,EAAKwwC,GAAaE,KAEhE,KACAF,GAAcA,EAAWlwC,cAI7B/B,UAAOuB,YAAYurC,WAAa,SAASsF,EAASrF,GAChD,IAAIlqC,EAAS7C,UAAOkV,KAAKrS,OAAOiT,MAAMs8B,GACtCpyC,UAAOkV,KAAKg9B,UAAUrvC,EAAOpU,KAAK,SAASgT,EAAK0wC,GAC1CA,EACFpF,GAAYA,EAAS,MAAM,GAG7B/sC,UAAOuB,YAAYwkB,UAAUssB,aAAapsB,KAAKpjB,EAAQA,EAAOyvC,SAAS,SAASA,GAC9EzvC,EAAOyvC,QAAUA,GAAW,GAC5BtyC,UAAOuB,YAAYwkB,UAAUssB,aAAapsB,KAAKpjB,EAAQ,CAACA,EAAO0vC,eAAe,SAASC,GACrF3vC,EAAO0vC,aAAeC,EAAc,GACpCxyC,UAAOkV,KAAKu9B,eAAe,CAAC5vC,EAAO8vB,WAAW,SAAS+f,GACrD7vC,EAAO8vB,SAAW+f,EAAa,GAC/B,IAAI1mC,EAAQ,IAAIhM,UAAOuB,YAAYE,EAAKoB,GACxCkqC,EAAS/gC,GAAO,cAIrB,KAAMnJ,EAAOd,cC5DlB,IAyDe4wC,GAzDH,WACV,MAAkChO,KAAlC,mBAAOiO,EAAP,KAAkBnT,EAAlB,KACA,EAAiDV,KAAzCM,EAAR,EAAQA,aAAcL,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,aAYhC,OAXA0F,GAAavF,GACbvwC,qBAAU,WACJkwC,GACFvC,aAAakC,QAAQ,QAASK,GAC9BJ,GAAaI,IACJE,IACTzC,aAAaiD,WAAW,SACxBD,EAAa,CAAEvxC,KAAM,qBAAsB4F,MAAM,OAElD,CAACkrC,EAAUE,EAAcO,IAG1B,qBAAKvwC,UAAU,MAAf,SACE,cAAC,GAAYu9B,SAAb,CAAsB7xB,MAAO,CAAEg4C,YAAWnT,gBAA1C,SACE,cAAC,IAAD,CAAQoT,SAAS,IAAjB,SACE,eAAC,IAAD,WACE,cAAC,GAAD,CACEn7B,KAAK,QACLmgB,SAAS,QACTD,MAAM,wBACND,SAAUib,EAAUlO,gBACpBhN,UAAW8H,KAEb,cAAC,GAAD,CACE9nB,KAAK,QACLmgB,SAAS,QACTD,MAAM,wBACND,QAASib,EAAUlO,gBACnBhN,UAAW6M,KAEb,cAAC,GAAD,CACE7sB,KAAK,UACLmgB,SAAS,QACTD,MAAM,0BACND,QAASib,EAAUlO,gBACnBhN,UAAWwC,KAEb,cAAC,GAAD,CACExiB,KAAK,eACLmgB,SAAS,QACTD,MAAM,2BACND,SAAS,EACTD,UAAW+S,KAEb,cAAC,IAAD,CAAO/yB,KAAK,IAAZ,SACE,cAAC,IAAD,CAAUliB,GAAG,sBCxDZs9C,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1/C,MAAK,YAAkD,IAA/C2/C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASl+B,OACP,cAAC,IAAMm+B,WAAP,UACE,cAAC,GAAD,MAEFnlD,SAASolD,eAAe,SAM1BV,M,mBCfAzmD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,MAAQ,0BAA0B,KAAO,yBAAyB,SAAW,6BAA6B,OAAS,6B,mBCAjLD,EAAOC,QAAU,CAAC,SAAW,gCAAgC,eAAiB,sCAAsC,mBAAqB,0CAA0C,MAAQ,+B,mBCA3LD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,eAAiB,2C,mBCAjGD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,UAAY,gCAAgC,kBAAoB,wCAAwC,gBAAkB,sCAAsC,cAAgB,oCAAoC,cAAgB,oCAAoC,YAAc,kCAAkC,0BAA4B,gDAAgD,YAAc,oC,mBCAtdD,EAAOC,QAAU,CAAC,SAAW,oCAAoC,KAAO,gCAAgC,QAAU,mCAAmC,OAAS,kCAAkC,WAAa,sCAAsC,OAAS,oC,mBCA5PD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,0BAA0B,WAAa,yBAAyB,mBAAqB,iCAAiC,MAAQ,oBAAoB,QAAU,sBAAsB,WAAa,yBAAyB,OAAS,qBAAqB,QAAU,wB,mBCA1TD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,gBAAkB,uCAAuC,UAAY,iCAAiC,YAAc,mCAAmC,qBAAuB,4CAA4C,WAAa,kCAAkC,oBAAsB,2CAA2C,iBAAmB,wCAAwC,eAAiB,wC,mBCA7dD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,OAAS,4BAA4B,OAAS,4BAA4B,QAAU,+B,mBCAvID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,WAAa,2BAA2B,WAAa,2BAA2B,YAAc,4BAA4B,KAAO,qBAAqB,WAAa,2BAA2B,WAAa,6B,mBCA/RD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,WAAa,2BAA2B,WAAa,2BAA2B,YAAc,4BAA4B,KAAO,qBAAqB,WAAa,2BAA2B,WAAa,6B,mBCA/RD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,WAAa,6BAA6B,aAAe,+BAA+B,WAAa,6BAA6B,iBAAmB,mCAAmC,gBAAkB,kCAAkC,eAAiB,mC,mBCAzVD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,cAAgB,+BAA+B,KAAO,sBAAsB,KAAO,sBAAsB,aAAe,8BAA8B,KAAO,sBAAsB,MAAQ,yB,mBCA/QD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,aAAe,oCAAoC,aAAe,oCAAoC,gBAAkB,uCAAuC,YAAc,mCAAmC,KAAO,8B,mBCA9RD,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,WAAa,mCAAmC,QAAU,gCAAgC,YAAc,oCAAoC,iBAAmB,yCAAyC,WAAa,qC,mBCA/RD,EAAOC,QAAU,CAAC,SAAW,iCAAiC,YAAc,oCAAoC,WAAa,mCAAmC,eAAiB,uCAAuC,cAAgB,sCAAsC,QAAU,kC,mBCAxRD,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,OAAS,uBAAuB,SAAW,yBAAyB,MAAQ,sBAAsB,QAAU,wBAAwB,aAAe,+B,mBCAvND,EAAOC,QAAU,CAAC,KAAO,mBAAmB,SAAW,uBAAuB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,KAAO,qB,mBCA/KD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,MAAQ,wBAAwB,cAAgB,gCAAgC,UAAY,4BAA4B,WAAa,+B,mBCAjOD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,iBAAmB,wCAAwC,sBAAwB,6CAA6C,kBAAoB,2C,mBCA3ND,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,eAAiB,+BAA+B,WAAa,6B,mBCA7JD,EAAOC,QAAU,CAAC,GAAK,eAAe,KAAO,iBAAiB,KAAO,mB,mBCArED,EAAOC,QAAU,CAAC,eAAiB,8BAA8B,MAAQ,qBAAqB,MAAQ,qBAAqB,QAAU,uBAAuB,aAAe,8B,mBCA3KD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,QAAU,2BAA2B,WAAa,8BAA8B,WAAa,gC,mBCAxJD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,QAAU,0BAA0B,UAAY,8B,mBCA1ID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,UAAY,0BAA0B,UAAY,4B,mBCAhJD,EAAOC,QAAU,CAAC,sBAAwB,8CAA8C,wBAA0B,gDAAgD,6BAA+B,uD,mBCAjMD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,KAAO,uB,kBCA/FD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,UAAY,+BAA+B,UAAY,+BAA+B,UAAY,+BAA+B,KAAO,0BAA0B,OAAS,4BAA4B,eAAiB,oCAAoC,kBAAoB,uCAAuC,qBAAuB,0CAA0C,wBAA0B,6CAA6C,yBAA2B,8CAA8C,mBAAqB,wCAAwC,iBAAmB,sCAAsC,uBAAyB,4CAA4C,cAAgB,mCAAmC,uBAAyB,4CAA4C,kBAAoB,uCAAuC,YAAc,iCAAiC,OAAS,4BAA4B,QAAU,gC","file":"static/js/main.2ca88aec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DownloadCanvas\":\"VideoEditor_DownloadCanvas__3rCEz\",\"Main\":\"VideoEditor_Main__RsHdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasComponent\":\"PlayerCanvas_CanvasComponent__2ZNRl\",\"Canvas\":\"PlayerCanvas_Canvas__3KakF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1vpyv\",\"DownloadButton\":\"Navigation_DownloadButton__2FuTK\",\"DownloadDropdown\":\"Navigation_DownloadDropdown__2IsbQ\",\"DownloadLink\":\"Navigation_DownloadLink__3PFN5\",\"UploadVideo\":\"Navigation_UploadVideo__3uZ5a\",\"DownloadVideoContainer\":\"Navigation_DownloadVideoContainer__3mjYd\",\"DownloadVideo\":\"Navigation_DownloadVideo__1Kc0Z\",\"Close\":\"Navigation_Close__12UHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlsContainer\":\"DesignControls_ControlsContainer__2Nypq\",\"DesignControl\":\"DesignControls_DesignControl__1FKA0\",\"AddTextContainer\":\"DesignControls_AddTextContainer__2kzlD\",\"AddImageContainer\":\"DesignControls_AddImageContainer__1-kZJ\",\"AddShapeContainer\":\"DesignControls_AddShapeContainer__2l0qj\",\"HoverContent\":\"DesignControls_HoverContent__RaV8d\",\"HoverTriangle\":\"DesignControls_HoverTriangle__uOTqR\",\"HoverText\":\"DesignControls_HoverText__3mdpQ\",\"ShapeDropdown\":\"DesignControls_ShapeDropdown__3m4QA\",\"ImageDropdown\":\"DesignControls_ImageDropdown__1kbq4\",\"SubtitlesDropdown\":\"DesignControls_SubtitlesDropdown__1E3X-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Homepage\":\"Homepage_Homepage__3OyFd\",\"Main\":\"Homepage_Main__1n7s2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoContainer\":\"CustomPlayer_VideoContainer__3sLMV\",\"Video\":\"CustomPlayer_Video__3yEBQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Time\":\"Time_Time__2bwh7\",\"Timeline\":\"Time_Timeline__2XAL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LineDropdown\":\"StrokeWidthDropdown_LineDropdown__102cb\",\"ShapeDropdown\":\"StrokeWidthDropdown_ShapeDropdown__y2mdf\",\"StrokeOption\":\"StrokeWidthDropdown_StrokeOption__3PBYq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"Editor_Editor__3ckPM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Uploader\":\"Uploader_Uploader__lgMfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Templates\":\"Templates_Templates__18kjm\",\"NavLinks\":\"Templates_NavLinks__39YJI\",\"Link\":\"Templates_Link__BofFD\",\"Active\":\"Templates_Active__21pqj\",\"Heading\":\"Templates_Heading__uEwga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__1YXGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__ko406\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Video\":\"Video_Video__3P9at\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Canvas\":\"SpeakersCanvas_Canvas__1_qgr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__364Yd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Token\":\"Token_Token__dZAfL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Slider\":\"TimelineSlider_Slider__3FZvE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Slider\":\"VolumeSlider_Slider__3Dz_-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextAlignDropdown\":\"TextAlignDropdown_TextAlignDropdown__PkoUd\",\"TextAlignOption\":\"TextAlignDropdown_TextAlignOption__2NPzu\",\"Current\":\"TextAlignDropdown_Current__2vk5u\",\"TextAlignImage\":\"TextAlignDropdown_TextAlignImage__wtSLz\",\"TextAlignText\":\"TextAlignDropdown_TextAlignText__nuEMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShapeToolbar\":\"ShapeToolbar_ShapeToolbar__3ltKA\",\"BorderDiv\":\"ShapeToolbar_BorderDiv__1MpYU\",\"DownArrow\":\"ShapeToolbar_DownArrow__MgRL3\",\"FillContainer\":\"ShapeToolbar_FillContainer__dFbZJ\",\"StrokeContainer\":\"ShapeToolbar_StrokeContainer__21-kB\",\"StrokeWidthContainer\":\"ShapeToolbar_StrokeWidthContainer__1IzFk\",\"RadiusContainer\":\"ShapeToolbar_RadiusContainer__3GI8W\",\"ColorPickerBorder\":\"ShapeToolbar_ColorPickerBorder__qXCuh\",\"ColorPicker\":\"ShapeToolbar_ColorPicker__2vzHo\",\"StrokeWidthInputContainer\":\"ShapeToolbar_StrokeWidthInputContainer__1ISoG\",\"StrokeWidthInput\":\"ShapeToolbar_StrokeWidthInput__239HS\",\"StrokeWidthArrowContainer\":\"ShapeToolbar_StrokeWidthArrowContainer__2MBk5\",\"RadiusInput\":\"ShapeToolbar_RadiusInput__19zGn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasToolbar\":\"CanvasToolbar_CanvasToolbar__2hdMU\",\"BorderDiv\":\"CanvasToolbar_BorderDiv__1KyoH\",\"DownArrow\":\"CanvasToolbar_DownArrow__2Ii5A\",\"TemplatesContainer\":\"CanvasToolbar_TemplatesContainer__23oBW\",\"ResizeContainer\":\"CanvasToolbar_ResizeContainer__198p0\",\"CropContainer\":\"CanvasToolbar_CropContainer__1_XTo\",\"ColorContainer\":\"CanvasToolbar_ColorContainer__3uL9Q\",\"OptionText\":\"CanvasToolbar_OptionText__cr_ng\",\"ResizeDropdown\":\"CanvasToolbar_ResizeDropdown__2Fhs4\",\"ColorPickerBorder\":\"CanvasToolbar_ColorPickerBorder__1sugA\",\"ColorPicker\":\"CanvasToolbar_ColorPicker__3ROju\",\"ColorDropdownContainer\":\"CanvasToolbar_ColorDropdownContainer__L8SXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Webinar\":\"Webinar_Webinar__3CCu4\",\"Heading\":\"Webinar_Heading__2-VYO\",\"Subheading\":\"Webinar_Subheading__wvhlo\",\"TemplatesList\":\"Webinar_TemplatesList__3YOqH\",\"Template\":\"Webinar_Template__2t8zc\",\"TemplateInner\":\"Webinar_TemplateInner__3GfSd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3RMWK\",\"BackFileInfoContainer\":\"Navbar_BackFileInfoContainer__3ky9K\",\"BackButton\":\"Navbar_BackButton__1R1aO\",\"BackArrow\":\"Navbar_BackArrow__2uTRU\",\"FileInfoContainer\":\"Navbar_FileInfoContainer__3b5oQ\",\"FileName\":\"Navbar_FileName__23abe\",\"Creater\":\"Navbar_Creater__j3mKP\",\"EditVideo\":\"Navbar_EditVideo__1kNxg\",\"UserInfoContainer\":\"Navbar_UserInfoContainer__w_iEs\",\"User\":\"Navbar_User__2G6Ae\",\"UserInitials\":\"Navbar_UserInitials__1Z-As\",\"LogInLink\":\"Navbar_LogInLink__BnnPz\",\"SignUpLink\":\"Navbar_SignUpLink__33Ovn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectSpeakers\":\"SelectSpeakers_SelectSpeakers__1sJES\",\"Heading\":\"SelectSpeakers_Heading__8zH9K\",\"Video\":\"SelectSpeakers_Video__3v4_Z\",\"SelectedText\":\"SelectSpeakers_SelectedText__29VjD\",\"SelectedNumber\":\"SelectSpeakers_SelectedNumber__u1ZaC\",\"SpeakerButtons\":\"SelectSpeakers_SpeakerButtons__2E6zY\",\"AddSpeakerButton\":\"SelectSpeakers_AddSpeakerButton__2jPJf\",\"RemoveSpeakerButton\":\"SelectSpeakers_RemoveSpeakerButton__3EhX6\",\"AddSpeakers\":\"SelectSpeakers_AddSpeakers__yU4j4\",\"RemoveSpeakers\":\"SelectSpeakers_RemoveSpeakers__1IG3b\",\"AddSpeakersText\":\"SelectSpeakers_AddSpeakersText__bYScV\",\"RemoveSpeakersText\":\"SelectSpeakers_RemoveSpeakersText__2jvXO\",\"NextSteps\":\"SelectSpeakers_NextSteps__nYc_K\",\"Confirm\":\"SelectSpeakers_Confirm__29WEc\",\"Skip\":\"SelectSpeakers_Skip__10Iwh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preview\":\"Preview_Preview__17wzV\",\"Main\":\"Preview_Main__1ts9X\",\"MainContent\":\"Preview_MainContent__3yphW\",\"CustomPlayer\":\"Preview_CustomPlayer__2cIUh\",\"VideoFooter\":\"Preview_VideoFooter__14BqQ\",\"Title\":\"Preview_Title__1FDCi\",\"DownloadAndLink\":\"Preview_DownloadAndLink__2b3Hg\",\"Download\":\"Preview_Download__1l2FY\",\"CopyLink\":\"Preview_CopyLink__g0mcY\",\"HeadlineAndExport\":\"Preview_HeadlineAndExport__3vxHH\",\"Headline\":\"Preview_Headline__2yd8P\",\"ExportButton\":\"Preview_ExportButton__3t5_Z\",\"Text\":\"Preview_Text__3m3nn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DragDrop\":\"DragDrop_DragDrop__69U1q\",\"UploadText\":\"DragDrop_UploadText__3BF2H\",\"DropArea\":\"DragDrop_DropArea__3Ck_W\",\"DropAreaContent\":\"DragDrop_DropAreaContent__2FbMw\",\"DropAreaText\":\"DragDrop_DropAreaText__3Nk_9\",\"DropAreaHeading\":\"DragDrop_DropAreaHeading__3SZMc\",\"DropAreaSubheading\":\"DragDrop_DropAreaSubheading__37y0F\",\"DropAreaBrowse\":\"DragDrop_DropAreaBrowse__1ku5G\",\"Active\":\"DragDrop_Active__2Le0T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordContainer\":\"Words_WordContainer__2MxYw\",\"Word\":\"Words_Word__3b2m1\",\"Pause\":\"Words_Pause__33kzp\",\"Deleted\":\"Words_Deleted__3CMYk\",\"DeletedText\":\"Words_DeletedText__1n8km\",\"WordInput\":\"Words_WordInput__3lLIb\",\"CurrentWord\":\"Words_CurrentWord__3w6qS\",\"Highlight\":\"Words_Highlight__cba72\",\"DeletedImgContainer\":\"Words_DeletedImgContainer__2Mj9-\",\"DeletedImg\":\"Words_DeletedImg__2JxpA\",\"InSelection\":\"Words_InSelection__33LHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ImageDropdown_Dropdown__2eYxV\",\"UplaodButtonContainer\":\"ImageDropdown_UplaodButtonContainer__1lY8g\",\"UploadButton\":\"ImageDropdown_UploadButton__1lQXO\",\"FileInput\":\"ImageDropdown_FileInput__2Rzkx\",\"Images\":\"ImageDropdown_Images__LZdgK\",\"Column\":\"ImageDropdown_Column__27Nmx\",\"ImageContainer\":\"ImageDropdown_ImageContainer__1YX4Q\",\"Image\":\"ImageDropdown_Image__2oCLN\"};","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTemplates(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 2H2.66667C2.29848 2 2 2.29848 2 2.66667V6C2 6.36819 2.29848 6.66667 2.66667 6.66667H6C6.36819 6.66667 6.66667 6.36819 6.66667 6V2.66667C6.66667 2.29848 6.36819 2 6 2Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 9.33331H2.66667C2.29848 9.33331 2 9.63179 2 9.99998V13.3333C2 13.7015 2.29848 14 2.66667 14H6C6.36819 14 6.66667 13.7015 6.66667 13.3333V9.99998C6.66667 9.63179 6.36819 9.33331 6 9.33331Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.3333 2H10C9.63182 2 9.33334 2.29848 9.33334 2.66667V6C9.33334 6.36819 9.63182 6.66667 10 6.66667H13.3333C13.7015 6.66667 14 6.36819 14 6V2.66667C14 2.29848 13.7015 2 13.3333 2Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.3333 9.33331H10C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998V13.3333C9.33334 13.7015 9.63182 14 10 14H13.3333C13.7015 14 14 13.7015 14 13.3333V9.99998C14 9.63179 13.7015 9.33331 13.3333 9.33331Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTemplates);\nexport default __webpack_public_path__ + \"static/media/templates.9ddb4f2f.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/upload.e681cc4b.svg\";","import React, { useEffect, useRef, useCallback } from 'react';\r\nimport styles from './DragDrop.module.css';\r\nimport upload from '../../../assets/editor/upload.svg';\r\n\r\nconst DragDrop = ({ setVideoForUpload, setVideoDuration }) => {\r\n  const uploadRef = useRef(null);\r\n  const dropAreaRef = useRef(null);\r\n  // const uploadHandler = () => {\r\n  //   setVideoForUpload(uploadRef.current.files[0]);\r\n  // };\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'copy';\r\n    dropAreaRef.current.classList.add(styles.Active);\r\n    return false;\r\n  }, []);\r\n\r\n  const handleDragEnter = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dropAreaRef.current.classList.add(styles.Active);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dropAreaRef.current.classList.remove(styles.Active);\r\n  }, []);\r\n\r\n  const validateFile = useCallback(\r\n    (file) => {\r\n      if (file.type === 'video/mp4') {\r\n        let video = document.createElement('video');\r\n        video.preload = 'metadata';\r\n        video.onloadedmetadata = () => {\r\n          if (video.duration > 1) {\r\n            setVideoDuration(video.duration);\r\n            setVideoForUpload(file);\r\n          }\r\n          return;\r\n        };\r\n        video.src = URL.createObjectURL(file);\r\n      }\r\n    },\r\n    [setVideoDuration, setVideoForUpload]\r\n  );\r\n\r\n  const handleDrop = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dropAreaRef.current.classList.remove(styles.Active);\r\n      let file = e.dataTransfer.files[0];\r\n      validateFile(file);\r\n      return false;\r\n    },\r\n    [validateFile]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let area = dropAreaRef.current;\r\n    area.addEventListener('dragover', handleDragOver, false);\r\n    area.addEventListener('dragenter', handleDragEnter, false);\r\n    area.addEventListener('dragleave', handleDragLeave, false);\r\n    area.addEventListener('drop', handleDrop, false);\r\n\r\n    return () => {\r\n      area.removeEventListener('dragover', handleDragOver, false);\r\n      area.removeEventListener('dragenter', handleDragEnter, false);\r\n      area.removeEventListener('dragleave', handleDragLeave, false);\r\n      area.removeEventListener('drop', handleDrop, false);\r\n    };\r\n  }, [handleDragOver, handleDrop, handleDragEnter, handleDragLeave]);\r\n\r\n  return (\r\n    <div className={styles.DragDrop}>\r\n      <p className={styles.UploadText}>Upload a video or audio file</p>\r\n      <div\r\n        ref={dropAreaRef}\r\n        className={styles.DropArea}\r\n        onClick={() => uploadRef.current.click()}\r\n      >\r\n        <div className={styles.DropAreaContent}>\r\n          <img src={upload} alt='upload' />\r\n          <div className={styles.DropAreaText}>\r\n            <p className={styles.DropAreaHeading}>Drag & drop your file here</p>\r\n            <p className={styles.DropAreaSubheading}>\r\n              or click to <span className={styles.DropAreaBrowse}>browse</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <input\r\n        ref={uploadRef}\r\n        type='file'\r\n        accept='video/mp4'\r\n        style={{ display: 'none' }}\r\n        onChange={() => validateFile(uploadRef.current.files[0])}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragDrop;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport styles from './UploadProgress.module.css';\r\n\r\nconst UploadProgress = ({\r\n  uploadProgress,\r\n  isUploading,\r\n  videoDuration,\r\n  info,\r\n  setIsFinished,\r\n}) => {\r\n  // console.log(videoDuration);\r\n  const [progress, setProgress] = useState(0);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const uploadMaxPercentage = 40;\r\n  const isMounted = useRef(false);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (intervalId) clearInterval(intervalId);\r\n    };\r\n  }, [intervalId]);\r\n\r\n  const progressHandler = useCallback(() => {\r\n    let intervalTime = (videoDuration * 1000) / (100 - uploadMaxPercentage) / 2;\r\n    // console.log(intervalTime);\r\n    let interval = setInterval(() => {\r\n      if (isMounted.current) {\r\n        setProgress((prevState) => {\r\n          if (prevState >= 99) {\r\n            clearInterval(interval);\r\n            return 99;\r\n          } else return prevState + 0.5;\r\n        });\r\n      }\r\n    }, intervalTime);\r\n    setIntervalId(interval);\r\n  }, [videoDuration]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (info) {\r\n      clearInterval(intervalId);\r\n      let interval = setInterval(() => {\r\n        if (isMounted.current) {\r\n          setProgress((prevState) => {\r\n            if (prevState >= 100) {\r\n              clearInterval(interval);\r\n              return 100;\r\n            } else return prevState + 1;\r\n          });\r\n        }\r\n      }, 100);\r\n    }\r\n    return () => {\r\n      if (interval !== null) clearInterval(interval);\r\n    };\r\n  }, [info, intervalId]);\r\n\r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (progress === 100 && info) {\r\n      timeout = setTimeout(() => {\r\n        if (isMounted.current) setIsFinished(true);\r\n      }, 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (timeout !== null) clearTimeout(timeout);\r\n    };\r\n  }, [progress, info, setIsFinished]);\r\n\r\n  useEffect(() => {\r\n    if (uploadProgress === 100 && !isUploading) progressHandler();\r\n    // progressHandler();\r\n  }, [uploadProgress, progressHandler, isUploading]);\r\n\r\n  useEffect(() => {\r\n    if (isUploading) {\r\n      setProgress(Math.round(uploadProgress * (uploadMaxPercentage / 100)));\r\n    }\r\n  }, [isUploading, uploadProgress]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.UploadProgress}>\r\n      <p className={styles.Percentage}>{Math.floor(progress)}%</p>\r\n      <p className={styles.Heading}>Transcribing your video</p>\r\n      <div className={styles.ProgressBar}>\r\n        <div\r\n          className={styles.ProgressBarInner}\r\n          style={{\r\n            maxWidth: progress + '%',\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <p className={styles.Subheading}>\r\n        Please be patient. It may take several minutes.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadProgress;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env.REACT_APP_API_BASE_URL_TEST}/api/v1`,\r\n});\r\n\r\nexport default instance;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadVideo = () => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [info, setInfo] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const words = useRef(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const onUploadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    if (isMounted.current) setUploadProgress(currentProgress);\r\n    if (currentProgress === 100 && isMounted.current) setIsUploading(false);\r\n    // console.log(`%cuploading ${currentProgress}%`, 'color: #3153fb');\r\n  };\r\n\r\n  const axiosUploadVideo = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/videos', formData, {\r\n          onUploadProgress,\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadVideo = useCallback(\r\n    async (formData) => {\r\n      setUploadProgress(0);\r\n      setIsUploading(true);\r\n      try {\r\n        const res = await axiosUploadVideo(formData);\r\n        console.log(res);\r\n        if (isMounted.current) {\r\n          words.current = res.data.subtitles.captions;\r\n          setInfo({\r\n            id: res.data._id,\r\n            duration: res.data.duration,\r\n            url: res.data.original_video_url,\r\n            title: res.data.title\r\n          })\r\n        }\r\n      } catch (err) {\r\n        console.log('Error Uploading Video', err);\r\n      } finally {\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return {\r\n    isUploading,\r\n    uploadVideo,\r\n    words: words.current,\r\n    info,\r\n    uploadProgress,\r\n  };\r\n};\r\n\r\nexport default useUploadVideo;\r\n","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","export default __webpack_public_path__ + \"static/media/twiso.8864782d.svg\";","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport backArrow from '../../assets/editor/backArrow.svg';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport twiso from '../../assets/preview/twiso.svg';\r\n\r\nconst Navbar = ({ children, videoData, isPreview, getVideoError, isAuth }) => {\r\n  const history = useHistory();\r\n  const backHandler = () => history.goBack();\r\n\r\n  return (\r\n    <header className={styles.Navbar}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        {isAuth || !isPreview ? (\r\n          <div className={styles.BackButton} onClick={backHandler}>\r\n            <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n          </div>\r\n        ) : null}\r\n        {!isAuth && isPreview ? (\r\n          <img className={styles.Twiso} src={twiso} alt='twiso' />\r\n        ) : null}\r\n\r\n        {videoData && !isPreview ? (\r\n          <div className={styles.FileInfoContainer}>\r\n            <p className={styles.FileName}>{videoData.title}</p>\r\n            <p className={styles.Creater}>Dmitry</p>\r\n          </div>\r\n        ) : null}\r\n        {isPreview && isAuth && !getVideoError ? (\r\n          <Link to={`/editor/${videoData.id}`} className={styles.EditVideo}>\r\n            Edit video\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      {children}\r\n      {!isAuth && isPreview ? (\r\n        <div className={styles.UserInfoContainer}>\r\n          <Link to={'/auth/sign-in'} className={styles.LogInLink}>\r\n            Log in\r\n          </Link>\r\n          <Link to={'/auth/sign-up'} className={styles.SignUpLink}>\r\n            Get Twiso for free\r\n          </Link>\r\n        </div>\r\n      ) : null}\r\n      {isAuth || !isPreview ? (\r\n        <div className={styles.UserInfoContainer}>\r\n          <div className={styles.User}>\r\n            <p className={styles.UserInitials}>DE</p>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Uploader.module.css';\r\nimport DragDrop from './DragDrop/DragDrop';\r\nimport UploadProgress from './UploadProgress/UploadProgress';\r\nimport useUploadVideo from '../../hooks/useUploadVideo';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\n\r\nconst Uploader = ({\r\n  viedoForUpload,\r\n  setVideoForUpload,\r\n  setIsFinished,\r\n  setVideoData,\r\n}) => {\r\n  const [videoDuration, setVideoDuration] = useState(0);\r\n  const { isUploading, uploadVideo, info, uploadProgress } = useUploadVideo();\r\n\r\n  useEffect(() => {\r\n    if (info) setVideoData(info);\r\n  }, [info, setVideoData]);\r\n\r\n  useEffect(() => {\r\n    if (viedoForUpload) {\r\n      const formData = new FormData();\r\n      formData.append('video', viedoForUpload);\r\n      uploadVideo(formData);\r\n    }\r\n  }, [viedoForUpload, uploadVideo]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className={styles.Uploader}>\r\n        {!viedoForUpload ? (\r\n          <DragDrop\r\n            setVideoForUpload={setVideoForUpload}\r\n            setVideoDuration={setVideoDuration}\r\n          />\r\n        ) : (\r\n          <UploadProgress\r\n            uploadProgress={uploadProgress}\r\n            isUploading={isUploading}\r\n            videoDuration={videoDuration}\r\n            info={info}\r\n            setIsFinished={setIsFinished}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n","export default __webpack_public_path__ + \"static/media/cut.663cdfbd.svg\";","export default __webpack_public_path__ + \"static/media/search.243833c0.svg\";","export const handleDeleted = (wordsArr, setCuts, setPlayerTime, wordIndex) => {\r\n  let arr = [];\r\n  let isLastDeleted = false;\r\n  let cutStart = 0;\r\n  let cutStartIndex = 0;\r\n  let cutEndIndex = 0;\r\n  let cutEnd = 0;\r\n  for (let i = 0; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (word.active && isLastDeleted) {\r\n      isLastDeleted = false;\r\n      wordsArr[cutStartIndex].next = i;\r\n      arr.push({ start: cutStart, end: cutEnd });\r\n    } else if (!word.active && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      cutStart = word.start;\r\n      cutStartIndex = i;\r\n      cutEnd = word.end;\r\n    } else if (!word.active && isLastDeleted) {\r\n      cutEnd = word.end;\r\n      cutEndIndex = i;\r\n    }\r\n  }\r\n\r\n  if (isLastDeleted) arr.push({ start: cutStart, end: cutEnd });\r\n\r\n  if (isLastDeleted && cutStartIndex !== wordsArr.length - 1) {\r\n    wordsArr[cutStartIndex].next = cutEndIndex;\r\n  } else if (isLastDeleted) {\r\n    wordsArr[cutStartIndex].next = wordsArr.length - 1;\r\n  }\r\n  if (wordIndex !== null) setPlayerTime(wordIndex);\r\n  setCuts([...arr]);\r\n};\r\n\r\nconst handleRestore = (setCuts, setPlayerTime, wordIndex, restoreStart) => {\r\n  setCuts((prevState) => {\r\n    let newState = [];\r\n    for (let i = 0; i < prevState.length; i++) {\r\n      let cut = prevState[i];\r\n      if (cut.start !== restoreStart) newState.push(cut);\r\n    }\r\n    setPlayerTime(wordIndex);\r\n    return [...newState];\r\n  });\r\n};\r\n\r\nconst handleVideoCuts = (\r\n  type,\r\n  wordsArr,\r\n  setCuts,\r\n  setPlayerTime,\r\n  wordIndex,\r\n  restoreStart\r\n) => {\r\n  if (type === 'delete') {\r\n    handleDeleted(wordsArr, setCuts, setPlayerTime, wordIndex);\r\n  } else if (type === 'restore')\r\n    handleRestore(setCuts, setPlayerTime, wordIndex, restoreStart);\r\n};\r\n\r\nexport const findAndSetCurrentWord = (\r\n  deletedIndex,\r\n  wordsArr,\r\n  setWordIndex,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let currentIndex = null;\r\n  for (let i = deletedIndex; i >= 0; i--) {\r\n    let word = wordsArr[i];\r\n    if (word.active) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (currentIndex === null) {\r\n    for (let i = deletedIndex; i < wordsArr.length; i++) {\r\n      let word = wordsArr[i];\r\n      if (word.active) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  setWordIndex(currentIndex);\r\n  handleVideoCuts('delete', wordsArr, setCuts, setPlayerTime, currentIndex);\r\n};\r\n\r\nexport const deleteWord = (\r\n  wordsArr,\r\n  wordIndex,\r\n  setWordIndex,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let word = wordsArr[wordIndex];\r\n  word.active = false;\r\n  findAndSetCurrentWord(\r\n    wordIndex,\r\n    wordsArr,\r\n    setWordIndex,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n};\r\n\r\nexport const deleteSelection = (\r\n  wordsArr,\r\n  setWordIndex,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  let deletedStartIndex = currentSelection.start;\r\n  let deleteEndIndex = currentSelection.end;\r\n\r\n  for (let i = deletedStartIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    word.active = false;\r\n    if (i === deleteEndIndex) break;\r\n  }\r\n\r\n  findAndSetCurrentWord(\r\n    deletedStartIndex,\r\n    wordsArr,\r\n    setWordIndex,\r\n    setCuts,\r\n    setPlayerTime\r\n  );\r\n  setCurrentSelection(null);\r\n};\r\n\r\nexport const restoreDeleted = (\r\n  wordsArr,\r\n  wordIndex,\r\n  setWordIndex,\r\n  setCurrentSelection,\r\n  setCuts,\r\n  setPlayerTime\r\n) => {\r\n  for (let i = wordIndex; i < wordsArr.length; i++) {\r\n    let word = wordsArr[i];\r\n    if (!word.active) {\r\n      word.active = true;\r\n      if (word.next !== null) word.next = null;\r\n    } else break;\r\n  }\r\n  let restoreStart = wordsArr[wordIndex].start;\r\n  handleVideoCuts(\r\n    'restore',\r\n    null,\r\n    setCuts,\r\n    setPlayerTime,\r\n    wordIndex,\r\n    restoreStart\r\n  );\r\n  setCurrentSelection(null);\r\n  setWordIndex(wordIndex);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/restoreText.28a66a4d.svg\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './Words.module.css';\r\nimport restoreText from '../../../assets/editor/restoreText.svg';\r\n\r\nconst Words = ({\r\n  wordsArr,\r\n  currentWordIndex,\r\n  searchInput,\r\n  wordClickHandler,\r\n  inputIndex,\r\n  setInputIndex,\r\n  currentSelection,\r\n  fabricSub,\r\n  currentSub,\r\n  setShouldRerenderSub,\r\n  triggerWordsUpdate,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const handleNotSilenceAndText = (id, text) => {\r\n    let words = currentSub.val.words;\r\n    // console.log(currentSub.val);\r\n    // console.log(words);\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (word._id === id) {\r\n        let isWhitespace = word.text.indexOf(' ') === 0;\r\n        word.text = isWhitespace ? ' ' + text : text;\r\n        if (word.silence) word.silence = false;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSilenceAndText = (id, text) => {\r\n    let words = currentSub.val.words;\r\n    // console.log(words);\r\n    if (words) {\r\n      for (let i = 0; i < words.length; i++) {\r\n        let word = words[i];\r\n        if (word._id === id) {\r\n          let isFirst = i === 0;\r\n          text = isFirst ? text + ' ' : text;\r\n          let isNoWhitespace = word.text.indexOf(' ') !== 0;\r\n          word.text = isNoWhitespace && !isFirst ? ' ' + text : text;\r\n          if (word.silence) word.silence = false;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      currentSub.val.silence = false;\r\n      currentSub.val.words = [{ ...currentSub.val, text }];\r\n    }\r\n  };\r\n\r\n  const handleNoText = (id) => {\r\n    let words = currentSub.val.words;\r\n    // console.log(words);\r\n    let silenceCount = 0;\r\n    for (let i = 0; i < words.length; i++) {\r\n      let word = words[i];\r\n      if (word._id === id) {\r\n        word.text = '';\r\n        word.silence = true;\r\n      }\r\n      if (word.silence) silenceCount++;\r\n    }\r\n    if (silenceCount === words.length) {\r\n      currentSub.val.silence = true;\r\n      currentSub.val.words = null;\r\n    }\r\n  };\r\n\r\n  const handleSubTextChange = (id, text, isSilence) => {\r\n    if (!isSilence && text && id) {\r\n      handleNotSilenceAndText(id, text);\r\n    } else if (text && isSilence) {\r\n      handleSilenceAndText(id, text);\r\n    } else if (id) {\r\n      handleNoText(id);\r\n    }\r\n    setShouldRerenderSub(true);\r\n  };\r\n\r\n  const blurHandler = (e) => {\r\n    let id = e.target.parentNode.id;\r\n    let inputVal = input.trim().length > 0 ? input : null;\r\n    if (wordsArr[inputIndex]) {\r\n      if (inputVal && !wordsArr[inputIndex].silence) {\r\n        wordsArr[inputIndex].text = inputVal;\r\n        if (fabricSub) handleSubTextChange(id, inputVal, false);\r\n      } else if (inputVal) {\r\n        wordsArr[inputIndex].text = inputVal;\r\n        wordsArr[inputIndex].silence = false;\r\n        if (fabricSub) handleSubTextChange(id, inputVal, true);\r\n      } else {\r\n        if (fabricSub && !wordsArr[inputIndex].silence)\r\n          handleSubTextChange(id, inputVal, false);\r\n        wordsArr[inputIndex].silence = true;\r\n      }\r\n    }\r\n    setInput('');\r\n    setInputIndex(null);\r\n    triggerWordsUpdate();\r\n  };\r\n\r\n  let isLastDeleted = false;\r\n  let shouldShow = true;\r\n  let isSelectionMode = false;\r\n  let isSelectionEnd = false;\r\n\r\n  useEffect(() => {\r\n    if (inputIndex !== null) {\r\n      inputRef.current.focus();\r\n      if (wordsArr[inputIndex] && !wordsArr[inputIndex].silence) {\r\n        setInput(wordsArr[inputIndex].text);\r\n      }\r\n    }\r\n  }, [inputIndex, wordsArr]);\r\n\r\n  return wordsArr.map((word, i) => {\r\n    if (isLastDeleted && !word.active) shouldShow = false;\r\n    else shouldShow = true;\r\n    let isCurrent = i === currentWordIndex && !currentSelection && word.active;\r\n    let isHighlight =\r\n      !word.silence &&\r\n      word.active &&\r\n      searchInput.trim().length > 1 &&\r\n      word.text.trim().toLowerCase().includes(searchInput.trim().toLowerCase());\r\n\r\n    if (!isLastDeleted && !word.active) isLastDeleted = true;\r\n    if (isLastDeleted && word.active) isLastDeleted = false;\r\n\r\n    if (currentSelection && currentSelection.start === i) {\r\n      isSelectionMode = true;\r\n    } else if (currentSelection && currentSelection.end === i) {\r\n      isSelectionEnd = true;\r\n    } else if (isSelectionEnd) {\r\n      isSelectionMode = false;\r\n      isSelectionEnd = false;\r\n    }\r\n\r\n    let isInput = inputIndex !== null && isCurrent;\r\n    let innerContent = isInput ? (\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.WordInput}\r\n        type='text'\r\n        value={input}\r\n        onBlur={blurHandler}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n    ) : (\r\n      <span className={!word.silence ? styles.Word : styles.Pause}>\r\n        {!word.silence ? word.text + ' ' : '•••• '}\r\n      </span>\r\n    );\r\n\r\n    let content = !word.active ? (\r\n      <span className={styles.Deleted}>\r\n        <span className={styles.DeletedImgContainer}>\r\n          <img\r\n            className={styles.DeletedImg}\r\n            src={restoreText}\r\n            alt='restore text'\r\n          />\r\n        </span>\r\n        <span className={styles.DeletedText}>[...] </span>\r\n      </span>\r\n    ) : (\r\n      innerContent\r\n    );\r\n\r\n    let containerStyle = { width: 'auto' };\r\n    if (isInput) {\r\n      containerStyle.width = !word.silence\r\n        ? word.text.length * 1.5 + 'ch'\r\n        : '70px';\r\n      containerStyle.marginRight = '0.4rem';\r\n    }\r\n\r\n    return shouldShow ? (\r\n      <span\r\n        style={containerStyle}\r\n        id={word._id}\r\n        key={word._id}\r\n        className={[\r\n          styles.WordContainer,\r\n          isCurrent ? styles.CurrentWord : null,\r\n          isHighlight ? styles.Highlight : null,\r\n          isSelectionMode ? styles.InSelection : null,\r\n        ].join(' ')}\r\n        onClick={(e) => wordClickHandler(e, !word.active)}\r\n      >\r\n        {content}\r\n      </span>\r\n    ) : null;\r\n  });\r\n};\r\n\r\nexport default Words;\r\n","// export const findSubWithWordIndex2 = (wordIndex, words, subList) => {\r\n//   let word = words[wordIndex];\r\n//   if (subList && word) {\r\n//     for (let i = 0; i < subList.length; i++) {\r\n//       let sub = subList[i];\r\n//       if (sub.words && +sub.end >= +word.start) {\r\n//         for (let j = 0; j < sub.words.length; j++) {\r\n//           let subWord = sub.words[j];\r\n//           if (subWord && subWord._id === word._id) return i;\r\n//         }\r\n//       } else if (sub.silence && word._id === sub._id) return i;\r\n//     }\r\n//     return null;\r\n//   } else return null;\r\n// };\r\n\r\n// Linked List Search\r\nexport const findSubWithWordIndex = (wordIndex, words, subList) => {\r\n  let word = words[wordIndex];\r\n  if (subList && word) {\r\n    let subNode = subList.head;\r\n    for (let i = 0; i < subList.length; i++) {\r\n      let sub = subNode.val;\r\n      if (sub.words && +sub.end >= +word.start) {\r\n        for (let j = 0; j < sub.words.length; j++) {\r\n          let subWord = sub.words[j];\r\n          if (subWord && subWord._id === word._id) return subNode;\r\n        }\r\n      } else if (sub.silence && word._id === sub._id) return subNode;\r\n      // console.log(sub);\r\n      subNode = subNode.next;\r\n    }\r\n    return null;\r\n  } else return null;\r\n};\r\n\r\nexport const findWordIndexWithId = (id, words) => {\r\n  for (let i = 0; i < words.length; i++) {\r\n    let word = words[i];\r\n    if (word._id === id) return i;\r\n  }\r\n  return null;\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Transcription.module.css';\r\nimport cut from '../../assets/editor/cut.svg';\r\nimport search from '../../assets/editor/search.svg';\r\nimport {\r\n  deleteWord,\r\n  restoreDeleted,\r\n  deleteSelection,\r\n  findAndSetCurrentWord,\r\n} from './utils/updateTextAndCuts';\r\nimport Words from './Words/Words';\r\nimport { findWordIndexWithId } from '../../utils/findIndex';\r\n\r\nconst Transcription = ({\r\n  words,\r\n  currentWordIndex,\r\n  setCurrentWordIndex,\r\n  isPlaying,\r\n  videoRef,\r\n  setCuts,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  currentSub,\r\n  fabricSub,\r\n  setShouldRerenderSub,\r\n  setCurrentTime,\r\n  setNextCutIndex,\r\n  videoCuts,\r\n  triggerWordsUpdate,\r\n}) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [inputIndex, setInputIndex] = useState(null);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  const setPlayerTime = useCallback(\r\n    (wordIndex) => {\r\n      let endTime = '0';\r\n      if (wordIndex !== null) {\r\n        let word = words[wordIndex];\r\n        endTime = word.end;\r\n        videoRef.current.currentTime = +word.start;\r\n        setCurrentTime(+word.start);\r\n        // console.log('seting player time: ', +word.start);\r\n      }\r\n      let cutIndex = 0;\r\n      for (let i = 0; i < videoCuts.length; i++) {\r\n        let cut = videoCuts[i];\r\n        if (+endTime > +cut.end) {\r\n          cutIndex++;\r\n        }\r\n      }\r\n      setNextCutIndex(cutIndex);\r\n    },\r\n    [setCurrentTime, setNextCutIndex, videoCuts, videoRef, words]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad && words && words.length > 0) {\r\n      setIsFirstLoad(null);\r\n      findAndSetCurrentWord(\r\n        0,\r\n        words,\r\n        setCurrentWordIndex,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  }, [isFirstLoad, words, setCuts, setPlayerTime, setCurrentWordIndex]);\r\n\r\n  const wordClickHandler = (e, isDeleted) => {\r\n    let id = e.currentTarget.id;\r\n    let wordIndex = findWordIndexWithId(id, words);\r\n    if (isPlaying) videoRef.current.pause();\r\n    if (e.detail > 1 && inputIndex === null) setInputIndex(wordIndex);\r\n    if (!isDeleted && inputIndex === null && wordIndex !== null) {\r\n      setCurrentSelection(null);\r\n      setPlayerTime(wordIndex);\r\n      setCurrentWordIndex(wordIndex);\r\n    } else if (inputIndex === null) {\r\n      restoreDeleted(\r\n        words,\r\n        wordIndex,\r\n        setCurrentWordIndex,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (selection, anchorNode, focusNode, isAnchorNode, isFocusNode, position) => {\r\n      let start = '';\r\n      let end = '';\r\n      if (anchorNode.parentNode.id === focusNode.parentNode.id) {\r\n        let wordIndex = findWordIndexWithId(anchorNode.parentNode.id, words);\r\n        if (anchorNode.parentNode.id && wordIndex !== null) {\r\n          setPlayerTime(wordIndex);\r\n          setCurrentWordIndex(wordIndex);\r\n        }\r\n        selection.removeAllRanges();\r\n        setCurrentSelection(null);\r\n      } else if (isAnchorNode && isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = focusNode.parentNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.parentNode.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isAnchorNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.id;\r\n        } else if (position === 2) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.id;\r\n          end = anchorNode.parentNode.id;\r\n        }\r\n      } else if (isFocusNode) {\r\n        if (position === 4) {\r\n          start = anchorNode.parentNode.parentNode.firstChild.parentNode.id;\r\n          end = focusNode.id;\r\n        } else if (position === 2) {\r\n          start = focusNode.id;\r\n          end = anchorNode.parentNode.parentNode.lastChild.parentNode.id;\r\n        }\r\n      }\r\n\r\n      if (start !== '' && end !== '') {\r\n        let indexStart = findWordIndexWithId(start, words);\r\n        let indexEnd = findWordIndexWithId(end, words);\r\n        if (indexStart !== null && indexEnd !== null) {\r\n          setCurrentSelection({ start: indexStart, end: indexEnd });\r\n          setPlayerTime(indexStart);\r\n          setCurrentWordIndex(indexStart);\r\n        }\r\n      }\r\n      // selection.removeAllRanges();\r\n    },\r\n    [setCurrentWordIndex, setCurrentSelection, setPlayerTime, words]\r\n  );\r\n\r\n  const mouseUpHandler = useCallback(\r\n    (e) => {\r\n      let selection = document.getSelection();\r\n      if (e.detail < 2 && selection.anchorNode && selection.focusNode) {\r\n        let anchorNode = selection.anchorNode.parentNode;\r\n        let focusNode = selection.focusNode.parentNode;\r\n        let isAnchorNode = anchorNode.tagName === 'SPAN';\r\n        let isFocusNode = focusNode.tagName === 'SPAN';\r\n        let position = selection.anchorNode.compareDocumentPosition(\r\n          selection.focusNode\r\n        );\r\n        if ((isAnchorNode || isFocusNode) && !selection.isCollapsed) {\r\n          if (isPlaying) videoRef.current.pause();\r\n          handleSelection(\r\n            selection,\r\n            anchorNode,\r\n            focusNode,\r\n            isAnchorNode,\r\n            isFocusNode,\r\n            position\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [handleSelection, isPlaying, videoRef]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n    return () => document.removeEventListener('mouseup', mouseUpHandler);\r\n  }, [mouseUpHandler]);\r\n\r\n  const cutClickHandler = () => {\r\n    let isWordsArr = words && words.length > 0;\r\n    if (isPlaying) videoRef.current.pause();\r\n    if (!currentSelection && currentWordIndex !== null && isWordsArr) {\r\n      deleteWord(\r\n        words,\r\n        currentWordIndex,\r\n        setCurrentWordIndex,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    } else if (currentSelection && isWordsArr) {\r\n      deleteSelection(\r\n        words,\r\n        setCurrentWordIndex,\r\n        currentSelection,\r\n        setCurrentSelection,\r\n        setCuts,\r\n        setPlayerTime\r\n      );\r\n    }\r\n    let selection = document.getSelection();\r\n    selection.removeAllRanges();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Transcription}>\r\n      <div className={styles.TextControls}>\r\n        <div className={styles.CutContainer} onClick={cutClickHandler}>\r\n          <img src={cut} alt='cut' />\r\n          <p>Cut</p>\r\n        </div>\r\n        <div className={styles.SearchContainer}>\r\n          <input\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            className={styles.SearchInput}\r\n            placeholder='Search'\r\n            type='text'\r\n          />\r\n          <img className={styles.SearchSvg} src={search} alt='search' />\r\n        </div>\r\n      </div>\r\n      <div id='textbox' className={styles.Text}>\r\n        {words ? (\r\n          <Words\r\n            wordsArr={words}\r\n            currentWordIndex={currentWordIndex}\r\n            searchInput={searchInput}\r\n            wordClickHandler={wordClickHandler}\r\n            inputIndex={inputIndex}\r\n            setInputIndex={setInputIndex}\r\n            currentSelection={currentSelection}\r\n            fabricSub={fabricSub}\r\n            currentSub={currentSub}\r\n            setShouldRerenderSub={setShouldRerenderSub}\r\n            triggerWordsUpdate={triggerWordsUpdate}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transcription;\r\n","import {createContext} from 'react';\r\n\r\nconst EditorContext = createContext(null);\r\nexport default EditorContext;","import { fabric } from 'fabric';\r\n\r\nexport const addNewImage = (state, canvas, dispatch, id, updateId) => {\r\n  let imageSrc = state.imageToAdd.src;\r\n  if (state.shouldReplaceImage) {\r\n    let active = canvas.getActiveObject();\r\n    fabric.CustomImage.fromURL(\r\n      imageSrc,\r\n      (img) => {\r\n        img.top = active.top;\r\n        img.left = active.left;\r\n        img.scaleToWidth(active.width * active.scaleX);\r\n        img.angle = active.angle;\r\n        img.id = active.id;\r\n        img.cornerRadius = active.cornerRadius;\r\n        img.isSvg = state.imageToAdd.type === 'svg';\r\n        canvas.remove(active);\r\n        canvas.add(img).setActiveObject(img);\r\n        canvas.requestRenderAll();\r\n        dispatch({ type: 'setShouldUpdateImage', data: true });\r\n        dispatch({ type: 'setShouldReplaceImage', data: false });\r\n      },\r\n      { crossOrigin: 'Anonymous' }\r\n    );\r\n  } else {\r\n    fabric.CustomImage.fromURL(\r\n      imageSrc,\r\n      (img) => {\r\n        img.scaleToWidth(256);\r\n        img.left = 100;\r\n        img.top = 100;\r\n        img.id = id;\r\n        img.cornerRadius = 0;\r\n        img.isSvg = state.imageToAdd.type === 'svg';\r\n        canvas.add(img).setActiveObject(img);\r\n        canvas.requestRenderAll();\r\n        updateId();\r\n      },\r\n      { crossOrigin: 'Anonymous' }\r\n    );\r\n  }\r\n  dispatch({ type: 'setImageToAdd', data: null });\r\n};\r\n\r\nexport const addNewText = (canvas, state, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShouldAddText', data: false });\r\n  let text = new fabric.Textbox('Add text‎', {\r\n    left: 100,\r\n    top: 100,\r\n    height: 100,\r\n    padding: 10,\r\n    width: 130,\r\n    splitByGrapheme: true,\r\n    cursorWidth: 0.5,\r\n    ...state.textState,\r\n  });\r\n  text.id = id;\r\n  canvas.add(text).setActiveObject(text);\r\n  canvas.requestRenderAll();\r\n  updateId();\r\n};\r\n\r\nconst newRect = () => {\r\n  let rect = new fabric.Rect({\r\n    left: 100,\r\n    top: 100,\r\n    width: 152,\r\n    height: 152,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return rect;\r\n};\r\n\r\nconst newCircle = () => {\r\n  let circle = new fabric.Circle({\r\n    left: 100,\r\n    top: 100,\r\n    radius: 76,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return circle;\r\n};\r\n\r\nconst newTriangle = () => {\r\n  let triangle = new fabric.Triangle({\r\n    left: 100,\r\n    top: 100,\r\n    width: 152,\r\n    height: 150,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return triangle;\r\n};\r\n\r\nconst newLine = () => {\r\n  let line = new fabric.Line([0, 0, 300, 0], {\r\n    left: 100,\r\n    top: 100,\r\n    stroke: 'rgba(196,196,196,1)',\r\n    strokeWidth: 2,\r\n    noScaleCache: false,\r\n    rx: 0,\r\n    ry: 0,\r\n  });\r\n  return line;\r\n};\r\n\r\nexport const addNewShape = (state, canvas, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShapeToAdd', data: null });\r\n  let obj = null;\r\n  if (state.shapeToAdd === 'square') obj = newRect();\r\n  else if (state.shapeToAdd === 'circle') obj = newCircle();\r\n  else if (state.shapeToAdd === 'triangle') obj = newTriangle();\r\n  else if (state.shapeToAdd === 'line') obj = newLine();\r\n  if (obj) {\r\n    obj.id = id;\r\n    canvas.add(obj).setActiveObject(obj);\r\n    canvas.requestRenderAll();\r\n    updateId();\r\n  }\r\n};\r\n","import { useEffect } from 'react';\r\nimport { addNewImage, addNewShape, addNewText } from '../utils/addObject';\r\n\r\nconst useAddObject = (state, dispatch, canvas, id, updateId) => {\r\n  useEffect(() => {\r\n    if (state.shapeToAdd) {\r\n      addNewShape(state, canvas, dispatch, id, updateId);\r\n    } else if (state.imageToAdd) {\r\n      addNewImage(state, canvas, dispatch, id, updateId);\r\n    } else if (state.shouldAddText) {\r\n      addNewText(canvas, state, dispatch, id, updateId);\r\n    }\r\n  }, [canvas, dispatch, state, id, updateId]);\r\n};\r\n\r\nexport default useAddObject;\r\n","import {createContext} from 'react';\r\n\r\nconst EventContext = createContext(null);\r\nexport default EventContext;","const textPropertyArr = [\r\n  'fontFamily',\r\n  'fontStyle',\r\n  'fontWeight',\r\n  'fontSize',\r\n  'fill',\r\n  'opacity',\r\n  'textAlign',\r\n];\r\n\r\nconst shapePropertyArr = ['fill', 'stroke', 'strokeWidth', 'rx', 'ry'];\r\nconst imagePropertyArr = ['cornerRadius', 'isSvg'];\r\n\r\nconst handleText = (e, dispatch) => {\r\n  let newTextState = {};\r\n  textPropertyArr.forEach((property) => {\r\n    newTextState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setTextState', data: newTextState });\r\n  return 'text';\r\n};\r\n\r\nconst handleShape = (e, dispatch) => {\r\n  let newShapeState = {};\r\n  shapePropertyArr.forEach((property) => {\r\n    newShapeState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setShapeState', data: newShapeState });\r\n  return e.target.type;\r\n};\r\n\r\nconst handleImage = (e, dispatch) => {\r\n  let newImageState = {};\r\n  imagePropertyArr.forEach((property) => {\r\n    newImageState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setImageState', data: newImageState });\r\n  return 'customImage';\r\n};\r\n\r\nconst handleSelected = (e, dispatch) => {\r\n  let obj = { type: '', object: null };\r\n  dispatch({ type: 'setCurrentCoords', data: e.target.lineCoords });\r\n  if (e.target.type === 'textbox') obj.type = handleText(e, dispatch);\r\n  else if (e.target.type === 'customImage' && e.target.type !== 'video')\r\n    obj.type = handleImage(e, dispatch);\r\n  else if (e.target.id === 'subtitle') obj.type = 'subtitle';\r\n  else if (e.target.type !== 'video') obj.type = handleShape(e, dispatch);\r\n  else obj.type = 'video';\r\n  obj.object = e.target;\r\n  dispatch({ type: 'setCurrentObject', data: obj });\r\n};\r\n\r\nexport const onCreated = (e, c, dispatch, showCanvasToolbar) => {\r\n  if (e.target.type === 'activeSelection') {\r\n    c.discardActiveObject();\r\n    return;\r\n  }\r\n  if (showCanvasToolbar) {\r\n    dispatch({ type: 'setShowCanvasToolbar', data: false });\r\n  }\r\n  handleSelected(e, dispatch);\r\n};\r\n\r\nexport const onCleared = (e, dispatch, currentId) => {\r\n  currentId.current = null;\r\n  dispatch({\r\n    type: 'setCurrentObject',\r\n    data: { type: '', object: null },\r\n  });\r\n  dispatch({\r\n    type: 'setCurrentCoords',\r\n    data: null,\r\n  });\r\n};\r\n\r\nexport const onModified = (e, dispatch) => {\r\n  handleSelected(e, dispatch);\r\n  if (e.target.id !== 'subtitle') {\r\n    dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n  }\r\n};\r\n\r\nexport const onAdded = (e, dispatch) => {\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n\r\nexport const onRemoved = (e, dispatch) => {\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n\r\nexport const onUpdated = (e, dispatch) => {\r\n  dispatch({ type: 'setShowToolbar', data: false });\r\n  handleSelected(e, dispatch);\r\n};\r\n\r\nexport const onTextEnter = (e, c, setIsEditingText) => {\r\n  setIsEditingText(true);\r\n  if (e.target.text === 'Add text‎') {\r\n    e.target.text = '';\r\n    e.target.hiddenTextarea.value = '';\r\n    c.requestRenderAll();\r\n  }\r\n};\r\n\r\nexport const onTextExit = (e, c, setIsEditingText) => {\r\n  setIsEditingText(false);\r\n  if (e.target.text === '') e.target.text = 'Add text‎';\r\n  c.requestRenderAll();\r\n};\r\n","import { useCallback, useEffect, useState, useRef, useContext } from 'react';\r\nimport EventContext from '../../../contexts/EventContext';\r\nimport {\r\n  onCreated,\r\n  onModified,\r\n  onCleared,\r\n  onUpdated,\r\n  onTextEnter,\r\n  onTextExit,\r\n  onAdded,\r\n  onRemoved,\r\n} from '../utils/onCanvasEvents';\r\n\r\nconst removeListeners = (c) => {\r\n  c.off('selection:created');\r\n  c.off('selection:updated');\r\n  c.off('selection:cleared');\r\n  c.off('object:modified');\r\n  c.off('object:added');\r\n  c.off('object:removed');\r\n  c.off('object:rotating');\r\n  c.off('object:rotated');\r\n  c.off('object:scaling');\r\n  c.off('object:scaled');\r\n  c.off('object:skewing');\r\n  c.off('object:skewed');\r\n  c.off('object:moved');\r\n  c.off('text:editing:entered');\r\n  c.off('text:editing:exited');\r\n};\r\n\r\nconst useSelectionObserver = (isCanvasSet, canvas, state, dispatch) => {\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [isRotating, setIsRotating] = useState(false);\r\n  const [isScaling, setIsScaling] = useState(false);\r\n  const [isSkewing, setIsSkewing] = useState(false);\r\n  const [isEditingText, setIsEditingText] = useState(false);\r\n  const isFirstLoad = useRef(true);\r\n  const currentId = useRef(null);\r\n\r\n  const checkOffScreen = useCallback(\r\n    (e) => {\r\n      let obj = e.target;\r\n      if (!obj.isOnScreen()) {\r\n        if (obj.id === 'subtitle') {\r\n          obj.left = canvas.getWidth() / canvas.getZoom() / 2;\r\n          obj.top =\r\n            canvas.getHeight() / canvas.getZoom() - obj.height - obj.paddingY;\r\n        } else {\r\n          obj.top = 0;\r\n          obj.left = 0;\r\n          obj.angle = 0;\r\n        }\r\n        obj.setCoords();\r\n      }\r\n    },\r\n    [canvas]\r\n  );\r\n\r\n  const addListeners = useCallback(\r\n    (c, dispatch, showCanvasToolbar) => {\r\n      c.on('text:editing:entered', (e) => onTextEnter(e, c, setIsEditingText));\r\n      c.on('text:editing:exited', (e) => onTextExit(e, c, setIsEditingText));\r\n      c.on('selection:created', (e) =>\r\n        onCreated(e, c, dispatch, showCanvasToolbar)\r\n      );\r\n      c.on('selection:updated', (e) => onUpdated(e, dispatch));\r\n      c.on('object:modified', (e) => onModified(e, dispatch));\r\n      c.on('object:added', (e) => onAdded(e, dispatch));\r\n      c.on('object:removed', (e) => onRemoved(e, dispatch));\r\n      c.on('selection:cleared', (e) => onCleared(e, dispatch, currentId));\r\n      c.on('object:rotating', () => setIsRotating(true));\r\n      c.on('object:rotated', () => setIsRotating(false));\r\n      c.on('object:scaling', () => setIsScaling(true));\r\n      c.on('object:scaled', (e) => {\r\n        checkOffScreen(e);\r\n        setIsScaling(false);\r\n      });\r\n      c.on('object:skewing', () => setIsSkewing(true));\r\n      c.on('object:skewed', () => setIsSkewing(false));\r\n      c.on('object:moved', (e) => {\r\n        checkOffScreen(e);\r\n        eventDispatch({ type: 'setIsMoving', data: false });\r\n      });\r\n    },\r\n    [eventDispatch, checkOffScreen]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      if (!state.isCropMode) {\r\n        addListeners(canvas, dispatch, state.showCanvasToolbar);\r\n      } else removeListeners(canvas);\r\n    }\r\n    return () => {\r\n      if (isCanvasSet) removeListeners(canvas);\r\n    };\r\n  }, [\r\n    dispatch,\r\n    isCanvasSet,\r\n    canvas,\r\n    addListeners,\r\n    state.isCropMode,\r\n    state.showCanvasToolbar,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current) {\r\n      let data = true;\r\n      if (\r\n        isRotating ||\r\n        isScaling ||\r\n        isSkewing ||\r\n        eventState.isMoving ||\r\n        isEditingText ||\r\n        !state.currentCoords ||\r\n        state.currentObject.type === 'video'\r\n      )\r\n        data = false;\r\n      dispatch({ type: 'setShowToolbar', data });\r\n    }\r\n  }, [\r\n    eventState,\r\n    isRotating,\r\n    isScaling,\r\n    isSkewing,\r\n    isEditingText,\r\n    state.isCropMode,\r\n    state.currentCoords,\r\n    state.currentObject,\r\n    dispatch,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current) {\r\n      if (!state.currentCoords) {\r\n        dispatch({ type: 'setShowToolbar', data: false });\r\n      } else if (\r\n        state.currentObject.object &&\r\n        state.currentObject.object.id !== currentId.current &&\r\n        state.currentObject.type !== 'video'\r\n      ) {\r\n        currentId.current = state.currentObject.object.id;\r\n        dispatch({ type: 'setShowToolbar', data: true });\r\n      }\r\n    } else isFirstLoad.current = false;\r\n  }, [state.currentCoords, state.currentObject, dispatch, state.isCropMode]);\r\n};\r\n\r\nexport default useSelectionObserver;\r\n","import { fabric } from 'fabric';\r\n\r\nconst drawLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  ctx.save();\r\n  ctx.lineWidth = aligningLineWidth;\r\n  ctx.strokeStyle = aligningLineColor;\r\n  ctx.beginPath();\r\n  ctx.moveTo(\r\n    (x1 + viewportTransform[4]) * zoom,\r\n    (y1 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.lineTo(\r\n    (x2 + viewportTransform[4]) * zoom,\r\n    (y2 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nconst isInRange = (value1, value2, aligningLineMargin) => {\r\n  value1 = Math.round(value1);\r\n  value2 = Math.round(value2);\r\n  for (\r\n    let i = value1 - aligningLineMargin, len = value1 + aligningLineMargin;\r\n    i <= len;\r\n    i++\r\n  ) {\r\n    if (i === value2) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const drawVerticalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x + 0.5,\r\n    coords.y1 > coords.y2 ? coords.y2 : coords.y1,\r\n    coords.x + 0.5,\r\n    coords.y2 > coords.y1 ? coords.y2 : coords.y1,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const drawHorizontalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x1 > coords.x2 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    coords.x2 > coords.x1 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const objectMovingObserver = (\r\n  e,\r\n  canvas,\r\n  viewportTransform,\r\n  aligningLineOffset,\r\n  setVerticalLines,\r\n  setHorizontalLines,\r\n  aligningLineMargin\r\n) => {\r\n  let activeObject = e.target,\r\n    canvasObjects = canvas.getObjects(),\r\n    activeObjectCenter = activeObject.getCenterPoint(),\r\n    activeObjectLeft = activeObjectCenter.x,\r\n    activeObjectTop = activeObjectCenter.y,\r\n    activeObjectBoundingRect = activeObject.getBoundingRect(),\r\n    activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3],\r\n    activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0],\r\n    horizontalInTheRange = false,\r\n    verticalInTheRange = false,\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n\r\n  for (let i = canvasObjects.length; i--; ) {\r\n    if (canvasObjects[i] === activeObject) continue;\r\n\r\n    let objectCenter = canvasObjects[i].getCenterPoint(),\r\n      objectLeft = objectCenter.x,\r\n      objectTop = objectCenter.y,\r\n      objectBoundingRect = canvasObjects[i].getBoundingRect(),\r\n      objectHeight = objectBoundingRect.height / viewportTransform[3],\r\n      objectWidth = objectBoundingRect.width / viewportTransform[0];\r\n\r\n    // snap by the horizontal center line\r\n    if (isInRange(objectLeft, activeObjectLeft, aligningLineMargin)) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(objectLeft, activeObjectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the left edge\r\n    if (\r\n      isInRange(\r\n        objectLeft - objectWidth / 2,\r\n        activeObjectLeft - activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft - objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft - objectWidth / 2 + activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the right edge\r\n    if (\r\n      isInRange(\r\n        objectLeft + objectWidth / 2,\r\n        activeObjectLeft + activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft + objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft + objectWidth / 2 - activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the vertical center line\r\n    if (isInRange(objectTop, activeObjectTop, aligningLineMargin)) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(activeObjectLeft, objectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the top edge\r\n    if (\r\n      isInRange(\r\n        objectTop - objectHeight / 2,\r\n        activeObjectTop - activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop - objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop - objectHeight / 2 + activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the bottom edge\r\n    if (\r\n      isInRange(\r\n        objectTop + objectHeight / 2,\r\n        activeObjectTop + activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop + objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop + objectHeight / 2 - activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n  }\r\n\r\n  if (!horizontalInTheRange) setHorizontalLines([]);\r\n  if (!verticalInTheRange) setVerticalLines([]);\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\nconst showCenterLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  ctx.save();\r\n  ctx.strokeStyle = centerLineColor;\r\n  ctx.lineWidth = centerLineWidth;\r\n  ctx.beginPath();\r\n  ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\r\n  ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nexport const showVerticalCenterLine = (\r\n  canvasWidthCenter,\r\n  canvasHeight,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    canvasWidthCenter + 0.5,\r\n    0,\r\n    canvasWidthCenter + 0.5,\r\n    canvasHeight,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const showHorizontalCenterLine = (\r\n  canvasHeightCenter,\r\n  canvasWidth,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    0,\r\n    canvasHeightCenter + 0.5,\r\n    canvasWidth,\r\n    canvasHeightCenter + 0.5,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const objectMovingCenterObserver = (\r\n  e,\r\n  canvas,\r\n  setIsInVerticalCenter,\r\n  setIsInHorizontalCenter,\r\n  canvasWidthCenterMap,\r\n  canvasHeightCenterMap,\r\n  canvasWidth,\r\n  canvasHeight\r\n) => {\r\n  let object = e.target,\r\n    objectCenter = object.getCenterPoint(),\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n  let isInVertical = Math.round(objectCenter.x) in canvasWidthCenterMap;\r\n  let isInHorizontal = Math.round(objectCenter.y) in canvasHeightCenterMap;\r\n  setIsInVerticalCenter(isInVertical);\r\n  setIsInHorizontalCenter(isInHorizontal);\r\n\r\n  if (isInVertical || isInHorizontal) {\r\n    object.setPositionByOrigin(\r\n      new fabric.Point(\r\n        isInVertical ? canvasWidth / 2 : objectCenter.x,\r\n        isInHorizontal ? canvasHeight / 2 : objectCenter.y\r\n      ),\r\n      'center',\r\n      'center'\r\n    );\r\n  }\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport {\r\n  drawVerticalLine,\r\n  drawHorizontalLine,\r\n  objectMovingObserver,\r\n} from '../utils/aligningGuidelines';\r\nimport {\r\n  showVerticalCenterLine,\r\n  showHorizontalCenterLine,\r\n  objectMovingCenterObserver,\r\n} from '../utils/centeringGuidelines';\r\n\r\nconst useGuideLines = (\r\n  state,\r\n  isCanvasSet,\r\n  canvas,\r\n  eventState,\r\n  eventDispatch,\r\n  isCropMode\r\n) => {\r\n  const [ctx, setCtx] = useState(null);\r\n  const [viewportTransform, setViewportTransform] = useState(null);\r\n  const [verticalLines, setVerticalLines] = useState([]);\r\n  const [horizontalLines, setHorizontalLines] = useState([]);\r\n  const [zoom, setZoom] = useState(1);\r\n\r\n  const [canvasWidth, setCanvasWidth] = useState(null);\r\n  const [canvasHeight, setCanvasHeight] = useState(null);\r\n  const [canvasWidthCenterMap, setCanvasWidthCenterMap] = useState({});\r\n  const [canvasHeightCenterMap, setCanvasHeightCenterMap] = useState({});\r\n  const [isInVerticalCenter, setIsInVerticalCenter] = useState(null);\r\n  const [isInHorizontalCenter, setIsInHorizontalCenter] = useState(null);\r\n\r\n  const aligningLineOffset = 5;\r\n  const aligningLineWidth = 1;\r\n  const aligningLineMargin = 4;\r\n  const centerLineMargin = 4;\r\n  const aligningLineColor = 'rgb(111, 123, 208)';\r\n  const centerLineWidth = 1;\r\n  const centerLineColor = 'rgb(111, 123, 208)';\r\n\r\n  const handleMouseDown = useCallback(() => {\r\n    setViewportTransform(canvas.viewportTransform);\r\n    setZoom(canvas.getZoom());\r\n  }, [canvas]);\r\n\r\n  const handleBeforeRender = useCallback(() => {\r\n    canvas.clearContext(canvas.contextTop);\r\n  }, [canvas]);\r\n\r\n  const handleMoving = useCallback(\r\n    (e) => {\r\n      objectMovingObserver(\r\n        e,\r\n        canvas,\r\n        viewportTransform,\r\n        aligningLineOffset,\r\n        setVerticalLines,\r\n        setHorizontalLines,\r\n        aligningLineMargin\r\n      );\r\n      objectMovingCenterObserver(\r\n        e,\r\n        canvas,\r\n        setIsInVerticalCenter,\r\n        setIsInHorizontalCenter,\r\n        canvasWidthCenterMap,\r\n        canvasHeightCenterMap,\r\n        canvasWidth,\r\n        canvasHeight\r\n      );\r\n    },\r\n    [\r\n      canvas,\r\n      viewportTransform,\r\n      canvasHeight,\r\n      canvasHeightCenterMap,\r\n      canvasWidth,\r\n      canvasWidthCenterMap,\r\n    ]\r\n  );\r\n\r\n  const handleAfterRender = useCallback(() => {\r\n    for (let i = verticalLines.length; i--; ) {\r\n      drawVerticalLine(\r\n        verticalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    for (let i = horizontalLines.length; i--; ) {\r\n      drawHorizontalLine(\r\n        horizontalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    if (isInVerticalCenter) {\r\n      showVerticalCenterLine(\r\n        canvasWidth / 2,\r\n        canvasHeight,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n    if (isInHorizontalCenter) {\r\n      showHorizontalCenterLine(\r\n        canvasHeight / 2,\r\n        canvasWidth,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n  }, [\r\n    ctx,\r\n    viewportTransform,\r\n    horizontalLines,\r\n    verticalLines,\r\n    zoom,\r\n    canvasHeight,\r\n    canvasWidth,\r\n    isInHorizontalCenter,\r\n    isInVerticalCenter,\r\n  ]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    setIsInVerticalCenter(null);\r\n    setIsInHorizontalCenter(null);\r\n    canvas.requestRenderAll();\r\n  }, [canvas]);\r\n\r\n  const initGuideLines = useCallback(() => {\r\n    setCtx(canvas.getSelectionContext());\r\n    setCanvasWidth(canvas.getWidth() / canvas.getZoom());\r\n    setCanvasHeight(canvas.getHeight() / canvas.getZoom());\r\n    let widthMap = {};\r\n    let heightMap = {};\r\n    for (\r\n      let i = canvasWidth / 2 - centerLineMargin,\r\n        len = canvasWidth / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      widthMap[Math.round(i)] = true;\r\n    }\r\n    for (\r\n      let i = canvasHeight / 2 - centerLineMargin,\r\n        len = canvasHeight / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      heightMap[Math.round(i)] = true;\r\n    }\r\n    setCanvasWidthCenterMap(widthMap);\r\n    setCanvasHeightCenterMap(heightMap);\r\n  }, [canvasHeight, canvasWidth, canvas]);\r\n\r\n  const removelistneres = useCallback((canvas) => {\r\n    canvas.off('mouse:down');\r\n    canvas.off('object:moving');\r\n    canvas.off('before:render');\r\n    canvas.off('after:render');\r\n    canvas.off('mouse:up');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      initGuideLines();\r\n    }\r\n  }, [state.shouldUpdateCanvasSize, isCanvasSet, initGuideLines]);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet && ctx && !isCropMode) {\r\n      canvas.on('mouse:down', handleMouseDown);\r\n      canvas.on('object:moving', (e) => {\r\n        if (eventDispatch && !eventState.isMoving) {\r\n          eventDispatch({ type: 'setIsMoving', data: true });\r\n        }\r\n        handleMoving(e);\r\n      });\r\n      canvas.on('before:render', handleBeforeRender);\r\n      canvas.on('after:render', handleAfterRender);\r\n      canvas.on('mouse:up', (e) => {\r\n        if (eventDispatch && e.button === 3) {\r\n          eventDispatch({ type: 'setRightClickEvent', data: e });\r\n          e.e.preventDefault();\r\n        }\r\n        handleMouseUp(e);\r\n      });\r\n    } else if (isCropMode) removelistneres(canvas);\r\n    return () => {\r\n      if (isCanvasSet && ctx) removelistneres(canvas);\r\n    };\r\n  }, [\r\n    eventState,\r\n    eventDispatch,\r\n    state.shouldUpdateCanvasSize,\r\n    isCropMode,\r\n    removelistneres,\r\n    isCanvasSet,\r\n    ctx,\r\n    canvas,\r\n    handleMouseUp,\r\n    handleAfterRender,\r\n    handleMoving,\r\n    handleBeforeRender,\r\n    handleMouseDown,\r\n  ]);\r\n};\r\n\r\nexport default useGuideLines;\r\n","import WebFont from 'webfontloader';\r\nimport { fabric } from 'fabric';\r\n\r\nconst loaded = ['Inter'];\r\n\r\nconst roundedCorners = (img, radius) => {\r\n  let currentRadiusX = (img.width * img.scaleX * radius) / 200;\r\n  let currentRadiusY = (img.height * img.scaleY * radius) / 200;\r\n  let rect = new fabric.Rect({\r\n    width: img.width,\r\n    height: img.height,\r\n    rx: currentRadiusX / img.scaleX,\r\n    ry: currentRadiusY / img.scaleY,\r\n    left: -img.width / 2,\r\n    top: -img.height / 2,\r\n    noScaleCache: false,\r\n  });\r\n  return rect;\r\n};\r\n\r\nexport const updateImageStyle = (state, canvas, dispatch) => {\r\n  let image = canvas.getActiveObject();\r\n  if (image && image.type === 'customImage') {\r\n    let radius = state.imageState.cornerRadius;\r\n    image.set('clipPath', roundedCorners(image, radius));\r\n    image.cornerRadius = radius;\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateImage', data: false });\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n\r\nexport const loadAndUse = (canvas, text, font, dispatch) => {\r\n  WebFont.load({\r\n    google: {\r\n      families: [font],\r\n    },\r\n    timeout: 5000,\r\n    fontactive: (familyName, fvd) => {\r\n      text.set({ fontFamily: familyName });\r\n      canvas.requestRenderAll();\r\n      if (dispatch) dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateTextStyle = (state, canvas, dispatch) => {\r\n  let text = state.currentObject.object;\r\n  let textState = state.textState;\r\n  if (textState && text) {\r\n    text._clearCache();\r\n    for (const [key, value] of Object.entries(textState)) {\r\n      if (key !== 'fontFamily') {\r\n        text.set(key, value);\r\n      }\r\n    }\r\n    if (!loaded.includes(textState.fontFamily)) {\r\n      loadAndUse(canvas, text, textState.fontFamily, dispatch);\r\n      loaded.push(textState.fontFamily);\r\n    } else {\r\n      text.set({\r\n        fontFamily: textState.fontFamily,\r\n      });\r\n      canvas.requestRenderAll();\r\n      dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n    }\r\n\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n  }\r\n  dispatch({ type: 'setShouldUpdateText', data: false });\r\n};\r\n\r\nexport const updateSubtitlesStyle = (state, canvas, dispatch) => {\r\n  let text = state.currentObject.object;\r\n  if (text) {\r\n    let textState = state.subtitlesState;\r\n    text._clearCache();\r\n    for (const [key, value] of Object.entries(textState)) {\r\n      if (key !== 'fontFamily') {\r\n        text.set(key, value);\r\n      }\r\n    }\r\n    if (!loaded.includes(textState.fontFamily)) {\r\n      loadAndUse(canvas, text, textState.fontFamily);\r\n      loaded.push(textState.fontFamily);\r\n    } else {\r\n      text.set({\r\n        fontFamily: textState.fontFamily,\r\n      });\r\n      canvas.requestRenderAll();\r\n    }\r\n\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n  }\r\n  dispatch({ type: 'setShouldUpdateSubtitles', data: false });\r\n};\r\n\r\nexport const updateShapeStyle = (state, canvas, dispatch) => {\r\n  let shape = state.currentObject.object;\r\n  if (shape) {\r\n    // state.currentObject.object._clearCache();\r\n    for (const [key, value] of Object.entries(state.shapeState)) {\r\n      shape.set(key, value);\r\n    }\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateShape', data: false });\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n","import { useEffect } from 'react';\r\nimport {\r\n  updateImageStyle,\r\n  updateTextStyle,\r\n  updateShapeStyle,\r\n  updateSubtitlesStyle,\r\n} from '../utils/updateObject';\r\n\r\nconst shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n\r\nconst useUpdateObject = (state, dispatch, canvas) => {\r\n  useEffect(() => {\r\n    if (state.shouldUpdateSubtitles) {\r\n      updateSubtitlesStyle(state, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateText) {\r\n      updateTextStyle(state, canvas, dispatch);\r\n    }\r\n    if (\r\n      state.shouldUpdateShape &&\r\n      shapeArr.includes(state.currentObject.type)\r\n    ) {\r\n      updateShapeStyle(state, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateImage && state.currentObject.type === 'customImage') {\r\n      updateImageStyle(state, canvas, dispatch);\r\n    }\r\n  }, [state, dispatch, canvas]);\r\n};\r\n\r\nexport default useUpdateObject;\r\n","export const updateCanvasStyle = (state, canvas, dispatch) => {\r\n  canvas.backgroundColor = state.backgroundColor;\r\n  canvas.requestRenderAll();\r\n  dispatch({ type: 'setShouldUpdateCanvas', data: false });\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n\r\nexport const setSize = (state, canvas) => {\r\n  let ratio = Math.min(\r\n    state.width / state.videoWidth,\r\n    state.height / state.videoHeight\r\n  );\r\n  canvas.setZoom(ratio);\r\n  canvas.setDimensions({\r\n    width: state.width,\r\n    height: state.height,\r\n  });\r\n  canvas.renderAll();\r\n};\r\n\r\nconst checkOffScreen = (object, canvas, resize, dispatch) => {\r\n  let zoom = canvas.getZoom();\r\n  let canvasWidth = canvas.getWidth() / zoom;\r\n  let canvasHeight = canvas.getHeight() / zoom;\r\n  let objHeight = object.height * object.scaleY;\r\n  let objWidth = object.width * object.scaleX;\r\n  let isSub = object.type === 'subtitle';\r\n  let isTextObject = object.type === 'textbox' || isSub;\r\n  let isVertical = resize === 'vertical';\r\n  let shouldResize =\r\n    isVertical &&\r\n    (objWidth > (canvasWidth * 2) / 3 || objHeight > (canvasHeight * 2) / 3);\r\n\r\n  if (shouldResize && isTextObject) {\r\n    object.width = canvasWidth / 2;\r\n    objWidth = canvasWidth / 2;\r\n  } else if (shouldResize) {\r\n    let desiredSize =\r\n      objWidth / 2 > canvasWidth ? (canvasWidth * 2) / 3 : objWidth / 2;\r\n    let scale = desiredSize / object.width;\r\n    object.scaleX = scale;\r\n    object.scaleY = scale;\r\n    objWidth = object.width * object.scaleX;\r\n    objHeight = object.height * object.scaleY;\r\n  }\r\n\r\n  if (isTextObject && isVertical && +object.fontSize > 30) {\r\n    object.fontSize = 30;\r\n    dispatch({\r\n      type: isSub ? 'setSubtitlesFontSize' : 'setFontSize',\r\n      data: 30,\r\n    });\r\n  }\r\n  if (!object.isOnScreen() && !isSub) {\r\n    if (object.top > canvasHeight || object.top < 0) {\r\n      object.top = canvasHeight - objHeight;\r\n    }\r\n    if (object.left > canvasWidth || object.left < 0) {\r\n      object.left = canvasWidth - objWidth;\r\n    }\r\n  } else if (isSub) {\r\n    object.left = canvasWidth / 2;\r\n    let top = canvasHeight - object.height - object.paddingY;\r\n    object.top = top > 0 ? top : object.height / 2;\r\n    object.width = 550 < canvasWidth / 2 ? 550 : canvasWidth / 2;\r\n  }\r\n  object.setCoords();\r\n};\r\n\r\nexport const updateCanvasSize = (state, canvas, dispatch) => {\r\n  dispatch({ type: 'setShouldUpdateCanvasSize', data: false });\r\n  if (canvas) {\r\n    canvas.discardActiveObject();\r\n    let isResize = canvas.resize !== state.resize;\r\n    canvas.resize = state.resize;\r\n    setSize(state, canvas);\r\n    if (isResize) {\r\n      let objects = canvas.getObjects();\r\n      for (let i = 0; i < objects.length; i++) {\r\n        let object = objects[i];\r\n        checkOffScreen(object, canvas, state.resize, dispatch);\r\n      }\r\n      dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n};\r\n","import { useEffect } from 'react';\r\nimport { updateCanvasSize, updateCanvasStyle } from '../utils/updateCanvas';\r\n\r\nconst useUpdateCanvas = (state, dispatch, canvas) => {\r\n  useEffect(() => {\r\n    if (state.shouldUpdateCanvas) updateCanvasStyle(state, canvas, dispatch);\r\n    if (state.shouldUpdateCanvasSize) updateCanvasSize(state, canvas, dispatch);\r\n  }, [state, dispatch, canvas]);\r\n};\r\n\r\nexport default useUpdateCanvas;\r\n","import { fabric } from 'fabric';\r\n\r\nexport const restrictBox = (active, box) => {\r\n  box.on('moving', (e) => {\r\n    let objectHeight = box.height * box.scaleY;\r\n    let objectWidth = box.width * box.scaleX;\r\n    let boundHeight = active.height * active.scaleY;\r\n    let boundWidth = active.width * active.scaleX;\r\n    let top = box.top;\r\n    let left = box.left;\r\n    let bottom = box.top + objectHeight;\r\n    let right = box.left + objectWidth;\r\n    let topBound = active.top;\r\n    let bottomBound = topBound + boundHeight;\r\n    let leftBound = active.left;\r\n    let rightBound = leftBound + boundWidth;\r\n    //left\r\n    if (left < leftBound) box.left = leftBound;\r\n    //top\r\n    if (top < topBound) box.top = topBound;\r\n    //right\r\n    if (right > rightBound) box.left = rightBound - objectWidth;\r\n    //bottom\r\n    if (bottom > bottomBound) box.top = bottomBound - objectHeight;\r\n  });\r\n\r\n  box.on('scaling', (e) => {\r\n    let objectHeight = box.height * box.scaleY;\r\n    let objectWidth = box.width * box.scaleX;\r\n    let boundHeight = active.height * active.scaleY;\r\n    let boundWidth = active.width * active.scaleX;\r\n    let top = box.top;\r\n    let bottom = top + objectHeight;\r\n    let left = box.left;\r\n    let right = left + objectWidth;\r\n    let topBound = active.top;\r\n    let bottomBound = topBound + boundHeight;\r\n    let leftBound = active.left;\r\n    let rightBound = leftBound + boundWidth;\r\n    box.left = Math.min(Math.max(left, leftBound), rightBound - objectWidth);\r\n    box.top = Math.min(Math.max(top, topBound), bottomBound - objectHeight);\r\n    if (box.scaleX > active.scaleX) {\r\n      box.scaleX = active.scaleX;\r\n      if (left < leftBound || right > rightBound) box.left = leftBound;\r\n    }\r\n    if (box.scaleY > active.scaleY) {\r\n      box.scaleY = active.scaleY;\r\n      if (top < topBound || bottom > bottomBound) box.top = topBound;\r\n    }\r\n  });\r\n};\r\n\r\nexport const getSpeakerBox = (boxSize, boxId, updateBoxId) => {\r\n  let box = new fabric.CropBox({\r\n    ...boxSize,\r\n    fill: 'rgba(111, 122, 208, 0.4)',\r\n    top: 0,\r\n    left: 0,\r\n    borderColor: '#6F7BD0',\r\n    lockScalingFlip: true,\r\n    id: boxId,\r\n  });\r\n  updateBoxId();\r\n  return box;\r\n};\r\n\r\nexport const addSpeaker = (\r\n  boxArr,\r\n  boxId,\r\n  canvas,\r\n  setBoxArr,\r\n  updateBoxId,\r\n  video\r\n) => {\r\n  let size = null;\r\n  if (boxArr.length === 0) {\r\n    size = {\r\n      width: video.width,\r\n      height: video.height,\r\n      scaleX: video.scaleX / 2,\r\n      scaleY: video.scaleY / 2,\r\n    };\r\n  } else {\r\n    let last = boxArr[boxArr.length - 1];\r\n    size = {\r\n      width: last.width,\r\n      height: last.height,\r\n      scaleX: last.scaleX,\r\n      scaleY: last.scaleY,\r\n    };\r\n  }\r\n  let box = getSpeakerBox(size, boxId, updateBoxId);\r\n  canvas.add(box).setActiveObject(box);\r\n  canvas.requestRenderAll();\r\n  setBoxArr((prevState) => [...prevState, box]);\r\n  restrictBox(video, box);\r\n};\r\n\r\nconst getImageCropBox = (topBound, leftBound, activeEl) => {\r\n  let box = new fabric.CropBox({\r\n    fill: 'rgba(0,0,0,0)',\r\n    originX: 'left',\r\n    originY: 'top',\r\n    left: leftBound,\r\n    top: topBound,\r\n    borderDashArray: [2, 2],\r\n    borderColor: '#dbff17',\r\n    width: activeEl.width,\r\n    height: activeEl.height,\r\n    scaleX: activeEl.scaleX,\r\n    scaleY: activeEl.scaleY,\r\n    selectable: true,\r\n    lockScalingFlip: true,\r\n    type: 'cropbox',\r\n    excludeFromExport: true,\r\n  });\r\n  return box;\r\n};\r\n\r\nexport const prepareForImageCrop = (\r\n  active,\r\n  dispatch,\r\n  canvas,\r\n  setAcitveEl,\r\n  setCropbox\r\n) => {\r\n  canvas.getObjects().forEach((el) => (el.selectable = false));\r\n  let transformMatrix = active.calcTransformMatrix();\r\n  let cx = transformMatrix[4];\r\n  let cy = transformMatrix[5];\r\n  let angle = ((360 - active.angle) * Math.PI) / 180;\r\n\r\n  let leftBound =\r\n    cx -\r\n    Math.abs(\r\n      (active.left - cx) * Math.cos(angle) - (active.top - cy) * Math.sin(angle)\r\n    );\r\n  let topBound =\r\n    cy -\r\n    Math.abs(\r\n      (active.left - cx) * Math.sin(angle) + (active.top - cy) * Math.cos(angle)\r\n    );\r\n\r\n  active.angle = 0;\r\n  active.top = topBound;\r\n  active.left = leftBound;\r\n  let box = getImageCropBox(topBound, leftBound, active);\r\n  canvas.add(box);\r\n  canvas.setActiveObject(box);\r\n  dispatch({ type: 'setCurrentCoords', data: box.lineCoords });\r\n  setAcitveEl(active);\r\n  setCropbox(box);\r\n};\r\n\r\nexport const cropImage = (active, box, setCropped) => {\r\n  let prevCrop = active.cropRect;\r\n  let ratioX = box.scaleX / active.scaleX;\r\n  let ratioY = box.scaleY / active.scaleY;\r\n  let newTop = (box.top - active.top) / active.scaleY;\r\n  let newLeft = (box.left - active.left) / active.scaleX;\r\n  if (prevCrop) {\r\n    ratioX *= prevCrop.w / active.width;\r\n    ratioY *= prevCrop.h / active.height;\r\n    newTop += prevCrop.y;\r\n    newLeft += prevCrop.x;\r\n  }\r\n\r\n  active.width = box.width * ratioX;\r\n  active.height = box.height * ratioY;\r\n  active.cropRect = {\r\n    x: newLeft,\r\n    y: newTop,\r\n    w: box.width * ratioX,\r\n    h: box.height * ratioY,\r\n  };\r\n\r\n  setCropped(active);\r\n};\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { restrictBox, prepareForImageCrop, cropImage } from '../utils/crop';\r\n\r\nconst useCropImage = (state, dispatch, canvas) => {\r\n  const [isCropping, setIsCropping] = useState(false);\r\n  const [activeInfo, setActiveInfo] = useState(null);\r\n  const [activeEl, setAcitveEl] = useState(null);\r\n  const [cropbox, setCropbox] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n\r\n  const cropFinishHandler = useCallback((c, box, dispatch) => {\r\n    setActiveInfo(null);\r\n    setIsCropping(false);\r\n    setAcitveEl(null);\r\n    setCropbox(null);\r\n    setCroppedImage(null);\r\n    box.off('moving');\r\n    box.off('scaling');\r\n    c.off('mouse:down');\r\n    c.requestRenderAll();\r\n    dispatch({ type: 'setShouldCropImage', data: false });\r\n    dispatch({ type: 'setShowToolbar', data: true });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (state.shouldCropImage && activeEl && cropbox) {\r\n      cropImage(activeEl, cropbox, setCroppedImage);\r\n    }\r\n  }, [state.shouldCropImage, activeEl, cropbox]);\r\n\r\n  // If Cropped Image\r\n  useEffect(() => {\r\n    if (croppedImage && state.shouldCropImage) {\r\n      canvas.getObjects().forEach((el) => {\r\n        if (el.type === 'cropbox') canvas.remove(el);\r\n        el.selectable = true;\r\n      });\r\n      for (let [key, value] of Object.entries(activeInfo)) {\r\n        croppedImage[key] = value;\r\n      }\r\n      canvas.setActiveObject(croppedImage);\r\n      dispatch({\r\n        type: 'setCurrentObject',\r\n        data: { type: 'customImage', object: croppedImage },\r\n      });\r\n      dispatch({\r\n        type: 'setImageCornerRadius',\r\n        data: activeInfo.cornerRadius,\r\n      });\r\n      dispatch({ type: 'setIsCropMode', data: false });\r\n      cropFinishHandler(canvas, cropbox, dispatch);\r\n    }\r\n  }, [\r\n    cropbox,\r\n    activeInfo,\r\n    croppedImage,\r\n    state,\r\n    dispatch,\r\n    canvas,\r\n    cropFinishHandler,\r\n  ]);\r\n\r\n  /// Preparation For Crop\r\n  useEffect(() => {\r\n    if (state.isCropMode) {\r\n      let active = canvas.getActiveObject();\r\n      setActiveInfo({\r\n        cornerRadius: active.cornerRadius,\r\n        top: active.top,\r\n        left: active.left,\r\n        angle: active.angle,\r\n      });\r\n      prepareForImageCrop(active, dispatch, canvas, setAcitveEl, setCropbox);\r\n    }\r\n  }, [state.isCropMode, canvas, dispatch]);\r\n\r\n  /// If Cropbox and Active El start Crop\r\n  useEffect(() => {\r\n    if (cropbox && activeEl) {\r\n      restrictBox(activeEl, cropbox);\r\n      setIsCropping(true);\r\n    }\r\n  }, [cropbox, activeEl]);\r\n\r\n  // Listen to Canvas Click\r\n  useEffect(() => {\r\n    if (cropbox && state.isCropMode) {\r\n      canvas.on('mouse:down', (e) => {\r\n        if (e.target && e.target.id === activeEl.id) {\r\n          canvas.setActiveObject(cropbox);\r\n        } else if (!e.target || e.target.type !== 'cropbox') {\r\n          dispatch({ type: 'setShouldCropImage', data: true });\r\n          dispatch({ type: 'setShowToolbar', data: false });\r\n        }\r\n      });\r\n    }\r\n  }, [cropbox, state, dispatch, canvas, activeEl]);\r\n\r\n  // Dispose of Crop\r\n  useEffect(() => {\r\n    if (isCropping && !state.isCropMode && !state.shouldCropImage) {\r\n      canvas.getObjects().forEach((el) => {\r\n        if (el.type === 'cropbox') canvas.remove(el);\r\n        else if (el.id === state.currentObject.object.id) {\r\n          canvas.setActiveObject(el);\r\n          el.left = activeInfo.left;\r\n          el.top = activeInfo.top;\r\n          el.angle = activeInfo.angle;\r\n        }\r\n        el.controls.mtr.visible = true;\r\n        el.selectable = true;\r\n      });\r\n      cropFinishHandler(canvas, cropbox, dispatch);\r\n    }\r\n  }, [\r\n    activeInfo,\r\n    isCropping,\r\n    state,\r\n    cropFinishHandler,\r\n    canvas,\r\n    dispatch,\r\n    cropbox,\r\n  ]);\r\n};\r\n\r\nexport default useCropImage;\r\n","import { useState, useEffect } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { loadAndUse } from '../utils/updateObject';\r\nimport { setSize } from '../utils/updateCanvas';\r\n\r\nconst addCanvas = (state, id, info, shouldLoad, setObjectIdCount) => {\r\n  let canvas = new fabric.Canvas(id, {\r\n    width: state.videoWidth,\r\n    height: state.videoHeight,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    preserveObjectStacking: true,\r\n    fireRightClick: true,\r\n    stopContextMenu: true,\r\n    selection: false,\r\n  });\r\n\r\n  if (shouldLoad && info.canvas) {\r\n    canvas.clear();\r\n    let lastId = 1;\r\n    canvas.loadFromJSON(info.canvas, () => {\r\n      let objects = canvas.getObjects();\r\n      let textObjects = objects.filter((obj) => {\r\n        obj.id = lastId;\r\n        lastId++;\r\n        return obj.type === 'textbox';\r\n      });\r\n      for (let i = 0; i < textObjects.length; i++) {\r\n        let text = textObjects[i];\r\n        loadAndUse(canvas, text, text.fontFamily);\r\n      }\r\n      setSize(state, canvas);\r\n      setObjectIdCount(lastId);\r\n    });\r\n  } else setSize(state, canvas);\r\n  return canvas;\r\n};\r\n\r\nconst useAddCanvas = (\r\n  state,\r\n  setCanvas,\r\n  setIsCanvasSet,\r\n  id,\r\n  info,\r\n  setIsCanvasData,\r\n  speakers,\r\n  setObjectIdCount\r\n) => {\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad && state.width > 0) {\r\n      let shouldLoad =\r\n        speakers.length === 0 &&\r\n        info &&\r\n        info.canvas &&\r\n        info.canvas.objects.length > 0;\r\n      if (shouldLoad) setIsCanvasData(true);\r\n      let canvas = addCanvas(state, id, info, shouldLoad, setObjectIdCount);\r\n      setCanvas(canvas, info);\r\n      setIsCanvasSet(true);\r\n      setIsFirstLoad(false);\r\n    }\r\n  }, [\r\n    speakers,\r\n    setCanvas,\r\n    setIsCanvasSet,\r\n    state,\r\n    isFirstLoad,\r\n    id,\r\n    info,\r\n    setIsCanvasData,\r\n    setObjectIdCount,\r\n  ]);\r\n};\r\n\r\nexport default useAddCanvas;\r\n","import { useEffect, useState, useCallback, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst useAddVideo = (\r\n  video,\r\n  canvas,\r\n  currentTime,\r\n  speakers,\r\n  idCount,\r\n  updateId,\r\n  isCanvasData\r\n) => {\r\n  const [isFirtLoad, setIsFirtLoad] = useState(true);\r\n  const isMounted = useRef(true);\r\n  const frameRef = useRef(null);\r\n  useEffect(() => () => (isMounted.current = false), []);\r\n\r\n  const animate = useCallback(() => {\r\n    const render = () => {\r\n      canvas.requestRenderAll();\r\n      // console.log('animating');\r\n      frameRef.current = fabric.util.requestAnimFrame(render);\r\n    };\r\n    fabric.util.requestAnimFrame(render);\r\n  }, [canvas]);\r\n\r\n  const newVideo = useCallback((video, speaker, id) => {\r\n    return new fabric.Video(video, {\r\n      id,\r\n      lockScalingFlip: true,\r\n      left: speaker.x,\r\n      top: speaker.y,\r\n      width: speaker.w,\r\n      height: speaker.h,\r\n      cropRect: { ...speaker },\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (!isMounted.current && frameRef.current) {\r\n        fabric.util.cancelAnimFrame(frameRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isFirtLoad && video && canvas) {\r\n      setIsFirtLoad(false);\r\n      if (!isCanvasData) {\r\n        // console.log(speakers);\r\n        video.currentTime = currentTime > 0 ? currentTime : 0.001;\r\n        if (speakers.length > 0) {\r\n          for (let i = 0; i < speakers.length; i++) {\r\n            const speaker = speakers[i];\r\n            let speakerVideo = newVideo(video, speaker, i + 1);\r\n            canvas.add(speakerVideo);\r\n            updateId();\r\n          }\r\n        } else {\r\n          let speakerVideo = newVideo(\r\n            video,\r\n            { w: video.videoWidth, h: video.videoHeight, x: 0, y: 0 },\r\n            1\r\n          );\r\n          // console.log(speakerVideo);\r\n          canvas.add(speakerVideo);\r\n          updateId();\r\n        }\r\n      }\r\n      animate();\r\n    }\r\n  }, [\r\n    isCanvasData,\r\n    updateId,\r\n    video,\r\n    canvas,\r\n    isFirtLoad,\r\n    currentTime,\r\n    animate,\r\n    newVideo,\r\n    speakers,\r\n  ]);\r\n};\r\n\r\nexport default useAddVideo;\r\n","export const handlePaste = (\r\n  canvas,\r\n  clipboard,\r\n  objId,\r\n  updateId,\r\n  setClipboard,\r\n  dispatch,\r\n  fabricSub\r\n) => {\r\n  let top = clipboard.coords.top + 15;\r\n  let left = clipboard.coords.left + 15;\r\n  let type = clipboard.object.type;\r\n  clipboard.object.clone((cloned) => {\r\n    cloned.id = objId;\r\n    cloned.top = top;\r\n    cloned.left = left;\r\n    if (type === 'customImage') {\r\n      cloned.isSvg = clipboard.object.isSvg;\r\n      cloned.cornerRadius = clipboard.object.cornerRadius;\r\n    } else if (type === 'textbox') {\r\n      cloned.padding = 10;\r\n      cloned.cursorWidth = 0.5;\r\n    } else if (type === 'line') {\r\n      cloned.borderColor = 'transparent';\r\n      cloned.noScaleCache = false;\r\n    } else {\r\n      cloned.noScaleCache = false;\r\n      cloned.strokeUniform = true;\r\n    }\r\n    canvas.add(cloned).setActiveObject(cloned);\r\n    if (fabricSub) canvas.bringToFront(fabricSub);\r\n    canvas.requestRenderAll();\r\n    setClipboard({\r\n      object: clipboard.object,\r\n      coords: { top, left },\r\n    });\r\n    updateId();\r\n    if (dispatch) dispatch({ type: 'setRightClickEvent', data: null });\r\n  });\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { handlePaste } from '../utils/pasteObject';\r\n\r\nconst deleteHandler = (canvas) => {\r\n  let active = canvas.getActiveObject();\r\n  let isInput = document.activeElement.tagName === 'INPUT';\r\n  if (\r\n    !isInput &&\r\n    active &&\r\n    !active.isEditing &&\r\n    active.type !== 'video' &&\r\n    active.id !== 'subtitle'\r\n  ) {\r\n    canvas.remove(active);\r\n    canvas.discardActiveObject().requestRenderAll();\r\n  }\r\n};\r\n\r\nconst keyDownHandler = (\r\n  e,\r\n  canvas,\r\n  setIsPasting,\r\n  setIsCopying,\r\n  setIsBringToFront,\r\n  setIsSendToBack\r\n) => {\r\n  if (canvas) {\r\n    let ctrl = e.ctrlKey || e.metaKey;\r\n    if (\r\n      e.code === 'Delete' ||\r\n      e.key === 'Delete' ||\r\n      e.code === 'Backspace' ||\r\n      e.key === 'Backspace'\r\n    ) {\r\n      deleteHandler(canvas);\r\n    } else if (e.code === 'KeyC' || e.key === 'c') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsCopying(true);\r\n      }\r\n    } else if (e.code === 'KeyV' || e.key === 'v') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsPasting(true);\r\n      }\r\n    } else if (e.code === 'BracketRight' || e.key === ']') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsBringToFront(true);\r\n      }\r\n    } else if (e.code === 'BracketLeft' || e.key === '[') {\r\n      if (ctrl) {\r\n        e.preventDefault();\r\n        setIsSendToBack(true);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst keyUpHandler = (\r\n  setIsPasting,\r\n  setIsCopying,\r\n  setIsBringToFront,\r\n  setIsSendToBack,\r\n  setShouldRun\r\n) => {\r\n  setIsCopying(false);\r\n  setIsPasting(false);\r\n  setIsBringToFront(false);\r\n  setIsSendToBack(false);\r\n  setShouldRun(true);\r\n};\r\n\r\nconst useKeyEvents = (\r\n  canvas,\r\n  clipboard,\r\n  setClipboard,\r\n  objId,\r\n  updateId,\r\n  fabricSub,\r\n  dispatch\r\n) => {\r\n  const [isPasting, setIsPasting] = useState(false);\r\n  const [isCopying, setIsCopying] = useState(false);\r\n  const [isBringToFront, setIsBringToFront] = useState(false);\r\n  const [isSendToBack, setIsSendToBack] = useState(false);\r\n  const [shouldRun, setShouldRun] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (shouldRun && isPasting && clipboard) {\r\n      setShouldRun(false);\r\n      handlePaste(\r\n        canvas,\r\n        clipboard,\r\n        objId,\r\n        updateId,\r\n        setClipboard,\r\n        null,\r\n        fabricSub\r\n      );\r\n    } else if (shouldRun && isCopying) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.type !== 'video' && active.id !== 'subtitle') {\r\n        setClipboard({\r\n          object: active,\r\n          coords: { top: active.top, left: active.left },\r\n        });\r\n      }\r\n    } else if (shouldRun && isBringToFront) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.id !== 'subtitle') {\r\n        canvas.bringToFront(active);\r\n        if (fabricSub) canvas.bringToFront(fabricSub);\r\n        dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n      }\r\n    } else if (shouldRun && isSendToBack) {\r\n      setShouldRun(false);\r\n      let active = canvas.getActiveObject();\r\n      if (active && active.id !== 'subtitle'){\r\n        canvas.sendToBack(active);\r\n        dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n      } \r\n    }\r\n  }, [\r\n    canvas,\r\n    isPasting,\r\n    isCopying,\r\n    isBringToFront,\r\n    isSendToBack,\r\n    objId,\r\n    setClipboard,\r\n    clipboard,\r\n    updateId,\r\n    shouldRun,\r\n    fabricSub,\r\n    dispatch,\r\n  ]);\r\n\r\n  const onKeyDown = useCallback(\r\n    (e) => {\r\n      keyDownHandler(\r\n        e,\r\n        canvas,\r\n        setIsPasting,\r\n        setIsCopying,\r\n        setIsBringToFront,\r\n        setIsSendToBack\r\n      );\r\n    },\r\n    [canvas]\r\n  );\r\n\r\n  const onKeyUp = useCallback((e) => {\r\n    keyUpHandler(\r\n      setIsPasting,\r\n      setIsCopying,\r\n      setIsBringToFront,\r\n      setIsSendToBack,\r\n      setShouldRun\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', onKeyDown);\r\n    document.addEventListener('keyup', onKeyUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', onKeyDown);\r\n      document.removeEventListener('keyup', onKeyUp);\r\n    };\r\n  }, [onKeyDown, onKeyUp]);\r\n};\r\n\r\nexport default useKeyEvents;\r\n","import { useEffect, useCallback } from 'react';\r\n\r\nconst useClickListener = (canvas, state) => {\r\n  const clickHandler = useCallback(\r\n    (e) => {\r\n      if (\r\n        canvas &&\r\n        !state.isCropMode &&\r\n        !state.shouldCropImage &&\r\n        !state.shouldReplaceImage\r\n      ) {\r\n        for (let i = 0; i < e.path.length; i++) {\r\n          if (e.path[i].id === 'canvasComponent') return;\r\n        }\r\n        canvas.discardActiveObject().requestRenderAll();\r\n      }\r\n    },\r\n    [canvas, state.isCropMode, state.shouldCropImage, state.shouldReplaceImage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', clickHandler);\r\n    return () => document.removeEventListener('click', clickHandler);\r\n  }, [canvas, clickHandler]);\r\n};\r\n\r\nexport default useClickListener;\r\n","export default __webpack_public_path__ + \"static/media/downArrow.400d75ac.svg\";","export default __webpack_public_path__ + \"static/media/bold.d705790f.svg\";","export default __webpack_public_path__ + \"static/media/subBackground.dce1ffb0.svg\";","export default __webpack_public_path__ + \"static/media/italic.ee8b3de6.svg\";","export default __webpack_public_path__ + \"static/media/textLeft.37f6ba9c.svg\";","export default __webpack_public_path__ + \"static/media/textRight.67805ee0.svg\";","export default __webpack_public_path__ + \"static/media/textCenter.357cd59c.svg\";","export default __webpack_public_path__ + \"static/media/textJustify.3d19e46c.svg\";","const fonts =  [\r\n  'ABeeZee',\r\n  'Abel',\r\n  'Abhaya Libre',\r\n  'Abril Fatface',\r\n  'Aclonica',\r\n  'Acme',\r\n  'Actor',\r\n  'Adamina',\r\n  'Advent Pro',\r\n  'Aguafina Script',\r\n  'Akaya Kanadaka',\r\n  'Akaya Telivigala',\r\n  'Akronim',\r\n  'Aladin',\r\n  'Alata',\r\n  'Alatsi',\r\n  'Aldrich',\r\n  'Alef',\r\n  'Alegreya',\r\n  'Alegreya SC',\r\n  'Alegreya Sans',\r\n  'Alegreya Sans SC',\r\n  'Aleo',\r\n  'Alex Brush',\r\n  'Alfa Slab One',\r\n  'Alice',\r\n  'Alike',\r\n  'Alike Angular',\r\n  'Allan',\r\n  'Allerta',\r\n  'Allerta Stencil',\r\n  'Allura',\r\n  'Almarai',\r\n  'Almendra',\r\n  'Almendra Display',\r\n  'Almendra SC',\r\n  'Amarante',\r\n  'Amaranth',\r\n  'Amatic SC',\r\n  'Amethysta',\r\n  'Amiko',\r\n  'Amiri',\r\n  'Amita',\r\n  'Anaheim',\r\n  'Andada',\r\n  'Andika',\r\n  'Andika New Basic',\r\n  'Angkor',\r\n  'Annie Use Your Telescope',\r\n  'Anonymous Pro',\r\n  'Antic',\r\n  'Antic Didone',\r\n  'Antic Slab',\r\n  'Anton',\r\n  'Arapey',\r\n  'Arbutus',\r\n  'Arbutus Slab',\r\n  'Architects Daughter',\r\n  'Archivo',\r\n  'Archivo Black',\r\n  'Archivo Narrow',\r\n  'Aref Ruqaa',\r\n  'Arima Madurai',\r\n  'Arimo',\r\n  'Arizonia',\r\n  'Armata',\r\n  'Arsenal',\r\n  'Artifika',\r\n  'Arvo',\r\n  'Arya',\r\n  'Asap',\r\n  'Asap Condensed',\r\n  'Asar',\r\n  'Asset',\r\n  'Assistant',\r\n  'Astloch',\r\n  'Asul',\r\n  'Athiti',\r\n  'Atma',\r\n  'Atomic Age',\r\n  'Aubrey',\r\n  'Audiowide',\r\n  'Autour One',\r\n  'Average',\r\n  'Average Sans',\r\n  'Averia Gruesa Libre',\r\n  'Averia Libre',\r\n  'Averia Sans Libre',\r\n  'Averia Serif Libre',\r\n  'B612',\r\n  'B612 Mono',\r\n  'Bad Script',\r\n  'Bahiana',\r\n  'Bahianita',\r\n  'Bai Jamjuree',\r\n  'Ballet',\r\n  'Baloo 2',\r\n  'Baloo Bhai 2',\r\n  'Baloo Bhaina 2',\r\n  'Baloo Chettan 2',\r\n  'Baloo Da 2',\r\n  'Baloo Paaji 2',\r\n  'Baloo Tamma 2',\r\n  'Baloo Tammudu 2',\r\n  'Baloo Thambi 2',\r\n  'Balsamiq Sans',\r\n  'Balthazar',\r\n  'Bangers',\r\n  'Barlow',\r\n  'Barlow Condensed',\r\n  'Barlow Semi Condensed',\r\n  'Barriecito',\r\n  'Barrio',\r\n  'Basic',\r\n  'Baskervville',\r\n  'Battambang',\r\n  'Baumans',\r\n  'Bayon',\r\n  'Be Vietnam',\r\n  'Bebas Neue',\r\n  'Belgrano',\r\n  'Bellefair',\r\n  'Belleza',\r\n  'Bellota',\r\n  'Bellota Text',\r\n  'BenchNine',\r\n  'Benne',\r\n  'Bentham',\r\n  'Berkshire Swash',\r\n  'Beth Ellen',\r\n  'Bevan',\r\n  'Big Shoulders Display',\r\n  'Big Shoulders Inline Display',\r\n  'Big Shoulders Inline Text',\r\n  'Big Shoulders Stencil Display',\r\n  'Big Shoulders Stencil Text',\r\n  'Big Shoulders Text',\r\n  'Bigelow Rules',\r\n  'Bigshot One',\r\n  'Bilbo',\r\n  'Bilbo Swash Caps',\r\n  'BioRhyme',\r\n  'BioRhyme Expanded',\r\n  'Biryani',\r\n  'Bitter',\r\n  'Black And White Picture',\r\n  'Black Han Sans',\r\n  'Black Ops One',\r\n  'Blinker',\r\n  'Bodoni Moda',\r\n  'Bokor',\r\n  'Bonbon',\r\n  'Boogaloo',\r\n  'Bowlby One',\r\n  'Bowlby One SC',\r\n  'Brawler',\r\n  'Bree Serif',\r\n  'Brygada 1918',\r\n  'Bubblegum Sans',\r\n  'Bubbler One',\r\n  'Buda',\r\n  'Buenard',\r\n  'Bungee',\r\n  'Bungee Hairline',\r\n  'Bungee Inline',\r\n  'Bungee Outline',\r\n  'Bungee Shade',\r\n  'Butcherman',\r\n  'Butterfly Kids',\r\n  'Cabin',\r\n  'Cabin Condensed',\r\n  'Cabin Sketch',\r\n  'Caesar Dressing',\r\n  'Cagliostro',\r\n  'Cairo',\r\n  'Caladea',\r\n  'Calistoga',\r\n  'Calligraffitti',\r\n  'Cambay',\r\n  'Cambo',\r\n  'Candal',\r\n  'Cantarell',\r\n  'Cantata One',\r\n  'Cantora One',\r\n  'Capriola',\r\n  'Cardo',\r\n  'Carme',\r\n  'Carrois Gothic',\r\n  'Carrois Gothic SC',\r\n  'Carter One',\r\n  'Castoro',\r\n  'Catamaran',\r\n  'Caudex',\r\n  'Caveat',\r\n  'Caveat Brush',\r\n  'Cedarville Cursive',\r\n  'Ceviche One',\r\n  'Chakra Petch',\r\n  'Changa',\r\n  'Changa One',\r\n  'Chango',\r\n  'Charm',\r\n  'Charmonman',\r\n  'Chathura',\r\n  'Chau Philomene One',\r\n  'Chela One',\r\n  'Chelsea Market',\r\n  'Chenla',\r\n  'Cherry Cream Soda',\r\n  'Cherry Swash',\r\n  'Chewy',\r\n  'Chicle',\r\n  'Chilanka',\r\n  'Chivo',\r\n  'Chonburi',\r\n  'Cinzel',\r\n  'Cinzel Decorative',\r\n  'Clicker Script',\r\n  'Coda',\r\n  'Coda Caption',\r\n  'Codystar',\r\n  'Coiny',\r\n  'Combo',\r\n  'Comfortaa',\r\n  'Comic Neue',\r\n  'Coming Soon',\r\n  'Commissioner',\r\n  'Concert One',\r\n  'Condiment',\r\n  'Content',\r\n  'Contrail One',\r\n  'Convergence',\r\n  'Cookie',\r\n  'Copse',\r\n  'Corben',\r\n  'Cormorant',\r\n  'Cormorant Garamond',\r\n  'Cormorant Infant',\r\n  'Cormorant SC',\r\n  'Cormorant Unicase',\r\n  'Cormorant Upright',\r\n  'Courgette',\r\n  'Courier Prime',\r\n  'Cousine',\r\n  'Coustard',\r\n  'Covered By Your Grace',\r\n  'Crafty Girls',\r\n  'Creepster',\r\n  'Crete Round',\r\n  'Crimson Pro',\r\n  'Crimson Text',\r\n  'Croissant One',\r\n  'Crushed',\r\n  'Cuprum',\r\n  'Cute Font',\r\n  'Cutive',\r\n  'Cutive Mono',\r\n  'DM Mono',\r\n  'DM Sans',\r\n  'DM Serif Display',\r\n  'DM Serif Text',\r\n  'Damion',\r\n  'Dancing Script',\r\n  'Dangrek',\r\n  'Darker Grotesque',\r\n  'David Libre',\r\n  'Dawning of a New Day',\r\n  'Days One',\r\n  'Dekko',\r\n  'Dela Gothic One',\r\n  'Delius',\r\n  'Delius Swash Caps',\r\n  'Delius Unicase',\r\n  'Della Respira',\r\n  'Denk One',\r\n  'Devonshire',\r\n  'Dhurjati',\r\n  'Didact Gothic',\r\n  'Diplomata',\r\n  'Diplomata SC',\r\n  'Do Hyeon',\r\n  'Dokdo',\r\n  'Domine',\r\n  'Donegal One',\r\n  'Doppio One',\r\n  'Dorsa',\r\n  'Dosis',\r\n  'DotGothic16',\r\n  'Dr Sugiyama',\r\n  'Duru Sans',\r\n  'Dynalight',\r\n  'EB Garamond',\r\n  'Eagle Lake',\r\n  'East Sea Dokdo',\r\n  'Eater',\r\n  'Economica',\r\n  'Eczar',\r\n  'El Messiri',\r\n  'Electrolize',\r\n  'Elsie',\r\n  'Elsie Swash Caps',\r\n  'Emblema One',\r\n  'Emilys Candy',\r\n  'Encode Sans',\r\n  'Encode Sans Condensed',\r\n  'Encode Sans Expanded',\r\n  'Encode Sans Semi Condensed',\r\n  'Encode Sans Semi Expanded',\r\n  'Engagement',\r\n  'Englebert',\r\n  'Enriqueta',\r\n  'Epilogue',\r\n  'Erica One',\r\n  'Esteban',\r\n  'Euphoria Script',\r\n  'Ewert',\r\n  'Exo',\r\n  'Exo 2',\r\n  'Expletus Sans',\r\n  'Fahkwang',\r\n  'Fanwood Text',\r\n  'Farro',\r\n  'Farsan',\r\n  'Fascinate',\r\n  'Fascinate Inline',\r\n  'Faster One',\r\n  'Fasthand',\r\n  'Fauna One',\r\n  'Faustina',\r\n  'Federant',\r\n  'Federo',\r\n  'Felipa',\r\n  'Fenix',\r\n  'Finger Paint',\r\n  'Fira Code',\r\n  'Fira Mono',\r\n  'Fira Sans',\r\n  'Fira Sans Condensed',\r\n  'Fira Sans Extra Condensed',\r\n  'Fjalla One',\r\n  'Fjord One',\r\n  'Flamenco',\r\n  'Flavors',\r\n  'Fondamento',\r\n  'Fontdiner Swanky',\r\n  'Forum',\r\n  'Francois One',\r\n  'Frank Ruhl Libre',\r\n  'Fraunces',\r\n  'Freckle Face',\r\n  'Fredericka the Great',\r\n  'Fredoka One',\r\n  'Freehand',\r\n  'Fresca',\r\n  'Frijole',\r\n  'Fruktur',\r\n  'Fugaz One',\r\n  'GFS Didot',\r\n  'GFS Neohellenic',\r\n  'Gabriela',\r\n  'Gaegu',\r\n  'Gafata',\r\n  'Galada',\r\n  'Galdeano',\r\n  'Galindo',\r\n  'Gamja Flower',\r\n  'Gayathri',\r\n  'Gelasio',\r\n  'Gentium Basic',\r\n  'Gentium Book Basic',\r\n  'Geo',\r\n  'Geostar',\r\n  'Geostar Fill',\r\n  'Germania One',\r\n  'Gidugu',\r\n  'Gilda Display',\r\n  'Girassol',\r\n  'Give You Glory',\r\n  'Glass Antiqua',\r\n  'Glegoo',\r\n  'Gloria Hallelujah',\r\n  'Goblin One',\r\n  'Gochi Hand',\r\n  'Goldman',\r\n  'Gorditas',\r\n  'Gothic A1',\r\n  'Gotu',\r\n  'Goudy Bookletter 1911',\r\n  'Graduate',\r\n  'Grand Hotel',\r\n  'Grandstander',\r\n  'Gravitas One',\r\n  'Great Vibes',\r\n  'Grenze',\r\n  'Grenze Gotisch',\r\n  'Griffy',\r\n  'Gruppo',\r\n  'Gudea',\r\n  'Gugi',\r\n  'Gupter',\r\n  'Gurajada',\r\n  'Habibi',\r\n  'Hachi Maru Pop',\r\n  'Halant',\r\n  'Hammersmith One',\r\n  'Hanalei',\r\n  'Hanalei Fill',\r\n  'Handlee',\r\n  'Hanuman',\r\n  'Happy Monkey',\r\n  'Harmattan',\r\n  'Headland One',\r\n  'Heebo',\r\n  'Henny Penny',\r\n  'Hepta Slab',\r\n  'Herr Von Muellerhoff',\r\n  'Hi Melody',\r\n  'Hind',\r\n  'Hind Guntur',\r\n  'Hind Madurai',\r\n  'Hind Siliguri',\r\n  'Hind Vadodara',\r\n  'Holtwood One SC',\r\n  'Homemade Apple',\r\n  'Homenaje',\r\n  'IBM Plex Mono',\r\n  'IBM Plex Sans',\r\n  'IBM Plex Sans Condensed',\r\n  'IBM Plex Serif',\r\n  'IM Fell DW Pica',\r\n  'IM Fell DW Pica SC',\r\n  'IM Fell Double Pica',\r\n  'IM Fell Double Pica SC',\r\n  'IM Fell English',\r\n  'IM Fell English SC',\r\n  'IM Fell French Canon',\r\n  'IM Fell French Canon SC',\r\n  'IM Fell Great Primer',\r\n  'IM Fell Great Primer SC',\r\n  'Ibarra Real Nova',\r\n  'Iceberg',\r\n  'Iceland',\r\n  'Imbue',\r\n  'Imprima',\r\n  'Inconsolata',\r\n  'Inder',\r\n  'Indie Flower',\r\n  'Inika',\r\n  'Inknut Antiqua',\r\n  'Inria Sans',\r\n  'Inria Serif',\r\n  'Inter',\r\n  'Irish Grover',\r\n  'Istok Web',\r\n  'Italiana',\r\n  'Italianno',\r\n  'Itim',\r\n  'Jacques Francois',\r\n  'Jacques Francois Shadow',\r\n  'Jaldi',\r\n  'JetBrains Mono',\r\n  'Jim Nightshade',\r\n  'Jockey One',\r\n  'Jolly Lodger',\r\n  'Jomhuria',\r\n  'Jomolhari',\r\n  'Josefin Sans',\r\n  'Josefin Slab',\r\n  'Jost',\r\n  'Joti One',\r\n  'Jua',\r\n  'Judson',\r\n  'Julee',\r\n  'Julius Sans One',\r\n  'Junge',\r\n  'Jura',\r\n  'Just Another Hand',\r\n  'Just Me Again Down Here',\r\n  'K2D',\r\n  'Kadwa',\r\n  'Kalam',\r\n  'Kameron',\r\n  'Kanit',\r\n  'Kantumruy',\r\n  'Karla',\r\n  'Karma',\r\n  'Katibeh',\r\n  'Kaushan Script',\r\n  'Kavivanar',\r\n  'Kavoon',\r\n  'Kdam Thmor',\r\n  'Keania One',\r\n  'Kelly Slab',\r\n  'Kenia',\r\n  'Khand',\r\n  'Khmer',\r\n  'Khula',\r\n  'Kirang Haerang',\r\n  'Kite One',\r\n  'Kiwi Maru',\r\n  'Knewave',\r\n  'KoHo',\r\n  'Kodchasan',\r\n  'Kosugi',\r\n  'Kosugi Maru',\r\n  'Kotta One',\r\n  'Koulen',\r\n  'Kranky',\r\n  'Kreon',\r\n  'Kristi',\r\n  'Krona One',\r\n  'Krub',\r\n  'Kufam',\r\n  'Kulim Park',\r\n  'Kumar One',\r\n  'Kumar One Outline',\r\n  'Kumbh Sans',\r\n  'Kurale',\r\n  'La Belle Aurore',\r\n  'Lacquer',\r\n  'Laila',\r\n  'Lakki Reddy',\r\n  'Lalezar',\r\n  'Lancelot',\r\n  'Langar',\r\n  'Lateef',\r\n  'Lato',\r\n  'League Script',\r\n  'Leckerli One',\r\n  'Ledger',\r\n  'Lekton',\r\n  'Lemon',\r\n  'Lemonada',\r\n  'Lexend',\r\n  'Lexend Deca',\r\n  'Lexend Exa',\r\n  'Lexend Giga',\r\n  'Lexend Mega',\r\n  'Lexend Peta',\r\n  'Lexend Tera',\r\n  'Lexend Zetta',\r\n  'Libre Barcode 128',\r\n  'Libre Barcode 128 Text',\r\n  'Libre Barcode 39',\r\n  'Libre Barcode 39 Extended',\r\n  'Libre Barcode 39 Extended Text',\r\n  'Libre Barcode 39 Text',\r\n  'Libre Barcode EAN13 Text',\r\n  'Libre Baskerville',\r\n  'Libre Caslon Display',\r\n  'Libre Caslon Text',\r\n  'Libre Franklin',\r\n  'Life Savers',\r\n  'Lilita One',\r\n  'Lily Script One',\r\n  'Limelight',\r\n  'Linden Hill',\r\n  'Literata',\r\n  'Liu Jian Mao Cao',\r\n  'Livvic',\r\n  'Lobster',\r\n  'Lobster Two',\r\n  'Londrina Outline',\r\n  'Londrina Shadow',\r\n  'Londrina Sketch',\r\n  'Londrina Solid',\r\n  'Long Cang',\r\n  'Lora',\r\n  'Love Ya Like A Sister',\r\n  'Loved by the King',\r\n  'Lovers Quarrel',\r\n  'Luckiest Guy',\r\n  'Lusitana',\r\n  'Lustria',\r\n  'M PLUS 1p',\r\n  'M PLUS Rounded 1c',\r\n  'Ma Shan Zheng',\r\n  'Macondo',\r\n  'Macondo Swash Caps',\r\n  'Mada',\r\n  'Magra',\r\n  'Maiden Orange',\r\n  'Maitree',\r\n  'Major Mono Display',\r\n  'Mako',\r\n  'Mali',\r\n  'Mallanna',\r\n  'Mandali',\r\n  'Manjari',\r\n  'Manrope',\r\n  'Mansalva',\r\n  'Manuale',\r\n  'Marcellus',\r\n  'Marcellus SC',\r\n  'Marck Script',\r\n  'Margarine',\r\n  'Markazi Text',\r\n  'Marko One',\r\n  'Marmelad',\r\n  'Martel',\r\n  'Martel Sans',\r\n  'Marvel',\r\n  'Mate',\r\n  'Mate SC',\r\n  'Maven Pro',\r\n  'McLaren',\r\n  'Meddon',\r\n  'MedievalSharp',\r\n  'Medula One',\r\n  'Meera Inimai',\r\n  'Megrim',\r\n  'Meie Script',\r\n  'Merienda',\r\n  'Merienda One',\r\n  'Merriweather',\r\n  'Merriweather Sans',\r\n  'Metal',\r\n  'Metal Mania',\r\n  'Metamorphous',\r\n  'Metrophobic',\r\n  'Michroma',\r\n  'Milonga',\r\n  'Miltonian',\r\n  'Miltonian Tattoo',\r\n  'Mina',\r\n  'Miniver',\r\n  'Miriam Libre',\r\n  'Mirza',\r\n  'Miss Fajardose',\r\n  'Mitr',\r\n  'Modak',\r\n  'Modern Antiqua',\r\n  'Mogra',\r\n  'Molengo',\r\n  'Molle',\r\n  'Monda',\r\n  'Monofett',\r\n  'Monoton',\r\n  'Monsieur La Doulaise',\r\n  'Montaga',\r\n  'Montez',\r\n  'Montserrat',\r\n  'Montserrat Alternates',\r\n  'Montserrat Subrayada',\r\n  'Moul',\r\n  'Moulpali',\r\n  'Mountains of Christmas',\r\n  'Mouse Memoirs',\r\n  'Mr Bedfort',\r\n  'Mr Dafoe',\r\n  'Mr De Haviland',\r\n  'Mrs Saint Delafield',\r\n  'Mrs Sheppards',\r\n  'Mukta',\r\n  'Mukta Mahee',\r\n  'Mukta Malar',\r\n  'Mukta Vaani',\r\n  'Mulish',\r\n  'MuseoModerno',\r\n  'Mystery Quest',\r\n  'NTR',\r\n  'Nanum Brush Script',\r\n  'Nanum Gothic',\r\n  'Nanum Gothic Coding',\r\n  'Nanum Myeongjo',\r\n  'Nanum Pen Script',\r\n  'Nerko One',\r\n  'Neucha',\r\n  'Neuton',\r\n  'New Rocker',\r\n  'New Tegomin',\r\n  'News Cycle',\r\n  'Newsreader',\r\n  'Niconne',\r\n  'Niramit',\r\n  'Nixie One',\r\n  'Nobile',\r\n  'Nokora',\r\n  'Norican',\r\n  'Nosifer',\r\n  'Notable',\r\n  'Nothing You Could Do',\r\n  'Noticia Text',\r\n  'Noto Sans',\r\n  'Noto Sans HK',\r\n  'Noto Sans JP',\r\n  'Noto Sans KR',\r\n  'Noto Sans SC',\r\n  'Noto Sans TC',\r\n  'Noto Serif',\r\n  'Noto Serif JP',\r\n  'Noto Serif KR',\r\n  'Noto Serif SC',\r\n  'Noto Serif TC',\r\n  'Nova Cut',\r\n  'Nova Flat',\r\n  'Nova Mono',\r\n  'Nova Oval',\r\n  'Nova Round',\r\n  'Nova Script',\r\n  'Nova Slim',\r\n  'Nova Square',\r\n  'Numans',\r\n  'Nunito',\r\n  'Nunito Sans',\r\n  'Odibee Sans',\r\n  'Odor Mean Chey',\r\n  'Offside',\r\n  'Oi',\r\n  'Old Standard TT',\r\n  'Oldenburg',\r\n  'Oleo Script',\r\n  'Oleo Script Swash Caps',\r\n  'Open Sans',\r\n  'Open Sans Condensed',\r\n  'Oranienbaum',\r\n  'Orbitron',\r\n  'Oregano',\r\n  'Orienta',\r\n  'Original Surfer',\r\n  'Oswald',\r\n  'Over the Rainbow',\r\n  'Overlock',\r\n  'Overlock SC',\r\n  'Overpass',\r\n  'Overpass Mono',\r\n  'Ovo',\r\n  'Oxanium',\r\n  'Oxygen',\r\n  'Oxygen Mono',\r\n  'PT Mono',\r\n  'PT Sans',\r\n  'PT Sans Caption',\r\n  'PT Sans Narrow',\r\n  'PT Serif',\r\n  'PT Serif Caption',\r\n  'Pacifico',\r\n  'Padauk',\r\n  'Palanquin',\r\n  'Palanquin Dark',\r\n  'Pangolin',\r\n  'Paprika',\r\n  'Parisienne',\r\n  'Passero One',\r\n  'Passion One',\r\n  'Pathway Gothic One',\r\n  'Patrick Hand',\r\n  'Patrick Hand SC',\r\n  'Pattaya',\r\n  'Patua One',\r\n  'Pavanam',\r\n  'Paytone One',\r\n  'Peddana',\r\n  'Peralta',\r\n  'Permanent Marker',\r\n  'Petit Formal Script',\r\n  'Petrona',\r\n  'Philosopher',\r\n  'Piazzolla',\r\n  'Piedra',\r\n  'Pinyon Script',\r\n  'Pirata One',\r\n  'Plaster',\r\n  'Play',\r\n  'Playball',\r\n  'Playfair Display',\r\n  'Playfair Display SC',\r\n  'Podkova',\r\n  'Poiret One',\r\n  'Poller One',\r\n  'Poly',\r\n  'Pompiere',\r\n  'Pontano Sans',\r\n  'Poor Story',\r\n  'Poppins',\r\n  'Port Lligat Sans',\r\n  'Port Lligat Slab',\r\n  'Potta One',\r\n  'Pragati Narrow',\r\n  'Prata',\r\n  'Preahvihear',\r\n  'Press Start 2P',\r\n  'Pridi',\r\n  'Princess Sofia',\r\n  'Prociono',\r\n  'Prompt',\r\n  'Prosto One',\r\n  'Proza Libre',\r\n  'Public Sans',\r\n  'Puritan',\r\n  'Purple Purse',\r\n  'Quando',\r\n  'Quantico',\r\n  'Quattrocento',\r\n  'Quattrocento Sans',\r\n  'Questrial',\r\n  'Quicksand',\r\n  'Quintessential',\r\n  'Qwigley',\r\n  'Racing Sans One',\r\n  'Radley',\r\n  'Rajdhani',\r\n  'Rakkas',\r\n  'Raleway',\r\n  'Raleway Dots',\r\n  'Ramabhadra',\r\n  'Ramaraja',\r\n  'Rambla',\r\n  'Rammetto One',\r\n  'Ranchers',\r\n  'Rancho',\r\n  'Ranga',\r\n  'Rasa',\r\n  'Rationale',\r\n  'Ravi Prakash',\r\n  'Recursive',\r\n  'Red Hat Display',\r\n  'Red Hat Text',\r\n  'Red Rose',\r\n  'Redressed',\r\n  'Reem Kufi',\r\n  'Reenie Beanie',\r\n  'Reggae One',\r\n  'Revalia',\r\n  'Rhodium Libre',\r\n  'Ribeye',\r\n  'Ribeye Marrow',\r\n  'Righteous',\r\n  'Risque',\r\n  'Roboto',\r\n  'Roboto Condensed',\r\n  'Roboto Mono',\r\n  'Roboto Slab',\r\n  'Rochester',\r\n  'Rock Salt',\r\n  'RocknRoll One',\r\n  'Rokkitt',\r\n  'Romanesco',\r\n  'Ropa Sans',\r\n  'Rosario',\r\n  'Rosarivo',\r\n  'Rouge Script',\r\n  'Rowdies',\r\n  'Rozha One',\r\n  'Rubik',\r\n  'Rubik Mono One',\r\n  'Ruda',\r\n  'Rufina',\r\n  'Ruge Boogie',\r\n  'Ruluko',\r\n  'Rum Raisin',\r\n  'Ruslan Display',\r\n  'Russo One',\r\n  'Ruthie',\r\n  'Rye',\r\n  'Sacramento',\r\n  'Sahitya',\r\n  'Sail',\r\n  'Saira',\r\n  'Saira Condensed',\r\n  'Saira Extra Condensed',\r\n  'Saira Semi Condensed',\r\n  'Saira Stencil One',\r\n  'Salsa',\r\n  'Sanchez',\r\n  'Sancreek',\r\n  'Sansita',\r\n  'Sansita Swashed',\r\n  'Sarabun',\r\n  'Sarala',\r\n  'Sarina',\r\n  'Sarpanch',\r\n  'Satisfy',\r\n  'Sawarabi Gothic',\r\n  'Sawarabi Mincho',\r\n  'Scada',\r\n  'Scheherazade',\r\n  'Schoolbell',\r\n  'Scope One',\r\n  'Seaweed Script',\r\n  'Secular One',\r\n  'Sedgwick Ave',\r\n  'Sedgwick Ave Display',\r\n  'Sen',\r\n  'Sevillana',\r\n  'Seymour One',\r\n  'Shadows Into Light',\r\n  'Shadows Into Light Two',\r\n  'Shanti',\r\n  'Share',\r\n  'Share Tech',\r\n  'Share Tech Mono',\r\n  'Shippori Mincho',\r\n  'Shippori Mincho B1',\r\n  'Shojumaru',\r\n  'Short Stack',\r\n  'Shrikhand',\r\n  'Siemreap',\r\n  'Sigmar One',\r\n  'Signika',\r\n  'Signika Negative',\r\n  'Simonetta',\r\n  'Single Day',\r\n  'Sintony',\r\n  'Sirin Stencil',\r\n  'Six Caps',\r\n  'Skranji',\r\n  'Slabo 13px',\r\n  'Slabo 27px',\r\n  'Slackey',\r\n  'Smokum',\r\n  'Smythe',\r\n  'Sniglet',\r\n  'Snippet',\r\n  'Snowburst One',\r\n  'Sofadi One',\r\n  'Sofia',\r\n  'Solway',\r\n  'Song Myung',\r\n  'Sonsie One',\r\n  'Sora',\r\n  'Sorts Mill Goudy',\r\n  'Source Code Pro',\r\n  'Source Sans Pro',\r\n  'Source Serif Pro',\r\n  'Space Grotesk',\r\n  'Space Mono',\r\n  'Spartan',\r\n  'Special Elite',\r\n  'Spectral',\r\n  'Spectral SC',\r\n  'Spicy Rice',\r\n  'Spinnaker',\r\n  'Spirax',\r\n  'Squada One',\r\n  'Sree Krushnadevaraya',\r\n  'Sriracha',\r\n  'Srisakdi',\r\n  'Staatliches',\r\n  'Stalemate',\r\n  'Stalinist One',\r\n  'Stardos Stencil',\r\n  'Stick',\r\n  'Stint Ultra Condensed',\r\n  'Stint Ultra Expanded',\r\n  'Stoke',\r\n  'Strait',\r\n  'Stylish',\r\n  'Sue Ellen Francisco',\r\n  'Suez One',\r\n  'Sulphur Point',\r\n  'Sumana',\r\n  'Sunflower',\r\n  'Sunshiney',\r\n  'Supermercado One',\r\n  'Sura',\r\n  'Suranna',\r\n  'Suravaram',\r\n  'Suwannaphum',\r\n  'Swanky and Moo Moo',\r\n  'Syncopate',\r\n  'Syne',\r\n  'Syne Mono',\r\n  'Syne Tactile',\r\n  'Tajawal',\r\n  'Tangerine',\r\n  'Taprom',\r\n  'Tauri',\r\n  'Taviraj',\r\n  'Teko',\r\n  'Telex',\r\n  'Tenali Ramakrishna',\r\n  'Tenor Sans',\r\n  'Text Me One',\r\n  'Texturina',\r\n  'Thasadith',\r\n  'The Girl Next Door',\r\n  'Tienne',\r\n  'Tillana',\r\n  'Timmana',\r\n  'Tinos',\r\n  'Titan One',\r\n  'Titillium Web',\r\n  'Tomorrow',\r\n  'Trade Winds',\r\n  'Train One',\r\n  'Trirong',\r\n  'Trispace',\r\n  'Trocchi',\r\n  'Trochut',\r\n  'Truculenta',\r\n  'Trykker',\r\n  'Tulpen One',\r\n  'Turret Road',\r\n  'Ubuntu',\r\n  'Ubuntu Condensed',\r\n  'Ubuntu Mono',\r\n  'Ultra',\r\n  'Uncial Antiqua',\r\n  'Underdog',\r\n  'Unica One',\r\n  'UnifrakturCook',\r\n  'UnifrakturMaguntia',\r\n  'Unkempt',\r\n  'Unlock',\r\n  'Unna',\r\n  'VT323',\r\n  'Vampiro One',\r\n  'Varela',\r\n  'Varela Round',\r\n  'Varta',\r\n  'Vast Shadow',\r\n  'Vesper Libre',\r\n  'Viaoda Libre',\r\n  'Vibes',\r\n  'Vibur',\r\n  'Vidaloka',\r\n  'Viga',\r\n  'Voces',\r\n  'Volkhov',\r\n  'Vollkorn',\r\n  'Vollkorn SC',\r\n  'Voltaire',\r\n  'Waiting for the Sunrise',\r\n  'Wallpoet',\r\n  'Walter Turncoat',\r\n  'Warnes',\r\n  'Wellfleet',\r\n  'Wendy One',\r\n  'Wire One',\r\n  'Work Sans',\r\n  'Xanh Mono',\r\n  'Yanone Kaffeesatz',\r\n  'Yantramanav',\r\n  'Yatra One',\r\n  'Yellowtail',\r\n  'Yeon Sung',\r\n  'Yeseva One',\r\n  'Yesteryear',\r\n  'Yrsa',\r\n  'Yusei Magic',\r\n  'ZCOOL KuaiLe',\r\n  'ZCOOL QingKe HuangYou',\r\n  'ZCOOL XiaoWei',\r\n  'Zeyada',\r\n  'Zhi Mang Xing',\r\n  'Zilla Slab',\r\n  'Zilla Slab Highlight'\r\n];\r\n\r\nexport default fonts;","import React, { useState } from 'react';\r\nimport styles from './FontsDropdown.module.css';\r\nimport search from '../../../../assets/editor/search.svg';\r\nimport fonts from './fontsData';\r\n\r\nconst FontsDropdown = ({ setIsDropDown, dispatch, isSub }) => {\r\n  const [input, setInput] = useState('');\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      let type = isSub ? 'setSubtitlesFontFamily' : 'setFontFamily';\r\n      dispatch({ type, data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n  \r\n  const options = fonts\r\n    .filter((font) => {\r\n      return font.toLowerCase().includes(input.toLowerCase());\r\n    })\r\n    .map((font) => {\r\n      return (\r\n        <li className={styles.FontOption} key={font}>\r\n          {font}\r\n        </li>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div className={styles.FontsDropdown}>\r\n      <div className={styles.SearchContainer}>\r\n        <img className={styles.SearchSvg} src={search} alt='search' />\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          className={styles.SearchInput}\r\n          placeholder='Search'\r\n          type='text'\r\n        />\r\n      </div>\r\n      <ul className={styles.FontOptionsContainer} onClick={optionsClickHandler}>\r\n        {options}\r\n      </ul>\r\n      <div className={styles.UploadFontContainer}>\r\n        <button className={styles.UploadFontButton}>Upload font</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FontsDropdown;\r\n","import React from 'react';\r\nimport styles from './FontSizeDropdown.module.css';\r\n\r\nconst FontSizeDropdown = ({ setIsDropDown, dispatch, isSub }) => {\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      let type = isSub ? 'setSubtitlesFontSize' : 'setFontSize';\r\n      dispatch({ type, data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.FontSizeDropdown} onClick={optionsClickHandler}>\r\n      <li className={styles.FontSizeOption}>14</li>\r\n      <li className={styles.FontSizeOption}>24</li>\r\n      <li className={styles.FontSizeOption}>30</li>\r\n      <li className={styles.FontSizeOption}>36</li>\r\n      <li className={styles.FontSizeOption}>48</li>\r\n      <li className={styles.FontSizeOption}>60</li>\r\n      <li className={styles.FontSizeOption}>72</li>\r\n      <li className={styles.FontSizeOption}>96</li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FontSizeDropdown;\r\n","import React from 'react';\r\nimport styles from './TextAlignDropdown.module.css';\r\nimport textLeft from '../../../../assets/editor/textLeft.svg';\r\nimport textRight from '../../../../assets/editor/textRight.svg';\r\nimport textCenter from '../../../../assets/editor/textCenter.svg';\r\nimport textJustify from '../../../../assets/editor/textJustify.svg';\r\n\r\nconst TextAlignDropdown = ({ setIsDropDown, dispatch, current }) => {\r\n  const optionsClickHandler = (e) => {\r\n    let data = null;\r\n    if (e.target.tagName === 'LI') data = e.target.childNodes[0].alt;\r\n    else if (e.target.tagName === 'P') data = e.target.textContent;\r\n    else if (e.target.tagName === 'IMG') data = e.target.alt;\r\n    if (data) {\r\n      dispatch({ type: 'setTextAlign', data: data.toLowerCase() });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.TextAlignDropdown} onClick={optionsClickHandler}>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'left' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textLeft} alt='left' />\r\n        <p className={styles.TextAlignText}>Left</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'center' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textCenter} alt='center' />\r\n        <p className={styles.TextAlignText}>Center</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'right' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textRight} alt='right' />\r\n        <p className={styles.TextAlignText}>Right</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'justify' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img\r\n          className={styles.TextAlignImage}\r\n          src={textJustify}\r\n          alt='justify'\r\n        />\r\n        <p className={styles.TextAlignText}>Justify</p>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TextAlignDropdown;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FontsDropdown from './FontsDropdown/FontsDropdown';\r\nimport FontSizeDropdown from './FontSizeDropdown/FontSizeDropdown';\r\nimport TextAlignDropdown from './TextAlignDropdown/TextAlignDropdown';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './TextDropdowns.module.css';\r\n\r\nconst TextDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  isFontFamilyDropdown,\r\n  isFontSizeDropdown,\r\n  isColorDropdown,\r\n  isTextAlignDropDown,\r\n  setIsFontFamilyDropdown,\r\n  setIsFontSizeDropdown,\r\n  colorChangeCompleteHandler,\r\n  setIsTextAlignDropDown,\r\n  setColor,\r\n  color,\r\n  colorPickerRef,\r\n  isSub,\r\n  isBgColorDropdown,\r\n  setBgColor,\r\n  bgColor,\r\n  bgColorPickerRef,\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const maxDropdownHeight = 301;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n\r\n  useEffect(() => {\r\n    if (\r\n      coords &&\r\n      coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        state.canvasState.height\r\n    ) {\r\n      setDropdownStyle({ bottom: 41 });\r\n    }\r\n  }, [state.canvasState, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFontFamilyDropdown ? (\r\n        <div className={styles.FontsDropdown} style={dropDownStyle}>\r\n          <FontsDropdown\r\n            setIsDropDown={setIsFontFamilyDropdown}\r\n            dispatch={dispatch}\r\n            isSub={isSub}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isFontSizeDropdown ? (\r\n        <div\r\n          className={styles.FontSizeDropdown}\r\n          style={{ ...dropDownStyle, right: isSub ? '223px' : '151px' }}\r\n        >\r\n          <FontSizeDropdown\r\n            setIsDropDown={setIsFontSizeDropdown}\r\n            dispatch={dispatch}\r\n            isSub={isSub}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isColorDropdown ? (\r\n        <div className={styles.SketchPickerContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={color}\r\n            onChange={(c) => setColor(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              colorChangeCompleteHandler(\r\n                c,\r\n                colorPickerRef,\r\n                dispatch,\r\n                isSub,\r\n                isBgColorDropdown\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isTextAlignDropDown ? (\r\n        <div className={styles.TextAlignDropdown} style={dropDownStyle}>\r\n          <TextAlignDropdown\r\n            setIsDropDown={setIsTextAlignDropDown}\r\n            dispatch={dispatch}\r\n            current={state.textState.textAlign}\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isBgColorDropdown ? (\r\n        <div className={styles.SketchPickerContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={bgColor}\r\n            onChange={(c) => setBgColor(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              colorChangeCompleteHandler(\r\n                c,\r\n                bgColorPickerRef,\r\n                dispatch,\r\n                isSub,\r\n                isBgColorDropdown\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextDropdowns;\r\n","export const colorChangeCompleteHandler = (c, ref, dispatch, isSub, isBg) => {\r\n  let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n  if (isBg && ref.current) {\r\n    ref.current.style.background = colorString;\r\n    dispatch({ type: 'setSubtitlesbackgroundColor', data: colorString });\r\n  } else if (ref.current) {\r\n    let type = isSub ? 'setSubtitlesTextFill' : 'setTextFill';\r\n    ref.current.style.background = colorString;\r\n    dispatch({ type, data: colorString });\r\n  }\r\n};\r\n\r\nexport const handleClick = (e, dropdownHandlers, styleHandlers) => {\r\n  if (e.currentTarget.id === 'bold' || e.currentTarget.id === 'italic') {\r\n    styleHandlers[e.currentTarget.id]();\r\n  }\r\n  for (let [id, handler] of Object.entries(dropdownHandlers)) {\r\n    if (id === e.currentTarget.id) handler((prevState) => !prevState);\r\n    else handler(false);\r\n  }\r\n};\r\n\r\nexport const fontSizeChangeHandler = (e, setFontSizeInput, dispatch, isSub) => {\r\n  setFontSizeInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (data <= 0) data = 1;\r\n  else if (data > 1080) data = 1080;\r\n  let type = isSub ? 'setSubtitlesFontSize' : 'setFontSize';\r\n  dispatch({ type, data });\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './TextToolbar.module.css';\r\nimport downArrow from '../../../assets/editor/downArrow.svg';\r\nimport bold from '../../../assets/editor/bold.svg';\r\nimport subBackground from '../../../assets/editor/subBackground.svg';\r\nimport italic from '../../../assets/editor/italic.svg';\r\nimport textLeft from '../../../assets/editor/textLeft.svg';\r\nimport textRight from '../../../assets/editor/textRight.svg';\r\nimport textCenter from '../../../assets/editor/textCenter.svg';\r\nimport textJustify from '../../../assets/editor/textJustify.svg';\r\nimport TextDropdowns from '../TextDropdowns/TextDropdowns';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport {\r\n  handleClick,\r\n  fontSizeChangeHandler,\r\n  colorChangeCompleteHandler,\r\n} from './utils/handlers';\r\n\r\nconst TextToolbar = ({ coords, isSub }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [fontSizeInput, setFontSizeInput] = useState(0);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [isFontFamilyDropdown, setIsFontFamilyDropdown] = useState(false);\r\n  const [isFontSizeDropdown, setIsFontSizeDropdown] = useState(false);\r\n  const [isColorDropdown, setIsColorDropdown] = useState(false);\r\n  const [isTextAlignDropDown, setIsTextAlignDropDown] = useState(false);\r\n  const [isBgColorDropdown, setIsBgColorDropdown] = useState(false);\r\n  const [color, setColor] = useState({\r\n    r: 0,\r\n    g: 0,\r\n    b: 0,\r\n    a: 1,\r\n  });\r\n  const [bgColor, setBgColor] = useState({\r\n    r: 0,\r\n    g: 0,\r\n    b: 0,\r\n    a: 1,\r\n  });\r\n\r\n  const colorPickerRef = useRef(null);\r\n  const bgColorPickerRef = useRef(null);\r\n\r\n  // Active styles\r\n  const boldStlyes = [styles.FontWeightBoldContainer];\r\n  const italicStyles = [styles.FontStyleItalicContainer];\r\n  const state = isSub ? editorState.subtitlesState : editorState.textState;\r\n  const isBold = state.fontWeight === 'Bold';\r\n  const isItalic = state.fontStyle === 'Italic';\r\n  if (isBold) boldStlyes.push(styles.Active);\r\n  if (isItalic) italicStyles.push(styles.Active);\r\n\r\n  // Text Align SVG\r\n  let textAlignSrc = textLeft;\r\n  if (editorState.textState.textAlign === 'center') {\r\n    textAlignSrc = textCenter;\r\n  } else if (editorState.textState.textAlign === 'right') {\r\n    textAlignSrc = textRight;\r\n  } else if (editorState.textState.textAlign === 'justify') {\r\n    textAlignSrc = textJustify;\r\n  }\r\n\r\n  const boldHandler = () => {\r\n    let weight = 'Bold';\r\n    if (isBold) weight = 'Normal';\r\n    let type = isSub ? 'setSubtitlesFontWeight' : 'setFontWeight';\r\n    editorDispatch({ type, data: weight });\r\n  };\r\n\r\n  const italicHandler = () => {\r\n    let style = 'Italic';\r\n    if (isItalic) style = 'Normal';\r\n    let type = isSub ? 'setSubtitlesFontStyle' : 'setFontStyle';\r\n    editorDispatch({ type, data: style });\r\n  };\r\n\r\n  const dropdownHandlers = {\r\n    fontFamily: setIsFontFamilyDropdown,\r\n    fontSizeArrow: setIsFontSizeDropdown,\r\n    colorPicker: setIsColorDropdown,\r\n    textAlign: setIsTextAlignDropDown,\r\n    bgColor: setIsBgColorDropdown,\r\n  };\r\n\r\n  const styleHandlers = {\r\n    bold: boldHandler,\r\n    italic: italicHandler,\r\n  };\r\n\r\n  const clickHandler = (e) => handleClick(e, dropdownHandlers, styleHandlers);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      setFontSizeInput(state.fontSize);\r\n      let [r, g, b, a] = state.fill.split('(')[1].split(')')[0].split(',');\r\n      setColor({ r, g, b, a });\r\n      colorPickerRef.current.style.background = state.fill;\r\n      if (isSub) {\r\n        [r, g, b, a] = state.backgroundColor\r\n          .split('(')[1]\r\n          .split(')')[0]\r\n          .split(',');\r\n        setBgColor({ r, g, b, a });\r\n        bgColorPickerRef.current.style.background = state.backgroundColor;\r\n      }\r\n    }\r\n  }, [state, isFirstLoad, isSub]);\r\n\r\n  return (\r\n    <div className={styles.TextToolbar}>\r\n      <div\r\n        className={styles.FontsContainer}\r\n        id='fontFamily'\r\n        onClick={clickHandler}\r\n      >\r\n        <p>{state.fontFamily}</p>\r\n        <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.FontSizeContainer}>\r\n        <div className={styles.FontSizeInputContainer}>\r\n          <input\r\n            className={styles.FontSizeInput}\r\n            type='number'\r\n            value={fontSizeInput}\r\n            onChange={(e) =>\r\n              fontSizeChangeHandler(e, setFontSizeInput, editorDispatch, isSub)\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          className={styles.FontSizeArrowContainer}\r\n          id='fontSizeArrow'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={styles.ColorPickerContainer}\r\n        id='colorPicker'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={colorPickerRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div className={boldStlyes.join(' ')} id='bold' onClick={clickHandler}>\r\n        <img className={styles.Bold} src={bold} alt='bold' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={italicStyles.join(' ')}\r\n        id='italic'\r\n        onClick={clickHandler}\r\n      >\r\n        <img className={styles.Italic} src={italic} alt='italic' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      {!isSub ? (\r\n        <>\r\n          <div\r\n            className={styles.TextAlignContainer}\r\n            id='textAlign'\r\n            onClick={clickHandler}\r\n          >\r\n            <img\r\n              className={styles.TextAlign}\r\n              src={textAlignSrc}\r\n              alt='textAlign'\r\n            />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div\r\n          className={styles.BgColorContainer}\r\n          id='bgColor'\r\n          onClick={clickHandler}\r\n        >\r\n          <div className={styles.BgColor} ref={bgColorPickerRef}></div>\r\n          <img src={subBackground} alt='italic' />\r\n          <p>Background</p>\r\n        </div>\r\n      )}\r\n\r\n      <TextDropdowns\r\n        state={editorState}\r\n        dispatch={editorDispatch}\r\n        coords={coords}\r\n        isFontFamilyDropdown={isFontFamilyDropdown}\r\n        isFontSizeDropdown={isFontSizeDropdown}\r\n        isColorDropdown={isColorDropdown}\r\n        isTextAlignDropDown={isTextAlignDropDown}\r\n        setIsFontFamilyDropdown={setIsFontFamilyDropdown}\r\n        setIsFontSizeDropdown={setIsFontSizeDropdown}\r\n        colorChangeCompleteHandler={colorChangeCompleteHandler}\r\n        setIsTextAlignDropDown={setIsTextAlignDropDown}\r\n        setColor={setColor}\r\n        setBgColor={setBgColor}\r\n        color={color}\r\n        bgColor={bgColor}\r\n        colorPickerRef={colorPickerRef}\r\n        bgColorPickerRef={bgColorPickerRef}\r\n        isSub={isSub}\r\n        isBgColorDropdown={isBgColorDropdown}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextToolbar;\r\n","export default __webpack_public_path__ + \"static/media/cornerRadius.edfa6868.svg\";","import React from 'react';\r\nimport styles from './StrokeWidthDropdown.module.css';\r\n\r\nconst StrokeWidthDropdown = ({ setIsDropDown, dispatch, isLine }) => {\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      dispatch({ type: 'setShapeStrokeWidth', data: +e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n  let list = null;\r\n  if (isLine) {\r\n    list = (\r\n      <ul className={styles.LineDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>1</li>\r\n        <li className={styles.StrokeOption}>5</li>\r\n        <li className={styles.StrokeOption}>10</li>\r\n        <li className={styles.StrokeOption}>15</li>\r\n        <li className={styles.StrokeOption}>20</li>\r\n        <li className={styles.StrokeOption}>25</li>\r\n        <li className={styles.StrokeOption}>30</li>\r\n        <li className={styles.StrokeOption}>35</li>\r\n        <li className={styles.StrokeOption}>40</li>\r\n        <li className={styles.StrokeOption}>45</li>\r\n        <li className={styles.StrokeOption}>50</li>\r\n      </ul>\r\n    );\r\n  } else {\r\n    list = (\r\n      <ul className={styles.ShapeDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>0</li>\r\n        <li className={styles.StrokeOption}>4</li>\r\n        <li className={styles.StrokeOption}>8</li>\r\n        <li className={styles.StrokeOption}>12</li>\r\n        <li className={styles.StrokeOption}>24</li>\r\n        <li className={styles.StrokeOption}>48</li>\r\n        <li className={styles.StrokeOption}>96</li>\r\n        <li className={styles.StrokeOption}>120</li>\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return list;\r\n};\r\n\r\nexport default StrokeWidthDropdown;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './ShapeDropdowns.module.css';\r\nimport StrokeWidthDropdown from './StrokeWidthDropdown/StrokeWidthDropdown';\r\n\r\nconst ShapeDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  shapeToolbar,\r\n  isStrokeWidthDropdown,\r\n  isFillDropdown,\r\n  isStrokeDropdown,\r\n  fill,\r\n  setFill,\r\n  fillChangeCompleteHandler,\r\n  fillRef,\r\n  stroke,\r\n  setStroke,\r\n  strokeChangeCompleteHandler,\r\n  strokeRef,\r\n  setIsStrokeWidthDropdown,\r\n  isLine,\r\n  isRect,\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const [strokeWidthDropDownStyle, setStrokeWidthDropDownStyle] = useState({\r\n    top: 41,\r\n  });\r\n  const maxDropdownHeight = 301;\r\n  const maxDropdownWidth = 220;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n\r\n  const handleDropdownPosition = useCallback(\r\n    (coords, shapeToolbar, canvasHeight) => {\r\n      let toolbarWidth = shapeToolbar.offsetWidth;\r\n      let style = {};\r\n      if (\r\n        coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        canvasHeight\r\n      ) {\r\n        style.bottom = 41;\r\n        setStrokeWidthDropDownStyle({ bottom: 41, right: !isRect ? 0 : 66 });\r\n      }\r\n\r\n      if (coords.coordX + toolbarWidth - maxDropdownWidth < 0) {\r\n        style.left = 0;\r\n        if (!style.bottom) style.top = 41;\r\n      }\r\n      if (Object.keys(style).length !== 0) setDropdownStyle(style);\r\n    },\r\n    [isRect]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (coords && shapeToolbar) {\r\n      handleDropdownPosition(coords, shapeToolbar, state.canvasState.height);\r\n    }\r\n  }, [handleDropdownPosition, shapeToolbar, state.canvasState, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFillDropdown ? (\r\n        <div className={styles.FillDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={fill}\r\n            onChange={(c) => setFill(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              fillChangeCompleteHandler(c, dispatch, fillRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeDropdown ? (\r\n        <div className={styles.StrokeDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={stroke}\r\n            onChange={(c) => setStroke(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              strokeChangeCompleteHandler(c, dispatch, strokeRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeWidthDropdown ? (\r\n        <div\r\n          className={styles.StrokeWidthDropdownContainer}\r\n          style={strokeWidthDropDownStyle}\r\n        >\r\n          <StrokeWidthDropdown\r\n            setIsDropDown={setIsStrokeWidthDropdown}\r\n            isLine={isLine}\r\n            dispatch={dispatch}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdowns;\r\n","export const initialLoadHandler = (\r\n  isLine,\r\n  shapeState,\r\n  setIsFirstLoad,\r\n  setFill,\r\n  fillRef,\r\n  strokeContainerRef,\r\n  setStroke,\r\n  strokeRef\r\n) => {\r\n  setIsFirstLoad(false);\r\n  if (!isLine) {\r\n    let [r, g, b, a] = shapeState.fill.split('(')[1].split(')')[0].split(',');\r\n    setFill({ r, g, b, a });\r\n    fillRef.current.style.background = shapeState.fill;\r\n  } else {\r\n    strokeContainerRef.current.style.borderTopLeftRadius = '15px';\r\n    strokeContainerRef.current.style.borderBottomLeftRadius = '15px';\r\n  }\r\n  let [r, g, b, a] = shapeState.stroke.split('(')[1].split(')')[0].split(',');\r\n  setStroke({ r, g, b, a });\r\n  strokeRef.current.style.background = shapeState.stroke;\r\n};\r\n\r\nexport const fillChangeCompleteHandler = (c, dispatch, fillRef) => {\r\n  if (fillRef.current) {\r\n    let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n    dispatch({ type: 'setShapeFill', data: colorString });\r\n    fillRef.current.style.background = colorString;\r\n  }\r\n};\r\n\r\nexport const strokeChangeCompleteHandler = (c, dispatch, strokeRef) => {\r\n  if (strokeRef.current) {\r\n    let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n    dispatch({ type: 'setShapeStroke', data: colorString });\r\n    strokeRef.current.style.background = colorString;\r\n  }\r\n};\r\n\r\nexport const strokeWidthChangeHandler = (\r\n  e,\r\n  dispatch,\r\n  setStrokeWidthInput,\r\n  isLine\r\n) => {\r\n  setStrokeWidthInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (isLine && data <= 0) data = 1;\r\n  else if (isLine && data > 50) data = 50;\r\n  else if (!isLine && data > 120) data = 120;\r\n  else if (!isLine && data < 0) data = 0;\r\n  dispatch({ type: 'setShapeStrokeWidth', data });\r\n};\r\n\r\nexport const handleClick = (\r\n  e,\r\n  setIsFillDropdown,\r\n  setIsStrokeDropdown,\r\n  setIsStrokeWidthDropdown\r\n) => {\r\n  let clicked = e.currentTarget.id;\r\n  if (clicked === 'fill') {\r\n    setIsFillDropdown((prevState) => !prevState);\r\n    setIsStrokeDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else if (clicked === 'stroke') {\r\n    setIsStrokeDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else if (clicked === 'strokeWidth') {\r\n    setIsStrokeWidthDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeDropdown(false);\r\n  } else {\r\n    setIsStrokeWidthDropdown(false);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeDropdown(false);\r\n  }\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './ShapeToolbar.module.css';\r\nimport downArrow from '../../../assets/editor/downArrow.svg';\r\nimport cornerRadius from '../../../assets/editor/cornerRadius.svg';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport ShapeDropdowns from '../ShapeDropdowns/ShapeDropdowns';\r\nimport {\r\n  initialLoadHandler,\r\n  handleClick,\r\n  fillChangeCompleteHandler,\r\n  strokeChangeCompleteHandler,\r\n  strokeWidthChangeHandler,\r\n} from './utils/handlers';\r\n\r\nconst ShapeToolbar = ({ coords }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [fill, setFill] = useState('rgba(196,196,196,1)');\r\n  const [stroke, setStroke] = useState('rgba(255,255,255,1)');\r\n  const [isFillDropdown, setIsFillDropdown] = useState(false);\r\n  const [isStrokeDropdown, setIsStrokeDropdown] = useState(false);\r\n  const [isStrokeWidthDropdown, setIsStrokeWidthDropdown] = useState(false);\r\n  const [strokeWidthInput, setStrokeWidthInput] = useState(\r\n    editorState.shapeState.strokeWidth\r\n  );\r\n  const [radiusInput, setRadiusInput] = useState(editorState.shapeState.rx);\r\n  const shapeToolbarRef = useRef(null);\r\n  const fillRef = useRef(null);\r\n  const strokeRef = useRef(null);\r\n  const strokeContainerRef = useRef(null);\r\n  const isLine = editorState.currentObject.type === 'line';\r\n  const isRect = editorState.currentObject.type === 'rect';\r\n\r\n  const radiusChangeHandler = (e) => {\r\n    setRadiusInput(e.target.value);\r\n    let val = +e.target.value;\r\n    if (val < 0) val = 0;\r\n    if (val > 100) val = 100;\r\n    editorDispatch({ type: 'setShapeRadius', data: val });\r\n  };\r\n\r\n  const clickHandler = (e) =>\r\n    handleClick(\r\n      e,\r\n      setIsFillDropdown,\r\n      setIsStrokeDropdown,\r\n      setIsStrokeWidthDropdown\r\n    );\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      initialLoadHandler(\r\n        isLine,\r\n        editorState.shapeState,\r\n        setIsFirstLoad,\r\n        setFill,\r\n        fillRef,\r\n        strokeContainerRef,\r\n        setStroke,\r\n        strokeRef\r\n      );\r\n    }\r\n  }, [isLine, editorState.shapeState, isFirstLoad]);\r\n\r\n  return (\r\n    <div ref={shapeToolbarRef} className={styles.ShapeToolbar}>\r\n      {!isLine ? (\r\n        <>\r\n          <div\r\n            className={styles.FillContainer}\r\n            id='fill'\r\n            onClick={clickHandler}\r\n          >\r\n            <div className={styles.ColorPickerBorder}>\r\n              <div ref={fillRef} className={styles.ColorPicker}></div>\r\n            </div>\r\n            <p>Fill</p>\r\n          </div>\r\n          <div className={styles.BorderDiv}></div>\r\n        </>\r\n      ) : null}\r\n\r\n      <div\r\n        ref={strokeContainerRef}\r\n        className={styles.StrokeContainer}\r\n        id='stroke'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={strokeRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p>Stroke</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.StrokeWidthContainer}>\r\n        <div className={styles.StrokeWidthInputContainer}>\r\n          <input\r\n            className={styles.StrokeWidthInput}\r\n            type='number'\r\n            value={strokeWidthInput}\r\n            onChange={(e) =>\r\n              strokeWidthChangeHandler(\r\n                e,\r\n                editorDispatch,\r\n                setStrokeWidthInput,\r\n                isLine\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            borderTopRightRadius: isRect ? '0' : '15px',\r\n            borderBottomRightRadius: isRect ? '0' : '15px',\r\n          }}\r\n          className={styles.StrokeWidthArrowContainer}\r\n          id='strokeWidth'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n\r\n      {isRect ? (\r\n        <>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.RadiusContainer}\r\n            id='radius'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cornerRadius} alt='radius' />\r\n            <input\r\n              className={styles.RadiusInput}\r\n              type='number'\r\n              value={radiusInput}\r\n              onChange={radiusChangeHandler}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n      <ShapeDropdowns\r\n        state={editorState}\r\n        dispatch={editorDispatch}\r\n        coords={coords}\r\n        shapeToolbar={shapeToolbarRef.current}\r\n        isStrokeWidthDropdown={isStrokeWidthDropdown}\r\n        setIsStrokeWidthDropdown={setIsStrokeWidthDropdown}\r\n        isStrokeDropdown={isStrokeDropdown}\r\n        isFillDropdown={isFillDropdown}\r\n        fill={fill}\r\n        setFill={setFill}\r\n        fillChangeCompleteHandler={fillChangeCompleteHandler}\r\n        fillRef={fillRef}\r\n        stroke={stroke}\r\n        setStroke={setStroke}\r\n        strokeChangeCompleteHandler={strokeChangeCompleteHandler}\r\n        strokeRef={strokeRef}\r\n        isLine={isLine}\r\n        isRect={isRect}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeToolbar;\r\n","export default __webpack_public_path__ + \"static/media/replaceImage.24b71204.svg\";","export default __webpack_public_path__ + \"static/media/cropImage.06a8d86d.svg\";","import React, { useState, useContext } from 'react';\r\nimport styles from './ImageToolbar.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport replaceImage from '../../../assets/editor/replaceImage.svg';\r\nimport cornerRadius from '../../../assets/editor/cornerRadius.svg';\r\nimport cropImage from '../../../assets/editor/cropImage.svg';\r\n\r\nconst ImageToolbar = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [radiusInput, setRadiusInput] = useState(\r\n    editorState.imageState.cornerRadius\r\n  );\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.currentTarget.id === 'replace') {\r\n      editorDispatch({ type: 'setShouldReplaceImage', data: true });\r\n    } else if (e.currentTarget.id === 'crop') {\r\n      editorDispatch({ type: 'setIsCropMode', data: true });\r\n    }\r\n  };\r\n\r\n  const radiusChangeHandler = (e) => {\r\n    setRadiusInput(e.target.value);\r\n    let val = +e.target.value;\r\n    if (val < 0) val = 0;\r\n    if (val > 100) val = 100;\r\n    editorDispatch({ type: 'setImageCornerRadius', data: val });\r\n  };\r\n\r\n  const cropDoneHandler = () => {\r\n    editorDispatch({ type: 'setShouldCropImage', data: true });\r\n    editorDispatch({ type: 'setShowToolbar', data: false });\r\n  };\r\n\r\n  const content = (\r\n    <>\r\n      <div\r\n        className={[\r\n          styles.ReaplaceContainer,\r\n          editorState.imageState.isSvg ? styles.BorderStyle : null,\r\n        ].join(' ')}\r\n        id='replace'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={replaceImage} alt='replace' />\r\n        <p>Replace</p>\r\n      </div>\r\n\r\n      {!editorState.imageState.isSvg ? (\r\n        <>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.RadiusContainer}\r\n            id='radius'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cornerRadius} alt='radius' />\r\n            <input\r\n              className={styles.RadiusInput}\r\n              type='number'\r\n              value={radiusInput}\r\n              onChange={radiusChangeHandler}\r\n            />\r\n          </div>\r\n          <div className={styles.BorderDiv}></div>\r\n          <div\r\n            className={styles.CropContainer}\r\n            id='crop'\r\n            onClick={clickHandler}\r\n          >\r\n            <img src={cropImage} alt='replace' />\r\n            <p>Crop</p>\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className={styles.ImageToolbar}>\r\n      {!editorState.isCropMode ? (\r\n        content\r\n      ) : (\r\n        <div className={styles.DoneContainer} onClick={cropDoneHandler}>\r\n          Done\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageToolbar;\r\n","import React, {\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useCallback,\r\n  useState,\r\n} from 'react';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport styles from './Toolbar.module.css';\r\nimport { calcPosition } from './utils/toolbarPosition';\r\nimport TextToolbar from './TextToolbar/TextToolbar';\r\nimport ShapeToolbar from './ShapeToolbar/ShapeToolbar';\r\nimport ImageToolbar from './ImageToolbar/ImageToolbar';\r\n\r\nconst Toolbar = ({ canvas }) => {\r\n  const [coords, setCoords] = useState(null);\r\n  const { editorState } = useContext(EditorContext);\r\n  const toolbarRef = useRef(null);\r\n  const toolbarOffset = 28;\r\n  const toolbarPadding = 10;\r\n  const shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n  const setTransform = useCallback((c) => {\r\n    toolbarRef.current.style.transform = `translate(${c.coordX}px, ${c.coordY}px)`;\r\n    toolbarRef.current.style.opacity = 1;\r\n    setCoords(c);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (editorState.currentCoords) {\r\n      setTransform(\r\n        calcPosition(\r\n          editorState.currentCoords,\r\n          canvas.getWidth(),\r\n          canvas.getHeight(),\r\n          toolbarRef.current,\r\n          toolbarOffset,\r\n          toolbarPadding\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    canvas,\r\n    setTransform,\r\n    editorState.currentCoords,\r\n    editorState.isCroppingImage,\r\n  ]);\r\n\r\n  return (\r\n    <div ref={toolbarRef} className={styles.Toolbar}>\r\n      {editorState.currentObject.type === 'text' ? (\r\n        <TextToolbar coords={coords} isSub={false} />\r\n      ) : null}\r\n      {editorState.currentObject.type === 'subtitle' ? (\r\n        <TextToolbar coords={coords} isSub={true} />\r\n      ) : null}\r\n      {shapeArr.includes(editorState.currentObject.type) ? (\r\n        <ShapeToolbar coords={coords} />\r\n      ) : null}\r\n      {editorState.currentObject.type === 'customImage' ? <ImageToolbar /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","export const calcPosition = (\r\n  currentCoords,\r\n  canvasWidth,\r\n  canvasHeight,\r\n  toolbar,\r\n  toolbarOffset,\r\n  toolbarPadding,\r\n) => {\r\n  let toolbarWidth = toolbar.offsetWidth;\r\n  let toolbarHeight = toolbar.offsetHeight;\r\n\r\n  let isBottomCloser = currentCoords.tl.y > currentCoords.bl.y;\r\n  let offset = isBottomCloser ? toolbarOffset + toolbarHeight : toolbarOffset;\r\n\r\n  // Coord Y\r\n  let coordY =\r\n    Math.min(\r\n      currentCoords.tl.y,\r\n      currentCoords.tr.y,\r\n      currentCoords.br.y,\r\n      currentCoords.bl.y\r\n    ) -\r\n    toolbarHeight -\r\n    offset;\r\n  if (coordY - toolbarPadding < 0) {\r\n    let tempCoordY =\r\n      Math.max(\r\n        currentCoords.tl.y,\r\n        currentCoords.tr.y,\r\n        currentCoords.br.y,\r\n        currentCoords.bl.y\r\n      ) +\r\n      toolbarOffset +\r\n      (!isBottomCloser ? toolbarHeight : 0);\r\n    if (tempCoordY + toolbarPadding + toolbarHeight < canvasHeight)\r\n      coordY = tempCoordY;\r\n    else coordY = canvasHeight - toolbarHeight - toolbarOffset;\r\n  }\r\n\r\n  // Coord X\r\n  let coordX = Math.min(\r\n    currentCoords.tl.x,\r\n    currentCoords.tr.x,\r\n    currentCoords.br.x,\r\n    currentCoords.bl.x\r\n  );\r\n  if (coordX + toolbarWidth > canvasWidth) coordX = canvasWidth - toolbarWidth;\r\n  else if (coordX < 0) coordX = 0;\r\n  return { coordX, coordY };\r\n};\r\n","import React, {\r\n  useEffect,\r\n  useCallback,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styles from './ContextMenu.module.css';\r\nimport EventContext from '../../../contexts/EventContext';\r\nimport { handlePaste } from '../utils/pasteObject';\r\n\r\nconst ContextMenu = ({\r\n  canvas,\r\n  isCanvasSet,\r\n  objId,\r\n  updateId,\r\n  clipboard,\r\n  setClipboard,\r\n  fabricSub,\r\n  dispatch,\r\n}) => {\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [activeObj, setActiveObj] = useState(false);\r\n  const [canOnlyPaste, setCanOnlyPaste] = useState(false);\r\n  const menuRef = useRef(null);\r\n  const isMountedRef = useRef(true);\r\n  useEffect(() => () => (isMountedRef.current = false), []);\r\n\r\n  const handleClick = useCallback(\r\n    (e) => {\r\n      if ((e.currentTarget && e.currentTarget.id !== 'subtitle') || clipboard) {\r\n        if (e.currentTarget && e.currentTarget.id !== 'subtitle') {\r\n          let active = canvas.getActiveObject();\r\n          if (!active || active.id !== e.currentTarget.id) {\r\n            canvas.setActiveObject(e.currentTarget);\r\n          }\r\n          setActiveObj(e.currentTarget);\r\n          setCanOnlyPaste(false);\r\n        } else setCanOnlyPaste(true);\r\n        if (e.pointer.x + menuRef.current.offsetWidth > canvas.getWidth()) {\r\n          menuRef.current.style.left =\r\n            e.pointer.x - menuRef.current.offsetWidth + 'px';\r\n        } else menuRef.current.style.left = e.pointer.x + 'px';\r\n        menuRef.current.style.top = e.pointer.y + 'px';\r\n      } else {\r\n        eventDispatch({ type: 'setRightClickEvent', data: null });\r\n      }\r\n    },\r\n    [canvas, eventDispatch, clipboard]\r\n  );\r\n\r\n  const overlayClickHandler = (e) => {\r\n    e.preventDefault();\r\n    if (isMounted) {\r\n      setIsMounted(false);\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    }\r\n  };\r\n\r\n  const optionClickHandler = (e) => {\r\n    let id = e.currentTarget.id;\r\n    if (id === 'delete' && activeObj.type !== 'video') {\r\n      canvas.remove(activeObj);\r\n      canvas.discardActiveObject().requestRenderAll();\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'bringToFront') {\r\n      canvas.bringToFront(activeObj);\r\n      if (fabricSub) canvas.bringToFront(fabricSub);\r\n      dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'sendToBack') {\r\n      canvas.sendToBack(activeObj);\r\n      dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'copy') {\r\n      setClipboard({\r\n        object: activeObj,\r\n        coords: { top: activeObj.top, left: activeObj.left },\r\n      });\r\n      eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    } else if (id === 'paste') {\r\n      if (clipboard) {\r\n        handlePaste(\r\n          canvas,\r\n          clipboard,\r\n          objId,\r\n          updateId,\r\n          setClipboard,\r\n          eventDispatch,\r\n          fabricSub\r\n        );\r\n      } else eventDispatch({ type: 'setRightClickEvent', data: null });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet && eventState.rightClickEvent) {\r\n      handleClick(eventState.rightClickEvent);\r\n      setTimeout(() => {\r\n        if (isMountedRef.current) setIsMounted(true);\r\n      }, 400);\r\n    }\r\n    return () => {\r\n      if (isMountedRef.current) setIsMounted(false);\r\n    };\r\n  }, [isCanvasSet, eventState.rightClickEvent, handleClick]);\r\n  let isVideo = activeObj && activeObj.type === 'video';\r\n  let content = (\r\n    <>\r\n      <div\r\n        className={styles.Overlay}\r\n        onContextMenu={overlayClickHandler}\r\n        onClick={overlayClickHandler}\r\n      ></div>\r\n      <ul\r\n        onContextMenu={(e) => e.preventDefault()}\r\n        ref={menuRef}\r\n        className={styles.Menu}\r\n        id='contextMenu'\r\n      >\r\n        {!canOnlyPaste && !isVideo ? (\r\n          <li className={styles.Option} id='copy' onClick={optionClickHandler}>\r\n            <p>Copy</p>\r\n            <p>⌘C</p>\r\n          </li>\r\n        ) : null}\r\n\r\n        <li className={styles.Option} id='paste' onClick={optionClickHandler}>\r\n          <p>Paste</p>\r\n          <p>⌘V</p>\r\n        </li>\r\n\r\n        {!canOnlyPaste && !isVideo ? (\r\n          <li\r\n            className={styles.Option}\r\n            id='delete'\r\n            onClick={optionClickHandler}\r\n          >\r\n            <p>Delete</p>\r\n            <p>DEL</p>\r\n          </li>\r\n        ) : null}\r\n        {!canOnlyPaste ? <li className={styles.Border}></li> : null}\r\n        {!canOnlyPaste ? (\r\n          <>\r\n            <li\r\n              className={styles.Option}\r\n              id='bringToFront'\r\n              onClick={optionClickHandler}\r\n            >\r\n              <p>Bring to front</p>\r\n              <p>{'⌘]'}</p>\r\n            </li>\r\n            <li\r\n              className={styles.Option}\r\n              id='sendToBack'\r\n              onClick={optionClickHandler}\r\n            >\r\n              <p>Send to back</p>\r\n              <p>{'⌘['}</p>\r\n            </li>\r\n          </>\r\n        ) : null}\r\n      </ul>\r\n    </>\r\n  );\r\n\r\n  return eventState.rightClickEvent ? content : null;\r\n};\r\n\r\nexport default ContextMenu;\r\n","import React, { useState, useContext, useCallback } from 'react';\r\nimport styles from './PlayerCanvas.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport useAddObject from '../hooks/useAddObject';\r\nimport useSelectionObserver from '../hooks/useSelectionObserver';\r\nimport useGuideLines from '../hooks/useGuideLines';\r\nimport useUpdateObject from '../hooks/useUpdateObject';\r\nimport useUpdateCanvas from '../hooks/useUpdateCanvas';\r\nimport useCropImage from '../hooks/useCropImage';\r\nimport useAddCanvas from '../hooks/useAddCanvas';\r\nimport useAddVideo from '../hooks/useAddVideo';\r\nimport useKeyEvents from '../hooks/useKeyEvents';\r\nimport useClickListener from '../hooks/useClickListener';\r\nimport Toolbar from '../../Toolbar/Toolbar';\r\nimport ContextMenu from '../ContextMenu/ContextMenu';\r\nimport EventContext from '../../../contexts/EventContext';\r\n\r\nconst PlayerCanvas = ({\r\n  canvas,\r\n  setCanvas,\r\n  video,\r\n  fabricSub,\r\n  currentTime,\r\n  speakers,\r\n  info,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const { eventState, eventDispatch } = useContext(EventContext);\r\n  const [objectIdCount, setObjectIdCount] = useState(1);\r\n  const [isCanvasSet, setIsCanvasSet] = useState(false);\r\n  const [clipboard, setClipboard] = useState(null);\r\n  const [isCanvasData, setIsCanvasData] = useState(false);\r\n  const updatetObjectId = useCallback(() => setObjectIdCount((i) => i + 1), []);\r\n\r\n  useGuideLines(\r\n    editorState.canvasState,\r\n    isCanvasSet,\r\n    canvas,\r\n    eventState,\r\n    eventDispatch,\r\n    editorState.isCropMode\r\n  );\r\n  useAddObject(\r\n    editorState,\r\n    editorDispatch,\r\n    canvas,\r\n    objectIdCount,\r\n    updatetObjectId\r\n  );\r\n  useSelectionObserver(isCanvasSet, canvas, editorState, editorDispatch);\r\n  useUpdateObject(editorState, editorDispatch, canvas);\r\n  useUpdateCanvas(editorState.canvasState, editorDispatch, canvas);\r\n  useCropImage(\r\n    editorState,\r\n    editorDispatch,\r\n    canvas,\r\n    objectIdCount,\r\n    updatetObjectId\r\n  );\r\n  useAddCanvas(\r\n    editorState.canvasState,\r\n    setCanvas,\r\n    setIsCanvasSet,\r\n    'canvas',\r\n    info,\r\n    setIsCanvasData,\r\n    speakers,\r\n    setObjectIdCount\r\n  );\r\n  useKeyEvents(\r\n    canvas,\r\n    clipboard,\r\n    setClipboard,\r\n    objectIdCount,\r\n    updatetObjectId,\r\n    fabricSub,\r\n    editorDispatch\r\n  );\r\n  useClickListener(canvas, editorState);\r\n  useAddVideo(\r\n    video,\r\n    canvas,\r\n    currentTime,\r\n    speakers,\r\n    objectIdCount,\r\n    updatetObjectId,\r\n    isCanvasData\r\n  );\r\n\r\n  return (\r\n    <div className={styles.CanvasComponent} id='canvasComponent'>\r\n      <div className={styles.Canvas}>\r\n        <canvas id='canvas' />\r\n      </div>\r\n      {editorState.showToolbar ? <Toolbar canvas={canvas} /> : null}\r\n      <ContextMenu\r\n        canvas={canvas}\r\n        isCanvasSet={isCanvasSet}\r\n        objId={objectIdCount}\r\n        updateId={updatetObjectId}\r\n        clipboard={clipboard}\r\n        setClipboard={setClipboard}\r\n        fabricSub={fabricSub}\r\n        dispatch={editorDispatch}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerCanvas;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  isMoving: false,\r\n  rightClickEvent: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setIsMoving':\r\n      return { ...state, isMoving: action.data };\r\n    case 'setRightClickEvent':\r\n      return { ...state, rightClickEvent: action.data };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useEventState = () => {\r\n  const [eventState, eventDispatch] = useReducer(reducer, initialState);\r\n  return [eventState, eventDispatch];\r\n};\r\n\r\nexport default useEventState;\r\n","import React, { useContext } from 'react';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport styles from './ResizeDropdown.module.css';\r\n\r\nconst getResizeValues = (initialWidth, initialHeight, id) => {\r\n  let width = initialWidth;\r\n  let height = initialHeight;\r\n  let resize = 'original';\r\n  if (id === 'landscape') {\r\n    width = (height * 16) / 9;\r\n    height = (width * 9) / 16;\r\n    resize = id;\r\n  } else if (id === 'square') {\r\n    if(height > width) width = height;\r\n    else  height = width;\r\n    resize = id;\r\n  } else if (id === 'vertical') {\r\n    width = (height * 9) / 16;\r\n    resize = id;\r\n  }\r\n  return { width, height, resize };\r\n};\r\n\r\nconst options = [\r\n  {\r\n    name: 'landscape',\r\n    text: 'Landscape 16:9',\r\n    boxStyle: { width: '11.25rem' },\r\n  },\r\n  {\r\n    name: 'square',\r\n    text: 'Square 1:1',\r\n    boxStyle: { width: '6.375rem' },\r\n  },\r\n  {\r\n    name: 'vertical',\r\n    text: 'Vertical 9:16',\r\n    boxStyle: { width: '3.6875rem' },\r\n  },\r\n];\r\n\r\nconst ResizeDropdown = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const clickHandler = (e) => {\r\n    let id = e.currentTarget.id;\r\n    let { width, height, resize } = getResizeValues(\r\n      editorState.canvasState.initialWidth,\r\n      editorState.canvasState.initialHeight,\r\n      id\r\n    );\r\n    editorDispatch({ type: 'setVideoSize', data: { width, height, resize } });\r\n    editorDispatch({ type: 'setIsResizeDropdown', data: false });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <ul className={styles.SizeOptions}>\r\n        {options.map((size) => {\r\n          return (\r\n            <li\r\n              key={size.name}\r\n              id={size.name}\r\n              className={[\r\n                styles.SizeOption,\r\n                editorState.canvasState.resize === size.name\r\n                  ? styles.Current\r\n                  : null,\r\n              ].join(' ')}\r\n              onClick={clickHandler}\r\n            >\r\n              <p className={styles.SizeOptionText}>{size.text}</p>\r\n              <div className={styles.SizeOptionBox} style={size.boxStyle}></div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResizeDropdown;\r\n","import React, { useContext } from 'react';\r\nimport styles from './Backdrop.module.css';\r\nimport EditorContext from '../../contexts/EditorContext';\r\n\r\nconst Backdrop = (props) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.target.id === 'backdrop') {\r\n      let actionType = '';\r\n      if (editorState.isImageDropdown) actionType = 'setIsImageDropdown';\r\n      else if (editorState.isShapeDropdown) actionType = 'setIsShapeDropdown';\r\n      else if (editorState.isSubtitlesDropdown)\r\n        actionType = 'setIsSubtitlesDropdown';\r\n      else if (editorState.shouldReplaceImage)\r\n        actionType = 'setShouldReplaceImage';\r\n      else if (editorState.isResizeDropdown) actionType = 'setIsResizeDropdown';\r\n      else if (editorState.isCanvasBgColorDropdown)\r\n        actionType = 'setIsCanvasBgColorDropdown';\r\n      else if (editorState.isZoomDropdown) actionType = 'setIsZoomDropdown';\r\n      else if (editorState.shouldAddCanvasBgImage)\r\n        actionType = 'setShouldAddCanvasBgImage';\r\n      else if (editorState.isDownloadDropdown)\r\n        actionType = 'setIsDownloadDropdown';\r\n      editorDispatch({ type: actionType, data: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Backdrop} onClick={clickHandler} id='backdrop'>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgResize(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 13,\n    viewBox: \"0 0 15 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 1H2.33333C1.59695 1 1 1.59695 1 2.33333V10.3333C1 11.0697 1.59695 11.6667 2.33333 11.6667H13C13.7364 11.6667 14.3333 11.0697 14.3333 10.3333V2.33333C14.3333 1.59695 13.7364 1 13 1Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.9997 7H9.66634C8.92996 7 8.33301 7.59695 8.33301 8.33333V10.3333C8.33301 11.0697 8.92996 11.6667 9.66634 11.6667H12.9997C13.7361 11.6667 14.333 11.0697 14.333 10.3333V8.33333C14.333 7.59695 13.7361 7 12.9997 7Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgResize);\nexport default __webpack_public_path__ + \"static/media/resize.cab64d8c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCropImage(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M4.5 11.4H4.1V11V5.4H1.5V4.6H4.1V2H4.9V4.6H11H11.4V5V10.6H14V11.4H11.4V14H10.6V11.4H4.5ZM10.6 10.6H4.9V5.4H10.6V10.6Z\",\n    fill: \"#1E1E1E\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCropImage);\nexport default __webpack_public_path__ + \"static/media/cropImage.06a8d86d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubtitlesOn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.7188 2.21875H3.28125C1.47192 2.21875 0 3.69067 0 5.5V10.5212C0 12.3304 1.47192 13.8025 3.28125 13.8025H12.7188C14.5281 13.8025 16 12.3304 16 10.5212V5.5C16 3.69067 14.5281 2.21875 12.7188 2.21875ZM15.0625 10.5212C15.0625 11.8135 14.0111 12.865 12.7188 12.865H3.28125C1.98889 12.865 0.9375 11.8135 0.9375 10.5212V5.5C0.9375 4.20764 1.98889 3.15625 3.28125 3.15625H12.7188C14.0111 3.15625 15.0625 4.20764 15.0625 5.5V10.5212Z\",\n    fill: \"current\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4938 5.88477H6.33405C6.07513 5.88477 5.8653 6.0946 5.8653 6.35352C5.8653 6.61243 6.07513 6.82227 6.33405 6.82227H12.4938C12.7527 6.82227 12.9626 6.61243 12.9626 6.35352C12.9626 6.0946 12.7527 5.88477 12.4938 5.88477Z\",\n    fill: \"current\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5061 6.82227H4.93494C5.19385 6.82227 5.40369 6.61243 5.40369 6.35352C5.40369 6.0946 5.19385 5.88477 4.93494 5.88477H3.5061C3.24719 5.88477 3.03735 6.0946 3.03735 6.35352C3.03735 6.61243 3.24719 6.82227 3.5061 6.82227Z\",\n    fill: \"current\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5061 8.47949H9.66589C9.9248 8.47949 10.1346 8.26953 10.1346 8.01074C10.1346 7.75183 9.9248 7.54199 9.66589 7.54199H3.5061C3.24719 7.54199 3.03735 7.75183 3.03735 8.01074C3.03735 8.26953 3.24719 8.47949 3.5061 8.47949Z\",\n    fill: \"current\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4939 7.54199H11.0651C10.8062 7.54199 10.5963 7.75183 10.5963 8.01074C10.5963 8.26953 10.8062 8.47949 11.0651 8.47949H12.4939C12.7528 8.47949 12.9626 8.26953 12.9626 8.01074C12.9626 7.75183 12.7528 7.54199 12.4939 7.54199Z\",\n    fill: \"current\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4938 9.19873H6.33405C6.07513 9.19873 5.8653 9.40869 5.8653 9.66748C5.8653 9.92639 6.07513 10.1362 6.33405 10.1362H12.4938C12.7527 10.1362 12.9626 9.92639 12.9626 9.66748C12.9626 9.40869 12.7527 9.19873 12.4938 9.19873Z\",\n    fill: \"current\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.93494 9.19873H3.5061C3.24719 9.19873 3.03735 9.40869 3.03735 9.66748C3.03735 9.92639 3.24719 10.1362 3.5061 10.1362H4.93494C5.19385 10.1362 5.40369 9.92639 5.40369 9.66748C5.40369 9.40869 5.19385 9.19873 4.93494 9.19873Z\",\n    fill: \"current\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubtitlesOn);\nexport default __webpack_public_path__ + \"static/media/subtitlesOn.5f02e8f2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport styles from './CanvasToolbar.module.css';\r\nimport ResizeDropdown from './ResizeDropdown/ResizeDropdown';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport Backdrop from '../../components/Backdrop/Backdrop';\r\nimport { ReactComponent as Templates } from '../../assets/editor/templates.svg';\r\nimport { ReactComponent as Resize } from '../../assets/editor/resize.svg';\r\nimport { ReactComponent as Crop } from '../../assets/editor/cropImage.svg';\r\nimport { SketchPicker } from 'react-color';\r\n\r\nconst CanvasToolbar = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [bgColor, setBgColor] = useState(\r\n    editorState.canvasState.backgroundColor\r\n  );\r\n  const backgroundColorRef = useRef(null);\r\n  const bgDropdownRef = useRef(null);\r\n  const resizeDropdownRef = useRef(null);\r\n  const clickHandler = (e) => {\r\n    if (!editorState.shouldCropImage) {\r\n      if (editorState.isCropMode) {\r\n        editorDispatch({ type: 'setIsCropMode', data: false });\r\n      }\r\n      let id = e.currentTarget.id;\r\n      if (id === 'resize') {\r\n        editorDispatch({ type: 'setIsResizeDropdown', data: true });\r\n      } else if (id === 'bgColor') {\r\n        editorDispatch({ type: 'setIsCanvasBgColorDropdown', data: true });\r\n      }\r\n    }\r\n  };\r\n\r\n  const colorChangeCompleteHandler = (c) => {\r\n    if (backgroundColorRef.current) {\r\n      let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n      backgroundColorRef.current.style.background = colorString;\r\n      editorDispatch({ type: 'setCanvasBackgroundColor', data: colorString });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    backgroundColorRef.current.style.background = bgColor;\r\n  }, [bgColor]);\r\n\r\n  return (\r\n    <div className={styles.CanvasToolbar}>\r\n      <div\r\n        className={styles.TemplatesContainer}\r\n        id='templates'\r\n        onClick={clickHandler}\r\n      >\r\n        <Templates />\r\n        <p className={styles.OptionText}>Templates</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={styles.ResizeContainer}\r\n        id='resize'\r\n        onClick={clickHandler}\r\n      >\r\n        <Resize />\r\n        <p className={styles.OptionText}>Resize</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.CropContainer} id='crop' onClick={clickHandler}>\r\n        <Crop />\r\n        <p className={styles.OptionText}>Crop</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={styles.ColorContainer}\r\n        id='bgColor'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={backgroundColorRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p className={styles.OptionText}>Background color</p>\r\n      </div>\r\n      {editorState.isResizeDropdown ? (\r\n        <>\r\n          <Backdrop></Backdrop>\r\n          <div className={styles.ResizeDropdown} ref={resizeDropdownRef}>\r\n            <ResizeDropdown />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n\r\n      {editorState.isCanvasBgColorDropdown ? (\r\n        <>\r\n          <Backdrop></Backdrop>\r\n          <div className={styles.ColorDropdownContainer} ref={bgDropdownRef}>\r\n            <SketchPicker\r\n              color={bgColor}\r\n              onChange={(c) => setBgColor(c.rgb)}\r\n              onChangeComplete={colorChangeCompleteHandler}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasToolbar;\r\n","export default __webpack_public_path__ + \"static/media/play.516f516e.svg\";","export default __webpack_public_path__ + \"static/media/pause.2c1b8172.svg\";","import { useEffect, useCallback } from 'react';\r\nimport { getContainerSize } from '../utils/getSize';\r\n\r\nconst getCanvasSize = (state) => {\r\n  let maxWidth = 800;\r\n  let maxHeight = 560;\r\n  if (state.resize === 'square') maxHeight = 500;\r\n  // if (state.containerHeight < maxHeight){\r\n  //   console.log(true);\r\n  //   maxHeight = 100;\r\n  // } \r\n  let width = state.containerWidth;\r\n  let height = (state.videoHeight * width) / state.videoWidth;\r\n  \r\n  // console.log(state.containerHeight);\r\n  if (width > height) {\r\n    if (width > maxWidth) {\r\n      height = (height * maxWidth) / width;\r\n      width = maxWidth;\r\n    }\r\n  } else {\r\n    if (height > maxHeight) {\r\n      width = (width * maxHeight) / height;\r\n      height = maxHeight;\r\n    }\r\n  }\r\n  return { width, height };\r\n};\r\n\r\nconst useContainerSize = (state, dispatch, containerRef) => {\r\n  const containerPadding = 88;\r\n  const getSizeInfo = useCallback(() => {\r\n    let { width, height } = getCanvasSize(state);\r\n    if (width > height) containerRef.current.style.marginTop = '5rem';\r\n    else containerRef.current.style.marginTop = '1rem';\r\n    let isInRange = width > 100;\r\n    return isInRange ? { width, height } : {};\r\n  }, [containerRef, state]);\r\n\r\n  const handleResize = useCallback(() => {\r\n    let { containerWidth, containerHeight } = getContainerSize(\r\n      containerRef,\r\n      containerPadding\r\n    );\r\n    dispatch({\r\n      type: 'setContainerSize',\r\n      data: { width: containerWidth, height: containerHeight },\r\n    });\r\n  }, [dispatch, containerRef]);\r\n\r\n  useEffect(() => {\r\n    if (state.initialWidth > 0 && state.shouldСalculateCanvasSize) {\r\n      dispatch({ type: 'setShouldСalculateCanvasSize', data: false });\r\n      let { width, height } = getSizeInfo();\r\n      // console.log(width, height);\r\n      if (width) {\r\n        dispatch({\r\n          type: 'setCanvasSize',\r\n          data: { width, height },\r\n        });\r\n      }\r\n    }\r\n  }, [dispatch, getSizeInfo, state]);\r\n\r\n  useEffect(() => {\r\n    handleResize();\r\n  }, [handleResize]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [handleResize]);\r\n};\r\n\r\nexport default useContainerSize;\r\n","export const getContainerSize = (containerRef, containerPadding) => {\r\n  let containerWidth =\r\n    window.innerWidth - containerRef.current.offsetLeft - containerPadding;\r\n  let containerHeight = containerRef.current.offsetHeight;\r\n  if (containerWidth > 800) {\r\n    containerHeight = (containerHeight * 800) / containerWidth;\r\n    containerWidth = 800;\r\n  }\r\n  return { containerWidth, containerHeight };\r\n};\r\n","import { useEffect, useCallback } from 'react';\r\n\r\nconst usePlayerTime = (\r\n  videoRef,\r\n  videoCuts,\r\n  words,\r\n  isPlaying,\r\n  currentTime,\r\n  nextCutIndex,\r\n  setNextCutIndex,\r\n  currentWordIndex,\r\n  setCurrentWordIndex,\r\n  currentSub,\r\n  setCurrentSub,\r\n  fabricSub\r\n) => {\r\n  const handleVideoCuts = useCallback(\r\n    (time) => {\r\n      if (videoCuts.length > 0 && videoCuts[nextCutIndex]) {\r\n        time = +time + 0.05;\r\n        let moreThanStart = time >= +videoCuts[nextCutIndex].start;\r\n        let lessThanEnd = time <= +videoCuts[nextCutIndex].end;\r\n        let isShortTime =\r\n          +videoCuts[nextCutIndex].end - videoCuts[nextCutIndex].start <=\r\n            0.05 && moreThanStart;\r\n        if ((moreThanStart && lessThanEnd) || isShortTime) {\r\n          videoRef.current.currentTime = +videoCuts[nextCutIndex].end;\r\n          // console.log(\r\n          //   `%c setting to: ${+videoCuts[nextCutIndex].end}`,\r\n          //   'background:red; color:white'\r\n          // );\r\n\r\n          if (videoCuts[nextCutIndex + 1]) setNextCutIndex(nextCutIndex + 1);\r\n          else setNextCutIndex(null);\r\n        }\r\n      }\r\n    },\r\n    [videoCuts, nextCutIndex, videoRef, setNextCutIndex]\r\n  );\r\n\r\n  const handleCurrentWord = useCallback(\r\n    (time, index) => {\r\n      time = +time + 0.05;\r\n      let word = words[index];\r\n      let nextWord = words[index + 1];\r\n      // if (word) {\r\n      //   console.log('comparing: ', time, '>', +word.end, time >= +word.end);\r\n      // }\r\n      if (index !== null && nextWord && time > +word.end) {\r\n        let isShortTime = +word.end - word.start <= 0.05 && !isPlaying;\r\n        if (!isShortTime && !nextWord.active && nextWord.next !== null) {\r\n          setCurrentWordIndex(nextWord.next);\r\n        } else if (!isShortTime) {\r\n          setCurrentWordIndex((prevState) => prevState + 1);\r\n        }\r\n      }\r\n    },\r\n    [isPlaying, words, setCurrentWordIndex]\r\n  );\r\n\r\n  const handleCurrentSub = useCallback(\r\n    (time, sub) => {\r\n      time = +time + 0.05;\r\n      let nextSub = sub.next;\r\n      // if (word) {\r\n      //   console.log('comparing: ', time, '>', +word.end, time >= +word.end);\r\n      // }\r\n      if (sub && nextSub && time > +sub.val.end) {\r\n        if (nextSub.val.active) setCurrentSub(prevState => prevState.next);\r\n        else setCurrentSub(nextSub.nextSub);\r\n      }\r\n    },\r\n    [setCurrentSub]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isPlaying && fabricSub && currentSub && currentTime !== null) {\r\n      handleCurrentSub(currentTime, currentSub);\r\n    }\r\n  }, [isPlaying, fabricSub, currentTime, handleCurrentSub, currentSub]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleCurrentWord(currentTime, currentWordIndex);\r\n  }, [currentTime, handleCurrentWord, currentWordIndex]);\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== null) handleVideoCuts(currentTime);\r\n  }, [currentTime, handleVideoCuts]);\r\n};\r\n\r\nexport default usePlayerTime;\r\n","class Node {\r\n  constructor(val) {\r\n    this.val = val;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nexport class LinkedList {\r\n  constructor() {\r\n    this.head = null;\r\n    this.tail = null;\r\n    this.length = 0;\r\n  }\r\n\r\n  push(val) {\r\n    let newNode = new Node(val);\r\n    if (!this.head) {\r\n      this.head = newNode;\r\n      this.tail = newNode;\r\n    } else {\r\n      this.tail.next = newNode;\r\n      this.tail = newNode;\r\n    }\r\n    this.length++;\r\n    return this.length;\r\n  }\r\n\r\n  pop() {\r\n    if (!this.head) return null;\r\n    let current = this.head;\r\n    let newTail = current;\r\n    while (current.next) {\r\n      newTail = current;\r\n      current = current.next;\r\n    }\r\n    if (this.length === 1) {\r\n      this.head = null;\r\n      this.tail = null;\r\n    } else {\r\n      this.tail = newTail;\r\n      this.tail.next = null;\r\n    }\r\n    this.length--;\r\n\r\n    return current;\r\n  }\r\n\r\n  shift() {\r\n    if (!this.head) return null;\r\n    let temp = this.head;\r\n    this.head = this.head.next;\r\n    temp.next = null;\r\n    this.length--;\r\n    if (this.length === 0) this.tail = null;\r\n    return temp;\r\n  }\r\n\r\n  unshift(val) {\r\n    let newNode = new Node(val);\r\n    if (!this.head) this.tail = newNode;\r\n    else newNode.next = this.head;\r\n    this.head = newNode;\r\n    this.length++;\r\n    return this;\r\n  }\r\n\r\n  get(idx) {\r\n    if (idx < 0 || idx >= this.length) return null;\r\n    let current = this.head;\r\n    for (let i = 0; i <= idx; i++) {\r\n      if (i === idx) return current;\r\n      current = current.next;\r\n    }\r\n  }\r\n\r\n  set(idx, val) {\r\n    let temp = this.get(idx);\r\n    if (temp) {\r\n      temp.val = val;\r\n      return true;\r\n    } else return false;\r\n  }\r\n\r\n  insert(idx, val) {\r\n    if (idx < 0 || idx > this.length) return false;\r\n    if (idx === 0) return !!this.unshift(val);\r\n    if (idx === this.length) return !!this.push(val);\r\n    let newNode = new Node(val);\r\n    let current = this.get(idx - 1);\r\n    newNode.next = current.next;\r\n    current.next = newNode;\r\n    this.length++;\r\n    return true;\r\n  }\r\n\r\n  remove(idx) {\r\n    if (idx < 0 || idx >= this.length) return false;\r\n    if (idx === 0) return !!this.shift();\r\n    if (idx === this.length - 1) return !!this.pop();\r\n    let current = this.get(idx - 1);\r\n    current.next = current.next.next;\r\n    this.length--;\r\n    return true;\r\n  }\r\n\r\n  reverse(pre = null, current = this.head) {\r\n    if (this.length <= 1) return this;\r\n    let nextNode = current.next;\r\n    if (!pre) {\r\n      this.tail = this.head ;\r\n      this.tail.next = null;\r\n    }\r\n    current.next = pre;\r\n    pre = current;\r\n    if (nextNode.next === null) {\r\n      this.head = nextNode;\r\n      this.head.next = pre;\r\n      return this;\r\n    }\r\n    return this.reverse(pre, nextNode);\r\n  }\r\n}\r\n","import { useEffect } from 'react';\r\nimport { generateSubtitles } from '../utils/generateSubtitles';\r\nimport { newSubtitle, displaySub } from '../utils/subtitle.js';\r\nimport { findSubWithWordIndex } from '../../../utils/findIndex';\r\n\r\nconst useSubtitles = (\r\n  state,\r\n  canvas,\r\n  fabricSub,\r\n  setFabricSub,\r\n  words,\r\n  subList,\r\n  setSubList,\r\n  currentSub,\r\n  setCurrentSub,\r\n  currentWordIndex,\r\n  videoCuts,\r\n  shouldRerenderSub,\r\n  setShouldRerenderSub,\r\n  isPlaying,\r\n  videoRef\r\n) => {\r\n  useEffect(() => {\r\n    if (fabricSub && currentSub) {\r\n      if (shouldRerenderSub) setShouldRerenderSub(false);\r\n      displaySub(fabricSub, currentSub);\r\n    }\r\n  }, [fabricSub, currentSub, shouldRerenderSub, setShouldRerenderSub, subList]);\r\n\r\n  useEffect(() => {\r\n    if (subList && !isPlaying) {\r\n      let sub = findSubWithWordIndex(currentWordIndex, words, subList);\r\n      if (sub !== null) setCurrentSub(sub);\r\n    }\r\n  }, [subList, setCurrentSub, words, currentWordIndex, isPlaying]);\r\n\r\n  useEffect(() => {\r\n    if (fabricSub && videoCuts) {\r\n      generateSubtitles(words, setSubList);\r\n    }\r\n  }, [fabricSub, videoCuts, setSubList, words]);\r\n\r\n  useEffect(() => {\r\n    if (canvas && !fabricSub && state.isSubtitles) {\r\n      if (isPlaying) videoRef.current.pause();\r\n      let sub = newSubtitle(canvas, state);\r\n      canvas.add(sub);\r\n      canvas.requestRenderAll();\r\n      setFabricSub(sub);\r\n    } else if (fabricSub && !state.isSubtitles) {\r\n      canvas.remove(fabricSub);\r\n      setFabricSub(null);\r\n    }\r\n  }, [\r\n    videoRef,\r\n    isPlaying,\r\n    state.isSubtitles,\r\n    fabricSub,\r\n    setFabricSub,\r\n    canvas,\r\n    state,\r\n    subList,\r\n    words,\r\n    setSubList,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (canvas && fabricSub) {\r\n      canvas.on('object:added', (e) => {\r\n        canvas.bringToFront(fabricSub);\r\n      });\r\n    }\r\n    return () => {\r\n      if (canvas) canvas.off('object:added');\r\n    };\r\n  }, [canvas, fabricSub]);\r\n};\r\n\r\nexport default useSubtitles;\r\n","import { fabric } from 'fabric';\r\n\r\nexport const newSubtitle = (canvas, state) => {\r\n  let zoom = canvas.getZoom();\r\n  let canvasWidth = canvas.getWidth() / zoom;\r\n  let canvasHeight = canvas.getHeight() / zoom;\r\n  let width = 550 < canvasWidth / 2 ? 550 : canvasWidth / 2;\r\n  let subtitle = new fabric.SubtitleWithResize(' ', {\r\n    width,\r\n    paddingX: 20,\r\n    paddingY: 20,\r\n    breakWords: true,\r\n    // bgCornerRadius: 5,\r\n    editable: false,\r\n    originX: 'center',\r\n    originY: 'center',\r\n    textAlign: 'center',\r\n    ...state.subtitlesState,\r\n    id: 'subtitle',\r\n    excludeFromExport: true,\r\n    prevTop: null,\r\n    prevLeft: null,\r\n    visible: false,\r\n  });\r\n  subtitle.left = canvasWidth / 2;\r\n  subtitle.top = canvasHeight - subtitle.height - subtitle.paddingY;\r\n  return subtitle;\r\n};\r\n\r\nexport const displaySub = (fabricSub, currentSub) => {\r\n  if (currentSub.val.silence) fabricSub.visible = false;\r\n  else if (currentSub.val.active) {\r\n    let text = '';\r\n    for (let i = 0; i < currentSub.val.words.length; i++) {\r\n      let word = currentSub.val.words[i];\r\n      text += word.text;\r\n    }\r\n    fabricSub.set({ text, visible: true });\r\n  }\r\n};","import { LinkedList } from './linkedList';\r\n\r\nexport const generateSubtitles = (words, setSubs) => {\r\n  let list = new LinkedList();\r\n  let sub = null;\r\n  let firstDeletedIndex = null;\r\n\r\n  const checkForPrevDeleted = (word, which, i) => {\r\n    if (firstDeletedIndex) {\r\n      list.get(firstDeletedIndex).nextSub = list.tail;\r\n      // console.log(i);\r\n      // console.log(\r\n      //   list[firstDeletedIndex],\r\n      //   list[firstDeletedIndex].nextSub,\r\n      //   'setting nextSub Sub',\r\n      //   word,\r\n      //   list.length - 1,\r\n      //   which\r\n      // );\r\n      firstDeletedIndex = null;\r\n    }\r\n  };\r\n\r\n  for (let i = 0; i < words.length; i++) {\r\n    let word = words[i];\r\n    let nextWord = words[i + 1];\r\n    if (!word.active) {\r\n      if (sub) {\r\n        list.push({ ...sub });\r\n        checkForPrevDeleted(word, 'not active and is Sub', i);\r\n        sub = null;\r\n        list.push({ ...word });\r\n        firstDeletedIndex = list.length - 1;\r\n        // console.log('setting reference for nextSub', word, list.length - 1);\r\n      } else {\r\n        list.push({ ...word });\r\n        if (!firstDeletedIndex) {\r\n          firstDeletedIndex = list.length - 1;\r\n          // console.log('setting reference for nextSub', word, list.length - 1);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    let isLast = i === words.length - 1;\r\n    let wordTimeLength = +word.end - +word.start;\r\n    let isLongSilence =\r\n      !!word.silence &&\r\n      ((!sub && nextWord && !nextWord.active) || wordTimeLength >= 0.4);\r\n    if (isLongSilence) {\r\n      if (sub) {\r\n        list.push({ ...sub });\r\n        checkForPrevDeleted(word, 'isSub and isLongSilence', i);\r\n        sub = null;\r\n        // console.log('isSub and isLongSilence', i, word.text);\r\n      }\r\n      // console.log(' isLongSilence', i, word.text);\r\n      list.push({ ...word });\r\n      checkForPrevDeleted(word, 'isLongSilence', i);\r\n      continue;\r\n    } else if (word.silence) {\r\n      if (sub) {\r\n        sub.end += word.end;\r\n        sub.words.push({\r\n          ...word,\r\n          text: '',\r\n        });\r\n        if (isLast) {\r\n          list.push(sub);\r\n          checkForPrevDeleted(word, 'isSub and isLongSilence', i);\r\n        }\r\n        // console.log('isSub and silence', i, word.text);\r\n      } else {\r\n        sub = {\r\n          words: [{ ...word, text: '' }],\r\n          start: word.start,\r\n          end: word.end,\r\n          strLength: 0,\r\n          active: true,\r\n        };\r\n        if (isLast) {\r\n          list.push({ ...word });\r\n          checkForPrevDeleted(word, 'silence', i);\r\n        }\r\n        // console.log('silence', i, word.text);\r\n      }\r\n      continue;\r\n    }\r\n\r\n    let containsMark = !!word.text.match(/[.,:!?]$/);\r\n\r\n    let isRoomForWord =\r\n      sub !== null && sub.strLength + word.text.length + 1 < 48;\r\n    // if (sub) console.log(sub.words, sub.strLength, word.text, isRoomForWord);\r\n\r\n    if (isRoomForWord && containsMark && sub) {\r\n      let text = '';\r\n      if (sub.strLength > 0) text = ' ';\r\n      text += word.text;\r\n      sub.words.push({ ...word, text });\r\n      sub.end = word.end;\r\n      sub.strLength += text.length;\r\n      list.push({ ...sub });\r\n      checkForPrevDeleted(word, 'isRoomForWord && containsMark && sub', i);\r\n      sub = null;\r\n      // console.log('isRoomForWord && containsMark && sub', i, word.text);\r\n    } else if (containsMark && sub) {\r\n      list.push({ ...sub });\r\n      checkForPrevDeleted(word, 'containsMark && sub', i);\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      list.push({ ...sub });\r\n      sub = null;\r\n      // console.log('containsMark && sub', i, word.text);\r\n    } else if (containsMark) {\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      list.push({ ...sub });\r\n      checkForPrevDeleted(word, 'containsMark && sub', i);\r\n      sub = null;\r\n      // console.log('containsMark && sub', i, word.text);\r\n    } else if (isRoomForWord) {\r\n      let text = '';\r\n      if (sub.strLength > 0) text = ' ';\r\n      text += word.text;\r\n      sub.words.push({ ...word, text });\r\n      sub.end = word.end;\r\n      sub.strLength += text.length;\r\n      if (isLast) {\r\n        list.push(sub);\r\n        checkForPrevDeleted(word, 'isRoomForWord', i);\r\n      }\r\n      // console.log('isRoomForWord', i, word.text);\r\n    } else if (sub) {\r\n      list.push({ ...sub });\r\n      checkForPrevDeleted(word, 'sub', i);\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      if (isLast) list.push(sub);\r\n      // console.log('sub', i, word.text);\r\n    } else {\r\n      sub = {\r\n        words: [{ ...word }],\r\n        start: word.start,\r\n        end: word.end,\r\n        strLength: word.text.length,\r\n        active: true,\r\n      };\r\n      if (isLast) {\r\n        list.push(sub);\r\n        checkForPrevDeleted(word, 'end', i);\r\n      }\r\n      // console.log('elsee', i, word.text);\r\n    }\r\n  }\r\n  // console.log(list);\r\n  setSubs(list);\r\n};\r\n","import React, { useRef, useContext } from 'react';\r\nimport styles from './Player.module.css';\r\nimport PlayerCanvas from '../Canvas/PlayerCanvas/PlayerCanvas';\r\nimport EventContext from '../../contexts/EventContext';\r\nimport useEventState from '../../hooks/useEventsState';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport CanvasToolbar from '../CanvasToolbar/CanvasToolbar';\r\nimport playSvg from '../../assets/editor/play.svg';\r\nimport pauseSvg from '../../assets/editor/pause.svg';\r\nimport useContainerSize from './hooks/useContainerSize';\r\nimport usePlayerTime from './hooks/usePlayerTime';\r\nimport useSubtitles from './hooks/useSubtitles';\r\n\r\nconst Player = ({\r\n  videoRef,\r\n  canvas,\r\n  setCanvas,\r\n  isPlaying,\r\n  words,\r\n  currentTime,\r\n  videoCuts,\r\n  setNextCutIndex,\r\n  setCurrentWordIndex,\r\n  nextCutIndex,\r\n  currentWordIndex,\r\n  subList,\r\n  setSubList,\r\n  fabricSub,\r\n  setFabricSub,\r\n  currentSub,\r\n  setCurrentSub,\r\n  shouldRerenderSub,\r\n  setShouldRerenderSub,\r\n  speakers,\r\n  info,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [eventState, eventDispatch] = useEventState();\r\n  const containerRef = useRef(null);\r\n  const playClickHandler = () => {\r\n    if (isPlaying) videoRef.current.pause();\r\n    else videoRef.current.play();\r\n  };\r\n  useContainerSize(editorState.canvasState, editorDispatch, containerRef);\r\n\r\n  usePlayerTime(\r\n    videoRef,\r\n    videoCuts,\r\n    words,\r\n    isPlaying,\r\n    currentTime,\r\n    nextCutIndex,\r\n    setNextCutIndex,\r\n    currentWordIndex,\r\n    setCurrentWordIndex,\r\n    currentSub,\r\n    setCurrentSub,\r\n    fabricSub\r\n  );\r\n\r\n  useSubtitles(\r\n    editorState,\r\n    canvas,\r\n    fabricSub,\r\n    setFabricSub,\r\n    words,\r\n    subList,\r\n    setSubList,\r\n    currentSub,\r\n    setCurrentSub,\r\n    currentWordIndex,\r\n    videoCuts,\r\n    shouldRerenderSub,\r\n    setShouldRerenderSub,\r\n    isPlaying,\r\n    videoRef\r\n  );\r\n\r\n  return (\r\n    <div className={styles.Player} ref={containerRef}>\r\n      <EventContext.Provider value={{ eventState, eventDispatch }}>\r\n        <div className={styles.PlayerContent}>\r\n          <PlayerCanvas\r\n            canvas={canvas}\r\n            setCanvas={setCanvas}\r\n            video={videoRef.current}\r\n            fabricSub={fabricSub}\r\n            currentTime={currentTime}\r\n            speakers={speakers}\r\n            info={info}\r\n          />\r\n          {canvas ? (\r\n            <>\r\n              <div className={styles.PlayerControls}>\r\n                <div className={styles.PlayButton} onClick={playClickHandler}>\r\n                  {isPlaying ? (\r\n                    <img src={pauseSvg} alt='pause' />\r\n                  ) : (\r\n                    <img src={playSvg} alt='play' />\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <CanvasToolbar />\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </EventContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport styles from './Video.module.css';\r\nimport { handlePlay, handleEnd, handlePause } from './utils/videoEvents';\r\nimport EditorContext from '../../contexts/EditorContext';\r\n\r\nconst Video = ({\r\n  videoRef,\r\n  setIsPlaying,\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setCurrentTime,\r\n  videoCuts,\r\n  words,\r\n  setNextCutIndex,\r\n  setCurrentWordIndex,\r\n  setCurrentSub,\r\n  subList,\r\n  info,\r\n}) => {\r\n  const { editorDispatch } = useContext(EditorContext);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (intervalId) clearInterval(intervalId);\r\n    };\r\n  }, [intervalId]);\r\n\r\n  const getVideoSize = () => {\r\n    let initialWidth = videoRef.current.videoWidth;\r\n    let initialHeight = videoRef.current.videoHeight;\r\n    editorDispatch({\r\n      type: 'setCanvasInitialSize',\r\n      data: { initialWidth, initialHeight },\r\n    });\r\n    let data = {};\r\n    if (info.canvas && info.canvas.width) {\r\n      data = {\r\n        width: +info.canvas.width,\r\n        height: +info.canvas.height,\r\n        resize: info.canvas.resize,\r\n      };\r\n    } else {\r\n      data = {\r\n        width: initialWidth,\r\n        height: initialHeight,\r\n        resize: 'original',\r\n      };\r\n    }\r\n    editorDispatch({ type: 'setVideoSize', data });\r\n  };\r\n\r\n  return (\r\n    <video\r\n      src={info ? info.url : null}\r\n      id='video'\r\n      preload='auto'\r\n      className={styles.Video}\r\n      ref={videoRef}\r\n      controls\r\n      onPause={() => handlePause(setIsPlaying, intervalId)}\r\n      onPlay={() =>\r\n        handlePlay(\r\n          currentSelection,\r\n          setCurrentSelection,\r\n          setIsPlaying,\r\n          setCurrentTime,\r\n          videoRef,\r\n          setIntervalId\r\n        )\r\n      }\r\n      onEnded={() =>\r\n        handleEnd(\r\n          videoCuts,\r\n          setNextCutIndex,\r\n          words,\r\n          setCurrentWordIndex,\r\n          setCurrentTime,\r\n          setCurrentSub,\r\n          subList\r\n        )\r\n      }\r\n      onLoadedMetadata={getVideoSize}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import { findSubWithWordIndex } from '../../../utils/findIndex';\r\n\r\nexport const handlePlay = (\r\n  currentSelection,\r\n  setCurrentSelection,\r\n  setIsPlaying,\r\n  setCurrentTime,\r\n  videoRef,\r\n  setIntervalId\r\n) => {\r\n  let selection = document.getSelection();\r\n  selection.removeAllRanges();\r\n  if (currentSelection) setCurrentSelection(null);\r\n  setIsPlaying(true);\r\n  let interval = setInterval(() => {\r\n    // console.log('interval: ', videoRef.current.currentTime);\r\n    if (videoRef.current) setCurrentTime(videoRef.current.currentTime);\r\n  }, 10);\r\n  setIntervalId(interval);\r\n};\r\n\r\nexport const handlePause = (setIsPlaying, intervalId) => {\r\n  setIsPlaying(false);\r\n  clearInterval(intervalId);\r\n};\r\n\r\nexport const handleEnd = (\r\n  videoCuts,\r\n  setNextCutIndex,\r\n  words,\r\n  setCurrentWordIndex,\r\n  setCurrentTime,\r\n  setCurrentSub,\r\n  subList\r\n) => {\r\n  if (videoCuts.length > 0) setNextCutIndex(0);\r\n  let word = words[0];\r\n  let wordIndex = 0;\r\n  let start = word.start;\r\n  if (!word.active && word.next !== null) {\r\n    wordIndex = word.next;\r\n    start = words[wordIndex].start;\r\n  }\r\n  setCurrentWordIndex(wordIndex);\r\n  let sub = findSubWithWordIndex(wordIndex, words, subList);\r\n  // console.log(sub);\r\n  setCurrentSub(sub);\r\n  setCurrentTime(+start);\r\n  // console.log('start time: ', start);\r\n  // console.log('start index: ', index);\r\n  // console.log(words);\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\n// const toBase64 = (file) =>\r\n//   new Promise((resolve, reject) => {\r\n//     const reader = new FileReader();\r\n//     reader.readAsDataURL(file);\r\n//     reader.onload = () => resolve(reader.result);\r\n//     reader.onerror = (error) => reject(error);\r\n//   });\r\n\r\nconst getVideoInfo = (video, i) => ({\r\n  position: {\r\n    x: video.left,\r\n    y: video.top,\r\n    w: video.width * video.scaleX,\r\n    h: video.height * video.scaleY,\r\n    z: i,\r\n    crop: video.cropRect,\r\n  },\r\n});\r\n\r\nconst generateLayer = (exportCanvas, width, height, arr, z) => {\r\n  exportCanvas.renderAll();\r\n  let image = exportCanvas.toDataURL({\r\n    format: 'image/jpg',\r\n    quality: 1,\r\n  });\r\n  arr.push({\r\n    image,\r\n    position: {\r\n      x: 0,\r\n      y: 0,\r\n      w: width,\r\n      h: height,\r\n      z,\r\n    },\r\n  });\r\n  exportCanvas.clear();\r\n  exportCanvas.backgroundColor = 'rgba(255, 255, 255, 0)';\r\n};\r\n\r\nconst handleLayers = (exportCanvas, canvas, setElements, setVideoInfo) => {\r\n  let objects = canvas.getObjects();\r\n  let width = canvas.getWidth() / canvas.getZoom();\r\n  let height = canvas.getHeight() / canvas.getZoom();\r\n  let videosArr = [];\r\n  let elementsArr = [];\r\n  let isAdded = true;\r\n  let index = 1;\r\n  generateLayer(exportCanvas, width, height, elementsArr, 0);\r\n  for (let i = 0; i < objects.length; i++) {\r\n    let el = objects[i];\r\n    if (el.type === 'subtitle' && isAdded) {\r\n      generateLayer(exportCanvas, width, height, elementsArr, index);\r\n      isAdded = false;\r\n    } else if (el.type === 'subtitle') continue;\r\n    else if (el.type === 'video') {\r\n      if (isAdded) {\r\n        generateLayer(exportCanvas, width, height, elementsArr, index);\r\n        index++;\r\n        isAdded = false;\r\n      }\r\n      videosArr.push(getVideoInfo(el, index));\r\n      index++;\r\n    } else if (el.type !== 'video' && el.type !== 'subtitle') {\r\n      let clone = fabric.util.object.clone(el);\r\n      exportCanvas.add(clone);\r\n      isAdded = true;\r\n    }\r\n  }\r\n  if (isAdded) generateLayer(exportCanvas, width, height, elementsArr, index);\r\n  setVideoInfo({ coordinates: videosArr });\r\n  setElements(elementsArr);\r\n};\r\n\r\nexport const prepareCanvas = async (canvas, setElements, setVideoInfo) => {\r\n  let exportCanvas = new fabric.Canvas();\r\n  exportCanvas.setDimensions({\r\n    width: canvas.getWidth() / canvas.getZoom(),\r\n    height: canvas.getHeight() / canvas.getZoom(),\r\n  });\r\n  exportCanvas.backgroundColor = canvas.backgroundColor;\r\n  handleLayers(exportCanvas, canvas, setElements, setVideoInfo);\r\n};\r\n","const randomUUID = () =>\r\n  Math.random().toString(36).substring(2, 15) +\r\n  Math.random().toString(36).substring(2, 15);\r\n\r\nexport default randomUUID;\r\n","const rgbaTohex = (color) => {\r\n  let rgb = color\r\n      .replace(/\\s/g, '')\r\n      .match(/^rgba?\\((\\d+),(\\d+),(\\d+),?([^,\\s)]+)?/i),\r\n    alpha = ((rgb && rgb[4]) || '').trim(),\r\n    hex = rgb\r\n      ? (rgb[1] | (1 << 8)).toString(16).slice(1) +\r\n        (rgb[2] | (1 << 8)).toString(16).slice(1) +\r\n        (rgb[3] | (1 << 8)).toString(16).slice(1)\r\n      : color;\r\n\r\n  let a = alpha !== '' ? alpha : '01';\r\n\r\n  a = ((+a * 255) | (1 << 8)).toString(16).slice(1);\r\n  hex = hex + a;\r\n  return hex;\r\n};\r\n\r\nexport default rgbaTohex;\r\n","import generateUUID from '../../../utils/generateRandomUUID';\r\nimport rgbaToHex from './rgbaToHex';\r\n\r\nexport const prepareBreaks = (cuts, endTime, setBreaks) => {\r\n  let videoBreaks = [];\r\n  let prev = null;\r\n  for (let i = 0; i < cuts.length; i++) {\r\n    let el = cuts[i];\r\n    if (i === 0 && el.start !== 0) {\r\n      videoBreaks.push({ start: 0, end: el.start });\r\n    } else if (el.start !== 0) {\r\n      videoBreaks.push({ start: prev, end: el.start });\r\n    }\r\n    prev = el.end;\r\n\r\n    if (i === cuts.length - 1 && el.end !== endTime) {\r\n      videoBreaks.push({ start: el.end, end: endTime });\r\n    }\r\n  }\r\n  setBreaks(videoBreaks);\r\n};\r\n\r\n\r\nconst getSubConfig = (object, subState) => {\r\n  let zoom = object.canvas.getZoom();\r\n  let width = object.canvas.getWidth() / zoom;\r\n  let height = object.canvas.getHeight() / zoom;\r\n  let x = (object.left * 100) / width;\r\n  let y = (object.top * 100) / height;\r\n  return {\r\n    x,\r\n    y,\r\n    width,\r\n    height,\r\n    objectWidth: object.width,\r\n    objectHeight: object.height,\r\n    xCoordinate: object.left,\r\n    yCoordinate: object.top,\r\n    top: object.lineCoords.tl.y,\r\n    left: object.lineCoords.tl.x,\r\n    fontSize: subState.fontSize,\r\n    fontColor: rgbaToHex(subState.fill),\r\n    fontFamily: subState.fontFamily,\r\n    backgroundColor: rgbaToHex(subState.backgroundColor),\r\n    textAlign: 'center',\r\n    padding: object.paddingY !== 0 ? object.paddingY / 2 : 0,\r\n    fontWeight: subState.fontWeight,\r\n    fontStyle: subState.fontStyle,\r\n  };\r\n}\r\n\r\nexport const prepareSubs = (subList, object, subState, setSubs) => {\r\n  let config = getSubConfig(object, subState);\r\n  console.log(config);\r\n  // let prev = null;\r\n  let deleteStart = 0;\r\n  let deleteEnd = 0;\r\n  let isLastDeleted = false;\r\n  let captions = [];\r\n\r\n  let subNode = subList.head;\r\n  for (let i = 0; i < subList.length; i++) {\r\n    let sub = subNode.val;\r\n    if (sub.active && isLastDeleted) {\r\n      let _id = generateUUID();\r\n      isLastDeleted = false;\r\n      captions.push({\r\n        start: deleteStart,\r\n        end: deleteEnd,\r\n        active: false,\r\n        silence: true,\r\n        _id,\r\n      });\r\n    } else if (!sub.active && !isLastDeleted) {\r\n      isLastDeleted = true;\r\n      deleteStart = sub.start;\r\n      deleteEnd = sub.end;\r\n    } else if (!sub.active && isLastDeleted) {\r\n      deleteEnd = sub.end;\r\n    }\r\n\r\n    if (sub.silence && sub.active) {\r\n      let _id = generateUUID();\r\n      captions.push({\r\n        start: sub.start,\r\n        end: sub.end,\r\n        silence: true,\r\n        _id,\r\n        active: true,\r\n      });\r\n    } else if (sub.active) {\r\n      let _id = generateUUID();\r\n      let text = '';\r\n      for (let i = 0; i < sub.words.length; i++) {\r\n        let word = sub.words[i];\r\n        text += word.text;\r\n      }\r\n      captions.push({\r\n        start: sub.start,\r\n        end: sub.end,\r\n        text,\r\n        silence: false,\r\n        active: true,\r\n        _id,\r\n      });\r\n    }\r\n    subNode = subNode.next;\r\n  }\r\n\r\n  if (isLastDeleted) {\r\n    let _id = generateUUID();\r\n    captions.push({\r\n      start: deleteStart,\r\n      end: deleteEnd,\r\n      active: false,\r\n      silence: true,\r\n      _id,\r\n    });\r\n  }\r\n  let subtitles = { captions, config };\r\n  console.log(subtitles);\r\n  setSubs(subtitles);\r\n};\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useDownloadVideo = () => {\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const [downloadedVideo, setDownloadedVideo] = useState(false);\r\n  const isMounted = useRef(false);\r\n\r\n  const onUploadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    console.log(`%cuploading ${currentProgress}%`, 'color: #3153fb');\r\n  };\r\n\r\n  const onDownloadProgress = (e) => {\r\n    const currentProgress = Math.round((e.loaded * 100) / e.total);\r\n    console.log(`%cdownloading ${currentProgress}%`, 'color: #0cc700');\r\n  };\r\n\r\n  const axiosDownloadVideo = useCallback((data) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/download-video', data, {\r\n          onUploadProgress,\r\n          onDownloadProgress,\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const downloadVideo = useCallback(\r\n    async (data) => {\r\n      setIsDownloading(true);\r\n      try {\r\n        const res = await axiosDownloadVideo(data);\r\n        console.log(res);\r\n        if (isMounted.current) setDownloadedVideo(res.data.url);\r\n      } catch (err) {\r\n        console.log('Error Downloading Video', err);\r\n      } finally {\r\n        if (isMounted.current) setIsDownloading(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosDownloadVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isDownloading, downloadVideo, downloadedVideo, setDownloadedVideo };\r\n};\r\n\r\nexport default useDownloadVideo;\r\n","import { useCallback, useState, useEffect, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUploadAsset = () => {\r\n  const [isUploadingAsset, setIsUploadingAsset] = useState(false);\r\n  const [uploadResponse, setUploadResponse] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosUploadAsset = useCallback((formData) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/images', formData)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const uploadAsset = useCallback(\r\n    async (formData) => {\r\n      setUploadResponse(null);\r\n      setIsUploadingAsset(true);\r\n      try {\r\n        const res = await axiosUploadAsset(formData);\r\n        if (isMounted.current) setUploadResponse(res.data);\r\n        console.log(res);\r\n      } catch (uploadError) {\r\n        console.log('Error Uploading Asset', uploadError);\r\n        if (isMounted.current) setUploadResponse('error');\r\n      } finally {\r\n        if (isMounted.current) setIsUploadingAsset(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosUploadAsset]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isUploadingAsset, uploadAsset, uploadResponse };\r\n};\r\n\r\nexport default useUploadAsset;\r\n","import React from 'react';\r\nimport './Spinner.css';\r\n\r\nconst spinner = ({style}) => {\r\n  return (\r\n    <div className='sk-circle' style={style}>\r\n      <div className='sk-circle1 sk-child'></div>\r\n      <div className='sk-circle2 sk-child'></div>\r\n      <div className='sk-circle3 sk-child'></div>\r\n      <div className='sk-circle4 sk-child'></div>\r\n      <div className='sk-circle5 sk-child'></div>\r\n      <div className='sk-circle6 sk-child'></div>\r\n      <div className='sk-circle7 sk-child'></div>\r\n      <div className='sk-circle8 sk-child'></div>\r\n      <div className='sk-circle9 sk-child'></div>\r\n      <div className='sk-circle10 sk-child'></div>\r\n      <div className='sk-circle11 sk-child'></div>\r\n      <div className='sk-circle12 sk-child'></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default spinner;\r\n","import React, { useContext, useRef, useEffect } from 'react';\r\nimport styles from './ImageDropdown.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport useUploadAsset from '../../../hooks/useUploadAsset';\r\nimport Spinner from '../../../components/Spinner2/Spinner';\r\n\r\nconst ImageDropdown = ({ assets, setAssets, setShouldFetch, isFirstMount }) => {\r\n  const { editorDispatch } = useContext(EditorContext);\r\n  const { isUploadingAsset, uploadAsset, uploadResponse } = useUploadAsset();\r\n  const fileInput = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isFirstMount.current) {\r\n      isFirstMount.current = false;\r\n      setShouldFetch(true);\r\n    }\r\n  }, [setShouldFetch, isFirstMount]);\r\n\r\n  useEffect(() => {\r\n    if (uploadResponse && uploadResponse !== 'error') {\r\n      setAssets((prevState) => [...prevState, uploadResponse.image]);\r\n    }\r\n  }, [uploadResponse, setAssets]);\r\n\r\n  const clickHandler = (e) => {\r\n    let imageType = 'customImage';\r\n    let src = e.currentTarget.src;\r\n    let splitSrc = src.split('.');\r\n    if (splitSrc[splitSrc.length - 1] === 'svg') imageType = 'svg';\r\n    editorDispatch({ type: 'setImageToAdd', data: { type: imageType, src } });\r\n  };\r\n\r\n  const inputChangeHandler = () => {\r\n    if (fileInput.current.files[0]) {\r\n      let file = fileInput.current.files[0];\r\n      let formData = new FormData();\r\n      formData.append('image', file);\r\n      uploadAsset(formData);\r\n    }\r\n  };\r\n\r\n  const uploadClickHandler = () => {\r\n    fileInput.current.click();\r\n  };\r\n\r\n  const oddArr = assets ? assets.filter((_, i) => (i + 1) % 2 !== 0) : null;\r\n  const evenArr = assets ? assets.filter((_, i) => (i + 1) % 2 === 0) : null;\r\n\r\n  let assetsContent = assets ? (\r\n    <div className={styles.Images}>\r\n      <div className={styles.Column}>\r\n        {oddArr.map((el, i) => {\r\n          return (\r\n            <div key={el._id} className={styles.ImageContainer}>\r\n              <img\r\n                className={styles.Image}\r\n                src={el.image_url}\r\n                alt='asset'\r\n                onClick={clickHandler}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div className={styles.Column}>\r\n        {evenArr.map((el, i) => {\r\n          return (\r\n            <div key={el._id} className={styles.ImageContainer}>\r\n              <img\r\n                className={styles.Image}\r\n                src={el.image_url}\r\n                alt='asset'\r\n                onClick={clickHandler}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <div className={styles.UplaodButtonContainer}>\r\n        <button onClick={uploadClickHandler} className={styles.UploadButton}>\r\n          Upload image\r\n        </button>\r\n        <input\r\n          accept='image/png, image/gif, image/jpeg, image/svg+xml'\r\n          className={styles.FileInput}\r\n          ref={fileInput}\r\n          type='file'\r\n          onChange={inputChangeHandler}\r\n        />\r\n        {isUploadingAsset ? (\r\n          <Spinner\r\n            style={{\r\n              width: '25px',\r\n              height: '25px',\r\n              margin: '25px auto',\r\n              position: 'absolute',\r\n              right: '20px',\r\n            }}\r\n          />\r\n        ) : null}\r\n      </div>\r\n      {!assets ? (\r\n        <Spinner style={{ width: '50px', height: '50px' }} />\r\n      ) : (\r\n        assetsContent\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageDropdown;\r\n","export default __webpack_public_path__ + \"static/media/square.1a317c4f.svg\";","export default __webpack_public_path__ + \"static/media/circle.0bedfa10.svg\";","export default __webpack_public_path__ + \"static/media/triangle.84433629.svg\";","export default __webpack_public_path__ + \"static/media/line.60fd0829.svg\";","import React, { useContext } from 'react';\r\nimport styles from './ShapeDropdown.module.css';\r\nimport square from '../../../assets/editor/square.svg';\r\nimport circle from '../../../assets/editor/circle.svg';\r\nimport triangle from '../../../assets/editor/triangle.svg';\r\nimport line from '../../../assets/editor/line.svg';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\n\r\nconst ShapeDropdown = () => {\r\n  const { editorDispatch } = useContext(EditorContext);\r\n  const clickHandler = (e) => {\r\n    if (e.target.tagName === 'IMG') {\r\n      editorDispatch({ type: 'setShapeToAdd', data: e.target.id });\r\n    } else if (e.target.classList.contains(styles.ShapeContainer)) {\r\n      editorDispatch({ type: 'setShapeToAdd', data: e.target.childNodes[0].id });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown} onClick={clickHandler}>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={square} alt='square' id='square' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={circle} alt='circle' id='circle' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img\r\n          className={styles.Shape}\r\n          src={triangle}\r\n          alt='triangle'\r\n          id='triangle'\r\n        />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={line} alt='line' id='line' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdown;\r\n","var _g, _defs;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubtitlesOff(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.6488 2.35025C10.515 -0.783537 5.48507 -0.784599 2.35025 2.35025C-0.783537 5.48401 -0.784599 10.514 2.35025 13.6488C5.48401 16.7826 10.514 16.7836 13.6488 13.6488C16.7826 10.515 16.7836 5.48507 13.6488 2.35025ZM7.99951 15.0606C4.106 15.0606 0.938405 11.893 0.938405 7.99951C0.938405 4.106 4.106 0.938405 7.99951 0.938405C11.893 0.938405 15.0606 4.106 15.0606 7.99951C15.0606 11.893 11.893 15.0606 7.99951 15.0606Z\",\n    fill: \"current\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.3012 5.40529C10.1075 5.23348 9.81135 5.25114 9.63954 5.44475C9.46773 5.63834 9.48538 5.93456 9.679 6.10637C10.2203 6.58675 10.5307 7.27692 10.5307 7.99997C10.5307 9.39544 9.39543 10.5307 7.99996 10.5307C6.60448 10.5307 5.46921 9.39544 5.46921 7.99997C5.46921 7.26977 5.7848 6.57506 6.33504 6.09394C6.52987 5.92357 6.54974 5.6275 6.37934 5.43263C6.20897 5.23776 5.9129 5.21796 5.71803 5.38833C4.96421 6.04745 4.53186 6.99935 4.53186 7.99997C4.53186 9.91228 6.08762 11.468 7.99993 11.468C9.91224 11.468 11.468 9.91228 11.468 7.99997C11.468 7.0091 11.0427 6.06341 10.3012 5.40529Z\",\n    fill: \"current\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.00003 7.21905C8.25885 7.21905 8.46868 7.00921 8.46868 6.75039V4.25088C8.46868 3.99206 8.25885 3.78223 8.00003 3.78223C7.7412 3.78223 7.53137 3.99206 7.53137 4.25088V6.75039C7.53137 7.00925 7.7412 7.21905 8.00003 7.21905Z\",\n    fill: \"current\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubtitlesOff);\nexport default __webpack_public_path__ + \"static/media/subtitlesOff.66e0babc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\r\nimport styles from './SubtitlesDropdown.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport { ReactComponent as SubtitlesOn } from '../../../assets/editor/subtitlesOn.svg';\r\nimport { ReactComponent as SubtitlesOff } from '../../../assets/editor/subtitlesOff.svg';\r\n\r\nconst SubtitlesDropdown = () => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const clickHandler = (e) => {\r\n    let data = true;\r\n    if (e.currentTarget.id === 'subOff') data = false;\r\n    editorDispatch({ type: 'setIsSubtitles', data });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <p className={styles.Text}>Subtitles</p>\r\n      <div className={styles.Buttons}>\r\n        <div\r\n          className={[\r\n            styles.Button,\r\n            !editorState.isSubtitles ? styles.Active : null,\r\n          ].join(' ')}\r\n          id='subOff'\r\n          onClick={clickHandler}\r\n        >\r\n          <SubtitlesOff fill={!editorState.isSubtitles ? '#6F7BD0' : '#000000'} />\r\n          <p className={styles.ButtonText}>Off</p>\r\n        </div>\r\n        <div\r\n          className={[\r\n            styles.Button,\r\n            editorState.isSubtitles ? styles.Active : null,\r\n          ].join(' ')}\r\n          id='subOn'\r\n          onClick={clickHandler}\r\n        >\r\n          <SubtitlesOn fill={editorState.isSubtitles ? '#6F7BD0' : '#000000'} />\r\n          <p className={styles.ButtonText}>On</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubtitlesDropdown;\r\n","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","export default __webpack_public_path__ + \"static/media/subtitles.185e9c1f.svg\";","import { useCallback, useState, useEffect, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useGetAssets = () => {\r\n  const [isGettingAssets, setIsGettingAssets] = useState(false);\r\n  const [assets, setAssets] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosGetAssets = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get('/images')\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const getAssets = useCallback(async () => {\r\n    setAssets(null);\r\n    setIsGettingAssets(true);\r\n    try {\r\n      const res = await axiosGetAssets();\r\n      if (isMounted.current) setAssets(res.data);\r\n      console.log(res);\r\n    } catch (uploadError) {\r\n      console.log('Error Getting Assets', uploadError);\r\n    } finally {\r\n      if (isMounted.current) setIsGettingAssets(false);\r\n      return;\r\n    }\r\n  }, [axiosGetAssets]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isGettingAssets, getAssets, assets, setAssets };\r\n};\r\n\r\nexport default useGetAssets;\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './DesignControls.module.css';\r\nimport EditorContext from '../../../contexts/EditorContext';\r\nimport Backdrop from '../../../components/Backdrop/Backdrop';\r\nimport ImageDropdown from '../ImageDropdown/ImageDropdown';\r\nimport ShapeDropdown from '../ShapeDropdown/ShapeDropdown';\r\nimport SubtitlesDropdown from '../SubtitlesDropdown/SubtitlesDropdown';\r\nimport addText from '../../../assets/editor/addText.svg';\r\nimport addImage from '../../../assets/editor/addImage.svg';\r\nimport addShape from '../../../assets/editor/addShape.svg';\r\nimport subtitles from '../../../assets/editor/subtitles.svg';\r\nimport useGetAssets from '../../../hooks/useGetAssets';\r\n\r\nconst DesignControls = ({ canvas }) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const { getAssets, assets, setAssets } = useGetAssets();\r\n  const [shouldFetchAssets, setShouldFetchAssets] = useState(false);\r\n  const isFirstMount = useRef(true);\r\n\r\n  const clickHandler = (e) => {\r\n    if (canvas && !editorState.shouldCropImage) {\r\n      let type = '';\r\n      let id = e.currentTarget.id;\r\n      if (id === 'addText') type = 'setShouldAddText';\r\n      else if (id === 'addImage') type = 'setIsImageDropdown';\r\n      else if (id === 'addShape') type = 'setIsShapeDropdown';\r\n      else if (id === 'subtitles') type = 'setIsSubtitlesDropdown';\r\n      editorDispatch({ type, data: true });\r\n      if (editorState.isCropMode) {\r\n        editorDispatch({ type: 'setIsCropMode', data: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (shouldFetchAssets) {\r\n      setShouldFetchAssets(false);\r\n      getAssets();\r\n    }\r\n  }, [shouldFetchAssets, getAssets]);\r\n\r\n  return (\r\n    <div className={styles.ControlsContainer}>\r\n      <div\r\n        className={styles.AddTextContainer}\r\n        id='addText'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={addText} alt='add text' />\r\n        <div className={styles.HoverContent}>\r\n          <div className={styles.HoverTriangle}></div>\r\n          <p className={styles.HoverText}>Add text</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddImageContainer}\r\n          id='addImage'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={addImage} alt='add image' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add image</p>\r\n          </div>\r\n        </div>\r\n        {editorState.isImageDropdown ||\r\n        editorState.shouldReplaceImage ||\r\n        editorState.shouldAddCanvasBgImage ? (\r\n          <>\r\n            <Backdrop />\r\n            <div className={styles.ImageDropdown}>\r\n              <ImageDropdown\r\n                assets={assets}\r\n                setShouldFetch={setShouldFetchAssets}\r\n                isFirstMount={isFirstMount}\r\n                setAssets={setAssets}\r\n              />\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddShapeContainer}\r\n          id='addShape'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={addShape} alt='add shape' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add shape</p>\r\n          </div>\r\n        </div>\r\n        {editorState.isShapeDropdown ? (\r\n          <>\r\n            <Backdrop />\r\n            <div className={styles.ShapeDropdown}>\r\n              <ShapeDropdown />\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n      <div className={styles.DesignControl}>\r\n        <div\r\n          className={styles.AddShapeContainer}\r\n          id='subtitles'\r\n          onClick={clickHandler}\r\n        >\r\n          <img src={subtitles} alt='subtitles' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Subtitles</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {editorState.isSubtitlesDropdown ? (\r\n        <>\r\n          <Backdrop />\r\n          <div className={styles.SubtitlesDropdown}>\r\n            <SubtitlesDropdown />\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesignControls;\r\n","import React, {\r\n  useRef,\r\n  useState,\r\n  useContext,\r\n  useEffect,\r\n  useCallback,\r\n} from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport { prepareCanvas } from './utils/prepareCanvas';\r\nimport { prepareBreaks, prepareSubs } from './utils/prepareBreaksAndSubs';\r\nimport useDownloadVideo from '../../hooks/useDownloadVideo';\r\nimport DesignControls from './DesignControls/DesignControls';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Spinner from '../../components/Spinner2/Spinner';\r\n\r\nconst Navigation = ({\r\n  canvas,\r\n  videoRef,\r\n  videoCuts,\r\n  duration,\r\n  subList,\r\n  fabricSub,\r\n  setPreviewUrl,\r\n  videoData,\r\n  isUpdatingProject,\r\n  isDownloading,\r\n  downloadVideo,\r\n  downloadedVideo,\r\n  setDownloadedVideo,\r\n}) => {\r\n  const { editorState, editorDispatch } = useContext(EditorContext);\r\n  const [downloadData, setDownloadData] = useState(null);\r\n  const [elements, setElements] = useState(null);\r\n  const [videoInfo, setVideoInfo] = useState(null);\r\n  const [breaks, setBreaks] = useState(null);\r\n  const [subs, setSubs] = useState(null);\r\n  const downloadRef = useRef(null);\r\n  const history = useHistory();\r\n  // const uploadRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (downloadedVideo) history.push(`/preview/${videoData.id}`);\r\n  }, [downloadedVideo, history, videoData]);\r\n\r\n  const closeHandler = (e) => {\r\n    setDownloadedVideo(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (downloadData) {\r\n      downloadVideo(downloadData);\r\n      setDownloadData(null);\r\n    }\r\n  }, [downloadData, downloadVideo]);\r\n\r\n  // const imageDownloadHandler = useCallback((elArr) => {\r\n  //   for (let i = 0; i < elArr.length; i++) {\r\n  //     let el = elArr[i];\r\n  //     downloadRef.current.href = el.image;\r\n  //     downloadRef.current.download = `design${i + 1}.png`;\r\n  //     downloadRef.current.click();\r\n  //   }\r\n  //   setElements(null);\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   if (elements) imageDownloadHandler(elements);\r\n  // }, [elements, imageDownloadHandler]);\r\n\r\n  const downloadClickHandler = () => {\r\n    if (editorState.isCropMode) {\r\n      editorDispatch({ type: 'setIsCropMode', data: false });\r\n    } else if (canvas && !isDownloading && !isUpdatingProject) {\r\n      videoRef.current.pause();\r\n      prepareBreaks(videoCuts, duration, setBreaks);\r\n      if (fabricSub && subList) {\r\n        prepareSubs(subList, fabricSub, editorState.subtitlesState, setSubs);\r\n      } else setSubs({ captions: [], config: {} });\r\n      prepareCanvas(canvas, setElements, setVideoInfo);\r\n    }\r\n  };\r\n\r\n  // const downloadClickHandler2 = () => {\r\n  //   setPreviewUrl(videoData.url);\r\n  // };\r\n\r\n  const prepareData = useCallback(\r\n    (elementsArr, videoData, breaksData, subsData, id) => {\r\n      let elements = [...elementsArr];\r\n      let data = {\r\n        id,\r\n        video: { ...videoData },\r\n        elements,\r\n        breaks: [...breaksData],\r\n        subtitles: { ...subsData },\r\n      };\r\n      console.log(data);\r\n      let jsonData = JSON.stringify(data);\r\n      setDownloadData(jsonData);\r\n      setElements(null);\r\n      setBreaks(null);\r\n      setVideoInfo(null);\r\n      setSubs(null);\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (elements && videoInfo && breaks && subs) {\r\n      prepareData(elements, videoInfo, breaks, subs, videoData.id);\r\n    }\r\n  }, [elements, videoInfo, prepareData, breaks, subs, videoData]);\r\n\r\n  return (\r\n    <Navbar videoData={videoData}>\r\n      <div className={styles.Navigation}>\r\n        {canvas ? (\r\n          <>\r\n            <DesignControls canvas={canvas} />\r\n            {isUpdatingProject ? (\r\n              <Spinner\r\n                style={{\r\n                  width: '1.25rem',\r\n                  height: '1.25rem',\r\n                  marginRight: '10px',\r\n                  position: 'absolute',\r\n                  right: '7rem',\r\n                }}\r\n              />\r\n            ) : null}\r\n            <button\r\n              id='downloadDesign'\r\n              className={styles.DownloadButton}\r\n              onClick={downloadClickHandler}\r\n            >\r\n              {!isDownloading ? 'Download' : 'Loading...'}\r\n            </button>\r\n          </>\r\n        ) : null}\r\n\r\n        {/* <a className={styles.DownloadLink} ref={downloadRef} href='/'>\r\n          Download\r\n        </a> */}\r\n        {/* {downloadedVideo ? (\r\n          <div className={styles.DownloadVideoContainer}>\r\n            <h2 className={styles.Close} onClick={closeHandler}>\r\n              Close\r\n            </h2>\r\n            <video\r\n              className={styles.DownloadVideo}\r\n              style={{\r\n                width: canvas.getWidth(),\r\n                height: 'auto',\r\n              }}\r\n              // style={{ display: 'absolute' }}\r\n              // onPlay={() => videoRef.current.play()}\r\n              id='video'\r\n              preload='true'\r\n              src={downloadedVideo}\r\n              controls\r\n            />\r\n          </div>\r\n        ) : null} */}\r\n      </div>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  shouldTriggerUpdate: false,\r\n  canvasState: {\r\n    initialWidth: 0,\r\n    initialHeight: 0,\r\n    videoHeight: 0,\r\n    videoWidth: 0,\r\n    containerWidth: 0,\r\n    containerHeight: 0,\r\n    resize: 'original',\r\n    width: 0,\r\n    height: 0,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    shouldUpdateCanvas: false,\r\n    shouldUpdateCanvasSize: false,\r\n    shouldСalculateCanvasSize: false,\r\n  },\r\n  shapeToAdd: null,\r\n  imageToAdd: null,\r\n  currentCoords: null,\r\n  showToolbar: false,\r\n  shapeState: {\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  },\r\n  imageState: {\r\n    cornerRadius: 0,\r\n    isSvg: false,\r\n  },\r\n  isSubtitles: false,\r\n  isCropMode: false,\r\n  shouldCropImage: false,\r\n  isImageDropdown: false,\r\n  isSubtitlesDropdown: false,\r\n  isShapeDropdown: false,\r\n  isResizeDropdown: false,\r\n  isCanvasBgColorDropdown: false,\r\n  isDownloadDropdown: false,\r\n  shouldAddText: false,\r\n  shouldUpdateText: false,\r\n  shouldUpdateSubtitles: false,\r\n  shouldUpdateShape: false,\r\n  shouldUpdateImage: false,\r\n  shouldReplaceImage: false,\r\n  currentObject: {\r\n    type: '',\r\n    object: null,\r\n  },\r\n  textState: {\r\n    fontFamily: 'Inter',\r\n    fontStyle: 'Normal',\r\n    fontWeight: 'Normal',\r\n    fontSize: 30,\r\n    fill: 'rgba(0,0,0,1)',\r\n    textAlign: 'left',\r\n  },\r\n  subtitlesState: {\r\n    fontFamily: 'Inter',\r\n    fontStyle: 'Normal',\r\n    fontWeight: 'Normal',\r\n    fontSize: 24,\r\n    fill: 'rgba(0,0,0,1)',\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    initialBackground: 'rgba(255,255,255,1)',\r\n  },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setShouldTriggerUpdate':\r\n      return { ...state, shouldTriggerUpdate: action.data };\r\n    case 'setCanvasState':\r\n      return { ...state, canvasState: action.data };\r\n    case 'setIsDownloadDropdown':\r\n      return { ...state, isDownloadDropdown: action.data };\r\n    case 'setIsSubtitles':\r\n      return { ...state, isSubtitles: action.data, isSubtitlesDropdown: false };\r\n    case 'setIsCropMode':\r\n      return { ...state, isCropMode: action.data };\r\n    case 'setShouldCropImage':\r\n      return { ...state, shouldCropImage: action.data };\r\n    case 'setIsImageDropdown':\r\n      return { ...state, isImageDropdown: action.data };\r\n    case 'setIsSubtitlesDropdown':\r\n      return { ...state, isSubtitlesDropdown: action.data };\r\n    case 'setIsShapeDropdown':\r\n      return { ...state, isShapeDropdown: action.data };\r\n    case 'setIsResizeDropdown':\r\n      return { ...state, isResizeDropdown: action.data };\r\n    case 'setIsCanvasBgColorDropdown':\r\n      return { ...state, isCanvasBgColorDropdown: action.data };\r\n    case 'setCurrentCoords':\r\n      return { ...state, currentCoords: action.data };\r\n    case 'setShowToolbar':\r\n      return { ...state, showToolbar: action.data };\r\n    case 'setShowCanvasToolbar':\r\n      return { ...state, showCanvasToolbar: action.data };\r\n    case 'setShouldAddText':\r\n      return { ...state, shouldAddText: action.data };\r\n    case 'setShouldUpdateText':\r\n      return { ...state, shouldUpdateText: action.data };\r\n    case 'setShouldUpdateSubtitles':\r\n      return { ...state, shouldUpdateSubtitles: action.data };\r\n    case 'setShouldUpdateShape':\r\n      return { ...state, shouldUpdateShape: action.data };\r\n    case 'setShouldUpdateImage':\r\n      return { ...state, shouldUpdateImage: action.data };\r\n    case 'setCurrentObject':\r\n      return { ...state, currentObject: action.data };\r\n    case 'setShapeToAdd':\r\n      return { ...state, shapeToAdd: action.data, isShapeDropdown: false };\r\n    case 'setImageToAdd':\r\n      return { ...state, imageToAdd: action.data, isImageDropdown: false };\r\n    case 'setShapeState':\r\n      return { ...state, shapeState: { ...action.data } };\r\n    case 'setImageState':\r\n      return { ...state, imageState: { ...action.data } };\r\n    case 'setTextState':\r\n      return { ...state, textState: { ...action.data } };\r\n    case 'setSubtitlesState':\r\n      return { ...state, subtitlesState: { ...action.data } };\r\n    case 'setShouldReplaceImage':\r\n      return { ...state, shouldReplaceImage: action.data };\r\n    case 'setShouldUpdateCanvas':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldUpdateCanvas: action.data,\r\n        },\r\n      };\r\n    case 'setShouldUpdateCanvasSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldUpdateCanvasSize: action.data,\r\n        },\r\n      };\r\n    case 'setShouldСalculateCanvasSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldСalculateCanvasSize: action.data,\r\n        },\r\n      };\r\n    case 'setCanvasBackgroundColor':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldUpdateCanvas: true,\r\n          backgroundColor: action.data,\r\n        },\r\n      };\r\n    case 'setCanvasSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldUpdateCanvasSize: true,\r\n          width: action.data.width,\r\n          height: action.data.height,\r\n        },\r\n      };\r\n    case 'setVideoSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldСalculateCanvasSize: true,\r\n          videoWidth: action.data.width,\r\n          videoHeight: action.data.height,\r\n          resize: action.data.resize,\r\n        },\r\n      };\r\n    case 'setContainerSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          shouldСalculateCanvasSize: true,\r\n          containerWidth: action.data.width,\r\n          containerHeight: action.data.height,\r\n        },\r\n      };\r\n    case 'setCanvasInitialSize':\r\n      return {\r\n        ...state,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          initialWidth: action.data.initialWidth,\r\n          initialHeight: action.data.initialHeight,\r\n        },\r\n      };\r\n    case 'setImageCornerRadius':\r\n      return {\r\n        ...state,\r\n        shouldUpdateImage: true,\r\n        imageState: {\r\n          ...state.imageState,\r\n          cornerRadius: action.data,\r\n        },\r\n      };\r\n    case 'setShapeRadius':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          rx: action.data,\r\n          ry: action.data,\r\n        },\r\n      };\r\n    case 'setShapeFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStroke':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          stroke: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStrokeWidth':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          strokeWidth: action.data,\r\n        },\r\n      };\r\n\r\n    case 'setFontFamily':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontFamily: action.data,\r\n        },\r\n      };\r\n    case 'setFontStyle':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontStyle: action.data,\r\n        },\r\n      };\r\n    case 'setFontWeight':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontWeight: action.data,\r\n        },\r\n      };\r\n    case 'setFontSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontSize: action.data,\r\n        },\r\n      };\r\n    case 'setTextFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setTextAlign':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          textAlign: action.data,\r\n        },\r\n      };\r\n\r\n    case 'setSubtitlesbackgroundColor':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          backgroundColor: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontFamily':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontFamily: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontStyle':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontStyle: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontWeight':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontWeight: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesFontSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fontSize: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesTextFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setSubtitlesTextAlign':\r\n      return {\r\n        ...state,\r\n        shouldUpdateSubtitles: true,\r\n        subtitlesState: {\r\n          ...state.subtitlesState,\r\n          textAlign: action.data,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useEditorState = () => {\r\n  const [editorState, editorDispatch] = useReducer(reducer, initialState);\r\n  return [editorState, editorDispatch];\r\n};\r\n\r\nexport default useEditorState;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useGetVideo = () => {\r\n  const [isGettingVideo, setIsGettingVideo] = useState(false);\r\n  const [info, setInfo] = useState(null);\r\n  const [getVideoError, setGetVideoError] = useState(null);\r\n  const words = useRef(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosGetVideo = useCallback((id) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(`/videos/${id}`)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const getVideo = useCallback(\r\n    async (id) => {\r\n      setGetVideoError(null);\r\n      setIsGettingVideo(true);\r\n      try {\r\n        const res = await axiosGetVideo(id);\r\n        if (isMounted.current) {\r\n          words.current = res.data.transcription;\r\n          setInfo({\r\n            id: res.data._id,\r\n            duration: res.data.duration,\r\n            url: res.data.original_video_url,\r\n            finalUrl: res.data.final_video_url || null,\r\n            canvas: res.data.canvas || null,\r\n            title: res.data.title,\r\n            finalText: res.data.final_full_text || null,\r\n          });\r\n        }\r\n        console.log(res);\r\n      } catch (err) {\r\n        if (isMounted.current) setGetVideoError(err);\r\n        console.log('Error Getting Video', err);\r\n      } finally {\r\n        if (isMounted.current) setIsGettingVideo(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosGetVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return {\r\n    isGettingVideo,\r\n    getVideo,\r\n    words: words.current,\r\n    info,\r\n    getVideoError,\r\n  };\r\n};\r\n\r\nexport default useGetVideo;\r\n","import { useCallback, useState, useEffect, useRef } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useUpdateProject = () => {\r\n  const [isUpdatingProject, setIsUpdatingProject] = useState(false);\r\n  const [updateResponse, setUpdateResponse] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosUpdateProject = useCallback((data) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .put('/videos', data)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const updateProject = useCallback(\r\n    async (data) => {\r\n      setUpdateResponse(null);\r\n      setIsUpdatingProject(true);\r\n      try {\r\n        const res = await axiosUpdateProject(data);\r\n        if (isMounted.current) setUpdateResponse(res.data);\r\n        console.log(res);\r\n      } catch (uploadError) {\r\n        console.log('Error Updating Project', uploadError);\r\n        if (isMounted.current) setUpdateResponse('error');\r\n      } finally {\r\n        if (isMounted.current) setIsUpdatingProject(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosUpdateProject]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isUpdatingProject, updateProject, updateResponse };\r\n};\r\n\r\nexport default useUpdateProject;\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport styles from './VideoEditor.module.css';\r\nimport Transcription from '../Transcription/Transcription';\r\nimport Player from '../Player/Player';\r\nimport Video from '../Video/Video';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport useEditorState from '../../hooks/useEditorState';\r\nimport EditorContext from '../../contexts/EditorContext';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport useGetVideo from '../../hooks/useGetVideo';\r\nimport Spinner from '../../components/Spinner2/Spinner';\r\nimport useUpdateProject from '../../hooks/useUpdateProject';\r\nimport useDownloadVideo from '../../hooks/useDownloadVideo';\r\n\r\nconst getCanvasObject = (canvas) => {\r\n  let jsonCanvas = canvas.toJSON([\r\n    'id',\r\n    'cornerRadius',\r\n    'isSvg',\r\n    'padding',\r\n    'cursorWidth',\r\n    'rx',\r\n    'ry',\r\n    'noScaleCache',\r\n  ]);\r\n  let zoom = canvas.getZoom();\r\n  jsonCanvas.width = canvas.getWidth() / zoom;\r\n  jsonCanvas.height = canvas.getHeight() / zoom;\r\n  jsonCanvas.resize = canvas.resize;\r\n  return jsonCanvas;\r\n};\r\n\r\nconst VideoEditor = ({ speakers }) => {\r\n  const [editorState, editorDispatch] = useEditorState();\r\n  const { getVideo, words, info, getVideoError } = useGetVideo();\r\n  const { isUpdatingProject, updateProject } = useUpdateProject();\r\n  const { isDownloading, downloadVideo, downloadedVideo, setDownloadedVideo } =\r\n    useDownloadVideo();\r\n  const [currentSelection, setCurrentSelection] = useState(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(null);\r\n  const [nextCutIndex, setNextCutIndex] = useState(null);\r\n  const [shouldRerenderSub, setShouldRerenderSub] = useState(false);\r\n  const [canvas, setCanvas] = useState(null);\r\n  const [fabricSub, setFabricSub] = useState(null);\r\n  const [currentSub, setCurrentSub] = useState(null);\r\n  const [subList, setSubList] = useState(null);\r\n  const [videoCuts, setVideoCuts] = useState([]);\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const videoRef = useRef(null);\r\n  const wordsUpdateTimerRef = useRef(null);\r\n  const canvasUpdateTimerRef = useRef(null);\r\n  const isFirstLoad = useRef(true);\r\n  const isMounted = useRef(false);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(editorState.canvasState);\r\n  // }, [editorState]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (params && params.id) getVideo(params.id);\r\n  }, [params, getVideo]);\r\n\r\n  useEffect(() => {\r\n    if (getVideoError) history.push('/home');\r\n  }, [getVideoError, history]);\r\n\r\n  const triggerWordsUpdate = useCallback(() => {\r\n    if (wordsUpdateTimerRef.current) clearTimeout(wordsUpdateTimerRef.current);\r\n    let timeout = setTimeout(() => {\r\n      if (isMounted.current) {\r\n        wordsUpdateTimerRef.current = null;\r\n        updateProject({\r\n          id: info.id,\r\n          transcription: [...words],\r\n        });\r\n      }\r\n    }, 1000);\r\n    wordsUpdateTimerRef.current = timeout;\r\n  }, [updateProject, info, words]);\r\n\r\n  const triggerCanvasUpdate = useCallback(() => {\r\n    if (canvasUpdateTimerRef.current) {\r\n      clearTimeout(canvasUpdateTimerRef.current);\r\n    }\r\n    let timeout = setTimeout(() => {\r\n      if (isMounted.current) {\r\n        canvasUpdateTimerRef.current = null;\r\n        let jsonCanvas = getCanvasObject(canvas);\r\n        updateProject({\r\n          id: info.id,\r\n          canvas: { ...jsonCanvas },\r\n        });\r\n      }\r\n    }, 1000);\r\n    canvasUpdateTimerRef.current = timeout;\r\n  }, [updateProject, info, canvas]);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad.current) {\r\n      isFirstLoad.current = false;\r\n    } else if (!isDownloading && words) triggerWordsUpdate();\r\n  }, [videoCuts, triggerWordsUpdate, isDownloading, words]);\r\n\r\n  useEffect(() => {\r\n    if (editorState.shouldTriggerUpdate && !isDownloading) {\r\n      editorDispatch({ type: 'setShouldTriggerUpdate', data: false });\r\n      triggerCanvasUpdate();\r\n    }\r\n  }, [\r\n    triggerCanvasUpdate,\r\n    editorState.shouldTriggerUpdate,\r\n    editorDispatch,\r\n    isDownloading,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <EditorContext.Provider value={{ editorState, editorDispatch }}>\r\n        {info ? (\r\n          <>\r\n            <Navigation\r\n              canvas={canvas}\r\n              videoRef={videoRef}\r\n              videoCuts={videoCuts}\r\n              duration={info ? info.duration : null}\r\n              words={words}\r\n              subList={subList}\r\n              fabricSub={fabricSub}\r\n              videoData={info}\r\n              isUpdatingProject={isUpdatingProject}\r\n              isDownloading={isDownloading}\r\n              downloadVideo={downloadVideo}\r\n              downloadedVideo={downloadedVideo}\r\n              setDownloadedVideo={setDownloadedVideo}\r\n            />\r\n            <main className={styles.Main}>\r\n              <Transcription\r\n                className={styles.VideoEditor}\r\n                words={words}\r\n                currentWordIndex={currentWordIndex}\r\n                setCurrentWordIndex={setCurrentWordIndex}\r\n                isPlaying={isPlaying}\r\n                videoRef={videoRef}\r\n                setCuts={setVideoCuts}\r\n                currentSelection={currentSelection}\r\n                setCurrentSelection={setCurrentSelection}\r\n                currentSub={currentSub}\r\n                setCurrentSub={setCurrentSub}\r\n                fabricSub={fabricSub}\r\n                setShouldRerenderSub={setShouldRerenderSub}\r\n                setCurrentTime={setCurrentTime}\r\n                setNextCutIndex={setNextCutIndex}\r\n                videoCuts={videoCuts}\r\n                triggerWordsUpdate={triggerWordsUpdate}\r\n              />\r\n              <Player\r\n                videoRef={videoRef}\r\n                canvas={canvas}\r\n                setCanvas={setCanvas}\r\n                isPlaying={isPlaying}\r\n                words={words}\r\n                currentTime={currentTime}\r\n                videoCuts={videoCuts}\r\n                setNextCutIndex={setNextCutIndex}\r\n                setCurrentWordIndex={setCurrentWordIndex}\r\n                nextCutIndex={nextCutIndex}\r\n                currentWordIndex={currentWordIndex}\r\n                subList={subList}\r\n                setSubList={setSubList}\r\n                fabricSub={fabricSub}\r\n                setFabricSub={setFabricSub}\r\n                currentSub={currentSub}\r\n                setCurrentSub={setCurrentSub}\r\n                shouldRerenderSub={shouldRerenderSub}\r\n                setShouldRerenderSub={setShouldRerenderSub}\r\n                speakers={speakers}\r\n                info={info}\r\n              />\r\n              <Video\r\n                videoRef={videoRef}\r\n                setIsPlaying={setIsPlaying}\r\n                currentSelection={currentSelection}\r\n                setCurrentSelection={setCurrentSelection}\r\n                setCurrentTime={setCurrentTime}\r\n                videoCuts={videoCuts}\r\n                words={words}\r\n                setNextCutIndex={setNextCutIndex}\r\n                setCurrentWordIndex={setCurrentWordIndex}\r\n                setCurrentSub={setCurrentSub}\r\n                subList={subList}\r\n                info={info}\r\n              />\r\n              {/* <div className={styles.DownloadCanvas}>\r\n                <canvas id='downloadCanvas' />\r\n              </div> */}\r\n            </main>\r\n          </>\r\n        ) : (\r\n          <Spinner style={{ width: '100px', height: '100px' }} />\r\n        )}\r\n      </EditorContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst CustomRoute = ({ component: Component, where, allowed, redirect, ...rest }) => {\r\n  // console.log(rest, where);\r\n  return (\r\n    <Route {...rest}>\r\n      {allowed ? <Component {...rest} /> : <Redirect to={redirect} />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default CustomRoute;\r\n","export default __webpack_public_path__ + \"static/media/addSpeaker.45816d68.svg\";","export default __webpack_public_path__ + \"static/media/removeSpeaker.2614b0b2.svg\";","import { useState, useEffect } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst addCanvas = (state, id) => {\r\n  let canvas = new fabric.Canvas(id, {\r\n    width: state.initialWidth,\r\n    height: state.initialHeight,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    preserveObjectStacking: true,\r\n    fireRightClick: true,\r\n    stopContextMenu: true,\r\n    selection: false,\r\n  });\r\n  let ratio = Math.min(\r\n    state.width / state.initialWidth,\r\n    state.height / state.initialHeight\r\n  );\r\n  canvas.setZoom(ratio);\r\n  canvas.setDimensions({\r\n    width: state.width,\r\n    height: state.height,\r\n  });\r\n  return canvas;\r\n};\r\n\r\nconst useAddCanvas = (state, setCanvas, setIsCanvasSet, id) => {\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad && state.initialWidth > 0) {\r\n      let canvas = addCanvas(state, id);\r\n      setCanvas(canvas);\r\n      setIsCanvasSet(true);\r\n      setIsFirstLoad(false);\r\n    }\r\n  }, [setCanvas, setIsCanvasSet, state, isFirstLoad, id]);\r\n};\r\n\r\nexport default useAddCanvas;\r\n","import { useEffect, useState, useCallback, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst useAddVideo = (video, canvas, currentTime, setVideo) => {\r\n  const [isFirtLoad, setIsFirtLoad] = useState(true);\r\n  const isMounted = useRef(true);\r\n  const frameRef = useRef(null);\r\n  useEffect(() => () => (isMounted.current = false), []);\r\n\r\n  const cancelAnimation = useCallback(() => {\r\n    // console.log('canceling', frameRef.current);\r\n    fabric.util.cancelAnimFrame(frameRef.current);\r\n    frameRef.current = null;\r\n    if (canvas) canvas.requestRenderAll();\r\n  }, [canvas]);\r\n\r\n  const animate = useCallback(() => {\r\n    const render = () => {\r\n      canvas.requestRenderAll();\r\n      // console.log('animating');\r\n      frameRef.current = fabric.util.requestAnimFrame(render);\r\n    };\r\n    fabric.util.requestAnimFrame(render);\r\n  }, [canvas]);\r\n\r\n  const newVideo = useCallback((video) => {\r\n    let fabricVideo = new fabric.Video(video, {\r\n      top: 0,\r\n      left: 0,\r\n      // excludeFromExport: true,\r\n      lockScalingFlip: true,\r\n    });\r\n    return fabricVideo;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isFirtLoad) {\r\n      setTimeout(() => {\r\n        if (isMounted.current) cancelAnimation();\r\n      }, 1000);\r\n    }\r\n  }, [cancelAnimation, isFirtLoad]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (!isMounted.current && frameRef.current) {\r\n        fabric.util.cancelAnimFrame(frameRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isFirtLoad && video && canvas) {\r\n      setIsFirtLoad(false);\r\n      video.currentTime = currentTime > 0 ? currentTime : 0.001;\r\n      let fabricVideo = newVideo(video);\r\n      canvas.add(fabricVideo);\r\n      fabricVideo.evented = false;\r\n      fabricVideo.selectable = false;\r\n      setVideo(fabricVideo);\r\n      animate();\r\n    }\r\n  }, [\r\n    video,\r\n    canvas,\r\n    isFirtLoad,\r\n    currentTime,\r\n    animate,\r\n    setVideo,\r\n    newVideo,\r\n  ]);\r\n};\r\n\r\nexport default useAddVideo;\r\n","import { useEffect } from 'react';\r\nimport { updateCanvasSize, updateCanvasStyle } from '../utils/updateCanvas';\r\n\r\nconst useUpdateCanvas = (state, dispatch, canvas) => {\r\n  useEffect(() => {\r\n    if (state.shouldUpdateCanvas) updateCanvasStyle(state, canvas, dispatch);\r\n    if (state.shouldUpdateCanvasSize) updateCanvasSize(state, canvas, dispatch);\r\n  }, [state, dispatch, canvas]);\r\n};\r\n\r\nexport default useUpdateCanvas;\r\n","export const updateCanvasStyle = (state, canvas, dispatch) => {\r\n  canvas.backgroundColor = state.backgroundColor;\r\n  canvas.requestRenderAll();\r\n  dispatch({ type: 'setShouldUpdateCanvas', data: false });\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n\r\nexport const updateCanvasSize = (state, canvas, dispatch) => {\r\n  canvas.discardActiveObject();\r\n  let ratio = Math.min(\r\n    state.width / state.initialWidth,\r\n    state.height / state.initialHeight\r\n  );\r\n  canvas.setZoom(ratio);\r\n  canvas.setDimensions({\r\n    width: state.width,\r\n    height: state.height,\r\n  });\r\n  canvas.requestRenderAll();\r\n  dispatch({ type: 'setShouldUpdateCanvasSize', data: false });\r\n  dispatch({ type: 'setShouldTriggerUpdate', data: true });\r\n};\r\n","import { createContext } from 'react';\r\n\r\nconst SpeakersContext = createContext(null);\r\nexport default SpeakersContext;","import { useEffect, useContext } from 'react';\r\nimport { addSpeaker } from '../utils/crop';\r\nimport SpeakersContext from '../../../contexts/SpeakersContext';\r\n\r\nconst useCropVideo = (\r\n  canvas,\r\n  isCanvasSet,\r\n  video,\r\n  boxArr,\r\n  setBoxArr,\r\n  boxId,\r\n  updateBoxId\r\n) => {\r\n  const { speakersState, speakersDispatch } = useContext(SpeakersContext);\r\n\r\n  // Handle Speaker Adding\r\n  useEffect(() => {\r\n    if (video && speakersState.shouldAddSpeaker) {\r\n      speakersDispatch({ type: 'setShouldAddSpeaker', data: false });\r\n      addSpeaker(boxArr, boxId, canvas, setBoxArr, updateBoxId, video);\r\n    }\r\n  }, [\r\n    boxArr,\r\n    speakersState,\r\n    speakersDispatch,\r\n    canvas,\r\n    video,\r\n    setBoxArr,\r\n    boxId,\r\n    updateBoxId,\r\n  ]);\r\n\r\n  // Handle Speaker Removing\r\n  useEffect(() => {\r\n    if (video && speakersState.shouldRemoveSpeaker) {\r\n      speakersDispatch({ type: 'setShouldRemoveSpeaker', data: false });\r\n      let active = canvas.getActiveObject();\r\n      if (active) {\r\n        canvas.remove(active);\r\n        setBoxArr((prevState) =>\r\n          prevState.filter((box) => box.id !== active.id)\r\n        );\r\n        canvas.requestRenderAll();\r\n      }\r\n    }\r\n  }, [speakersState, speakersDispatch, canvas, video, setBoxArr]);\r\n};\r\n\r\nexport default useCropVideo;\r\n","import React, { useState, useCallback } from 'react';\r\nimport styles from './SpeakersCanvas.module.css';\r\nimport useAddCanvas from './hooks/useAddCanvas';\r\nimport useAddVideo from './hooks/useAddVideo';\r\nimport useUpdateCanvas from './hooks/useUpdateCanvas';\r\nimport useGuideLines from '../hooks/useGuideLines';\r\nimport useCropVideo from '../hooks/useCropVideo';\r\n\r\nconst SpeakersCanvas = ({\r\n  canvas,\r\n  setCanvas,\r\n  canvasState,\r\n  canvasDispatch,\r\n  videoRef,\r\n  setBoxArr,\r\n  duration,\r\n  boxArr,\r\n}) => {\r\n  const [isCanvasSet, setIsCanvasSet] = useState(null);\r\n  const [video, setVideo] = useState(null);\r\n  const [boxId, setBoxId] = useState(1);\r\n  const updateBoxId = useCallback(() => setBoxId((i) => i + 1), []);\r\n\r\n  useGuideLines(canvasState, isCanvasSet, canvas, null, null);\r\n  useUpdateCanvas(canvasState, canvasDispatch, canvas);\r\n  useAddCanvas(canvasState, setCanvas, setIsCanvasSet, 'speakerCanvas');\r\n  useAddVideo(videoRef.current, canvas, duration / 10, setVideo);\r\n  useCropVideo(\r\n    canvas,\r\n    isCanvasSet,\r\n    video,\r\n    boxArr,\r\n    setBoxArr,\r\n    boxId,\r\n    updateBoxId\r\n  );\r\n\r\n  return (\r\n    <div className={styles.Canvas}>\r\n      <canvas id='speakerCanvas' />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpeakersCanvas;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  initialWidth: 0,\r\n  initialHeight: 0,\r\n  width: 0,\r\n  height: 0,\r\n  shouldUpdateCanvas: false,\r\n  shouldUpdateCanvasSize: false,\r\n  shouldAddSpeaker: true,\r\n  shouldRemoveSpeaker: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setCanvasSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvasSize: true,\r\n        width: action.data.width,\r\n        height: action.data.height,\r\n      };\r\n    case 'setCanvasInitialSize':\r\n      return {\r\n        ...state,\r\n        initialWidth: action.data.initialWidth,\r\n        initialHeight: action.data.initialHeight,\r\n        width: action.data.width,\r\n        height: action.data.height,\r\n      };\r\n    case 'setShouldUpdateCanvas':\r\n      return { ...state, shouldUpdateCanvas: action.data };\r\n    case 'setShouldUpdateCanvasSize':\r\n      return { ...state, shouldUpdateCanvasSize: action.data };\r\n    case 'setShouldAddSpeaker':\r\n      return { ...state, shouldAddSpeaker: action.data };\r\n    case 'setShouldRemoveSpeaker':\r\n      return { ...state, shouldRemoveSpeaker: action.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useSpeakersState = () => {\r\n  const [speakerState, speakerDispatch] = useReducer(reducer, initialState);\r\n  return [speakerState, speakerDispatch];\r\n};\r\n\r\nexport default useSpeakersState;\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { getContainerSize } from '../utils/getSize';\r\n\r\nconst useContainerSize = (videoSize, dispatch, containerRef) => {\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [containerSize, setContainerSize] = useState(null);\r\n  const containerPadding = 200;\r\n\r\n  const handleSize = useCallback(() => {\r\n    getContainerSize(containerRef, setContainerSize, containerPadding);\r\n  }, [containerRef, setContainerSize, containerPadding]);\r\n\r\n  useEffect(() => {\r\n    handleSize();\r\n  }, [handleSize]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleSize);\r\n    return () => window.removeEventListener('resize', handleSize);\r\n  }, [handleSize]);\r\n\r\n  useEffect(() => {\r\n    if (videoSize && containerSize) {\r\n      let width = containerSize.width;\r\n      let height = (videoSize.height * width) / videoSize.width;\r\n      let isInRange = width > 100;\r\n      if (isFirstLoad && isInRange) {\r\n        setIsFirstLoad(false);\r\n        dispatch({\r\n          type: 'setCanvasInitialSize',\r\n          data: {\r\n            initialWidth: videoSize.width,\r\n            initialHeight: videoSize.height,\r\n            width,\r\n            height,\r\n          },\r\n        });\r\n      } else if (isInRange) {\r\n        dispatch({ type: 'setCanvasSize', data: { width, height } });\r\n      }\r\n    }\r\n  }, [isFirstLoad, containerSize, videoSize, dispatch]);\r\n};\r\n\r\nexport default useContainerSize;\r\n","export const getContainerSize = (\r\n  containerRef,\r\n  setContainerSize,\r\n  containerPadding\r\n) => {\r\n  let width =\r\n    window.innerWidth - containerRef.current.offsetLeft - containerPadding;\r\n  let height = containerRef.current.offsetHeight;\r\n  if (width > 800) {\r\n    height = (height * 800) / width;\r\n    width = 800;\r\n  }\r\n  setContainerSize({ width, height });\r\n};\r\n\r\nexport const getVideoSize = (videoRef, setVideoSize) => {\r\n  let width = videoRef.current.videoWidth;\r\n  let height = videoRef.current.videoHeight;\r\n  setVideoSize({ width, height });\r\n};","import React, { useState, useRef, useEffect } from 'react';\r\nimport styles from './SelectSpeakers.module.css';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getVideoSize } from './utils/getSize';\r\nimport addSpeaker from '../../assets/editor/addSpeaker.svg';\r\nimport removeSpeaker from '../../assets/editor/removeSpeaker.svg';\r\nimport SpeakersCanvas from '../Canvas/SpeakersCanvas/SpeakersCanvas';\r\nimport SpeakersContext from '../../contexts/SpeakersContext';\r\nimport useSpeakersState from '../../hooks/useSpeakersState';\r\nimport useContainerSize from './hooks/useContainerSize';\r\n\r\nconst SelectSpeakers = ({ videoData, setSpeakers }) => {\r\n  const [speakersState, speakersDispatch] = useSpeakersState();\r\n  const history = useHistory();\r\n  const [canvas, setCanvas] = useState(null);\r\n  const containerRef = useRef(null);\r\n  const videoRef = useRef(null);\r\n  const [videoSize, setVideoSize] = useState(null);\r\n  const [boxArr, setBoxArr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setSpeakers([]);\r\n  }, [setSpeakers]);\r\n\r\n  useContainerSize(\r\n    videoSize,\r\n    speakersDispatch,\r\n    containerRef,\r\n  );\r\n\r\n  const addSpeakerHandler = () => {\r\n    speakersDispatch({ type: 'setShouldAddSpeaker', data: true });\r\n  };\r\n\r\n  const removeSpeakerHandler = () => {\r\n    speakersDispatch({ type: 'setShouldRemoveSpeaker', data: true });\r\n  };\r\n\r\n  const confirmHandler = () => {\r\n    let arr = [];\r\n    for (let i = 0; i < boxArr.length; i++) {\r\n      const box = boxArr[i];\r\n      let w = box.width * box.scaleX;\r\n      let h = box.height * box.scaleY;\r\n      let x = box.lineCoords.tl.x / canvas.getZoom();\r\n      let y = box.lineCoords.tr.y / canvas.getZoom();\r\n      arr.push({ x, y, w, h });\r\n    }\r\n    setSpeakers(arr);\r\n    history.push(`/editor/${videoData.id}`);\r\n    // history.push('/editor/video-editor');\r\n  };\r\n\r\n  const skipHandler = () => {\r\n    setSpeakers([{ x: 0, y: 0, w: videoSize.width, h: videoSize.height }]);\r\n    history.push(`/editor/${videoData.id}`);\r\n    // history.push('/editor/video-editor');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar videoData={videoData} />\r\n      <SpeakersContext.Provider value={{ speakersState, speakersDispatch }}>\r\n        <div className={styles.SelectSpeakers} ref={containerRef}>\r\n          <h1 className={styles.Heading}>Select area with speakers</h1>\r\n          <SpeakersCanvas\r\n            canvas={canvas}\r\n            setCanvas={setCanvas}\r\n            canvasState={speakersState}\r\n            canvasDispatch={speakersDispatch}\r\n            videoRef={videoRef}\r\n            boxArr={boxArr}\r\n            setBoxArr={setBoxArr}\r\n            duration={videoData ? videoData.duration : null}\r\n          />\r\n          <video\r\n            src={videoData ? videoData.url : null}\r\n            width={videoSize ? videoSize.width : 0}\r\n            height={videoSize ? videoSize.height : 0}\r\n            id='video'\r\n            preload='auto'\r\n            className={styles.Video}\r\n            ref={videoRef}\r\n            onLoadedMetadata={() => getVideoSize(videoRef, setVideoSize)}\r\n          />\r\n          <p className={styles.SelectedText}>\r\n            <span className={styles.SelectedNumber}>{boxArr.length}</span>\r\n            {` speaker${boxArr.length !== 1 ? 's' : ''} selected`}\r\n          </p>\r\n          <div className={styles.SpeakerButtons}>\r\n            <div className={styles.AddSpeakerButton}>\r\n              <button\r\n                className={styles.AddSpeakers}\r\n                onClick={addSpeakerHandler}\r\n              >\r\n                <img src={addSpeaker} alt='add' />\r\n              </button>\r\n              <p className={styles.AddSpeakersText}>Add speakers</p>\r\n            </div>\r\n            <div className={styles.RemoveSpeakerButton}>\r\n              <button\r\n                className={styles.RemoveSpeakers}\r\n                onClick={removeSpeakerHandler}\r\n              >\r\n                <img src={removeSpeaker} alt='add' />\r\n              </button>\r\n              <p className={styles.RemoveSpeakersText}>Remove</p>\r\n            </div>\r\n          </div>\r\n          <div className={styles.NextSteps}>\r\n            <button className={styles.Confirm} onClick={confirmHandler}>\r\n              Confirm\r\n            </button>\r\n            <button className={styles.Skip} onClick={skipHandler}>\r\n              Skip\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </SpeakersContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectSpeakers;\r\n","import React, { useState, useCallback, useRef } from 'react';\r\nimport styles from './Editor.module.css';\r\nimport Uploader from '../Uploader/Uploader';\r\nimport VideoEditor from '../VideoEditor/VideoEditor';\r\nimport { useRouteMatch, Switch, Redirect } from 'react-router-dom';\r\nimport CustomRoute from '../../components/CustomRoute/CustomRoute';\r\nimport SelectSpeakers from '../SelectSpeakers/SelectSpeakers';\r\n// import UploaderMock from '../UploaderMock/UploaderMock';\r\n\r\nconst Editor = () => {\r\n  const [viedoForUpload, setVideoForUpload] = useState(null);\r\n  const [isFinishedTranscribing, setIsFinishedTranscribing] = useState(false);\r\n  const [videoData, setVideoData] = useState(null);\r\n  const [speakers, setSpeakers] = useState([]);\r\n  const match = useRouteMatch();\r\n  const words = useRef(null);\r\n\r\n  const clearState = useCallback(() => {\r\n    setIsFinishedTranscribing(false);\r\n    setVideoForUpload(null);\r\n    setSpeakers([]);\r\n    setVideoData(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Editor}>\r\n      <Switch>\r\n        <CustomRoute\r\n          path={`${match.path}/new`}\r\n          redirect={`${match.path}/speakers`}\r\n          /////////////////////////////////////////\r\n          // redirect={`${match.path}/video-editor`}\r\n          where='in the Editor new route'\r\n          allowed={!isFinishedTranscribing}\r\n          component={Uploader}\r\n          // component={UploaderMock}\r\n          viedoForUpload={viedoForUpload}\r\n          setVideoForUpload={setVideoForUpload}\r\n          setIsFinished={setIsFinishedTranscribing}\r\n          setVideoData={setVideoData}\r\n          clearState={clearState}\r\n          wordsRef={words}\r\n        />\r\n        <CustomRoute\r\n          path={`${match.path}/speakers`}\r\n          redirect={`/home`}\r\n          where='in the Editor speakers route'\r\n          allowed={isFinishedTranscribing}\r\n          component={SelectSpeakers}\r\n          videoData={videoData}\r\n          setSpeakers={setSpeakers}\r\n        />\r\n        <CustomRoute\r\n          path={`${match.path}/:id`}\r\n          redirect={`/home`}\r\n          where='in the Editor project id route'\r\n          allowed={true}\r\n          component={VideoEditor}\r\n          speakers={speakers}\r\n        />\r\n        {/* <CustomRoute\r\n          path={`${match.path}/video-editor`}\r\n          redirect={`${match.path}/new`}\r\n          where='in the Editor video-editor route'\r\n          allowed={isFinishedTranscribing}\r\n          component={VideoEditor}\r\n          words={words.current}\r\n          info={videoData}\r\n          speakers={speakers}\r\n        /> */}\r\n        <Redirect to={`${match.path}/new`} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","export default __webpack_public_path__ + \"static/media/saly.d86e3215.png\";","export default __webpack_public_path__ + \"static/media/twiso.7870df01.svg\";","export default __webpack_public_path__ + \"static/media/google.321ceef8.svg\";","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={styles.Button}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport styles from './Or.module.css';\r\n\r\nconst Or = () => {\r\n  return (\r\n    <div className={styles.Or}>\r\n      <div className={styles.Line}></div>\r\n      <span className={styles.Text}>or</span>\r\n      <div className={styles.Line}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Or;\r\n","import React from 'react';\r\nimport styles from './Input.module.css';\r\n\r\nconst Input = ({\r\n  placeholder,\r\n  type,\r\n  invalid,\r\n  setValue,\r\n  value,\r\n  errorMessage,\r\n}) => {\r\n  const blurHandler = () => {\r\n    let isEmpty = value.trim() === '';\r\n    if (invalid && !isEmpty)\r\n      setValue((prevState) => ({ ...prevState, invalid: false }));\r\n  };\r\n  \r\n  const focusHandler = () => {\r\n    if (invalid) setValue((prevState) => ({ ...prevState, value: '' }));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.InputContainer}>\r\n      <input\r\n        className={[styles.Input, invalid ? styles.Invalid : null].join(' ')}\r\n        placeholder={placeholder}\r\n        type={type}\r\n        value={value}\r\n        onBlur={blurHandler}\r\n        onFocus={focusHandler}\r\n        onChange={(e) =>\r\n          setValue((prevState) => ({ ...prevState, value: e.target.value }))\r\n        }\r\n      ></input>\r\n      {invalid ? (\r\n        <div className={styles.ErrorMessage}>{errorMessage}</div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","export default __webpack_public_path__ + \"static/media/mail.ab4abc3d.svg\";","import React from // useContext\r\n'react';\r\nimport styles from './CheckMail.module.css';\r\n// import UserContext from '../../../contexts/UserContext';\r\nimport mail from '../../../assets/auth/mail.svg';\r\n\r\nconst CheckMail = () => {\r\n  // const { userDispatch } = useContext(UserContext);\r\n  // const clickHandler = () => {\r\n  //   userDispatch({ type: 'setIsAuthenticated', data: true });\r\n  // };\r\n\r\n  return (\r\n    <div className={styles.CheckMail}>\r\n      <img src={mail} alt='mail' className={styles.Mail} />\r\n      <h2 className={styles.Heading}>Check your inbox</h2>\r\n      <p className={styles.Subheading}>\r\n        We sent you an activation link. Please be sure to check your spam folder\r\n        too.\r\n      </p>\r\n      {/* <div className={styles.EditorLink} onClick={clickHandler}>\r\n        Go to editor\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckMail;\r\n","export const checkEmailValidity = (value) => {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\r\n};","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useMagicLink = () => {\r\n  const [magickRes, setMagickRes] = useState(null);\r\n  const [magickError, setMagickError] = useState(null);\r\n  const isMounted = useRef(false);\r\n  const axiosMagicLink = useCallback((data) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post('/send-magic-link', data, {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        })\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const magicLink = useCallback(\r\n    async (data) => {\r\n      setMagickRes(null)\r\n      setMagickError(null)\r\n      try {\r\n        const res = await axiosMagicLink(data);\r\n        console.log(res);\r\n        if (isMounted.current) {\r\n          setMagickRes(res.data);\r\n        }\r\n      } catch (err) {\r\n        setMagickError(err)\r\n        console.log('Error Authenticating with Magic Link', err);\r\n      } finally {\r\n        return;\r\n      }\r\n    },\r\n    [axiosMagicLink]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { magicLink, magickRes, magickError };\r\n};\r\n\r\nexport default useMagicLink;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './SignIn.module.css';\r\nimport google from '../../../assets/auth/google.svg';\r\nimport Button from '../Button/Button';\r\nimport Or from '../Or/Or';\r\nimport Input from '../Input/Input';\r\nimport CheckMail from '../CheckMail/CheckMail';\r\nimport { checkEmailValidity } from '../utils/validation';\r\nimport { Link } from 'react-router-dom';\r\nimport useMagicLink from '../../../hooks/useMagicLink';\r\nimport Spinner from '../../../components/Spinner2/Spinner';\r\n\r\nconst SignIn = ({ authUrl, isLoading, setIsLoading, checkTokenValidity }) => {\r\n  const { magicLink, magickRes, magickError } = useMagicLink();\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [email, setEmail] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'email',\r\n    placeholder: 'Email address',\r\n    validation: true,\r\n    errorMessage: 'Please enter your email',\r\n  });\r\n\r\n  useEffect(() => {\r\n    let token = localStorage.getItem('token');\r\n    if (token) checkTokenValidity(token);\r\n    else setIsLoading(false);\r\n  }, [checkTokenValidity, setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    if (magickRes) setIsSent(true);\r\n  }, [magickRes]);\r\n\r\n  useEffect(() => {\r\n    if (magickError) {\r\n      setIsLoading(false);\r\n    }\r\n  }, [magickError, setIsLoading]);\r\n\r\n  const signInClickHandler = (e) => {\r\n    e.preventDefault();\r\n    let isValid = checkEmailValidity(email.value);\r\n    if (!isValid) setEmail((prevState) => ({ ...prevState, invalid: true }));\r\n    else {\r\n      setIsLoading(true);\r\n      let jsonData = JSON.stringify({ email: email.value });\r\n      magicLink(jsonData);\r\n    }\r\n  };\r\n\r\n  let signInContent = (\r\n    <div className={styles.SignIn}>\r\n      <h2 className={styles.Heading}>Welcome to Twiso!</h2>\r\n      <p className={styles.Subheading}>\r\n        Don't have an account?{' '}\r\n        <Link to={`${authUrl}/sign-up`} className={styles.SignUpLink}>\r\n          Sign up for free\r\n        </Link>\r\n      </p>\r\n      <div className={styles.FormContent}>\r\n        <a\r\n          className={styles.GoogleLink}\r\n          href={`${process.env.REACT_APP_API_BASE_URL_TEST}/api/v1/auth/google`}\r\n        >\r\n          <Button>\r\n            <img src={google} alt='google' className={styles.GoogleLogo} />\r\n            Continue with Google\r\n          </Button>\r\n        </a>\r\n        <Or />\r\n        <form className={styles.Form}>\r\n          <Input {...email} setValue={setEmail} />\r\n          <Button onClick={signInClickHandler}>Sign in</Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n  if (isLoading)\r\n    signInContent = <Spinner style={{ width: '100px', height: '100px' }} />;\r\n\r\n  return !isSent ? signInContent : <CheckMail />;\r\n};\r\n\r\nexport default SignIn;\r\n","export default __webpack_public_path__ + \"static/media/downArrow.16441734.svg\";","export default __webpack_public_path__ + \"static/media/checkMark.eb440aa3.svg\";","import React, { useEffect, useCallback } from 'react';\r\nimport styles from './Dropdown.module.css';\r\nimport checkMark from '../../../../assets/auth/checkMark.svg';\r\n\r\nconst Dropdown = ({ options, value, setValue, setIsDropdown }) => {\r\n  const clickHandler = useCallback(() => setIsDropdown(false), [setIsDropdown]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', clickHandler);\r\n    return () => document.removeEventListener('click', clickHandler);\r\n  }, [clickHandler]);\r\n\r\n  return (\r\n    <ul className={styles.Dropdown}>\r\n      {options.map((option) => {\r\n        let isCurrent = value && value.id === option.id;\r\n        return (\r\n          <li\r\n            key={option.id}\r\n            id={option.id}\r\n            className={[styles.Option, isCurrent ? styles.Current : null].join(\r\n              ' '\r\n            )}\r\n            onClick={() => setValue((prevState) => ({ ...prevState, value: option }))}\r\n          >\r\n            <span className={styles.CheckMark}>\r\n              {isCurrent ? <img src={checkMark} alt='check mark' /> : null}\r\n            </span>\r\n\r\n            {option.type}\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import React, { useState } from 'react';\r\nimport styles from './Select.module.css';\r\nimport downArrow from '../../../assets/auth/downArrow.svg';\r\nimport Dropdown from './Dropdown/Dropdown';\r\n\r\nconst Select = ({ options, invalid, value, setValue, errorMessage }) => {\r\n  const [isDropdown, setIsDropdown] = useState(null);\r\n\r\n  const clickHandler = () => {\r\n    if (invalid) setValue((prevState) => ({ ...prevState, invalid: false }));\r\n    setIsDropdown(true);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.SelectContainer}>\r\n      <div\r\n        className={[styles.Select, invalid ? styles.Invalid : null].join(' ')}\r\n        onClick={clickHandler}\r\n      >\r\n        <p\r\n          className={[\r\n            styles.Selected,\r\n            value.id !== 'placeholder' ? styles.Valid : null,\r\n          ].join(' ')}\r\n        >\r\n          {value.type}\r\n        </p>\r\n        <img src={downArrow} alt='arrow' />\r\n        {isDropdown ? (\r\n          <Dropdown\r\n            options={options}\r\n            value={value}\r\n            setValue={setValue}\r\n            setIsDropdown={setIsDropdown}\r\n          />\r\n        ) : null}\r\n      </div>\r\n      {invalid ? (\r\n        <div className={styles.ErrorMessage}>{errorMessage}</div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './SignUp.module.css';\r\nimport google from '../../../assets/auth/google.svg';\r\nimport Button from '../Button/Button';\r\nimport Or from '../Or/Or';\r\nimport Input from '../Input/Input';\r\nimport Select from '../Select/Select';\r\nimport CheckMail from '../CheckMail/CheckMail';\r\nimport { checkEmailValidity } from '../utils/validation';\r\nimport { Link } from 'react-router-dom';\r\nimport useMagicLink from '../../../hooks/useMagicLink';\r\nimport Spinner from '../../../components/Spinner2/Spinner';\r\n\r\nconst SignUp = ({ authUrl, isLoading, setIsLoading, checkTokenValidity }) => {\r\n  const [isSent, setIsSent] = useState(false);\r\n  const { magicLink, magickRes, magickError } = useMagicLink();\r\n  const [name, setName] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'text',\r\n    placeholder: 'First name',\r\n    errorMessage: 'Please enter your name',\r\n  });\r\n\r\n  const [email, setEmail] = useState({\r\n    value: '',\r\n    invalid: false,\r\n    type: 'email',\r\n    placeholder: 'Email address',\r\n    errorMessage: 'Please enter your email',\r\n  });\r\n\r\n  const [workType, setWorkType] = useState({\r\n    value: { type: 'What kind of work do you do?', id: 'placeholder' },\r\n    options: [\r\n      { type: 'What kind of work do you do?', id: 'placeholder' },\r\n      { type: 'Marketing', id: 'marketing' },\r\n      { type: 'Design', id: 'design' },\r\n      { type: 'Influencer', id: 'influencer' },\r\n      { type: 'Public Speaker', id: 'publicSpeaker' },\r\n      { type: 'Student', id: 'student' },\r\n      { type: 'Other', id: 'other' },\r\n    ],\r\n    invalid: false,\r\n    errorMessage: 'Please fill out this field',\r\n  });\r\n\r\n  useEffect(() => {\r\n    let token = localStorage.getItem('token');\r\n    if (token) {\r\n      checkTokenValidity(token);\r\n    } else setIsLoading(false);\r\n  }, [checkTokenValidity, setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    if (magickRes) setIsSent(true);\r\n  }, [magickRes]);\r\n\r\n  useEffect(() => {\r\n    if (magickError) {\r\n      setIsLoading(false);\r\n    }\r\n  }, [magickError, setIsLoading]);\r\n\r\n  const createAccountClickHandler = (e) => {\r\n    e.preventDefault();\r\n    let isEmailValid = checkEmailValidity(email.value);\r\n    let isNameValid = name.value.trim() !== '';\r\n    let isWorkTypeValid = workType.value.id !== 'placeholder';\r\n    if (!isEmailValid) {\r\n      setEmail((prevState) => ({ ...prevState, invalid: true }));\r\n    }\r\n    if (!isNameValid) setName((prevState) => ({ ...prevState, invalid: true }));\r\n    if (!isWorkTypeValid) {\r\n      setWorkType((prevState) => ({ ...prevState, invalid: true }));\r\n    }\r\n    if (isEmailValid && isNameValid && isWorkTypeValid) {\r\n      setIsLoading(true);\r\n      let jsonData = JSON.stringify({\r\n        email: email.value,\r\n        firstName: name.value,\r\n        workType: workType.value.type,\r\n      });\r\n      magicLink(jsonData);\r\n    }\r\n  };\r\n\r\n  let signUpContent = (\r\n    <div className={styles.SignUp}>\r\n      <h2 className={styles.Heading}>Create Account</h2>\r\n      <p className={styles.Subheading}>\r\n        Already have an account?{' '}\r\n        <Link to={`${authUrl}/sign-in`} className={styles.SignInLink}>\r\n          Sign in\r\n        </Link>\r\n      </p>\r\n      <div className={styles.FormContent}>\r\n        <a\r\n          className={styles.GoogleLink}\r\n          href={`${process.env.REACT_APP_API_BASE_URL_TEST}/api/v1/auth/google`}\r\n        >\r\n          <Button>\r\n            <img src={google} alt='google' className={styles.GoogleLogo} />\r\n            Sign Up with Google\r\n          </Button>\r\n        </a>\r\n        <Or />\r\n        <form className={styles.Form}>\r\n          <Input {...name} setValue={setName} />\r\n          <Input {...email} setValue={setEmail} />\r\n          <Select {...workType} setValue={setWorkType} />\r\n          <Button onClick={createAccountClickHandler}>Create Account</Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (isLoading)\r\n    signUpContent = <Spinner style={{ width: '100px', height: '100px' }} />;\r\n\r\n  return !isSent ? signUpContent : <CheckMail />;\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport styles from './Token.module.css';\r\nimport Spinner from '../../../components/Spinner2/Spinner';\r\nimport { useRouteMatch, useLocation, useHistory } from 'react-router-dom';\r\n\r\nconst Token = ({ setToken }) => {\r\n  const match = useRouteMatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const getToken = useCallback(() => {\r\n    return new URLSearchParams(location.search).get('token');\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      let tokenParam = getToken();\r\n      if (tokenParam) {\r\n        localStorage.setItem('token', tokenParam);\r\n        setToken(tokenParam);\r\n      } else history.push(`${match.path}/sign-in`);\r\n    }\r\n  }, [getToken, setToken, history, match, isFirstLoad]);\r\n\r\n  return (\r\n    <div className={styles.Token}>\r\n      <Spinner style={{ width: '100px', height: '100px' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Token;\r\n","import instance from '../axios-instance';\r\n\r\nconst setAuthToken = (token) => {\r\n  instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n};\r\n\r\nexport default setAuthToken;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useRefreshToken = () => {\r\n  const [newToken, setNewToken] = useState(null);\r\n  const [refreshError, setRefreshError] = useState(null);\r\n  const isMounted = useRef(false);\r\n  const axiosRefreshToken = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get('/refresh-token')\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const refreshToken = useCallback(async () => {\r\n    setNewToken(null)\r\n    setRefreshError(null)\r\n    try {\r\n      const res = await axiosRefreshToken();\r\n      console.log(res);\r\n      if (isMounted.current) {\r\n        setNewToken(res.data.accessToken);\r\n      }\r\n    } catch (err) {\r\n      setRefreshError(err)\r\n      console.log('Error Refreshing Token', err);\r\n    } finally {\r\n      return;\r\n    }\r\n  }, [axiosRefreshToken]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { refreshToken, newToken, refreshError };\r\n};\r\n\r\nexport default useRefreshToken;\r\n","import { createContext } from 'react';\r\n\r\nconst UserContext = createContext(null);\r\nexport default UserContext;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport styles from './Auth.module.css';\r\nimport saly from '../../assets/auth/saly.png';\r\nimport twiso from '../../assets/twiso.svg';\r\nimport SignIn from './SignIn/SignIn';\r\nimport SignUp from './SignUp/SignUp';\r\nimport Token from './Token/Token';\r\nimport {\r\n  useRouteMatch,\r\n  useHistory,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport setAuthToken from '../../utils/setAuthToken';\r\nimport useRefreshToken from '../../hooks/useRefreshToken';\r\nimport UserContext from '../../contexts/UserContext';\r\n\r\nconst Auth = () => {\r\n  const { userDispatch } = useContext(UserContext);\r\n  const { refreshToken, newToken, refreshError } = useRefreshToken();\r\n  const [token, setToken] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const match = useRouteMatch();\r\n  const history = useHistory();\r\n  const checkTokenValidity = useCallback(\r\n    (token) => {\r\n      setIsLoading(true);\r\n      setAuthToken(token);\r\n      refreshToken();\r\n    },\r\n    [refreshToken]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (newToken) {\r\n      localStorage.setItem('token', newToken);\r\n      setAuthToken(newToken);\r\n      userDispatch({ type: 'setIsAuthenticated', data: true });\r\n    } else if (refreshError) {\r\n      localStorage.removeItem('token');\r\n      setIsLoading(false);\r\n      history.replace(`/sign-in`);\r\n    }\r\n  }, [newToken, refreshError, userDispatch, history, match]);\r\n\r\n  useEffect(() => {\r\n    if (token) checkTokenValidity(token);\r\n  }, [token, checkTokenValidity]);\r\n\r\n  return (\r\n    <div className={styles.Auth}>\r\n      <div className={styles.Testimonial}>\r\n        <div className={styles.Background}></div>\r\n        <div className={styles.TestimonialContent}>\r\n          <img src={twiso} alt='twiso' className={styles.Twiso} />\r\n          <p className={styles.Heading}>Transcribe. Edit. Design.</p>\r\n          <p className={styles.Subheading}>All in one place.</p>\r\n          <img src={saly} alt='saly' className={styles.Mascot} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.Account}>\r\n        <Switch>\r\n          <Route exact path={`${match.path}`}>\r\n            <Token setToken={setToken} />\r\n          </Route>\r\n          <Route exact path={`${match.path}/sign-in`}>\r\n            <SignIn\r\n              authUrl={match.path}\r\n              setIsLoading={setIsLoading}\r\n              isLoading={isLoading}\r\n              checkTokenValidity={checkTokenValidity}\r\n              token={token}\r\n            />\r\n          </Route>\r\n          <Route exact path={`${match.path}/sign-up`}>\r\n            <SignUp\r\n              authUrl={match.path}\r\n              setIsLoading={setIsLoading}\r\n              isLoading={isLoading}\r\n              checkTokenValidity={checkTokenValidity}\r\n              token={token}\r\n            />\r\n          </Route>\r\n          <Redirect to={`${match.path}/sign-in`} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/dot.2b8ec3cc.svg\";","import React from 'react';\r\nimport styles from './User.module.css';\r\nimport dot from '../../../../assets/homepage/dot.svg';\r\n\r\nconst User = () => {\r\n  return (\r\n    <div className={styles.User}>\r\n      <div className={styles.UserName}>\r\n        <div className={styles.Initials}>\r\n          <span className={styles.Letter}>D</span>\r\n        </div>\r\n        <div className={styles.Name}>Dmitry</div>\r\n      </div>\r\n      <div className={styles.Dots}>\r\n        <img src={dot} alt='dot' />\r\n        <img src={dot} alt='dot' />\r\n        <img src={dot} alt='dot' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","export default __webpack_public_path__ + \"static/media/templates.5e558890.svg\";","export default __webpack_public_path__ + \"static/media/projects.f9bef55f.svg\";","export default __webpack_public_path__ + \"static/media/settings.54de79ee.svg\";","import React from 'react';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\nimport styles from './SideDrawer.module.css';\r\nimport User from './User/User';\r\nimport templates from '../../../assets/homepage/templates.svg';\r\nimport projects from '../../../assets/homepage/projects.svg';\r\nimport settings from '../../../assets/homepage/settings.svg';\r\n\r\nconst SideDrawer = () => {\r\n  const match = useRouteMatch();\r\n\r\n  return (\r\n    <div className={styles.SideDrawer}>\r\n      <User />\r\n      <div className={styles.Links}>\r\n        <NavLink\r\n          to={`${match.path}/templates`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={templates} alt='templates' />\r\n          <span className={styles.LinkText}>Templates</span>\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/projects`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={projects} alt='templates' />\r\n          <span className={styles.LinkText}>My projects</span>\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/settings`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          <img src={settings} alt='templates' />\r\n          <span className={styles.LinkText}>Settings</span>\r\n        </NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n\r\n  return (\r\n    <header className={styles.Navbar}>\r\n      <Link className={styles.NewButton} to='/editor/new'>\r\n        <span className={styles.Plus}>+</span>New Project\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export default __webpack_public_path__ + \"static/media/trash.15a0e3b4.svg\";","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useDeleteVideo = () => {\r\n  const [isDeletingVideo, setIsDeletingVideo] = useState(false);\r\n  const [deleteVideoResponse, setDeleteVideoResponse] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosDeleteVideo = useCallback((id) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .delete(`/videos/${id}`)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const deleteVideo = useCallback(\r\n    async (id) => {\r\n      setDeleteVideoResponse(null);\r\n      setIsDeletingVideo(true);\r\n      try {\r\n        const res = await axiosDeleteVideo(id);\r\n        if (isMounted.current) setDeleteVideoResponse('success');\r\n        console.log(res);\r\n      } catch (err) {\r\n        if (isMounted.current) {\r\n          setDeleteVideoResponse('error');\r\n          setIsDeletingVideo(false);\r\n        } \r\n        console.log('Error Deleting Video', err);\r\n      } finally {\r\n        return;\r\n      }\r\n    },\r\n    [axiosDeleteVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return {\r\n    isDeletingVideo,\r\n    deleteVideoResponse,\r\n    deleteVideo,\r\n  };\r\n};\r\n\r\nexport default useDeleteVideo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './Project.module.css';\r\nimport useUpdateProject from '../../../../hooks/useUpdateProject';\r\nimport Spinner from '../../../../components/Spinner2/Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport trash from '../../../../assets/preview/trash.svg';\r\nimport useDeleteVideo from '../../../../hooks/useDeleteVideo';\r\n\r\nconst Project = ({ video, setShouldFetch }) => {\r\n  const [input, setInput] = useState(video.title || '');\r\n  const { isUpdatingProject, updateProject, updateResponse } = useUpdateProject();\r\n  const { isDeletingVideo, deleteVideoResponse, deleteVideo } =\r\n    useDeleteVideo();\r\n\r\n  const transformDate = (d) => {\r\n    let date = new Date(d);\r\n    let day = date.getDate();\r\n    let month = date.getMonth() + 1;\r\n    let year = date.getFullYear();\r\n    let dateString = `${day > 9 ? day : '0' + day}.${\r\n      month > 9 ? month : '0' + month\r\n    }.${year}`;\r\n    return dateString;\r\n  };\r\n\r\n  const blurHandler = (e) => {\r\n    let value = e.target.value.trim();\r\n    if (value.length > 0 && value !== video.title) {\r\n      updateProject({\r\n        id: video._id,\r\n        title: value,\r\n      });\r\n    } else setInput(video.title);\r\n  };\r\n\r\n  const deleteClickHandler = () => {\r\n    let box = window.confirm('Are you sure you want to delete this project?');\r\n    if (box === true) deleteVideo(video._id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (updateResponse && typeof updateResponse !== 'string') {\r\n      video.title = updateResponse.title;\r\n    } else if (updateResponse === 'error') setInput(video.title);\r\n  }, [updateResponse, video]);\r\n\r\n  useEffect(() => {\r\n    if (deleteVideoResponse === 'success') {\r\n      setShouldFetch(true);\r\n    }\r\n  }, [deleteVideoResponse, setShouldFetch]);\r\n\r\n  return (\r\n    <div className={styles.Project}>\r\n      <Link\r\n        to={`/${!video.final_video_url ? 'editor' : 'preview'}/${video._id}`}\r\n        className={styles.Video}\r\n        style={{ backgroundImage: `url(${video.screenshot_url})` }}\r\n      ></Link>\r\n\r\n      <div className={styles.InfoContainer}>\r\n        <div className={styles.Info}>\r\n          {isUpdatingProject ? (\r\n            <Spinner\r\n              style={{ width: '20px', height: '20px', margin: 'auto 0' }}\r\n            />\r\n          ) : (\r\n            <input\r\n              className={styles.Name}\r\n              type='text'\r\n              value={input}\r\n              onBlur={blurHandler}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n          )}\r\n          <div className={styles.DateAndTrash}>\r\n            <p className={styles.Date}>{transformDate(video.created_at)}</p>\r\n            {isDeletingVideo ? (\r\n              <Spinner\r\n                style={{\r\n                  width: '25.6px',\r\n                  height: '25.6px',\r\n                  marginLeft: '0.2rem',\r\n                }}\r\n              />\r\n            ) : (\r\n              <img\r\n                className={styles.Trash}\r\n                src={trash}\r\n                alt='delete'\r\n                onClick={deleteClickHandler}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Project;\r\n","import React from 'react';\r\nimport styles from './Projects.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Project from './Project/Project';\r\nimport Spinner from '../../../components/Spinner2/Spinner';\r\n\r\nconst Projects = ({ videos, setShouldFetch }) => {\r\n  return (\r\n    <div className={styles.Projects}>\r\n      <h2 className={styles.Heading}>My projects</h2>\r\n      <p className={styles.Subheading}>\r\n        All your video and audio files in one place.\r\n      </p>\r\n      <div className={styles.ProjectsList}>\r\n        <div className={styles.AddProject}>\r\n          <Link className={styles.AddProjectInner} to='/editor/new'>\r\n            <div className={styles.AddProjectText}>\r\n              <span>+ Add new</span>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n\r\n        {videos ? (\r\n          videos.map((video) => {\r\n            return (\r\n              <div className={styles.ProjectContainer} key={video._id}>\r\n                <Project video={video} setShouldFetch={setShouldFetch} />\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <Spinner style={{ width: '60px', height: '60px' }} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n","export default __webpack_public_path__ + \"static/media/pic1.c02db87d.png\";","export default __webpack_public_path__ + \"static/media/pic2.52a36858.png\";","export default __webpack_public_path__ + \"static/media/pic3.575c1345.png\";","export default __webpack_public_path__ + \"static/media/pic4.f225bae3.png\";","export default __webpack_public_path__ + \"static/media/pic5.4c4aa83f.png\";","export default __webpack_public_path__ + \"static/media/pic6.ab8ce737.png\";","import React from 'react';\r\nimport styles from './Webinar.module.css';\r\nimport pic1 from '../../../../assets/homepage/pic1.png';\r\nimport pic2 from '../../../../assets/homepage/pic2.png';\r\nimport pic3 from '../../../../assets/homepage/pic3.png';\r\nimport pic4 from '../../../../assets/homepage/pic4.png';\r\nimport pic5 from '../../../../assets/homepage/pic5.png';\r\nimport pic6 from '../../../../assets/homepage/pic6.png';\r\n\r\nconst Webinar = () => {\r\n  return (\r\n    <div className={styles.Webinar}>\r\n      <h2 className={styles.Heading}>Webinar</h2>\r\n      <p className={styles.Subheading}>\r\n        Make your webinar branded and professional looking\r\n      </p>\r\n      <div className={styles.TemplatesList}>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic1})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic2})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic3})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic4})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic5})` }}\r\n          ></div>\r\n        </div>\r\n        <div className={styles.Template}>\r\n          <div\r\n            className={styles.TemplateInner}\r\n            style={{ backgroundImage: `url(${pic6})` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Webinar;\r\n","import React from 'react';\r\nimport styles from './Templates.module.css';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  useRouteMatch,\r\n  NavLink,\r\n} from 'react-router-dom';\r\nimport Webinar from './Webinar/Webinar';\r\n\r\nconst Templates = () => {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <div className={styles.Templates}>\r\n      <div className={styles.NavLinks}>\r\n        <NavLink\r\n          to={`${match.path}/webinar`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Webinar\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/podcast`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Podcast\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/vlog`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Vlog\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/demo-recording`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Demo recording\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/video-testimonial`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Video testimonial\r\n        </NavLink>\r\n        <NavLink\r\n          to={`${match.path}/training-onboarding`}\r\n          className={styles.Link}\r\n          activeClassName={styles.Active}\r\n          replace\r\n        >\r\n          Training & onboarding\r\n        </NavLink>\r\n      </div>\r\n\r\n      <Switch>\r\n        <Route exact path={`${match.path}/webinar`}>\r\n          <Webinar />\r\n        </Route>\r\n        <Route exact path={`${match.path}/podcast`}>\r\n          <h1 className={styles.Heading}>Podcast</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/vlog`}>\r\n          <h1 className={styles.Heading}>Vlog</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/demo-recording`}>\r\n          <h1 className={styles.Heading}>Demo recording</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/video-testimonial`}>\r\n          <h1 className={styles.Heading}>Video testimonial</h1>\r\n        </Route>\r\n        <Route exact path={`${match.path}/training-onboarding`}>\r\n          <h1 className={styles.Heading}>Training & onboarding</h1>\r\n        </Route>\r\n        <Redirect to={`${match.path}/webinar`} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Templates;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useGetVideos = () => {\r\n  const [isGettingVideos, setIsGettingVideos] = useState(false);\r\n  const [videos, setVideos] = useState(false);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosGetVideos = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get('/videos')\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const getVideos = useCallback(async () => {\r\n    setIsGettingVideos(true);\r\n    try {\r\n      const res = await axiosGetVideos();\r\n      if (isMounted.current) setVideos(res.data);\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log('Error Getting Videos', err);\r\n    } finally {\r\n      if (isMounted.current) setIsGettingVideos(false);\r\n      return;\r\n    }\r\n  }, [axiosGetVideos]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isGettingVideos, getVideos, videos };\r\n};\r\n\r\n\r\n\r\nexport default useGetVideos;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './Homepage.module.css';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport Navbar from './Navbar/Navbar';\r\nimport Projects from './Projects/Projects';\r\nimport Templates from './Templates/Templates';\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom';\r\nimport useGetVideos from '../../hooks/useGetVideos';\r\n\r\nconst Homepage = () => {\r\n  const match = useRouteMatch();\r\n  const { getVideos, videos } = useGetVideos();\r\n  const [shouldFetchVideos, setShouldFetchVideos] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (shouldFetchVideos) {\r\n      setShouldFetchVideos(false);\r\n      getVideos();\r\n    }\r\n  }, [getVideos, shouldFetchVideos]);\r\n\r\n  return (\r\n    <div className={styles.Homepage}>\r\n      <SideDrawer />\r\n      <div className={styles.Main}>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path={`${match.path}/templates`}>\r\n            <Templates />\r\n          </Route>\r\n          <Route exact path={`${match.path}/projects`}>\r\n            <Projects\r\n              videos={videos}\r\n              setShouldFetch={setShouldFetchVideos}\r\n            />\r\n          </Route>\r\n          <Route exact path={`${match.path}/settings`}>\r\n            <h1>Settings</h1>\r\n          </Route>\r\n          <Redirect to={`${match.path}/projects`} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setIsAuthenticated':\r\n      return { ...state, isAuthenticated: action.data };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useUserState = () => {\r\n  const [userState, userDispatch] = useReducer(reducer, initialState);\r\n  return [userState, userDispatch];\r\n};\r\n\r\nexport default useUserState;\r\n","import { useEffect } from 'react';\r\nconst useTrackTime = (refreshToken) => {\r\n  useEffect(() => {\r\n    let interval = setInterval(() => {\r\n      refreshToken();\r\n    }, 1000 * 60 * 60 * 5); // 5 hours\r\n\r\n    return () => clearInterval(interval);\r\n  }, [refreshToken]);\r\n};\r\n\r\nexport default useTrackTime;\r\n","export default __webpack_public_path__ + \"static/media/exportArrow.a5f3dc35.svg\";","export default __webpack_public_path__ + \"static/media/copyLink.5981ccb5.svg\";","export default __webpack_public_path__ + \"static/media/play.bf489b35.svg\";","export default __webpack_public_path__ + \"static/media/pause.a3096265.svg\";","export default __webpack_public_path__ + \"static/media/fullScreen.08af1b32.svg\";","const openFullScreen = (el) => {\r\n  if (el.requestFullscreen) {\r\n    el.requestFullscreen();\r\n  } else if (el.msRequestFullscreen) {\r\n    el.msRequestFullscreen();\r\n  } else if (el.mozRequestFullScreen) {\r\n    el.mozRequestFullScreen();\r\n  } else if (el.webkitRequestFullscreen) {\r\n    el.webkitRequestFullscreen();\r\n  }\r\n};\r\n\r\nconst closeFullscreen = () => {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) {\r\n    document.msExitFullscreen();\r\n  }\r\n};\r\n\r\nexport const fullScreenHanlder = (container) => {\r\n  if (!document.fullscreenElement) {\r\n    openFullScreen(container);\r\n  } else closeFullscreen();\r\n};\r\n","export const handleInputChange = (val, min, max, ref) => {\r\n  ref.current.style.backgroundSize =\r\n    ((val - min) * 100) / (max - min) + '% 100%';\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport styles from './TimelineSlider.module.css';\r\nimport { handleInputChange } from '../../utils/slider';\r\n\r\nconst TimelineSlider = ({\r\n  min,\r\n  max,\r\n  step,\r\n  value,\r\n  setValue,\r\n  isPlaying,\r\n  video,\r\n}) => {\r\n  const inputRef = useRef(null);\r\n  const [shouldPlay, setShouldPlay] = useState(false);\r\n\r\n  useEffect(() => {\r\n    handleInputChange(value, min, max, inputRef);\r\n  }, [value, min, max]);\r\n\r\n  const mouseDownHandler = (e) => {\r\n    if (isPlaying) {\r\n      setShouldPlay(true);\r\n      video.pause();\r\n    } else {\r\n      setShouldPlay(false);\r\n    }\r\n  };\r\n\r\n  const mouseUpHandler = (e) => {\r\n    if (shouldPlay) video.play();\r\n  };\r\n\r\n  const changeHandler = (e) => {\r\n    setValue(e.target.value);\r\n    video.currentTime = e.target.value;\r\n  };\r\n\r\n  return (\r\n    <input\r\n      type='range'\r\n      ref={inputRef}\r\n      className={styles.Slider}\r\n      min={min}\r\n      max={max}\r\n      step={step}\r\n      value={value}\r\n      onChange={changeHandler}\r\n      onMouseDown={mouseDownHandler}\r\n      onMouseUp={mouseUpHandler}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TimelineSlider;\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport styles from './Time.module.css';\r\nimport TimelineSlider from './TimelineSlider/TimelineSlider';\r\n\r\nconst Time = ({\r\n  duration,\r\n  time,\r\n  setTime,\r\n  isPlaying,\r\n  video\r\n}) => {\r\n  const [isMoreThanHour, setIsMoreThanHour] = useState(false);\r\n  const timeStrRef = useRef(null);\r\n  const [timeString, setTimeString] = useState('00:00');\r\n\r\n  const generateTimeString = useCallback((t) => {\r\n    let timeStr = '';\r\n    let h = Math.floor(t / 3600);\r\n    let m = Math.floor((t % 3600) / 60);\r\n    let s = Math.floor((t % 3600) % 60);\r\n    if (h > 0) {\r\n      h < 10 ? (timeStr += '0' + h + ':') : (timeStr += h + ':');\r\n      setIsMoreThanHour(true);\r\n    } else setIsMoreThanHour(false);\r\n    if (m < 10) timeStr += '0';\r\n    timeStr += m + ':';\r\n    if (s < 10) timeStr += '0';\r\n    timeStr += s;\r\n    setTimeString(timeStr);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMoreThanHour) timeStrRef.current.style.width = '4rem';\r\n    else timeStrRef.current.style.width = '3rem';\r\n  }, [isMoreThanHour]);\r\n\r\n  useEffect(() => {\r\n    generateTimeString(time);\r\n  }, [time, generateTimeString]);\r\n\r\n  return (\r\n    <>\r\n      <p ref={timeStrRef} className={styles.Time}>\r\n        {timeString}\r\n      </p>\r\n      <div className={styles.Timeline}>\r\n        <TimelineSlider\r\n          min='0'\r\n          max={duration}\r\n          step='0.01'\r\n          value={time}\r\n          setValue={setTime}\r\n          isPlaying={isPlaying}\r\n          video={video}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Time;\r\n","export default __webpack_public_path__ + \"static/media/volume.d174078d.svg\";","import React, { useEffect, useRef } from 'react';\r\nimport styles from './VolumeSlider.module.css';\r\nimport { handleInputChange } from '../../utils/slider';\r\n\r\nconst VolumeSlider = ({ min, max, step, value, setValue }) => {\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    handleInputChange(value, min, max, inputRef);\r\n  }, [value, min, max]);\r\n\r\n  return (\r\n    <input\r\n      type='range'\r\n      ref={inputRef}\r\n      className={styles.Slider}\r\n      min={min}\r\n      max={max}\r\n      step={step}\r\n      value={value}\r\n      onChange={(e) => setValue(e.target.value)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default VolumeSlider;","import React, { useEffect, useRef } from 'react';\r\nimport styles from './Volume.module.css';\r\nimport volumeSvg from '../../../../assets/preview/volume.svg';\r\nimport VolumeSlider from './VolumeSlider/VolumeSlider';\r\n\r\nconst Volume = ({ video, volume, setVolume }) => {\r\n  const volumeRef = useRef('1');\r\n\r\n  useEffect(() => {\r\n    if (+volume !== 0) volumeRef.current = volume;\r\n    video.volume = volume;\r\n  }, [video, volume]);\r\n\r\n  const volumeClickHandler = () => {\r\n    if (+volume === 0 && +volumeRef.current > 0.1) {\r\n      setVolume(volumeRef.current);\r\n    } else if (+volume === 0) {\r\n      volumeRef.current = '1';\r\n      setVolume('1');\r\n    } else {\r\n      volumeRef.current = volume;\r\n      setVolume('0');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button className={styles.Volume}>\r\n      <div className={styles.VolumeButton} onClick={volumeClickHandler}>\r\n        <img src={volumeSvg} alt='volume' />\r\n        {+volume === 0 ? <div className={styles.VolumeOff}></div> : null}\r\n      </div>\r\n      <div className={styles.VolumeBar}>\r\n        <VolumeSlider\r\n          min='0'\r\n          max='1'\r\n          step='0.1'\r\n          value={volume}\r\n          setValue={setVolume}\r\n        />\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Volume;\r\n","import { useState, useEffect, useRef } from 'react';\r\n\r\nconst useSingleAndDoubleClick = (onSingleClick, onDoubleClick, ref) => {\r\n  const [clickCount, setClickCount] = useState(0);\r\n  const isMounted = useRef(false);\r\n  const timerRef = useRef(null);\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.target.id === 'controls') setClickCount((prevSatate) => prevSatate + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (clickCount === 1) {\r\n      timerRef.current = setTimeout(() => {\r\n        if (isMounted.current) {\r\n          setClickCount(0);\r\n          onSingleClick();\r\n        }\r\n      }, 300);\r\n    } else if (clickCount > 1) {\r\n      if (timerRef.current) {\r\n        clearTimeout(timerRef.current);\r\n        timerRef.current = null;\r\n      }\r\n      setClickCount(0);\r\n      onDoubleClick();\r\n    }\r\n  }, [clickCount, onSingleClick, onDoubleClick]);\r\n\r\n  useEffect(() => {\r\n    let target = ref.current;\r\n    target.addEventListener('click', clickHandler);\r\n    return () => target.removeEventListener('click', clickHandler);\r\n  }, [ref]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n};\r\n\r\nexport default useSingleAndDoubleClick;\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nconst useShowHidePanel = (\r\n  isPlaying,\r\n  controlsRef,\r\n  panelRef,\r\n  visible,\r\n  hover,\r\n  shouldShowPanel,\r\n  setShouldShowPanel\r\n) => {\r\n  const [isCursorOnPanel, setIsCursorOnPanel] = useState(false);\r\n  const isMounted = useRef(false);\r\n  const hovertimerRef = useRef(null);\r\n  const visibletimerRef = useRef(null);\r\n\r\n  const startTimeout = useCallback((timerRef, ref, style) => {\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n    timerRef.current = setTimeout(() => {\r\n      if (isMounted.current) {\r\n        ref.current.classList.remove(style);\r\n        timerRef.current = null;\r\n      }\r\n    }, 3000);\r\n  }, []);\r\n\r\n  const mouseMoveHanlder = useCallback(() => {\r\n    controlsRef.current.classList.add(hover);\r\n    if (isPlaying && !isCursorOnPanel) {\r\n      startTimeout(hovertimerRef, controlsRef, hover);\r\n    } else if (isPlaying && isCursorOnPanel) {\r\n      if (hovertimerRef.current) {\r\n        clearTimeout(hovertimerRef.current);\r\n        hovertimerRef.current = null;\r\n      }\r\n    }\r\n  }, [isPlaying, isCursorOnPanel, controlsRef, startTimeout, hover]);\r\n\r\n  const mouseEnterHandler = useCallback(() => setIsCursorOnPanel(true), []);\r\n  const mouseLeaveHandler = useCallback(() => setIsCursorOnPanel(false), []);\r\n\r\n  useEffect(() => {\r\n    controlsRef.current.classList.add(hover);\r\n  }, [controlsRef, hover]);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) {\r\n      controlsRef.current.classList.add(visible);\r\n      controlsRef.current.classList.add(hover);\r\n    } else {\r\n      controlsRef.current.classList.remove(visible);\r\n      if (!isCursorOnPanel) startTimeout(hovertimerRef, controlsRef, hover);\r\n    }\r\n  }, [isPlaying, controlsRef, visible, startTimeout, hover, isCursorOnPanel]);\r\n\r\n  useEffect(() => {\r\n    if (isPlaying && shouldShowPanel && !isCursorOnPanel) {\r\n      setShouldShowPanel(false);\r\n      controlsRef.current.classList.add(visible);\r\n      startTimeout(visibletimerRef, controlsRef, visible);\r\n    } else setShouldShowPanel(false);\r\n  }, [\r\n    controlsRef,\r\n    hover,\r\n    shouldShowPanel,\r\n    setShouldShowPanel,\r\n    visible,\r\n    startTimeout,\r\n    isPlaying,\r\n    isCursorOnPanel,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    let controls = controlsRef.current;\r\n    let panel = panelRef.current;\r\n    controls.addEventListener('mousemove', mouseMoveHanlder);\r\n    panel.addEventListener('mouseenter', mouseEnterHandler);\r\n    panel.addEventListener('mouseleave', mouseLeaveHandler);\r\n    return () => {\r\n      controls.removeEventListener('mousemove', mouseMoveHanlder);\r\n      panel.removeEventListener('mouseenter', mouseEnterHandler);\r\n      panel.removeEventListener('mouseleave', mouseLeaveHandler);\r\n    };\r\n  }, [\r\n    controlsRef,\r\n    panelRef,\r\n    mouseMoveHanlder,\r\n    mouseEnterHandler,\r\n    mouseLeaveHandler,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n};\r\n\r\nexport default useShowHidePanel;\r\n","import { useEffect, useCallback } from 'react';\r\n\r\nconst useKeyEvents = (video, playPause, setVolume, setShouldShowPanel) => {\r\n  const keydownHandler = useCallback(\r\n    (e) => {\r\n      if (document.activeElement.tagName === 'INPUT') e.preventDefault();\r\n      let isSpace = e.code === 'Space' || e.key === 'Space';\r\n      if (isSpace) {\r\n        e.preventDefault();\r\n        playPause();\r\n      } else if (\r\n        (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') &&\r\n        !e.shiftKey\r\n      ) {\r\n        video.currentTime = video.currentTime - 5;\r\n      } else if (\r\n        (e.code === 'ArrowRight' || e.key === 'ArrowRight') &&\r\n        !e.shiftKey\r\n      ) {\r\n        video.currentTime = video.currentTime + 5;\r\n      } else if ((e.code === 'ArrowUp' || e.key === 'ArrowUp') && !e.shiftKey) {\r\n        e.preventDefault();\r\n        setVolume((prevState) => {\r\n          if (+prevState < 1)\r\n            return Math.round((+prevState + 0.1) * 100) / 100 + '';\r\n          else return prevState;\r\n        });\r\n      } else if (\r\n        (e.code === 'ArrowDown' || e.key === 'ArrowDown') &&\r\n        !e.shiftKey\r\n      ) {\r\n        e.preventDefault();\r\n        setVolume((prevState) => {\r\n          if (+prevState > 0)\r\n            return Math.round((+prevState - 0.1) * 100) / 100 + '';\r\n          else return prevState;\r\n        });\r\n      }\r\n      if (!isSpace) setShouldShowPanel(true);\r\n    },\r\n    [video, playPause, setVolume, setShouldShowPanel]\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', keydownHandler);\r\n    return () => window.removeEventListener('keydown', keydownHandler);\r\n  }, [keydownHandler]);\r\n};\r\n\r\nexport default useKeyEvents;\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport styles from './Controls.module.css';\r\nimport playSvg from '../../../assets/preview/play.svg';\r\nimport pauseSvg from '../../../assets/preview/pause.svg';\r\nimport fullScreenSvg from '../../../assets/preview/fullScreen.svg';\r\nimport { fullScreenHanlder } from './utils/fullScreen';\r\nimport Time from './Time/Time';\r\nimport Volume from './Volume/Volume';\r\nimport useSingleAndDoubleClick from './hooks/useSingleAndDoubleClick';\r\nimport useShowHidePanel from './hooks/useShowHidePanel';\r\nimport useKeyEvents from './hooks/useKeyEvents';\r\n\r\nconst Controls = ({ video, container, duration, time, setTime, isPlaying }) => {\r\n  const [volume, setVolume] = useState('1');\r\n  const [shouldShowPanel, setShouldShowPanel] = useState(false);\r\n  const controlsRef = useRef(null);\r\n  const panelRef = useRef(null);\r\n  const playPause = useCallback(() => {\r\n    if (isPlaying) video.pause();\r\n    else video.play();\r\n  }, [isPlaying, video]);\r\n\r\n  const fullScreen = useCallback(() => {\r\n    fullScreenHanlder(container);\r\n  }, [container]);\r\n\r\n  useKeyEvents(video, playPause, setVolume, setShouldShowPanel);\r\n  useSingleAndDoubleClick(playPause, fullScreen, controlsRef);\r\n  useShowHidePanel(\r\n    isPlaying,\r\n    controlsRef,\r\n    panelRef,\r\n    styles.Visible,\r\n    styles.Hover,\r\n    shouldShowPanel,\r\n    setShouldShowPanel\r\n  );\r\n\r\n  return (\r\n    <div id='controls' className={styles.Controls} ref={controlsRef}>\r\n      <div className={styles.ControlsPanel} ref={panelRef}>\r\n        <button className={styles.PlayPause} onClick={playPause}>\r\n          {isPlaying ? (\r\n            <img src={pauseSvg} alt='pause' />\r\n          ) : (\r\n            <img src={playSvg} alt='play' />\r\n          )}\r\n        </button>\r\n        <Time\r\n          duration={duration}\r\n          time={time}\r\n          setTime={setTime}\r\n          isPlaying={isPlaying}\r\n          video={video}\r\n        />\r\n        <Volume video={video} volume={volume} setVolume={setVolume} />\r\n        <button\r\n          className={styles.FullScreen}\r\n          onClick={() => fullScreenHanlder(container)}\r\n        >\r\n          <img src={fullScreenSvg} alt='full screen' />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import React, { useState, useRef } from 'react';\r\nimport styles from './CustomPlayer.module.css';\r\nimport Controls from './Controls/Controls';\r\n\r\nconst CustomPlayer = ({ url }) => {\r\n  const [duration, setDuration] = useState(0);\r\n  const videoRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const [time, setTime] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  const setVideoDuration = () => setDuration(videoRef.current.duration);\r\n  const handleTimeUpdate = () => setTime(videoRef.current.currentTime);\r\n  const handlePlay = () => setIsPlaying(true);\r\n  const handlePause = () => setIsPlaying(false);\r\n\r\n  return (\r\n    <div className={styles.VideoContainer} ref={containerRef}>\r\n      <video\r\n        className={styles.Video}\r\n        src={url}\r\n        preload='auto'\r\n        ref={videoRef}\r\n        onLoadedMetadata={setVideoDuration}\r\n        onTimeUpdate={handleTimeUpdate}\r\n        onPlay={handlePlay}\r\n        onPause={handlePause}\r\n      />\r\n      {duration ? (\r\n        <Controls\r\n          video={videoRef.current}\r\n          container={containerRef.current}\r\n          duration={duration}\r\n          time={time}\r\n          setTime={setTime}\r\n          isPlaying={isPlaying}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomPlayer;\r\n","import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport axios from '../axios-instance';\r\n\r\nconst useGetPublicVideo = () => {\r\n  const [isGettingPublicVideo, setIsGettingPublicVideo] = useState(false);\r\n  const [publicInfo, setPublicInfo] = useState(null);\r\n  const [getPublicVideoError, setGetPublicVideoError] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosGetPublicVideo = useCallback((id) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(`/public/videos/${id}`)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const getPublicVideo = useCallback(\r\n    async (id) => {\r\n      setGetPublicVideoError(null);\r\n      setIsGettingPublicVideo(true);\r\n      try {\r\n        const res = await axiosGetPublicVideo(id);\r\n        if (isMounted.current) {\r\n          setPublicInfo({\r\n            finalUrl: res.data.final_video_url || null,\r\n            title: res.data.title,\r\n          });\r\n        }\r\n        console.log(res);\r\n      } catch (err) {\r\n        if (isMounted.current) setGetPublicVideoError(err);\r\n        console.log('Error Getting Public Video', err);\r\n      } finally {\r\n        if (isMounted.current) setIsGettingPublicVideo(false);\r\n        return;\r\n      }\r\n    },\r\n    [axiosGetPublicVideo]\r\n  );\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return {\r\n    isGettingPublicVideo,\r\n    getPublicVideo,\r\n    publicInfo,\r\n    getPublicVideoError,\r\n  };\r\n};\r\n\r\nexport default useGetPublicVideo;\r\n","import { useEffect, useCallback, useRef, useState } from 'react';\r\nimport setAuthToken from '../utils/setAuthToken';\r\nimport axios from '../axios-instance';\r\n\r\nconst useCheckAuth = (dispatch) => {\r\n  const [newToken, setNewToken] = useState(null);\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [isChecking, setIsChecking] = useState(true);\r\n  const [refreshError, setRefreshError] = useState(null);\r\n  const isMounted = useRef(false);\r\n\r\n  const axiosRefreshToken = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get('/refresh-token')\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const refreshToken = useCallback(async () => {\r\n    setNewToken(null);\r\n    setRefreshError(null);\r\n    try {\r\n      const res = await axiosRefreshToken();\r\n      console.log(res);\r\n      if (isMounted.current) {\r\n        setNewToken(res.data.accessToken);\r\n      }\r\n    } catch (err) {\r\n      setRefreshError(err);\r\n      console.log('Error Refreshing Token', err);\r\n    } finally {\r\n      return;\r\n    }\r\n  }, [axiosRefreshToken]);\r\n\r\n  const checkTokenValidity = useCallback(\r\n    (token) => {\r\n      setIsChecking(true);\r\n      setAuthToken(token);\r\n      refreshToken();\r\n    },\r\n    [refreshToken]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (newToken) {\r\n      localStorage.setItem('token', newToken);\r\n      setAuthToken(newToken);\r\n      setIsAuth(true);\r\n      dispatch({ type: 'setIsAuthenticated', data: true });\r\n    } else if (refreshError) {\r\n      localStorage.removeItem('token');\r\n    }\r\n    setIsChecking(false);\r\n  }, [newToken, refreshError, dispatch]);\r\n\r\n  useEffect(() => {\r\n    let token = localStorage.getItem('token');\r\n    if (token) checkTokenValidity(token);\r\n    else {\r\n      setIsChecking(false);\r\n      setIsAuth(false);\r\n    }\r\n  }, [checkTokenValidity]);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n    return () => (isMounted.current = false);\r\n  }, []);\r\n\r\n  return { isChecking, isAuth };\r\n};\r\n\r\nexport default useCheckAuth;\r\n","import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport styles from './Preview.module.css';\r\nimport Navbar from '../../components/Navbar/Navbar';\r\nimport exportArrow from '../../assets/preview/exportArrow.svg';\r\nimport copyLink from '../../assets/preview/copyLink.svg';\r\nimport { exportText } from './utils/previewUtils';\r\nimport CustomPlayer from '../CustomPlayer/CustomPlayer';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport Spinner from '../../components/Spinner2/Spinner';\r\nimport useGetVideo from '../../hooks/useGetVideo';\r\nimport useGetPublicVideo from '../../hooks/useGetPublicVideo';\r\nimport UserContext from '../../contexts/UserContext';\r\nimport useCheckAuth from '../../hooks/useCheckAuth';\r\n\r\nconst Preview = () => {\r\n  const { userDispatch } = useContext(UserContext);\r\n  const { isChecking, isAuth } = useCheckAuth(userDispatch);\r\n  const { getVideo, info, getVideoError } = useGetVideo();\r\n  const { getPublicVideo, publicInfo, getPublicVideoError } =\r\n    useGetPublicVideo();\r\n  const [videoInfo, setVideoInfo] = useState(null);\r\n  const [article, setArticle] = useState(null);\r\n  const videoDownloadRef = useRef(null);\r\n  const params = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (info && info.finalText) {\r\n      setVideoInfo({ ...info });\r\n      setArticle(info.finalText);\r\n    } else if (publicInfo && publicInfo.finalUrl) {\r\n      setVideoInfo({ ...publicInfo });\r\n    }\r\n  }, [info, publicInfo]);\r\n\r\n  useEffect(() => {\r\n    if (getVideoError || (info && !info.finalUrl)) {\r\n      let isId = params && params.id;\r\n      if (isId) getPublicVideo(params.id);\r\n    }\r\n  }, [getVideoError, info, history, params, getPublicVideo]);\r\n\r\n  useEffect(() => {\r\n    if (getPublicVideoError || (publicInfo && !publicInfo.finalUrl)) {\r\n      history.push('/home');\r\n    }\r\n  }, [publicInfo, history, getPublicVideoError]);\r\n\r\n  useEffect(() => {\r\n    let isId = params && params.id;\r\n    if (!isChecking && !isAuth && isId) getPublicVideo(params.id);\r\n    else if (!isChecking && isAuth && isId) getVideo(params.id);\r\n  }, [isChecking, isAuth, params, getPublicVideo, getVideo]);\r\n\r\n  const downloadVideoHandler = () => {\r\n    videoDownloadRef.current.click();\r\n  };\r\n\r\n  const copyLinkHandler = () => {\r\n    navigator.clipboard.writeText(window.location.href);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Preview}>\r\n      {videoInfo && videoInfo.finalUrl ? (\r\n        <>\r\n          <Navbar\r\n            videoData={videoInfo}\r\n            isPreview={true}\r\n            getVideoError={getVideoError}\r\n            isAuth={isAuth}\r\n          />\r\n          <main className={styles.Main}>\r\n            <div className={styles.MainContent}>\r\n              <div className={styles.CustomPlayer}>\r\n                <CustomPlayer url={videoInfo.finalUrl} />\r\n                <a\r\n                  ref={videoDownloadRef}\r\n                  style={{ display: 'none' }}\r\n                  href={`${process.env.REACT_APP_API_BASE_URL_TEST}/api/v1/public/videos/download/${params.id}`}\r\n                >\r\n                  Download Video\r\n                </a>\r\n              </div>\r\n              <div className={styles.VideoFooter}>\r\n                <p className={styles.Title}>{videoInfo.title}</p>\r\n                <div className={styles.DownloadAndLink}>\r\n                  <button\r\n                    className={styles.Download}\r\n                    onClick={downloadVideoHandler}\r\n                  >\r\n                    Download\r\n                  </button>\r\n                  <button className={styles.CopyLink} onClick={copyLinkHandler}>\r\n                    <img src={copyLink} alt='copy' />\r\n                    <span>Copy public link</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {article ? (\r\n                <>\r\n                  <div className={styles.HeadlineAndExport}>\r\n                    <p className={styles.Headline}>\r\n                      Give your articale a headline!\r\n                    </p>\r\n                    <button\r\n                      className={styles.ExportButton}\r\n                      onClick={() => exportText(article, videoInfo.title)}\r\n                    >\r\n                      <span>Export text</span>\r\n                      <img src={exportArrow} alt='arrow' />\r\n                    </button>\r\n                  </div>\r\n                  <p className={styles.Text}>{article}</p>\r\n                </>\r\n              ) : null}\r\n            </div>\r\n          </main>\r\n        </>\r\n      ) : (\r\n        <Spinner style={{ width: '100px', height: '100px' }} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preview;\r\n","export const exportText = (text, title) => {\r\n  let a = document.createElement('a');\r\n  a.setAttribute(\r\n    'href',\r\n    'data:text/plain;charset=utf-8,' + encodeURIComponent(text)\r\n  );\r\n  a.setAttribute('download', title);\r\n  a.style.display = 'none';\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\nfabric.Video = fabric.util.createClass(fabric.Image, {\r\n  type: 'video',\r\n  cropRect: null,\r\n  id: null,\r\n  \r\n  initialize: function (video, options) {\r\n    const defaultOpts = {\r\n      lockRotation: true,\r\n      objectCaching: true,\r\n      cacheProperties: ['time'],\r\n    };\r\n    options = options || {};\r\n\r\n    this.callSuper(\r\n      'initialize',\r\n      video,\r\n      Object.assign({}, defaultOpts, options)\r\n    );\r\n  },\r\n\r\n  toObject: function (options) {\r\n    return fabric.util.object.extend(this.callSuper('toObject'), {\r\n      type: this.get('type'),\r\n      cropRect: this.get('cropRect'),\r\n      id: this.get('id'),\r\n    });\r\n  },\r\n\r\n  _draw: function (video, ctx, w, h) {\r\n    const c = this.cropRect;\r\n    const d = {\r\n      x: -this.width / 2,\r\n      y: -this.height / 2,\r\n      w: this.width,\r\n      h: this.height,\r\n    };\r\n    if (c) {\r\n      ctx.drawImage(video, c.x, c.y, c.w, c.h, d.x, d.y, d.w, d.h);\r\n    } else {\r\n      ctx.drawImage(video, d.x, d.y, d.w, d.h);\r\n    }\r\n  },\r\n\r\n  _render: function (ctx) {\r\n    this._draw(this.getElement(), ctx);\r\n  },\r\n});\r\n\r\nfabric.Video.prototype.setControlsVisibility({\r\n  tl: true,\r\n  tr: true, \r\n  bl: true, \r\n  br: true, \r\n  mtr: false\r\n});\r\n\r\nfabric.Video.fromObject = function (object, callback) {\r\n  return fabric.Object._fromObject(\r\n    'Video',\r\n    object,\r\n    callback,\r\n    'type',\r\n    'cropRect',\r\n    'id'\r\n  );\r\n};","import { fabric } from 'fabric';\r\n\r\nfabric.CropBox = fabric.util.createClass(fabric.Rect);\r\n\r\nfabric.CropBox.prototype.setControlsVisibility({\r\n  mtr: false\r\n});","export default __webpack_public_path__ + \"static/media/ctrlScale.3fdf1e45.svg\";","export default __webpack_public_path__ + \"static/media/ctrlStretch.366a4843.svg\";","export default __webpack_public_path__ + \"static/media/ctrlRotate.aba272aa.svg\";","import { fabric } from 'fabric';\r\nimport ctrlScale from '../assets/editor/ctrlScale.svg';\r\nimport ctrlStretch from '../assets/editor/ctrlStretch.svg';\r\nimport ctrlRotate from '../assets/editor/ctrlRotate.svg';\r\n\r\nfabric.Object.prototype.transparentCorners = false;\r\nfabric.Object.prototype.cornerColor = 'white';\r\nfabric.Object.prototype.borderColor = '#6F7BD0';\r\nfabric.Object.prototype.cornerStrokeColor = '#6F7BD0';\r\nfabric.Object.prototype.cornerStyle = 'circle';\r\nfabric.Object.prototype.objectCaching = false;\r\nfabric.Line.prototype.borderColor = 'transparent';\r\n\r\nconst ctrlStretchImage = new Image();\r\nctrlStretchImage.src = ctrlStretch;\r\nconst ctrlScaleImage = new Image();\r\nctrlScaleImage.src = ctrlScale;\r\nconst ctrlRotateImage = new Image();\r\nctrlRotateImage.src = ctrlRotate;\r\nconst controlsUtils = fabric.controlsUtils,\r\n  scaleSkewStyleHandler = controlsUtils.scaleSkewCursorStyleHandler,\r\n  scaleStyleHandler = controlsUtils.scaleCursorStyleHandler,\r\n  scalingEqually = controlsUtils.scalingEqually,\r\n  scalingYOrSkewingX = controlsUtils.scalingYOrSkewingX,\r\n  scalingXOrSkewingY = controlsUtils.scalingXOrSkewingY,\r\n  scaleOrSkewActionName = controlsUtils.scaleOrSkewActionName,\r\n  objectControls = fabric.Object.prototype.controls;\r\n\r\nconst renderScaleIcon = (icon) => {\r\n  return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n    let size = this.cornerSize;\r\n    ctx.save();\r\n    ctx.translate(left, top);\r\n    ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n    ctx.drawImage(icon, -size / 2, -size / 2, size, size);\r\n    ctx.restore();\r\n  };\r\n};\r\n\r\nconst renderStretchIconX = (icon) => {\r\n  return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n    let size = this.cornerSize;\r\n    ctx.save();\r\n    ctx.translate(left, top);\r\n    ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n    ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n    ctx.restore();\r\n  };\r\n};\r\n\r\nconst renderStretchIconY = (icon) => {\r\n  return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n    let size = this.cornerSize;\r\n    ctx.save();\r\n    ctx.translate(left, top);\r\n    ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle + 90));\r\n    ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n    ctx.restore();\r\n  };\r\n};\r\n\r\nobjectControls.ml = new fabric.Control({\r\n  x: -0.5,\r\n  y: 0,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingXOrSkewingY,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 42,\r\n  offsetY: 3,\r\n  render: renderStretchIconX(ctrlStretchImage),\r\n});\r\n\r\nobjectControls.mr = new fabric.Control({\r\n  x: 0.5,\r\n  y: 0,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingXOrSkewingY,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 42,\r\n  offsetY: 3,\r\n  offsetX: 1,\r\n  render: renderStretchIconX(ctrlStretchImage),\r\n});\r\n\r\nobjectControls.mt = new fabric.Control({\r\n  x: 0,\r\n  y: -0.5,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingYOrSkewingX,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 42,\r\n  offsetX: -3,\r\n  offsetY: -1,\r\n  render: renderStretchIconY(ctrlStretchImage),\r\n});\r\n\r\nobjectControls.mb = new fabric.Control({\r\n  x: 0,\r\n  y: 0.5,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingYOrSkewingX,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 42,\r\n  offsetX: -3,\r\n  offsetY: 1,\r\n  render: renderStretchIconY(ctrlStretchImage),\r\n});\r\n\r\nobjectControls.tl = new fabric.Control({\r\n  x: -0.5,\r\n  y: -0.5,\r\n  cursorStyleHandler: scaleStyleHandler,\r\n  actionHandler: scalingEqually,\r\n  cornerSize: 32,\r\n  offsetY: 3,\r\n  offsetX: 1,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\n\r\nobjectControls.tr = new fabric.Control({\r\n  x: 0.5,\r\n  y: -0.5,\r\n  cursorStyleHandler: scaleStyleHandler,\r\n  actionHandler: scalingEqually,\r\n  cornerSize: 32,\r\n  offsetY: 3,\r\n  offsetX: 1,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\n\r\nobjectControls.bl = new fabric.Control({\r\n  x: -0.5,\r\n  y: 0.5,\r\n  cursorStyleHandler: scaleStyleHandler,\r\n  actionHandler: scalingEqually,\r\n  cornerSize: 32,\r\n  offsetY: 3,\r\n  offsetX: 1,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\n\r\nobjectControls.br = new fabric.Control({\r\n  x: 0.5,\r\n  y: 0.5,\r\n  cursorStyleHandler: scaleStyleHandler,\r\n  actionHandler: scalingEqually,\r\n  cornerSize: 32,\r\n  offsetY: 3,\r\n  offsetX: 1,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\n\r\nobjectControls.mtr = new fabric.Control({\r\n  x: 0,\r\n  y: 0.5,\r\n  cornerSize: 50,\r\n  offsetY: 30,\r\n  actionHandler: controlsUtils.rotationWithSnapping,\r\n  cursorStyleHandler: controlsUtils.rotationStyleHandler,\r\n  withConnection: false,\r\n  actionName: 'rotate',\r\n  render: renderScaleIcon(ctrlRotateImage),\r\n});\r\n\r\nif (fabric.Textbox) {\r\n  let textBoxControls = (fabric.Textbox.prototype.controls = {});\r\n  textBoxControls.mtr = objectControls.mtr;\r\n  textBoxControls.mr = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0,\r\n    actionHandler: controlsUtils.changeWidth,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionName: 'resizing',\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n\r\n  textBoxControls.ml = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0,\r\n    actionHandler: controlsUtils.changeWidth,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionName: 'resizing',\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n  fabric.Textbox.prototype.setControlsVisibility({\r\n    ml: true,\r\n    mr: true,\r\n    mtr: false\r\n  });\r\n}\r\n\r\nlet line = (fabric.Line.prototype.controls = {});\r\nline.mtr = objectControls.mtr;\r\nline.ml = new fabric.Control({\r\n  x: -0.5,\r\n  y: 0,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingXOrSkewingY,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 30,\r\n  offsetY: 3,\r\n  offsetX: 0,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\nline.mr = new fabric.Control({\r\n  x: 0.5,\r\n  y: 0,\r\n  cursorStyleHandler: scaleSkewStyleHandler,\r\n  actionHandler: scalingXOrSkewingY,\r\n  getActionName: scaleOrSkewActionName,\r\n  cornerSize: 30,\r\n  offsetY: 3,\r\n  offsetX: 0,\r\n  render: renderScaleIcon(ctrlScaleImage),\r\n});\r\n\r\nfabric.Rect.prototype.setControlsVisibility({\r\n  tl: true,\r\n  mt: true,\r\n  tr: true,\r\n  ml: true,\r\n  mr: true,\r\n  bl: true,\r\n  mb: true,\r\n  br: true,\r\n  mtr: true,\r\n});\r\nfabric.Circle.prototype.setControlsVisibility({\r\n  tl: true,\r\n  mt: true,\r\n  tr: true,\r\n  ml: true,\r\n  mr: true,\r\n  bl: true,\r\n  mb: true,\r\n  br: true,\r\n  mtr: true,\r\n});\r\nfabric.Triangle.prototype.setControlsVisibility({\r\n  tl: true,\r\n  mt: true,\r\n  tr: true,\r\n  ml: true,\r\n  mr: true,\r\n  bl: true,\r\n  mb: true,\r\n  br: true,\r\n  mtr: true,\r\n});\r\nfabric.Line.prototype.setControlsVisibility({\r\n  ml: true,\r\n  mr: true,\r\n  mtr: true,\r\n});\r\n\r\nlet image = (fabric.Image.prototype.controls = {});\r\nimage.mtr = objectControls.mtr;\r\nimage.tr = objectControls.tr;\r\nimage.br = objectControls.br;\r\nimage.tl = objectControls.tl;\r\nimage.bl = objectControls.bl;\r\nfabric.Image.prototype.setControlsVisibility({\r\n  tl: true,\r\n  tr: true,\r\n  bl: true,\r\n  br: true,\r\n  mtr: true,\r\n});\r\nlet activeSelection = (fabric.ActiveSelection.prototype.controls = {});\r\nactiveSelection.mtr = objectControls.mtr;\r\nactiveSelection.tr = objectControls.tr;\r\nactiveSelection.br = objectControls.br;\r\nactiveSelection.tl = objectControls.tl;\r\nactiveSelection.bl = objectControls.bl;\r\n","import { fabric } from 'fabric';\r\n\r\n// Subtitles renreding padding and border radius\r\n// CanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {\r\n//   if (w < 2 * r) r = w / 2;\r\n//   if (h < 2 * r) r = h / 2;\r\n//   this.beginPath();\r\n//   this.moveTo(x + r, y);\r\n//   this.arcTo(x + w, y, x + w, y + h, r);\r\n//   this.arcTo(x + w, y + h, x, y + h, r);\r\n//   this.arcTo(x, y + h, x, y, r);\r\n//   this.arcTo(x, y, x + w, y, r);\r\n//   this.closePath();\r\n//   return this;\r\n// };\r\nfabric.Subtitle = fabric.util.createClass(fabric.IText, {\r\n  type: 'subtitle',\r\n\r\n  _getNonTransformedDimensions() {\r\n    // Object dimensions\r\n    return new fabric.Point(\r\n      this.width + this.paddingX,\r\n      this.height + this.paddingY\r\n    );\r\n  },\r\n\r\n  _calculateCurrentDimensions() {\r\n    // Controls dimensions\r\n    return fabric.util.transformPoint(\r\n      this._getTransformedDimensions(),\r\n      this.getViewportTransform(),\r\n      true\r\n    );\r\n  },\r\n\r\n  // _renderBackground(ctx) {\r\n  //   if (!this.backgroundColor) {\r\n  //     return;\r\n  //   }\r\n  //   var dim = this._getNonTransformedDimensions();\r\n  //   ctx.fillStyle = this.backgroundColor;\r\n\r\n  //   if (!this.bgCornerRadius) {\r\n  //     ctx.fillRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\r\n  //   } else {\r\n  //     ctx\r\n  //       .roundRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y, this.bgCornerRadius)\r\n  //       .fill();\r\n  //   }\r\n  //   // if there is background color no other shadows\r\n  //   // should be casted\r\n  //   this._removeShadow(ctx);\r\n  // },\r\n});\r\n\r\nfabric.Subtitle.prototype.controls = {};\r\n\r\nfabric.SubtitleWithResize = fabric.util.createClass(fabric.Textbox, {\r\n  type: 'subtitle',\r\n\r\n  _getNonTransformedDimensions() {\r\n    // Object dimensions\r\n    return new fabric.Point(\r\n      this.width + this.paddingX,\r\n      this.height + this.paddingY\r\n    );\r\n  },\r\n\r\n  _calculateCurrentDimensions() {\r\n    // Controls dimensions\r\n    return fabric.util.transformPoint(\r\n      this._getTransformedDimensions(),\r\n      this.getViewportTransform(),\r\n      true\r\n    );\r\n  },\r\n});\r\n\r\nfabric.SubtitleWithResize.prototype._wrapLine = function (\r\n  _line,\r\n  lineIndex,\r\n  desiredWidth,\r\n  reservedSpace\r\n) {\r\n  var lineWidth = 0,\r\n    splitByGrapheme = this.splitByGrapheme,\r\n    graphemeLines = [],\r\n    line = [],\r\n    // spaces in different languges?\r\n    words = splitByGrapheme\r\n      ? fabric.util.string.graphemeSplit(_line)\r\n      : _line.split(this._wordJoiners),\r\n    word = '',\r\n    offset = 0,\r\n    infix = splitByGrapheme ? '' : ' ',\r\n    wordWidth = 0,\r\n    infixWidth = 0,\r\n    largestWordWidth = 0,\r\n    lineJustStarted = true,\r\n    additionalSpace = splitByGrapheme ? 0 : this._getWidthOfCharSpacing();\r\n\r\n  reservedSpace = reservedSpace || 0;\r\n  desiredWidth -= reservedSpace;\r\n\r\n  if (words.length === 0) words.push([]);\r\n\r\n  for (var i = 0; i < words.length; i++) {\r\n    word = splitByGrapheme\r\n      ? words[i]\r\n      : fabric.util.string.graphemeSplit(words[i]);\r\n    wordWidth = this._measureWord(word, lineIndex, offset);\r\n    offset += word.length;\r\n\r\n    // Break the line if a word is wider than the set width\r\n    if (this.breakWords && wordWidth >= desiredWidth) {\r\n      if (!lineJustStarted) {\r\n        line.push(infix);\r\n        lineJustStarted = true;\r\n      }\r\n\r\n      // Loop through each character in word\r\n      for (var w = 0; w < word.length; w++) {\r\n        var letter = word[w];\r\n        var letterWidth =\r\n          (this.getMeasuringContext().measureText(letter).width *\r\n            this.fontSize) /\r\n          this.CACHE_FONT_SIZE;\r\n        if (lineWidth + letterWidth > desiredWidth) {\r\n          graphemeLines.push(line);\r\n          line = [];\r\n          line.push(letter);\r\n          lineWidth = letterWidth;\r\n        } else {\r\n          line.push(letter);\r\n          lineWidth += letterWidth;\r\n        }\r\n      }\r\n      word = [];\r\n    } else {\r\n      lineWidth += infixWidth + wordWidth - additionalSpace;\r\n    }\r\n\r\n    if (lineWidth >= desiredWidth && !lineJustStarted) {\r\n      graphemeLines.push(line);\r\n      line = [];\r\n      lineWidth = wordWidth;\r\n      lineJustStarted = true;\r\n    } else {\r\n      lineWidth += additionalSpace;\r\n    }\r\n\r\n    if (!lineJustStarted && !splitByGrapheme) {\r\n      line.push(infix);\r\n    }\r\n    line = line.concat(word);\r\n\r\n    infixWidth = splitByGrapheme\r\n      ? 0\r\n      : this._measureWord([infix], lineIndex, offset);\r\n    offset++;\r\n    lineJustStarted = false;\r\n    // keep track of largest word\r\n    if (wordWidth > largestWordWidth && !this.breakWords) {\r\n      largestWordWidth = wordWidth;\r\n    }\r\n  }\r\n\r\n  i && graphemeLines.push(line);\r\n\r\n  if (largestWordWidth + reservedSpace > this.dynamicMinWidth) {\r\n    this.dynamicMinWidth = largestWordWidth - additionalSpace + reservedSpace;\r\n  }\r\n\r\n  return graphemeLines;\r\n};","import { fabric } from 'fabric';\r\n\r\nfabric.CustomImage = fabric.util.createClass(fabric.Image, {\r\n  type: 'customImage',\r\n  cropRect: null,\r\n  id: null,\r\n  cornerRadius: 0,\r\n\r\n  initialize: function (customImage, options) {\r\n    const defaultOpts = {\r\n      objectCaching: true,\r\n      crossOrigin: 'Anonymous' \r\n    };\r\n    options = options || {};\r\n\r\n    this.callSuper(\r\n      'initialize',\r\n      customImage,\r\n      Object.assign({}, defaultOpts, options)\r\n    );\r\n  },\r\n\r\n  toObject: function (options) {\r\n    return fabric.util.object.extend(this.callSuper('toObject'), {\r\n      type: this.get('type'),\r\n      cropRect: this.get('cropRect'),\r\n      id: this.get('id'),\r\n      cornerRadius: this.get('cornerRadius'),\r\n    });\r\n  },\r\n\r\n  _draw: function (customImage, ctx, w, h) {\r\n    const c = this.cropRect;\r\n    const d = {\r\n      x: -this.width / 2,\r\n      y: -this.height / 2,\r\n      w: this.width,\r\n      h: this.height,\r\n    };\r\n    if (c) {\r\n      ctx.drawImage(customImage, c.x, c.y, c.w, c.h, d.x, d.y, d.w, d.h);\r\n    } else {\r\n      ctx.drawImage(customImage, d.x, d.y, d.w, d.h);\r\n    }\r\n  },\r\n\r\n  _render: function (ctx) {\r\n    this._draw(this.getElement(), ctx);\r\n  },\r\n});\r\n\r\nfabric.CustomImage.fromURL = function (url, callback, imgOptions) {\r\n  fabric.util.loadImage(\r\n    url,\r\n    function (img, isError) {\r\n      callback && callback(new fabric.CustomImage(img, imgOptions), isError);\r\n    },\r\n    null,\r\n    imgOptions && imgOptions.crossOrigin\r\n  );\r\n};\r\n\r\nfabric.CustomImage.fromObject = function(_object, callback) {\r\n  var object = fabric.util.object.clone(_object);\r\n  fabric.util.loadImage(object.src, function(img, isError) {\r\n    if (isError) {\r\n      callback && callback(null, true);\r\n      return;\r\n    }\r\n    fabric.CustomImage.prototype._initFilters.call(object, object.filters, function(filters) {\r\n      object.filters = filters || [];\r\n      fabric.CustomImage.prototype._initFilters.call(object, [object.resizeFilter], function(resizeFilters) {\r\n        object.resizeFilter = resizeFilters[0];\r\n        fabric.util.enlivenObjects([object.clipPath], function(enlivedProps) {\r\n          object.clipPath = enlivedProps[0];\r\n          var image = new fabric.CustomImage(img, object);\r\n          callback(image, false);\r\n        });\r\n      });\r\n    });\r\n  }, null, object.crossOrigin);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport Editor from './containers/Editor/Editor';\r\nimport Auth from './containers/Auth/Auth';\r\nimport Homepage from './containers/Homepage/Homepage';\r\nimport UserContext from './contexts/UserContext';\r\nimport useUserState from './hooks/useUserState';\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport CustomRoute from './components/CustomRoute/CustomRoute';\r\nimport useTrackTime from './hooks/useTrackTime';\r\nimport useRefreshToken from './hooks/useRefreshToken';\r\nimport setAuthToken from './utils/setAuthToken';\r\nimport Preview from './containers/Preview/Preview';\r\nimport './fabricConfig/fabricConfig';\r\n\r\nconst App = () => {\r\n  const [userState, userDispatch] = useUserState();\r\n  const { refreshToken, newToken, refreshError } = useRefreshToken();\r\n  useTrackTime(refreshToken);\r\n  useEffect(() => {\r\n    if (newToken) {\r\n      localStorage.setItem('token', newToken);\r\n      setAuthToken(newToken);\r\n    } else if (refreshError) {\r\n      localStorage.removeItem('token');\r\n      userDispatch({ type: 'setIsAuthenticated', data: false });\r\n    }\r\n  }, [newToken, refreshError, userDispatch]);\r\n\r\n  return (\r\n    <div className='App'>\r\n      <UserContext.Provider value={{ userState, userDispatch }}>\r\n        <Router basename='/'>\r\n          <Switch>\r\n            <CustomRoute\r\n              path='/auth'\r\n              redirect='/home'\r\n              where='in the App auth route'\r\n              allowed={!userState.isAuthenticated}\r\n              component={Auth}\r\n            />\r\n            <CustomRoute\r\n              path='/home'\r\n              redirect='/auth'\r\n              where='in the App home route'\r\n              allowed={userState.isAuthenticated}\r\n              component={Homepage}\r\n            />\r\n            <CustomRoute\r\n              path='/editor'\r\n              redirect='/auth'\r\n              where='in the App editor route'\r\n              allowed={userState.isAuthenticated}\r\n              component={Editor}\r\n            />\r\n            <CustomRoute\r\n              path='/preview/:id'\r\n              redirect='/auth'\r\n              where='in the App preview route'\r\n              allowed={true}\r\n              component={Preview}\r\n            />\r\n            <Route path='/'>\r\n              <Redirect to='/home' />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </UserContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__1Hp4L\",\"Links\":\"SideDrawer_Links__3agJG\",\"Link\":\"SideDrawer_Link__26bLH\",\"LinkText\":\"SideDrawer_LinkText__37vsx\",\"Active\":\"SideDrawer_Active__3v6LT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ShapeDropdown_Dropdown__3aeLl\",\"ShapeContainer\":\"ShapeDropdown_ShapeContainer__21oDr\",\"LineShapeContainer\":\"ShapeDropdown_LineShapeContainer__1eEMT\",\"Shape\":\"ShapeDropdown_Shape__3ZdgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontSizeDropdown\":\"FontSizeDropdown_FontSizeDropdown__3vQgK\",\"FontSizeOption\":\"FontSizeDropdown_FontSizeOption__5LIdC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageToolbar\":\"ImageToolbar_ImageToolbar__1bSOG\",\"BorderDiv\":\"ImageToolbar_BorderDiv__2L57I\",\"ReaplaceContainer\":\"ImageToolbar_ReaplaceContainer__Bvs6n\",\"RadiusContainer\":\"ImageToolbar_RadiusContainer__1809i\",\"CropContainer\":\"ImageToolbar_CropContainer__3a9ik\",\"DoneContainer\":\"ImageToolbar_DoneContainer__1sU7m\",\"RadiusInput\":\"ImageToolbar_RadiusInput__3neeS\",\"StrokeWidthArrowContainer\":\"ImageToolbar_StrokeWidthArrowContainer__2ZaEx\",\"BorderStyle\":\"ImageToolbar_BorderStyle__2Np8t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"SubtitlesDropdown_Dropdown__3CPKs\",\"Text\":\"SubtitlesDropdown_Text__mqlQv\",\"Buttons\":\"SubtitlesDropdown_Buttons__1LolQ\",\"Button\":\"SubtitlesDropdown_Button__rnGL5\",\"ButtonText\":\"SubtitlesDropdown_ButtonText__3zZ2n\",\"Active\":\"SubtitlesDropdown_Active__1vfsr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__2-Tih\",\"Testimonial\":\"Auth_Testimonial__Gdo6e\",\"Background\":\"Auth_Background__Sn6Rs\",\"TestimonialContent\":\"Auth_TestimonialContent__1xfBA\",\"Twiso\":\"Auth_Twiso__1yuUr\",\"Heading\":\"Auth_Heading__219Co\",\"Subheading\":\"Auth_Subheading__3iXme\",\"Mascot\":\"Auth_Mascot__1P0gq\",\"Account\":\"Auth_Account__FNRoH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"FontsDropdown_FontsDropdown__2cMmK\",\"SearchContainer\":\"FontsDropdown_SearchContainer__2xV2U\",\"SearchSvg\":\"FontsDropdown_SearchSvg__2fL_Y\",\"SearchInput\":\"FontsDropdown_SearchInput__1YJKM\",\"FontOptionsContainer\":\"FontsDropdown_FontOptionsContainer__3NL_l\",\"FontOption\":\"FontsDropdown_FontOption__YA26x\",\"UploadFontContainer\":\"FontsDropdown_UploadFontContainer__BN5oN\",\"UploadFontButton\":\"FontsDropdown_UploadFontButton__2fdT4\",\"UploadFontFile\":\"FontsDropdown_UploadFontFile__17exH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"ContextMenu_Menu__3Crct\",\"Option\":\"ContextMenu_Option__2sY3r\",\"Border\":\"ContextMenu_Border__2fUH-\",\"Overlay\":\"ContextMenu_Overlay__1PFYP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignIn\":\"SignIn_SignIn__2rDwX\",\"Heading\":\"SignIn_Heading__3_D8_\",\"Subheading\":\"SignIn_Subheading__25WFn\",\"SignUpLink\":\"SignIn_SignUpLink__19pi6\",\"FormContent\":\"SignIn_FormContent__2RCot\",\"Form\":\"SignIn_Form__Qj1Re\",\"GoogleLogo\":\"SignIn_GoogleLogo__2dqJk\",\"GoogleLink\":\"SignIn_GoogleLink__1TqQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignUp\":\"SignUp_SignUp__FrU6o\",\"Heading\":\"SignUp_Heading__3VK7d\",\"Subheading\":\"SignUp_Subheading__3Fzc1\",\"SignInLink\":\"SignUp_SignInLink__2n2-H\",\"FormContent\":\"SignUp_FormContent__2PhXm\",\"Form\":\"SignUp_Form__2HSyr\",\"GoogleLogo\":\"SignUp_GoogleLogo__veA94\",\"GoogleLink\":\"SignUp_GoogleLink__300gn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Projects\":\"Projects_Projects__Ml6Tj\",\"Heading\":\"Projects_Heading__1sNm8\",\"Subheading\":\"Projects_Subheading__jSsjo\",\"ProjectsList\":\"Projects_ProjectsList__3ZhTK\",\"AddProject\":\"Projects_AddProject__3o80h\",\"ProjectContainer\":\"Projects_ProjectContainer__dr8O4\",\"AddProjectInner\":\"Projects_AddProjectInner__1q9TS\",\"AddProjectText\":\"Projects_AddProjectText__2pD9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Project\":\"Project_Project__2FloU\",\"Video\":\"Project_Video__2kLKG\",\"InfoContainer\":\"Project_InfoContainer__7VfXZ\",\"Info\":\"Project_Info__cXMOT\",\"Name\":\"Project_Name__1iMCC\",\"DateAndTrash\":\"Project_DateAndTrash__2VZAd\",\"Date\":\"Project_Date__1IAn8\",\"Trash\":\"Project_Trash__DQ8tF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Transcription\":\"Transcription_Transcription__13teg\",\"TextControls\":\"Transcription_TextControls__1U4fb\",\"CutContainer\":\"Transcription_CutContainer__3Pv4S\",\"SearchContainer\":\"Transcription_SearchContainer__3q-zR\",\"SearchInput\":\"Transcription_SearchInput__3ojca\",\"Text\":\"Transcription_Text__3pvrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UploadProgress\":\"UploadProgress_UploadProgress__u7hxD\",\"Percentage\":\"UploadProgress_Percentage__IJKYZ\",\"Heading\":\"UploadProgress_Heading__1BSO0\",\"ProgressBar\":\"UploadProgress_ProgressBar__hfMfg\",\"ProgressBarInner\":\"UploadProgress_ProgressBarInner__1AOYq\",\"Subheading\":\"UploadProgress_Subheading__FMja8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ResizeDropdown_Dropdown__1YZKt\",\"SizeOptions\":\"ResizeDropdown_SizeOptions__2PmX4\",\"SizeOption\":\"ResizeDropdown_SizeOption__3MBs1\",\"SizeOptionText\":\"ResizeDropdown_SizeOptionText__2Yf6i\",\"SizeOptionBox\":\"ResizeDropdown_SizeOptionBox__13My-\",\"Current\":\"ResizeDropdown_Current__2rsB4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectContainer\":\"Select_SelectContainer__1RMVl\",\"Select\":\"Select_Select__1aFjD\",\"Selected\":\"Select_Selected__w1Ai2\",\"Valid\":\"Select_Valid__2h_nP\",\"Invalid\":\"Select_Invalid__2e9oA\",\"ErrorMessage\":\"Select_ErrorMessage__1bWOP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"User_User__1OH6i\",\"UserName\":\"User_UserName__34wjX\",\"Initials\":\"User_Initials__2M7AZ\",\"Letter\":\"User_Letter__12cie\",\"Name\":\"User_Name__xOAh7\",\"Dots\":\"User_Dots__1mxvn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Controls\":\"Controls_Controls__mbKVi\",\"Visible\":\"Controls_Visible__2XX72\",\"Hover\":\"Controls_Hover__3aOvs\",\"ControlsPanel\":\"Controls_ControlsPanel__1Y7Ve\",\"PlayPause\":\"Controls_PlayPause__1XJpi\",\"FullScreen\":\"Controls_FullScreen__3oqLE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"TextDropdowns_FontsDropdown__lZ_Yz\",\"FontSizeDropdown\":\"TextDropdowns_FontSizeDropdown__zNPWy\",\"SketchPickerContainer\":\"TextDropdowns_SketchPickerContainer__1ap0H\",\"TextAlignDropdown\":\"TextDropdowns_TextAlignDropdown___lslt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Player\":\"Player_Player__29WZA\",\"PlayerContent\":\"Player_PlayerContent__GS7Av\",\"PlayerControls\":\"Player_PlayerControls__1cImT\",\"PlayButton\":\"Player_PlayButton__1jzX7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Or\":\"Or_Or__3D8lV\",\"Line\":\"Or_Line__3NIcd\",\"Text\":\"Or_Text__3K4vP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputContainer\":\"Input_InputContainer__FRPf0\",\"Input\":\"Input_Input__2JU04\",\"Inpit\":\"Input_Inpit__B7DHg\",\"Invalid\":\"Input_Invalid__2bXHj\",\"ErrorMessage\":\"Input_ErrorMessage__NGuQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckMail\":\"CheckMail_CheckMail__2juXE\",\"Heading\":\"CheckMail_Heading__2JEwf\",\"Subheading\":\"CheckMail_Subheading__3AHm5\",\"EditorLink\":\"CheckMail_EditorLink__IbMoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"Dropdown_Dropdown__3ndzl\",\"Option\":\"Dropdown_Option__2rSF0\",\"Current\":\"Dropdown_Current__1ur6I\",\"CheckMark\":\"Dropdown_CheckMark__-dXeR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Volume\":\"Volume_Volume__VAO_J\",\"VolumeButton\":\"Volume_VolumeButton__MQ56Q\",\"VolumeOff\":\"Volume_VolumeOff__1ZLBn\",\"VolumeBar\":\"Volume_VolumeBar__2Lv3T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FillDropdownContainer\":\"ShapeDropdowns_FillDropdownContainer__XKdBu\",\"StrokeDropdownContainer\":\"ShapeDropdowns_StrokeDropdownContainer__2g9Q8\",\"StrokeWidthDropdownContainer\":\"ShapeDropdowns_StrokeWidthDropdownContainer__3J5zz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3oWEF\",\"NewButton\":\"Navbar_NewButton__38UcV\",\"Plus\":\"Navbar_Plus__3mZZD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextToolbar\":\"TextToolbar_TextToolbar__30rxF\",\"BorderDiv\":\"TextToolbar_BorderDiv__XlYMr\",\"DownArrow\":\"TextToolbar_DownArrow__3bu3E\",\"TextAlign\":\"TextToolbar_TextAlign__2KX5Y\",\"Bold\":\"TextToolbar_Bold__38wPs\",\"Italic\":\"TextToolbar_Italic__I_P46\",\"FontsContainer\":\"TextToolbar_FontsContainer__2NtOu\",\"FontSizeContainer\":\"TextToolbar_FontSizeContainer__1QFbt\",\"ColorPickerContainer\":\"TextToolbar_ColorPickerContainer__1EnTr\",\"FontWeightBoldContainer\":\"TextToolbar_FontWeightBoldContainer__2-Bfx\",\"FontStyleItalicContainer\":\"TextToolbar_FontStyleItalicContainer__6Diha\",\"TextAlignContainer\":\"TextToolbar_TextAlignContainer__HLDJn\",\"BgColorContainer\":\"TextToolbar_BgColorContainer__3QNkE\",\"FontSizeInputContainer\":\"TextToolbar_FontSizeInputContainer__p2Uno\",\"FontSizeInput\":\"TextToolbar_FontSizeInput__3nD-x\",\"FontSizeArrowContainer\":\"TextToolbar_FontSizeArrowContainer__1N8MA\",\"ColorPickerBorder\":\"TextToolbar_ColorPickerBorder__EGOSu\",\"ColorPicker\":\"TextToolbar_ColorPicker__2Mme4\",\"Active\":\"TextToolbar_Active__2gO17\",\"BgColor\":\"TextToolbar_BgColor__19qDO\"};"],"sourceRoot":""}